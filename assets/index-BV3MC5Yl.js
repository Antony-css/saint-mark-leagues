(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Ud={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function j1(){if(Jv)return Ml;Jv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var e_;function L1(){return e_||(e_=1,Ud.exports=j1()),Ud.exports}var E=L1(),Bd={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function U1(){if(t_)return Fe;t_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function z(V,$,pe){this.props=V,this.context=$,this.refs=k,this.updater=pe||D}z.prototype.isReactComponent={},z.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function L(){}L.prototype=z.prototype;function Z(V,$,pe){this.props=V,this.context=$,this.refs=k,this.updater=pe||D}var X=Z.prototype=new L;X.constructor=Z,M(X,z.prototype),X.isPureReactComponent=!0;var le=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function I(V,$,pe,se,ue,be){return pe=be.ref,{$$typeof:r,type:V,key:$,ref:pe!==void 0?pe:null,props:be}}function x(V,$){return I(V.type,$,void 0,void 0,void 0,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function C(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(pe){return $[pe]})}var P=/\/+/g;function O(V,$){return typeof V=="object"&&V!==null&&V.key!=null?C(""+V.key):$.toString(36)}function w(){}function ee(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(w,w):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ve(V,$,pe,se,ue){var be=typeof V;(be==="undefined"||be==="boolean")&&(V=null);var Te=!1;if(V===null)Te=!0;else switch(be){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(V.$$typeof){case r:case e:Te=!0;break;case v:return Te=V._init,ve(Te(V._payload),$,pe,se,ue)}}if(Te)return ue=ue(V),Te=se===""?"."+O(V,0):se,le(ue)?(pe="",Te!=null&&(pe=Te.replace(P,"$&/")+"/"),ve(ue,$,pe,"",function(Et){return Et})):ue!=null&&(N(ue)&&(ue=x(ue,pe+(ue.key==null||V&&V.key===ue.key?"":(""+ue.key).replace(P,"$&/")+"/")+Te)),$.push(ue)),1;Te=0;var nt=se===""?".":se+":";if(le(V))for(var Pe=0;Pe<V.length;Pe++)se=V[Pe],be=nt+O(se,Pe),Te+=ve(se,$,pe,be,ue);else if(Pe=b(V),typeof Pe=="function")for(V=Pe.call(V),Pe=0;!(se=V.next()).done;)se=se.value,be=nt+O(se,Pe++),Te+=ve(se,$,pe,be,ue);else if(be==="object"){if(typeof V.then=="function")return ve(ee(V),$,pe,se,ue);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Te}function B(V,$,pe){if(V==null)return V;var se=[],ue=0;return ve(V,se,"","",function(be){return $.call(pe,be,ue++)}),se}function ne(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=pe)},function(pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=pe)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var te=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ee(){}return Fe.Children={map:B,forEach:function(V,$,pe){B(V,function(){$.apply(this,arguments)},pe)},count:function(V){var $=0;return B(V,function(){$++}),$},toArray:function(V){return B(V,function($){return $})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Fe.Component=z,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=Z,Fe.StrictMode=a,Fe.Suspense=g,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return he.H.useMemoCache(V)}},Fe.cache=function(V){return function(){return V.apply(null,arguments)}},Fe.cloneElement=function(V,$,pe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var se=M({},V.props),ue=V.key,be=void 0;if($!=null)for(Te in $.ref!==void 0&&(be=void 0),$.key!==void 0&&(ue=""+$.key),$)!U.call($,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&$.ref===void 0||(se[Te]=$[Te]);var Te=arguments.length-2;if(Te===1)se.children=pe;else if(1<Te){for(var nt=Array(Te),Pe=0;Pe<Te;Pe++)nt[Pe]=arguments[Pe+2];se.children=nt}return I(V.type,ue,void 0,void 0,be,se)},Fe.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Fe.createElement=function(V,$,pe){var se,ue={},be=null;if($!=null)for(se in $.key!==void 0&&(be=""+$.key),$)U.call($,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ue[se]=$[se]);var Te=arguments.length-2;if(Te===1)ue.children=pe;else if(1<Te){for(var nt=Array(Te),Pe=0;Pe<Te;Pe++)nt[Pe]=arguments[Pe+2];ue.children=nt}if(V&&V.defaultProps)for(se in Te=V.defaultProps,Te)ue[se]===void 0&&(ue[se]=Te[se]);return I(V,be,void 0,void 0,null,ue)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(V){return{$$typeof:m,render:V}},Fe.isValidElement=N,Fe.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ne}},Fe.memo=function(V,$){return{$$typeof:p,type:V,compare:$===void 0?null:$}},Fe.startTransition=function(V){var $=he.T,pe={};he.T=pe;try{var se=V(),ue=he.S;ue!==null&&ue(pe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ee,te)}catch(be){te(be)}finally{he.T=$}},Fe.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Fe.use=function(V){return he.H.use(V)},Fe.useActionState=function(V,$,pe){return he.H.useActionState(V,$,pe)},Fe.useCallback=function(V,$){return he.H.useCallback(V,$)},Fe.useContext=function(V){return he.H.useContext(V)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(V,$){return he.H.useDeferredValue(V,$)},Fe.useEffect=function(V,$,pe){var se=he.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(V,$)},Fe.useId=function(){return he.H.useId()},Fe.useImperativeHandle=function(V,$,pe){return he.H.useImperativeHandle(V,$,pe)},Fe.useInsertionEffect=function(V,$){return he.H.useInsertionEffect(V,$)},Fe.useLayoutEffect=function(V,$){return he.H.useLayoutEffect(V,$)},Fe.useMemo=function(V,$){return he.H.useMemo(V,$)},Fe.useOptimistic=function(V,$){return he.H.useOptimistic(V,$)},Fe.useReducer=function(V,$,pe){return he.H.useReducer(V,$,pe)},Fe.useRef=function(V){return he.H.useRef(V)},Fe.useState=function(V){return he.H.useState(V)},Fe.useSyncExternalStore=function(V,$,pe){return he.H.useSyncExternalStore(V,$,pe)},Fe.useTransition=function(){return he.H.useTransition()},Fe.version="19.1.0",Fe}var n_;function Um(){return n_||(n_=1,Bd.exports=U1()),Bd.exports}var F=Um(),zd={exports:{}},Vl={},Hd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function B1(){return r_||(r_=1,function(r){function e(B,ne){var te=B.length;B.push(ne);e:for(;0<te;){var Ee=te-1>>>1,V=B[Ee];if(0<o(V,ne))B[Ee]=ne,B[te]=V,te=Ee;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var ne=B[0],te=B.pop();if(te!==ne){B[0]=te;e:for(var Ee=0,V=B.length,$=V>>>1;Ee<$;){var pe=2*(Ee+1)-1,se=B[pe],ue=pe+1,be=B[ue];if(0>o(se,te))ue<V&&0>o(be,se)?(B[Ee]=be,B[ue]=te,Ee=ue):(B[Ee]=se,B[pe]=te,Ee=pe);else if(ue<V&&0>o(be,te))B[Ee]=be,B[ue]=te,Ee=ue;else break e}}return ne}function o(B,ne){var te=B.sortIndex-ne.sortIndex;return te!==0?te:B.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],v=1,S=null,b=3,D=!1,M=!1,k=!1,z=!1,L=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function le(B){for(var ne=n(p);ne!==null;){if(ne.callback===null)a(p);else if(ne.startTime<=B)a(p),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=n(p)}}function he(B){if(k=!1,le(B),!M)if(n(g)!==null)M=!0,U||(U=!0,O());else{var ne=n(p);ne!==null&&ve(he,ne.startTime-B)}}var U=!1,I=-1,x=5,N=-1;function C(){return z?!0:!(r.unstable_now()-N<x)}function P(){if(z=!1,U){var B=r.unstable_now();N=B;var ne=!0;try{e:{M=!1,k&&(k=!1,Z(I),I=-1),D=!0;var te=b;try{t:{for(le(B),S=n(g);S!==null&&!(S.expirationTime>B&&C());){var Ee=S.callback;if(typeof Ee=="function"){S.callback=null,b=S.priorityLevel;var V=Ee(S.expirationTime<=B);if(B=r.unstable_now(),typeof V=="function"){S.callback=V,le(B),ne=!0;break t}S===n(g)&&a(g),le(B)}else a(g);S=n(g)}if(S!==null)ne=!0;else{var $=n(p);$!==null&&ve(he,$.startTime-B),ne=!1}}break e}finally{S=null,b=te,D=!1}ne=void 0}}finally{ne?O():U=!1}}}var O;if(typeof X=="function")O=function(){X(P)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ee=w.port2;w.port1.onmessage=P,O=function(){ee.postMessage(null)}}else O=function(){L(P,0)};function ve(B,ne){I=L(function(){B(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(B){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var te=b;b=ne;try{return B()}finally{b=te}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(B,ne){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=b;b=B;try{return ne()}finally{b=te}},r.unstable_scheduleCallback=function(B,ne,te){var Ee=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ee+te:Ee):te=Ee,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=te+V,B={id:v++,callback:ne,priorityLevel:B,startTime:te,expirationTime:V,sortIndex:-1},te>Ee?(B.sortIndex=te,e(p,B),n(g)===null&&B===n(p)&&(k?(Z(I),I=-1):k=!0,ve(he,te-Ee))):(B.sortIndex=V,e(g,B),M||D||(M=!0,U||(U=!0,O()))),B},r.unstable_shouldYield=C,r.unstable_wrapCallback=function(B){var ne=b;return function(){var te=b;b=ne;try{return B.apply(this,arguments)}finally{b=te}}}}(qd)),qd}var i_;function z1(){return i_||(i_=1,Hd.exports=B1()),Hd.exports}var Fd={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function H1(){if(a_)return An;a_=1;var r=Um();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:p,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,An.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},An.flushSync=function(g){var p=f.T,v=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=p,a.p=v,a.d.f()}},An.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},An.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},An.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,S=m(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:D}):v==="script"&&a.d.X(g,{crossOrigin:S,integrity:b,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},An.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},An.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=m(v,p.crossOrigin);a.d.L(g,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},An.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},An.requestFormReset=function(g){a.d.r(g)},An.unstable_batchedUpdates=function(g,p){return g(p)},An.useFormState=function(g,p,v){return f.H.useFormState(g,p,v)},An.useFormStatus=function(){return f.H.useHostTransitionStatus()},An.version="19.1.0",An}var s_;function cE(){if(s_)return Fd.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=H1(),Fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function q1(){if(o_)return Vl;o_=1;var r=z1(),e=Um(),n=cE();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var T=!1,A=h.child;A;){if(A===s){T=!0,s=h,l=d;break}if(A===l){T=!0,l=h,s=d;break}A=A.sibling}if(!T){for(A=d.child;A;){if(A===s){T=!0,s=d,l=h;break}if(A===l){T=!0,l=d,s=h;break}A=A.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),X=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case he:return"Suspense";case U:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case X:return(t.displayName||"Context")+".Provider";case Z:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ee(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return ee(t(i))}catch{}}return null}var ve=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ee=[],V=-1;function $(t){return{current:t}}function pe(t){0>V||(t.current=Ee[V],Ee[V]=null,V--)}function se(t,i){V++,Ee[V]=t.current,t.current=i}var ue=$(null),be=$(null),Te=$(null),nt=$(null);function Pe(t,i){switch(se(Te,i),se(be,t),se(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Rv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Rv(i),t=Dv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}pe(ue),se(ue,t)}function Et(){pe(ue),pe(be),pe(Te)}function mt(t){t.memoizedState!==null&&se(nt,t);var i=ue.current,s=Dv(i,t.type);i!==s&&(se(be,t),se(ue,s))}function an(t){be.current===t&&(pe(ue),pe(be)),nt.current===t&&(pe(nt),Dl._currentValue=te)}var kn=Object.prototype.hasOwnProperty,ir=r.unstable_scheduleCallback,Dn=r.unstable_cancelCallback,La=r.unstable_shouldYield,Ds=r.unstable_requestPaint,Cn=r.unstable_now,Po=r.unstable_getCurrentPriorityLevel,Ua=r.unstable_ImmediatePriority,qi=r.unstable_UserBlockingPriority,di=r.unstable_NormalPriority,Dr=r.unstable_LowPriority,ar=r.unstable_IdlePriority,Fi=r.log,Gi=r.unstable_setDisableYieldValue,ft=null,Ge=null;function Tn(t){if(typeof Fi=="function"&&Gi(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ft,t)}catch{}}var qt=Math.clz32?Math.clz32:jr,Cs=Math.log,sr=Math.LN2;function jr(t){return t>>>=0,t===0?32:31-(Cs(t)/sr|0)|0}var Lr=256,Ur=4194304;function Fn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=Fn(l):(T&=A,T!==0?h=Fn(T):s||(s=A&~t,s!==0&&(h=Fn(s))))):(A=l&~d,A!==0?h=Fn(A):T!==0?h=Fn(T):s||(s=l&~t,s!==0&&(h=Fn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function or(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $i(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(){var t=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),t}function Ba(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function lr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Cr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yi(t,i,s,l,h,d){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var A=t.entanglements,j=t.expirationTimes,J=t.hiddenUpdates;for(s=T&~s;0<s;){var oe=31-qt(s),de=1<<oe;A[oe]=0,j[oe]=-1;var re=J[oe];if(re!==null)for(J[oe]=null,oe=0;oe<re.length;oe++){var ie=re[oe];ie!==null&&(ie.lane&=-536870913)}s&=~de}l!==0&&Nn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(T&~i))}function Nn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Br(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-qt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function zr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function H(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:Yv(t.type))}function Y(t,i){var s=ne.p;try{return ne.p=t,i()}finally{ne.p=s}}var W=Math.random().toString(36).slice(2),me="__reactFiber$"+W,ye="__reactProps$"+W,we="__reactContainer$"+W,Oe="__reactEvents$"+W,xe="__reactListeners$"+W,Ce="__reactHandles$"+W,De="__reactResources$"+W,ke="__reactMarker$"+W;function Me(t){delete t[me],delete t[ye],delete t[Oe],delete t[xe],delete t[Ce]}function Ue(t){var i=t[me];if(i)return i;for(var s=t.parentNode;s;){if(i=s[we]||s[me]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Ov(t);t!==null;){if(s=t[me])return s;t=Ov(t)}return i}t=s,s=t.parentNode}return null}function We(t){if(t=t[me]||t[we]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function gt(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ct(t){var i=t[De];return i||(i=t[De]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rt(t){t[ke]=!0}var Qe=new Set,ur={};function Zt(t,i){In(t,i),In(t+"Capture",i)}function In(t,i){for(ur[t]=i,t=0;t<i.length;t++)Qe.add(i[t])}var fn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Gn={};function Ki(t){return kn.call(Gn,t)?!0:kn.call(Hr,t)?!1:fn.test(t)?Gn[t]=!0:(Hr[t]=!0,!1)}function bn(t,i,s){if(Ki(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function On(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function ze(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var Ft,$n;function jn(t){if(Ft===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ft=i&&i[1]||"",$n=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+t+$n}var qr=!1;function wt(t,i){if(!t||qr)return"";qr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ie){var re=ie}Reflect.construct(t,[],de)}else{try{de.call()}catch(ie){re=ie}t.call(de.prototype)}}else{try{throw Error()}catch(ie){re=ie}(de=t())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],A=d[1];if(T&&A){var j=T.split(`
`),J=A.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<J.length&&!J[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===J.length)for(l=j.length-1,h=J.length-1;1<=l&&0<=h&&j[l]!==J[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==J[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==J[h]){var oe=`
`+j[l].replace(" at new "," at ");return t.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",t.displayName)),oe}while(1<=l&&0<=h);break}}}finally{qr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?jn(s):""}function cr(t){switch(t.tag){case 26:case 27:case 5:return jn(t.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return wt(t.type,!1);case 11:return wt(t.type.render,!1);case 1:return wt(t.type,!0);case 31:return jn("Activity");default:return""}}function pi(t){try{var i="";do i+=cr(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ko(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Hh(t){var i=ko(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ns(t){t._valueTracker||(t._valueTracker=Hh(t))}function jo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=ko(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qh=/[\n"\\]/g;function Gt(t){return t.replace(qh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Yn(t,i,s,l,h,d,T,A){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+dn(i)):t.value!==""+dn(i)&&(t.value=""+dn(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Xi(t,T,dn(i)):s!=null?Xi(t,T,dn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+dn(A):t.removeAttribute("name")}function Ha(t,i,s,l,h,d,T,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+dn(s):"",i=i!=null?""+dn(i):s,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Xi(t,i,s){i==="number"&&za(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function yi(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+dn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Tt(t,i,s){if(i!=null&&(i=""+dn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+dn(s):""}function qa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(ve(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=dn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function hr(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Fa.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Lo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Eu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Eu(t,d,i[d])}function Uo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(t){return Gh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vi=null;function fr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,Ei=null;function Bo(t){var i=We(t);if(i&&(t=i.stateNode)){var s=t[ye]||null;e:switch(t=i.stateNode,i.type){case"input":if(Yn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Gt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[ye]||null;if(!h)throw Error(a(90));Yn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&jo(l)}break e;case"textarea":Tt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&yi(t,!!s.multiple,i,!1)}}}var Fr=!1;function Tu(t,i,s){if(Fr)return t(i,s);Fr=!0;try{var l=t(i);return l}finally{if(Fr=!1,(_i!==null||Ei!==null)&&(mc(),_i&&(i=_i,t=Ei,Ei=_i=null,Bo(i),t)))for(i=0;i<t.length;i++)Bo(t[i])}}function Ga(t,i){var s=t.stateNode;if(s===null)return null;var l=s[ye]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Nr)try{var $a={};Object.defineProperty($a,"passive",{get:function(){dr=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{dr=!1}var Gr=null,Wi=null,Ti=null;function zo(){if(Ti)return Ti;var t,i=Wi,s=i.length,l,h="value"in Gr?Gr.value:Gr.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var T=s-t;for(l=1;l<=T&&i[s-l]===h[d-l];l++);return Ti=h.slice(t,1<l?1-l:void 0)}function $r(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yr(){return!0}function Ho(){return!1}function sn(t){function i(s,l,h,d,T){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yr:Ho,this.isPropagationStopped=Ho,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),i}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=sn(pt),Ya=v({},pt,{view:0,detail:0}),bu=sn(Ya),Ms,Vs,Qr,Qa=v({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qr&&(Qr&&t.type==="mousemove"?(Ms=t.screenX-Qr.screenX,Vs=t.screenY-Qr.screenY):Vs=Ms=0,Qr=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:Vs}}),mr=sn(Qa),Su=v({},Qa,{dataTransfer:0}),$h=sn(Su),Ka=v({},Ya,{relatedTarget:0}),Ps=sn(Ka),qo=v({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),ks=sn(qo),Au=v({},pt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),js=sn(Au),Yh=v({},pt,{data:0}),Fo=sn(Yh),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=xu[t])?!!i[t]:!1}function Wa(){return Go}var Ru=v({},Ya,{key:function(t){if(t.key){var i=Xa[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(t){return t.type==="keypress"?$r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ls=sn(Ru),Du=v({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=sn(Du),bi=v({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Cu=sn(bi),Nu=v({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iu=sn(Nu),Ou=v({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Us=sn(Ou),Mn=v({},pt,{newState:0,oldState:0}),Mu=sn(Mn),Vu=[9,13,27,32],Kr=Nr&&"CompositionEvent"in window,c=null;Nr&&"documentMode"in document&&(c=document.documentMode);var y=Nr&&"TextEvent"in window&&!c,_=Nr&&(!Kr||c&&8<c&&11>=c),R=" ",Q=!1;function ae(t,i){switch(t){case"keyup":return Vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var it=!1;function Jt(t,i){switch(t){case"compositionend":return _e(i);case"keypress":return i.which!==32?null:(Q=!0,R);case"textInput":return t=i.data,t===R&&Q?null:t;default:return null}}function at(t,i){if(it)return t==="compositionend"||!Kr&&ae(t,i)?(t=zo(),Ti=Wi=Gr=null,it=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!on[t.type]:i==="textarea"}function Si(t,i,s,l){_i?Ei?Ei.push(l):Ei=[l]:_i=l,i=Ec(i,"onChange"),0<i.length&&(s=new Os("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var mn=null,Xr=null;function Yo(t){bv(t,0)}function Pu(t){var i=gt(t);if(jo(i))return t}function qg(t,i){if(t==="change")return i}var Fg=!1;if(Nr){var Qh;if(Nr){var Kh="oninput"in document;if(!Kh){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),Kh=typeof Gg.oninput=="function"}Qh=Kh}else Qh=!1;Fg=Qh&&(!document.documentMode||9<document.documentMode)}function $g(){mn&&(mn.detachEvent("onpropertychange",Yg),Xr=mn=null)}function Yg(t){if(t.propertyName==="value"&&Pu(Xr)){var i=[];Si(i,Xr,t,fr(t)),Tu(Yo,i)}}function dS(t,i,s){t==="focusin"?($g(),mn=i,Xr=s,mn.attachEvent("onpropertychange",Yg)):t==="focusout"&&$g()}function mS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(Xr)}function gS(t,i){if(t==="click")return Pu(i)}function pS(t,i){if(t==="input"||t==="change")return Pu(i)}function yS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Qn=typeof Object.is=="function"?Object.is:yS;function Qo(t,i){if(Qn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!kn.call(i,h)||!Qn(t[h],i[h]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kg(t,i){var s=Qg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Qg(s)}}function Xg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Xg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=za(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=za(t.document)}return i}function Xh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var vS=Nr&&"documentMode"in document&&11>=document.documentMode,Bs=null,Wh=null,Ko=null,Zh=!1;function Zg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Zh||Bs==null||Bs!==za(l)||(l=Bs,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Qo(Ko,l)||(Ko=l,l=Ec(Wh,"onSelect"),0<l.length&&(i=new Os("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Bs)))}function Za(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var zs={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},Jh={},Jg={};Nr&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Ja(t){if(Jh[t])return Jh[t];if(!zs[t])return t;var i=zs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Jg)return Jh[t]=i[s];return t}var ep=Ja("animationend"),tp=Ja("animationiteration"),np=Ja("animationstart"),_S=Ja("transitionrun"),ES=Ja("transitionstart"),TS=Ja("transitioncancel"),rp=Ja("transitionend"),ip=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Ir(t,i){ip.set(t,i),Zt(i,[t])}var ap=new WeakMap;function gr(t,i){if(typeof t=="object"&&t!==null){var s=ap.get(t);return s!==void 0?s:(i={value:t,source:i,stack:pi(i)},ap.set(t,i),i)}return{value:t,source:i,stack:pi(i)}}var pr=[],Hs=0,tf=0;function ku(){for(var t=Hs,i=tf=Hs=0;i<t;){var s=pr[i];pr[i++]=null;var l=pr[i];pr[i++]=null;var h=pr[i];pr[i++]=null;var d=pr[i];if(pr[i++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}d!==0&&sp(s,h,d)}}function ju(t,i,s,l){pr[Hs++]=t,pr[Hs++]=i,pr[Hs++]=s,pr[Hs++]=l,tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nf(t,i,s,l){return ju(t,i,s,l),Lu(t)}function qs(t,i){return ju(t,null,null,i),Lu(t)}function sp(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-qt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function Lu(t){if(50<El)throw El=0,ud=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Fs={};function bS(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,i,s,l){return new bS(t,i,s,l)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ai(t,i){var s=t.alternate;return s===null?(s=Kn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function op(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Uu(t,i,s,l,h,d){var T=0;if(l=t,typeof t=="function")rf(t)&&(T=1);else if(typeof t=="string")T=A1(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Kn(31,s,i,h),t.elementType=N,t.lanes=d,t;case M:return es(s.children,h,d,i);case k:T=8,h|=24;break;case z:return t=Kn(12,s,i,h|2),t.elementType=z,t.lanes=d,t;case he:return t=Kn(13,s,i,h),t.elementType=he,t.lanes=d,t;case U:return t=Kn(19,s,i,h),t.elementType=U,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:case X:T=10;break e;case Z:T=9;break e;case le:T=11;break e;case I:T=14;break e;case x:T=16,l=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Kn(T,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function es(t,i,s,l){return t=Kn(7,t,l,i),t.lanes=s,t}function af(t,i,s){return t=Kn(6,t,null,i),t.lanes=s,t}function sf(t,i,s){return i=Kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Gs=[],$s=0,Bu=null,zu=0,yr=[],vr=0,ts=null,wi=1,xi="";function ns(t,i){Gs[$s++]=zu,Gs[$s++]=Bu,Bu=t,zu=i}function lp(t,i,s){yr[vr++]=wi,yr[vr++]=xi,yr[vr++]=ts,ts=t;var l=wi;t=xi;var h=32-qt(l)-1;l&=~(1<<h),s+=1;var d=32-qt(i)+h;if(30<d){var T=h-h%5;d=(l&(1<<T)-1).toString(32),l>>=T,h-=T,wi=1<<32-qt(i)+h|s<<h|l,xi=d+t}else wi=1<<d|s<<h|l,xi=t}function of(t){t.return!==null&&(ns(t,1),lp(t,1,0))}function lf(t){for(;t===Bu;)Bu=Gs[--$s],Gs[$s]=null,zu=Gs[--$s],Gs[$s]=null;for(;t===ts;)ts=yr[--vr],yr[vr]=null,xi=yr[--vr],yr[vr]=null,wi=yr[--vr],yr[vr]=null}var Vn=null,Vt=null,dt=!1,rs=null,Wr=!1,uf=Error(a(519));function is(t){var i=Error(a(418,""));throw Zo(gr(i,t)),uf}function up(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[me]=t,i[ye]=l,s){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(s=0;s<bl.length;s++)Je(bl[s],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),Ha(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ns(i);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),qa(i,l.value,l.defaultValue,l.children),Ns(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||xv(i.textContent,s)?(l.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),l.onScroll!=null&&Je("scroll",i),l.onScrollEnd!=null&&Je("scrollend",i),l.onClick!=null&&(i.onclick=Tc),i=!0):i=!1,i||is(t)}function cp(t){for(Vn=t.return;Vn;)switch(Vn.tag){case 5:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Vn=Vn.return}}function Xo(t){if(t!==Vn)return!1;if(!dt)return cp(t),dt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||wd(t.type,t.memoizedProps)),s=!s),s&&Vt&&is(t),cp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Vt=Mr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Vt=null}}else i===27?(i=Vt,da(t.type)?(t=Cd,Cd=null,Vt=t):Vt=i):Vt=Vn?Mr(t.stateNode.nextSibling):null;return!0}function Wo(){Vt=Vn=null,dt=!1}function hp(){var t=rs;return t!==null&&(Bn===null?Bn=t:Bn.push.apply(Bn,t),rs=null),t}function Zo(t){rs===null?rs=[t]:rs.push(t)}var cf=$(null),as=null,Ri=null;function Zi(t,i,s){se(cf,i._currentValue),i._currentValue=s}function Di(t){t._currentValue=cf.current,pe(cf)}function hf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function ff(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var T=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var j=0;j<i.length;j++)if(A.context===i[j]){d.lanes|=s,A=d.alternate,A!==null&&(A.lanes|=s),hf(d.return,s,t),l||(T=null);break e}d=A.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(a(341));T.lanes|=s,d=T.alternate,d!==null&&(d.lanes|=s),hf(T,s,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Jo(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var A=h.type;Qn(h.pendingProps.value,T.value)||(t!==null?t.push(A):t=[A])}}else if(h===nt.current){if(T=h.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&ff(i,t,s,l),i.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!Qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){as=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Sn(t){return fp(as,t)}function qu(t,i){return as===null&&ss(t),fp(t,i)}function fp(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ri===null){if(t===null)throw Error(a(308));Ri=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ri=Ri.next=i;return s}var SS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},AS=r.unstable_scheduleCallback,wS=r.unstable_NormalPriority,tn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new SS,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&AS(wS,function(){t.controller.abort()})}var tl=null,mf=0,Ys=0,Qs=null;function xS(t,i){if(tl===null){var s=tl=[];mf=0,Ys=pd(),Qs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return mf++,i.then(dp,dp),i}function dp(){if(--mf===0&&tl!==null){Qs!==null&&(Qs.status="fulfilled");var t=tl;tl=null,Ys=0,Qs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function RS(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var mp=B.S;B.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&xS(t,i),mp!==null&&mp(t,i)};var os=$(null);function gf(){var t=os.current;return t!==null?t:Rt.pooledCache}function Fu(t,i){i===null?se(os,os.current):se(os,i.pool)}function gp(){var t=gf();return t===null?null:{parent:tn._currentValue,pool:t}}var nl=Error(a(460)),pp=Error(a(474)),Gu=Error(a(542)),pf={then:function(){}};function yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $u(){}function vp(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then($u,$u),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ep(t),t;default:if(typeof i.status=="string")i.then($u,$u);else{if(t=Rt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ep(t),t}throw rl=i,nl}}var rl=null;function _p(){if(rl===null)throw Error(a(459));var t=rl;return rl=null,t}function Ep(t){if(t===nl||t===Gu)throw Error(a(483))}var Ji=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ta(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(vt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Lu(t),sp(t,null,s),i}return ju(t,l,i,s),Lu(t)}function il(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Br(t,s)}}function _f(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=T:d=d.next=T,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Ef=!1;function al(){if(Ef){var t=Qs;if(t!==null)throw t}}function sl(t,i,s,l){Ef=!1;var h=t.updateQueue;Ji=!1;var d=h.firstBaseUpdate,T=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var j=A,J=j.next;j.next=null,T===null?d=J:T.next=J,T=j;var oe=t.alternate;oe!==null&&(oe=oe.updateQueue,A=oe.lastBaseUpdate,A!==T&&(A===null?oe.firstBaseUpdate=J:A.next=J,oe.lastBaseUpdate=j))}if(d!==null){var de=h.baseState;T=0,oe=J=j=null,A=d;do{var re=A.lane&-536870913,ie=re!==A.lane;if(ie?(st&re)===re:(l&re)===re){re!==0&&re===Ys&&(Ef=!0),oe!==null&&(oe=oe.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Be=t,Ve=A;re=i;var At=s;switch(Ve.tag){case 1:if(Be=Ve.payload,typeof Be=="function"){de=Be.call(At,de,re);break e}de=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ve.payload,re=typeof Be=="function"?Be.call(At,de,re):Be,re==null)break e;de=v({},de,re);break e;case 2:Ji=!0}}re=A.callback,re!==null&&(t.flags|=64,ie&&(t.flags|=8192),ie=h.callbacks,ie===null?h.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:A.tag,payload:A.payload,callback:A.callback,next:null},oe===null?(J=oe=ie,j=de):oe=oe.next=ie,T|=re;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;ie=A,A=ie.next,ie.next=null,h.lastBaseUpdate=ie,h.shared.pending=null}}while(!0);oe===null&&(j=de),h.baseState=j,h.firstBaseUpdate=J,h.lastBaseUpdate=oe,d===null&&(h.shared.lanes=0),ua|=T,t.lanes=T,t.memoizedState=de}}function Tp(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function bp(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Tp(s[t],i)}var Ks=$(null),Yu=$(0);function Sp(t,i){t=Pi,se(Yu,t),se(Ks,i),Pi=t|i.baseLanes}function Tf(){se(Yu,Pi),se(Ks,Ks.current)}function bf(){Pi=Yu.current,pe(Ks),pe(Yu)}var na=0,$e=null,bt=null,$t=null,Qu=!1,Xs=!1,ls=!1,Ku=0,ol=0,Ws=null,DS=0;function Ut(){throw Error(a(321))}function Sf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Qn(t[s],i[s]))return!1;return!0}function Af(t,i,s,l,h,d){return na=d,$e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=t===null||t.memoizedState===null?sy:oy,ls=!1,d=s(l,h),ls=!1,Xs&&(d=wp(i,s,l,h)),Ap(t),d}function Ap(t){B.H=tc;var i=bt!==null&&bt.next!==null;if(na=0,$t=bt=$e=null,Qu=!1,ol=0,Ws=null,i)throw Error(a(300));t===null||ln||(t=t.dependencies,t!==null&&Hu(t)&&(ln=!0))}function wp(t,i,s,l){$e=t;var h=0;do{if(Xs&&(Ws=null),ol=0,Xs=!1,25<=h)throw Error(a(301));if(h+=1,$t=bt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=PS,d=i(s,l)}while(Xs);return d}function CS(){var t=B.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(bt!==null?bt.memoizedState:null)!==t&&($e.flags|=1024),i}function wf(){var t=Ku!==0;return Ku=0,t}function xf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Rf(t){if(Qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Qu=!1}na=0,$t=bt=$e=null,Xs=!1,ol=Ku=0,Ws=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?$e.memoizedState=$t=t:$t=$t.next=t,$t}function Yt(){if(bt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var i=$t===null?$e.memoizedState:$t.next;if(i!==null)$t=i,bt=t;else{if(t===null)throw $e.alternate===null?Error(a(467)):Error(a(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},$t===null?$e.memoizedState=$t=t:$t=$t.next=t}return $t}function Df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,Ws===null&&(Ws=[]),t=vp(Ws,t,i),i=$e,($t===null?i.memoizedState:$t.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?sy:oy),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===X)return Sn(t)}throw Error(a(438,String(t)))}function Cf(t){var i=null,s=$e.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=$e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Df(),$e.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=C;return i.index++,s}function Ci(t,i){return typeof i=="function"?i(t):i}function Wu(t){var i=Yt();return Nf(i,bt,t)}function Nf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var T=h.next;h.next=d.next,d.next=T}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=T=null,j=null,J=i,oe=!1;do{var de=J.lane&-536870913;if(de!==J.lane?(st&de)===de:(na&de)===de){var re=J.revertLane;if(re===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),de===Ys&&(oe=!0);else if((na&re)===re){J=J.next,re===Ys&&(oe=!0);continue}else de={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(A=j=de,T=d):j=j.next=de,$e.lanes|=re,ua|=re;de=J.action,ls&&s(d,de),d=J.hasEagerState?J.eagerState:s(d,de)}else re={lane:de,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(A=j=re,T=d):j=j.next=re,$e.lanes|=de,ua|=de;J=J.next}while(J!==null&&J!==i);if(j===null?T=d:j.next=A,!Qn(d,t.memoizedState)&&(ln=!0,oe&&(s=Qs,s!==null)))throw s;t.memoizedState=d,t.baseState=T,t.baseQueue=j,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function If(t){var i=Yt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var T=h=h.next;do d=t(d,T.action),T=T.next;while(T!==h);Qn(d,i.memoizedState)||(ln=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function xp(t,i,s){var l=$e,h=Yt(),d=dt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var T=!Qn((bt||h).memoizedState,s);T&&(h.memoizedState=s,ln=!0),h=h.queue;var A=Cp.bind(null,l,h,t);if(ul(2048,8,A,[t]),h.getSnapshot!==i||T||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,Zs(9,Zu(),Dp.bind(null,l,h,s,i),null),Rt===null)throw Error(a(349));d||(na&124)!==0||Rp(l,i,s)}return s}function Rp(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=$e.updateQueue,i===null?(i=Df(),$e.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Dp(t,i,s,l){i.value=s,i.getSnapshot=l,Np(i)&&Ip(t)}function Cp(t,i,s){return s(function(){Np(i)&&Ip(t)})}function Np(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Qn(t,s)}catch{return!0}}function Ip(t){var i=qs(t,2);i!==null&&er(i,t,2)}function Of(t){var i=Ln();if(typeof t=="function"){var s=t;if(t=s(),ls){Tn(!0);try{s()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},i}function Op(t,i,s,l){return t.baseState=s,Nf(t,bt,typeof l=="function"?l:Ci)}function NS(t,i,s,l,h){if(ec(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};B.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,Mp(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Mp(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=B.T,T={};B.T=T;try{var A=s(h,l),j=B.S;j!==null&&j(T,A),Vp(t,i,A)}catch(J){Mf(t,i,J)}finally{B.T=d}}else try{d=s(h,l),Vp(t,i,d)}catch(J){Mf(t,i,J)}}function Vp(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Pp(t,i,l)},function(l){return Mf(t,i,l)}):Pp(t,i,s)}function Pp(t,i,s){i.status="fulfilled",i.value=s,kp(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Mp(t,s)))}function Mf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,kp(i),i=i.next;while(i!==l)}t.action=null}function kp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function jp(t,i){return i}function Lp(t,i){if(dt){var s=Rt.formState;if(s!==null){e:{var l=$e;if(dt){if(Vt){t:{for(var h=Vt,d=Wr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Mr(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Vt=Mr(h.nextSibling),l=h.data==="F!";break e}}is(l)}l=!1}l&&(i=s[0])}}return s=Ln(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:i},s.queue=l,s=ry.bind(null,$e,l),l.dispatch=s,l=Of(!1),d=Lf.bind(null,$e,!1,l.queue),l=Ln(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=NS.bind(null,$e,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function Up(t){var i=Yt();return Bp(i,bt,t)}function Bp(t,i,s){if(i=Nf(t,i,jp)[0],t=Wu(Ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(T){throw T===nl?Gu:T}else l=i;i=Yt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&($e.flags|=2048,Zs(9,Zu(),IS.bind(null,h,s),null)),[l,d,t]}function IS(t,i){t.action=i}function zp(t){var i=Yt(),s=bt;if(s!==null)return Bp(i,s,t);Yt(),i=i.memoizedState,s=Yt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Zs(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=$e.updateQueue,i===null&&(i=Df(),$e.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Zu(){return{destroy:void 0,resource:void 0}}function Hp(){return Yt().memoizedState}function Ju(t,i,s,l){var h=Ln();l=l===void 0?null:l,$e.flags|=t,h.memoizedState=Zs(1|i,Zu(),s,l)}function ul(t,i,s,l){var h=Yt();l=l===void 0?null:l;var d=h.memoizedState.inst;bt!==null&&l!==null&&Sf(l,bt.memoizedState.deps)?h.memoizedState=Zs(i,d,s,l):($e.flags|=t,h.memoizedState=Zs(1|i,d,s,l))}function qp(t,i){Ju(8390656,8,t,i)}function Fp(t,i){ul(2048,8,t,i)}function Gp(t,i){return ul(4,2,t,i)}function $p(t,i){return ul(4,4,t,i)}function Yp(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Qp(t,i,s){s=s!=null?s.concat([t]):null,ul(4,4,Yp.bind(null,i,t),s)}function Vf(){}function Kp(t,i){var s=Yt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Sf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Xp(t,i){var s=Yt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Sf(i,l[1]))return l[0];if(l=t(),ls){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,i],l}function Pf(t,i,s){return s===void 0||(na&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=Jy(),$e.lanes|=t,ua|=t,s)}function Wp(t,i,s,l){return Qn(s,i)?s:Ks.current!==null?(t=Pf(t,s,l),Qn(t,i)||(ln=!0),t):(na&42)===0?(ln=!0,t.memoizedState=s):(t=Jy(),$e.lanes|=t,ua|=t,i)}function Zp(t,i,s,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var T=B.T,A={};B.T=A,Lf(t,!1,i,s);try{var j=h(),J=B.S;if(J!==null&&J(A,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var oe=RS(j,l);cl(t,i,oe,Jn(t))}else cl(t,i,l,Jn(t))}catch(de){cl(t,i,{then:function(){},status:"rejected",reason:de},Jn())}finally{ne.p=d,B.T=T}}function OS(){}function kf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=Jp(t).queue;Zp(t,h,i,te,s===null?OS:function(){return ey(t),s(l)})}function Jp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:te},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ey(t){var i=Jp(t).next.queue;cl(t,i,{},Jn())}function jf(){return Sn(Dl)}function ty(){return Yt().memoizedState}function ny(){return Yt().memoizedState}function MS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Jn();t=ea(s);var l=ta(i,t,s);l!==null&&(er(l,i,s),il(l,i,s)),i={cache:df()},t.payload=i;return}i=i.return}}function VS(t,i,s){var l=Jn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ec(t)?iy(i,s):(s=nf(t,i,s,l),s!==null&&(er(s,t,l),ay(s,i,l)))}function ry(t,i,s){var l=Jn();cl(t,i,s,l)}function cl(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ec(t))iy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var T=i.lastRenderedState,A=d(T,s);if(h.hasEagerState=!0,h.eagerState=A,Qn(A,T))return ju(t,i,h,0),Rt===null&&ku(),!1}catch{}finally{}if(s=nf(t,i,h,l),s!==null)return er(s,t,l),ay(s,i,l),!0}return!1}function Lf(t,i,s,l){if(l={lane:2,revertLane:pd(),action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(i)throw Error(a(479))}else i=nf(t,s,l,2),i!==null&&er(i,t,2)}function ec(t){var i=t.alternate;return t===$e||i!==null&&i===$e}function iy(t,i){Xs=Qu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function ay(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Br(t,s)}}var tc={readContext:Sn,use:Xu,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},sy={readContext:Sn,use:Xu,useCallback:function(t,i){return Ln().memoizedState=[t,i===void 0?null:i],t},useContext:Sn,useEffect:qp,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Ju(4194308,4,Yp.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Ju(4194308,4,t,i)},useInsertionEffect:function(t,i){Ju(4,2,t,i)},useMemo:function(t,i){var s=Ln();i=i===void 0?null:i;var l=t();if(ls){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Ln();if(s!==void 0){var h=s(i);if(ls){Tn(!0);try{s(i)}finally{Tn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=VS.bind(null,$e,t),[l.memoizedState,t]},useRef:function(t){var i=Ln();return t={current:t},i.memoizedState=t},useState:function(t){t=Of(t);var i=t.queue,s=ry.bind(null,$e,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Vf,useDeferredValue:function(t,i){var s=Ln();return Pf(s,t,i)},useTransition:function(){var t=Of(!1);return t=Zp.bind(null,$e,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=$e,h=Ln();if(dt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Rt===null)throw Error(a(349));(st&124)!==0||Rp(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,qp(Cp.bind(null,l,d,t),[t]),l.flags|=2048,Zs(9,Zu(),Dp.bind(null,l,d,s,i),null),s},useId:function(){var t=Ln(),i=Rt.identifierPrefix;if(dt){var s=xi,l=wi;s=(l&~(1<<32-qt(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=Ku++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=DS++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:jf,useFormState:Lp,useActionState:Lp,useOptimistic:function(t){var i=Ln();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Lf.bind(null,$e,!0,s),s.dispatch=i,[t,i]},useMemoCache:Cf,useCacheRefresh:function(){return Ln().memoizedState=MS.bind(null,$e)}},oy={readContext:Sn,use:Xu,useCallback:Kp,useContext:Sn,useEffect:Fp,useImperativeHandle:Qp,useInsertionEffect:Gp,useLayoutEffect:$p,useMemo:Xp,useReducer:Wu,useRef:Hp,useState:function(){return Wu(Ci)},useDebugValue:Vf,useDeferredValue:function(t,i){var s=Yt();return Wp(s,bt.memoizedState,t,i)},useTransition:function(){var t=Wu(Ci)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:xp,useId:ty,useHostTransitionStatus:jf,useFormState:Up,useActionState:Up,useOptimistic:function(t,i){var s=Yt();return Op(s,bt,t,i)},useMemoCache:Cf,useCacheRefresh:ny},PS={readContext:Sn,use:Xu,useCallback:Kp,useContext:Sn,useEffect:Fp,useImperativeHandle:Qp,useInsertionEffect:Gp,useLayoutEffect:$p,useMemo:Xp,useReducer:If,useRef:Hp,useState:function(){return If(Ci)},useDebugValue:Vf,useDeferredValue:function(t,i){var s=Yt();return bt===null?Pf(s,t,i):Wp(s,bt.memoizedState,t,i)},useTransition:function(){var t=If(Ci)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:xp,useId:ty,useHostTransitionStatus:jf,useFormState:zp,useActionState:zp,useOptimistic:function(t,i){var s=Yt();return bt!==null?Op(s,bt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:ny},Js=null,hl=0;function nc(t){var i=hl;return hl+=1,Js===null&&(Js=[]),vp(Js,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function rc(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ly(t){var i=t._init;return i(t._payload)}function uy(t){function i(G,q){if(t){var K=G.deletions;K===null?(G.deletions=[q],G.flags|=16):K.push(q)}}function s(G,q){if(!t)return null;for(;q!==null;)i(G,q),q=q.sibling;return null}function l(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function h(G,q){return G=Ai(G,q),G.index=0,G.sibling=null,G}function d(G,q,K){return G.index=K,t?(K=G.alternate,K!==null?(K=K.index,K<q?(G.flags|=67108866,q):K):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function T(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function A(G,q,K,ce){return q===null||q.tag!==6?(q=af(K,G.mode,ce),q.return=G,q):(q=h(q,K),q.return=G,q)}function j(G,q,K,ce){var Re=K.type;return Re===M?oe(G,q,K.props.children,ce,K.key):q!==null&&(q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===x&&ly(Re)===q.type)?(q=h(q,K.props),fl(q,K),q.return=G,q):(q=Uu(K.type,K.key,K.props,null,G.mode,ce),fl(q,K),q.return=G,q)}function J(G,q,K,ce){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=sf(K,G.mode,ce),q.return=G,q):(q=h(q,K.children||[]),q.return=G,q)}function oe(G,q,K,ce,Re){return q===null||q.tag!==7?(q=es(K,G.mode,ce,Re),q.return=G,q):(q=h(q,K),q.return=G,q)}function de(G,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=af(""+q,G.mode,K),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return K=Uu(q.type,q.key,q.props,null,G.mode,K),fl(K,q),K.return=G,K;case D:return q=sf(q,G.mode,K),q.return=G,q;case x:var ce=q._init;return q=ce(q._payload),de(G,q,K)}if(ve(q)||O(q))return q=es(q,G.mode,K,null),q.return=G,q;if(typeof q.then=="function")return de(G,nc(q),K);if(q.$$typeof===X)return de(G,qu(G,q),K);rc(G,q)}return null}function re(G,q,K,ce){var Re=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Re!==null?null:A(G,q,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===Re?j(G,q,K,ce):null;case D:return K.key===Re?J(G,q,K,ce):null;case x:return Re=K._init,K=Re(K._payload),re(G,q,K,ce)}if(ve(K)||O(K))return Re!==null?null:oe(G,q,K,ce,null);if(typeof K.then=="function")return re(G,q,nc(K),ce);if(K.$$typeof===X)return re(G,q,qu(G,K),ce);rc(G,K)}return null}function ie(G,q,K,ce,Re){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return G=G.get(K)||null,A(q,G,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return G=G.get(ce.key===null?K:ce.key)||null,j(q,G,ce,Re);case D:return G=G.get(ce.key===null?K:ce.key)||null,J(q,G,ce,Re);case x:var Ke=ce._init;return ce=Ke(ce._payload),ie(G,q,K,ce,Re)}if(ve(ce)||O(ce))return G=G.get(K)||null,oe(q,G,ce,Re,null);if(typeof ce.then=="function")return ie(G,q,K,nc(ce),Re);if(ce.$$typeof===X)return ie(G,q,K,qu(q,ce),Re);rc(q,ce)}return null}function Be(G,q,K,ce){for(var Re=null,Ke=null,Ne=q,je=q=0,cn=null;Ne!==null&&je<K.length;je++){Ne.index>je?(cn=Ne,Ne=null):cn=Ne.sibling;var ht=re(G,Ne,K[je],ce);if(ht===null){Ne===null&&(Ne=cn);break}t&&Ne&&ht.alternate===null&&i(G,Ne),q=d(ht,q,je),Ke===null?Re=ht:Ke.sibling=ht,Ke=ht,Ne=cn}if(je===K.length)return s(G,Ne),dt&&ns(G,je),Re;if(Ne===null){for(;je<K.length;je++)Ne=de(G,K[je],ce),Ne!==null&&(q=d(Ne,q,je),Ke===null?Re=Ne:Ke.sibling=Ne,Ke=Ne);return dt&&ns(G,je),Re}for(Ne=l(Ne);je<K.length;je++)cn=ie(Ne,G,je,K[je],ce),cn!==null&&(t&&cn.alternate!==null&&Ne.delete(cn.key===null?je:cn.key),q=d(cn,q,je),Ke===null?Re=cn:Ke.sibling=cn,Ke=cn);return t&&Ne.forEach(function(va){return i(G,va)}),dt&&ns(G,je),Re}function Ve(G,q,K,ce){if(K==null)throw Error(a(151));for(var Re=null,Ke=null,Ne=q,je=q=0,cn=null,ht=K.next();Ne!==null&&!ht.done;je++,ht=K.next()){Ne.index>je?(cn=Ne,Ne=null):cn=Ne.sibling;var va=re(G,Ne,ht.value,ce);if(va===null){Ne===null&&(Ne=cn);break}t&&Ne&&va.alternate===null&&i(G,Ne),q=d(va,q,je),Ke===null?Re=va:Ke.sibling=va,Ke=va,Ne=cn}if(ht.done)return s(G,Ne),dt&&ns(G,je),Re;if(Ne===null){for(;!ht.done;je++,ht=K.next())ht=de(G,ht.value,ce),ht!==null&&(q=d(ht,q,je),Ke===null?Re=ht:Ke.sibling=ht,Ke=ht);return dt&&ns(G,je),Re}for(Ne=l(Ne);!ht.done;je++,ht=K.next())ht=ie(Ne,G,je,ht.value,ce),ht!==null&&(t&&ht.alternate!==null&&Ne.delete(ht.key===null?je:ht.key),q=d(ht,q,je),Ke===null?Re=ht:Ke.sibling=ht,Ke=ht);return t&&Ne.forEach(function(k1){return i(G,k1)}),dt&&ns(G,je),Re}function At(G,q,K,ce){if(typeof K=="object"&&K!==null&&K.type===M&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var Re=K.key;q!==null;){if(q.key===Re){if(Re=K.type,Re===M){if(q.tag===7){s(G,q.sibling),ce=h(q,K.props.children),ce.return=G,G=ce;break e}}else if(q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===x&&ly(Re)===q.type){s(G,q.sibling),ce=h(q,K.props),fl(ce,K),ce.return=G,G=ce;break e}s(G,q);break}else i(G,q);q=q.sibling}K.type===M?(ce=es(K.props.children,G.mode,ce,K.key),ce.return=G,G=ce):(ce=Uu(K.type,K.key,K.props,null,G.mode,ce),fl(ce,K),ce.return=G,G=ce)}return T(G);case D:e:{for(Re=K.key;q!==null;){if(q.key===Re)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){s(G,q.sibling),ce=h(q,K.children||[]),ce.return=G,G=ce;break e}else{s(G,q);break}else i(G,q);q=q.sibling}ce=sf(K,G.mode,ce),ce.return=G,G=ce}return T(G);case x:return Re=K._init,K=Re(K._payload),At(G,q,K,ce)}if(ve(K))return Be(G,q,K,ce);if(O(K)){if(Re=O(K),typeof Re!="function")throw Error(a(150));return K=Re.call(K),Ve(G,q,K,ce)}if(typeof K.then=="function")return At(G,q,nc(K),ce);if(K.$$typeof===X)return At(G,q,qu(G,K),ce);rc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(s(G,q.sibling),ce=h(q,K),ce.return=G,G=ce):(s(G,q),ce=af(K,G.mode,ce),ce.return=G,G=ce),T(G)):s(G,q)}return function(G,q,K,ce){try{hl=0;var Re=At(G,q,K,ce);return Js=null,Re}catch(Ne){if(Ne===nl||Ne===Gu)throw Ne;var Ke=Kn(29,Ne,null,G.mode);return Ke.lanes=ce,Ke.return=G,Ke}finally{}}}var eo=uy(!0),cy=uy(!1),_r=$(null),Zr=null;function ra(t){var i=t.alternate;se(nn,nn.current&1),se(_r,t),Zr===null&&(i===null||Ks.current!==null||i.memoizedState!==null)&&(Zr=t)}function hy(t){if(t.tag===22){if(se(nn,nn.current),se(_r,t),Zr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Zr=t)}}else ia()}function ia(){se(nn,nn.current),se(_r,_r.current)}function Ni(t){pe(_r),Zr===t&&(Zr=null),pe(nn)}var nn=$(0);function ic(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Dd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Uf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Bf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Jn(),h=ea(l);h.payload=i,s!=null&&(h.callback=s),i=ta(t,h,l),i!==null&&(er(i,t,l),il(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Jn(),h=ea(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=ta(t,h,l),i!==null&&(er(i,t,l),il(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Jn(),l=ea(s);l.tag=2,i!=null&&(l.callback=i),i=ta(t,l,s),i!==null&&(er(i,t,s),il(i,t,s))}};function fy(t,i,s,l,h,d,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,T):i.prototype&&i.prototype.isPureReactComponent?!Qo(s,l)||!Qo(h,d):!0}function dy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Bf.enqueueReplaceState(i,i.state,null)}function us(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function my(t){ac(t)}function gy(t){console.error(t)}function py(t){ac(t)}function sc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function yy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,i,s){return s=ea(s),s.tag=3,s.payload={element:null},s.callback=function(){sc(t,i)},s}function vy(t){return t=ea(t),t.tag=3,t}function _y(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){yy(i,s,l)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){yy(i,s,l),typeof h!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function kS(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Jo(i,s,h,!0),s=_r.current,s!==null){switch(s.tag){case 13:return Zr===null?hd():s.alternate===null&&Pt===0&&(Pt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===pf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),dd(t,l,h)),!1;case 22:return s.flags|=65536,l===pf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),dd(t,l,h)),!1}throw Error(a(435,s.tag))}return dd(t,l,h),hd(),!1}if(dt)return i=_r.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==uf&&(t=Error(a(422),{cause:l}),Zo(gr(t,s)))):(l!==uf&&(i=Error(a(423),{cause:l}),Zo(gr(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=gr(l,s),h=zf(t.stateNode,l,h),_f(t,h),Pt!==4&&(Pt=2)),!1;var d=Error(a(520),{cause:l});if(d=gr(d,s),_l===null?_l=[d]:_l.push(d),Pt!==4&&(Pt=2),i===null)return!0;l=gr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=zf(s.stateNode,l,t),_f(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ca===null||!ca.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=vy(h),_y(h,t,s,l),_f(s,h),!1}s=s.return}while(s!==null);return!1}var Ey=Error(a(461)),ln=!1;function gn(t,i,s,l){i.child=t===null?cy(i,null,s,l):eo(i,t.child,s,l)}function Ty(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return ss(i),l=Af(t,i,s,T,d,h),A=wf(),t!==null&&!ln?(xf(t,i,h),Ii(t,i,h)):(dt&&A&&of(i),i.flags|=1,gn(t,i,l,h),i.child)}function by(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!rf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Sy(t,i,d,l,h)):(t=Uu(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Kf(t,h)){var T=d.memoizedProps;if(s=s.compare,s=s!==null?s:Qo,s(T,l)&&t.ref===i.ref)return Ii(t,i,h)}return i.flags|=1,t=Ai(d,l),t.ref=i.ref,t.return=i,i.child=t}function Sy(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===i.ref)if(ln=!1,i.pendingProps=l=d,Kf(t,h))(t.flags&131072)!==0&&(ln=!0);else return i.lanes=t.lanes,Ii(t,i,h)}return Hf(t,i,s,l,h)}function Ay(t,i,s){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return wy(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(i,d!==null?d.cachePool:null),d!==null?Sp(i,d):Tf(),hy(i);else return i.lanes=i.childLanes=536870912,wy(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(Fu(i,d.cachePool),Sp(i,d),ia(),i.memoizedState=null):(t!==null&&Fu(i,null),Tf(),ia());return gn(t,i,h,s),i.child}function wy(t,i,s,l){var h=gf();return h=h===null?null:{parent:tn._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&Fu(i,null),Tf(),hy(i),t!==null&&Jo(t,i,l,!0),null}function oc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Hf(t,i,s,l,h){return ss(i),s=Af(t,i,s,l,void 0,h),l=wf(),t!==null&&!ln?(xf(t,i,h),Ii(t,i,h)):(dt&&l&&of(i),i.flags|=1,gn(t,i,s,h),i.child)}function xy(t,i,s,l,h,d){return ss(i),i.updateQueue=null,s=wp(i,l,s,h),Ap(t),l=wf(),t!==null&&!ln?(xf(t,i,d),Ii(t,i,d)):(dt&&l&&of(i),i.flags|=1,gn(t,i,s,d),i.child)}function Ry(t,i,s,l,h){if(ss(i),i.stateNode===null){var d=Fs,T=s.contextType;typeof T=="object"&&T!==null&&(d=Sn(T)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},yf(i),T=s.contextType,d.context=typeof T=="object"&&T!==null?Sn(T):Fs,d.state=i.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Uf(i,s,T,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&Bf.enqueueReplaceState(d,d.state,null),sl(i,l,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,j=us(s,A);d.props=j;var J=d.context,oe=s.contextType;T=Fs,typeof oe=="object"&&oe!==null&&(T=Sn(oe));var de=s.getDerivedStateFromProps;oe=typeof de=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,oe||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||J!==T)&&dy(i,d,l,T),Ji=!1;var re=i.memoizedState;d.state=re,sl(i,l,d,h),al(),J=i.memoizedState,A||re!==J||Ji?(typeof de=="function"&&(Uf(i,s,de,l),J=i.memoizedState),(j=Ji||fy(i,s,j,l,re,J,T))?(oe||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=J),d.props=l,d.state=J,d.context=T,l=j):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,vf(t,i),T=i.memoizedProps,oe=us(s,T),d.props=oe,de=i.pendingProps,re=d.context,J=s.contextType,j=Fs,typeof J=="object"&&J!==null&&(j=Sn(J)),A=s.getDerivedStateFromProps,(J=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==de||re!==j)&&dy(i,d,l,j),Ji=!1,re=i.memoizedState,d.state=re,sl(i,l,d,h),al();var ie=i.memoizedState;T!==de||re!==ie||Ji||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof A=="function"&&(Uf(i,s,A,l),ie=i.memoizedState),(oe=Ji||fy(i,s,oe,l,re,ie,j)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(J||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,ie,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,ie,j)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&re===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&re===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=ie),d.props=l,d.state=ie,d.context=j,l=oe):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&re===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&re===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,oc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=eo(i,t.child,null,h),i.child=eo(i,null,s,h)):gn(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Ii(t,i,h),t}function Dy(t,i,s,l){return Wo(),i.flags|=256,gn(t,i,s,l),i.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:gp()}}function Gf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Er),t}function Cy(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,T;if((T=d)||(T=t!==null&&t.memoizedState===null?!1:(nn.current&2)!==0),T&&(h=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(dt){if(h?ra(i):ia(),dt){var A=Vt,j;if(j=A){e:{for(j=A,A=Wr;j.nodeType!==8;){if(!A){A=null;break e}if(j=Mr(j.nextSibling),j===null){A=null;break e}}A=j}A!==null?(i.memoizedState={dehydrated:A,treeContext:ts!==null?{id:wi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},j=Kn(18,null,null,0),j.stateNode=A,j.return=i,i.child=j,Vn=i,Vt=null,j=!0):j=!1}j||is(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Dd(A)?i.lanes=32:i.lanes=536870912,null;Ni(i)}return A=l.children,l=l.fallback,h?(ia(),h=i.mode,A=lc({mode:"hidden",children:A},h),l=es(l,h,s,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=Ff(s),h.childLanes=Gf(t,T,s),i.memoizedState=qf,l):(ra(i),$f(i,A))}if(j=t.memoizedState,j!==null&&(A=j.dehydrated,A!==null)){if(d)i.flags&256?(ra(i),i.flags&=-257,i=Yf(t,i,s)):i.memoizedState!==null?(ia(),i.child=t.child,i.flags|=128,i=null):(ia(),h=l.fallback,A=i.mode,l=lc({mode:"visible",children:l.children},A),h=es(h,A,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,eo(i,t.child,null,s),l=i.child,l.memoizedState=Ff(s),l.childLanes=Gf(t,T,s),i.memoizedState=qf,i=h);else if(ra(i),Dd(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var J=T.dgst;T=J,l=Error(a(419)),l.stack="",l.digest=T,Zo({value:l,source:null,stack:null}),i=Yf(t,i,s)}else if(ln||Jo(t,i,s,!1),T=(s&t.childLanes)!==0,ln||T){if(T=Rt,T!==null&&(l=s&-s,l=(l&42)!==0?1:zr(l),l=(l&(T.suspendedLanes|s))!==0?0:l,l!==0&&l!==j.retryLane))throw j.retryLane=l,qs(t,l),er(T,t,l),Ey;A.data==="$?"||hd(),i=Yf(t,i,s)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=j.treeContext,Vt=Mr(A.nextSibling),Vn=i,dt=!0,rs=null,Wr=!1,t!==null&&(yr[vr++]=wi,yr[vr++]=xi,yr[vr++]=ts,wi=t.id,xi=t.overflow,ts=i),i=$f(i,l.children),i.flags|=4096);return i}return h?(ia(),h=l.fallback,A=i.mode,j=t.child,J=j.sibling,l=Ai(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,J!==null?h=Ai(J,h):(h=es(h,A,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=Ff(s):(j=A.cachePool,j!==null?(J=tn._currentValue,j=j.parent!==J?{parent:J,pool:J}:j):j=gp(),A={baseLanes:A.baseLanes|s,cachePool:j}),h.memoizedState=A,h.childLanes=Gf(t,T,s),i.memoizedState=qf,l):(ra(i),s=t.child,t=s.sibling,s=Ai(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=s,i.memoizedState=null,s)}function $f(t,i){return i=lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function lc(t,i){return t=Kn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Yf(t,i,s){return eo(i,t.child,null,s),t=$f(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ny(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),hf(t.return,i,s)}function Qf(t,i,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Iy(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(gn(t,i,l.children,s),l=nn.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,s,i);else if(t.tag===19)Ny(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(nn,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&ic(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Qf(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ic(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Qf(i,!0,s,null,d);break;case"together":Qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ii(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),ua|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Jo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Ai(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ai(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Kf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function jS(t,i,s){switch(i.tag){case 3:Pe(i,i.stateNode.containerInfo),Zi(i,tn,t.memoizedState.cache),Wo();break;case 27:case 5:mt(i);break;case 4:Pe(i,i.stateNode.containerInfo);break;case 10:Zi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ra(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Cy(t,i,s):(ra(i),t=Ii(t,i,s),t!==null?t.sibling:null);ra(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Jo(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return Iy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(nn,nn.current),l)break;return null;case 22:case 23:return i.lanes=0,Ay(t,i,s);case 24:Zi(i,tn,t.memoizedState.cache)}return Ii(t,i,s)}function Oy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)ln=!0;else{if(!Kf(t,s)&&(i.flags&128)===0)return ln=!1,jS(t,i,s);ln=(t.flags&131072)!==0}else ln=!1,dt&&(i.flags&1048576)!==0&&lp(i,zu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")rf(l)?(t=us(l,t),i.tag=1,i=Ry(null,i,l,t,s)):(i.tag=0,i=Hf(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===le){i.tag=11,i=Ty(null,i,l,t,s);break e}else if(h===I){i.tag=14,i=by(null,i,l,t,s);break e}}throw i=ee(l)||l,Error(a(306,i,""))}}return i;case 0:return Hf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=us(l,i.pendingProps),Ry(t,i,l,h,s);case 3:e:{if(Pe(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,vf(t,i),sl(i,l,null,s);var T=i.memoizedState;if(l=T.cache,Zi(i,tn,l),l!==d.cache&&ff(i,[tn],s,!0),al(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Dy(t,i,l,s);break e}else if(l!==h){h=gr(Error(a(424)),i),Zo(h),i=Dy(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Vt=Mr(t.firstChild),Vn=i,dt=!0,rs=null,Wr=!0,s=cy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Wo(),l===h){i=Ii(t,i,s);break e}gn(t,i,l,s)}i=i.child}return i;case 26:return oc(t,i),t===null?(s=kv(i.type,null,i.pendingProps,null))?i.memoizedState=s:dt||(s=i.type,t=i.pendingProps,l=bc(Te.current).createElement(s),l[me]=i,l[ye]=t,yn(l,s,t),rt(l),i.stateNode=l):i.memoizedState=kv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return mt(i),t===null&&dt&&(l=i.stateNode=Mv(i.type,i.pendingProps,Te.current),Vn=i,Wr=!0,h=Vt,da(i.type)?(Cd=h,Vt=Mr(l.firstChild)):Vt=h),gn(t,i,i.pendingProps.children,s),oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&dt&&((h=l=Vt)&&(l=h1(l,i.type,i.pendingProps,Wr),l!==null?(i.stateNode=l,Vn=i,Vt=Mr(l.firstChild),Wr=!1,h=!0):h=!1),h||is(i)),mt(i),h=i.type,d=i.pendingProps,T=t!==null?t.memoizedProps:null,l=d.children,wd(h,d)?l=null:T!==null&&wd(h,T)&&(i.flags|=32),i.memoizedState!==null&&(h=Af(t,i,CS,null,null,s),Dl._currentValue=h),oc(t,i),gn(t,i,l,s),i.child;case 6:return t===null&&dt&&((t=s=Vt)&&(s=f1(s,i.pendingProps,Wr),s!==null?(i.stateNode=s,Vn=i,Vt=null,t=!0):t=!1),t||is(i)),null;case 13:return Cy(t,i,s);case 4:return Pe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=eo(i,null,l,s):gn(t,i,l,s),i.child;case 11:return Ty(t,i,i.type,i.pendingProps,s);case 7:return gn(t,i,i.pendingProps,s),i.child;case 8:return gn(t,i,i.pendingProps.children,s),i.child;case 12:return gn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Zi(i,i.type,l.value),gn(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ss(i),h=Sn(h),l=l(h),i.flags|=1,gn(t,i,l,s),i.child;case 14:return by(t,i,i.type,i.pendingProps,s);case 15:return Sy(t,i,i.type,i.pendingProps,s);case 19:return Iy(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=lc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Ai(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Ay(t,i,s);case 24:return ss(i),l=Sn(tn),t===null?(h=gf(),h===null&&(h=Rt,d=df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},yf(i),Zi(i,tn,h)):((t.lanes&s)!==0&&(vf(t,i),sl(i,null,null,s),al()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Zi(i,tn,l)):(l=d.cache,Zi(i,tn,l),l!==h.cache&&ff(i,[tn],s,!0))),gn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Oi(t){t.flags|=4}function My(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zv(i)){if(i=_r.current,i!==null&&((st&4194048)===st?Zr!==null:(st&62914560)!==st&&(st&536870912)===0||i!==Zr))throw rl=pf,pp;t.flags|=8192}}function uc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ba():536870912,t.lanes|=i,io|=i)}function dl(t,i){if(!dt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function LS(t,i,s){var l=i.pendingProps;switch(lf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Di(tn),Et(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xo(i)?Oi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hp())),Ot(i),null;case 26:return s=i.memoizedState,t===null?(Oi(i),s!==null?(Ot(i),My(i,s)):(Ot(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Oi(i),Ot(i),My(i,s)):(Ot(i),i.flags&=-16777217):(t.memoizedProps!==l&&Oi(i),Ot(i),i.flags&=-16777217),null;case 27:an(i),s=Te.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Oi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}t=ue.current,Xo(i)?up(i):(t=Mv(h,l,s),i.stateNode=t,Oi(i))}return Ot(i),null;case 5:if(an(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Oi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}if(t=ue.current,Xo(i))up(i);else{switch(h=bc(Te.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[me]=i,t[ye]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(yn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Oi(i)}}return Ot(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Oi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Te.current,Xo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=Vn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[me]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||xv(t.nodeValue,s)),t||is(i)}else t=bc(t).createTextNode(l),t[me]=i,i.stateNode=t}return Ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[me]=i}else Wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),h=!1}else h=hp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ni(i),i):(Ni(i),null)}if(Ni(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),uc(i,i.updateQueue),Ot(i),null;case 4:return Et(),t===null&&Ed(i.stateNode.containerInfo),Ot(i),null;case 10:return Di(i.type),Ot(i),null;case 19:if(pe(nn),h=i.memoizedState,h===null)return Ot(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(Pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ic(t),d!==null){for(i.flags|=128,dl(h,!1),t=d.updateQueue,i.updateQueue=t,uc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)op(s,t),s=s.sibling;return se(nn,nn.current&1|2),i.child}t=t.sibling}h.tail!==null&&Cn()>fc&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304)}else{if(!l)if(t=ic(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,uc(i,t),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!dt)return Ot(i),null}else 2*Cn()-h.renderingStartTime>fc&&s!==536870912&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Cn(),i.sibling=null,t=nn.current,se(nn,l?t&1|2:t&1),i):(Ot(i),null);case 22:case 23:return Ni(i),bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),s=i.updateQueue,s!==null&&uc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&pe(os),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Di(tn),Ot(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function US(t,i){switch(lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Di(tn),Et(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return an(i),null;case 13:if(Ni(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Wo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return pe(nn),null;case 4:return Et(),null;case 10:return Di(i.type),null;case 22:case 23:return Ni(i),bf(),t!==null&&pe(os),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Di(tn),null;case 25:return null;default:return null}}function Vy(t,i){switch(lf(i),i.tag){case 3:Di(tn),Et();break;case 26:case 27:case 5:an(i);break;case 4:Et();break;case 13:Ni(i);break;case 19:pe(nn);break;case 10:Di(i.type);break;case 22:case 23:Ni(i),bf(),t!==null&&pe(os);break;case 24:Di(tn)}}function ml(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,T=s.inst;l=d(),T.destroy=l}s=s.next}while(s!==h)}}catch(A){xt(i,i.return,A)}}function aa(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,h=i;var j=s,J=A;try{J()}catch(oe){xt(h,j,oe)}}}l=l.next}while(l!==d)}}catch(oe){xt(i,i.return,oe)}}function Py(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{bp(i,s)}catch(l){xt(t,t.return,l)}}}function ky(t,i,s){s.props=us(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){xt(t,i,l)}}function gl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){xt(t,i,h)}}function Jr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){xt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){xt(t,i,h)}else s.current=null}function jy(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){xt(t,t.return,h)}}function Xf(t,i,s){try{var l=t.stateNode;s1(l,t.type,s,i),l[ye]=i}catch(h){xt(t,t.return,h)}}function Ly(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&da(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&da(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Tc));else if(l!==4&&(l===27&&da(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Zf(t,i,s),t=t.sibling;t!==null;)Zf(t,i,s),t=t.sibling}function cc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&da(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(cc(t,i,s),t=t.sibling;t!==null;)cc(t,i,s),t=t.sibling}function Uy(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);yn(i,l,s),i[me]=t,i[ye]=s}catch(d){xt(t,t.return,d)}}var Mi=!1,Bt=!1,Jf=!1,By=typeof WeakSet=="function"?WeakSet:Set,un=null;function BS(t,i){if(t=t.containerInfo,Sd=Dc,t=Wg(t),Xh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var T=0,A=-1,j=-1,J=0,oe=0,de=t,re=null;t:for(;;){for(var ie;de!==s||h!==0&&de.nodeType!==3||(A=T+h),de!==d||l!==0&&de.nodeType!==3||(j=T+l),de.nodeType===3&&(T+=de.nodeValue.length),(ie=de.firstChild)!==null;)re=de,de=ie;for(;;){if(de===t)break t;if(re===s&&++J===h&&(A=T),re===d&&++oe===l&&(j=T),(ie=de.nextSibling)!==null)break;de=re,re=de.parentNode}de=ie}s=A===-1||j===-1?null:{start:A,end:j}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ad={focusedElem:t,selectionRange:s},Dc=!1,un=i;un!==null;)if(i=un,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,un=t;else for(;un!==null;){switch(i=un,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Be=us(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){xt(s,s.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Rd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,un=t;break}un=i.return}}function zy(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:sa(t,s),l&4&&ml(5,s);break;case 1:if(sa(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(T){xt(s,s.return,T)}else{var h=us(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){xt(s,s.return,T)}}l&64&&Py(s),l&512&&gl(s,s.return);break;case 3:if(sa(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{bp(t,i)}catch(T){xt(s,s.return,T)}}break;case 27:i===null&&l&4&&Uy(s);case 26:case 5:sa(t,s),i===null&&l&4&&jy(s),l&512&&gl(s,s.return);break;case 12:sa(t,s);break;case 13:sa(t,s),l&4&&Fy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=KS.bind(null,s),d1(t,s))));break;case 22:if(l=s.memoizedState!==null||Mi,!l){i=i!==null&&i.memoizedState!==null||Bt,h=Mi;var d=Bt;Mi=l,(Bt=i)&&!d?oa(t,s,(s.subtreeFlags&8772)!==0):sa(t,s),Mi=h,Bt=d}break;case 30:break;default:sa(t,s)}}function Hy(t){var i=t.alternate;i!==null&&(t.alternate=null,Hy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Me(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Nt=null,Un=!1;function Vi(t,i,s){for(s=s.child;s!==null;)qy(t,i,s),s=s.sibling}function qy(t,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ft,s)}catch{}switch(s.tag){case 26:Bt||Jr(s,i),Vi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Bt||Jr(s,i);var l=Nt,h=Un;da(s.type)&&(Nt=s.stateNode,Un=!1),Vi(t,i,s),Al(s.stateNode),Nt=l,Un=h;break;case 5:Bt||Jr(s,i);case 6:if(l=Nt,h=Un,Nt=null,Vi(t,i,s),Nt=l,Un=h,Nt!==null)if(Un)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(s.stateNode)}catch(d){xt(s,i,d)}else try{Nt.removeChild(s.stateNode)}catch(d){xt(s,i,d)}break;case 18:Nt!==null&&(Un?(t=Nt,Iv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ol(t)):Iv(Nt,s.stateNode));break;case 4:l=Nt,h=Un,Nt=s.stateNode.containerInfo,Un=!0,Vi(t,i,s),Nt=l,Un=h;break;case 0:case 11:case 14:case 15:Bt||aa(2,s,i),Bt||aa(4,s,i),Vi(t,i,s);break;case 1:Bt||(Jr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ky(s,i,l)),Vi(t,i,s);break;case 21:Vi(t,i,s);break;case 22:Bt=(l=Bt)||s.memoizedState!==null,Vi(t,i,s),Bt=l;break;default:Vi(t,i,s)}}function Fy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(s){xt(i,i.return,s)}}function zS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new By),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new By),i;default:throw Error(a(435,t.tag))}}function ed(t,i){var s=zS(t);i.forEach(function(l){var h=XS.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function Xn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,T=i,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(da(A.type)){Nt=A.stateNode,Un=!1;break e}break;case 5:Nt=A.stateNode,Un=!1;break e;case 3:case 4:Nt=A.stateNode.containerInfo,Un=!0;break e}A=A.return}if(Nt===null)throw Error(a(160));qy(d,T,h),Nt=null,Un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Gy(i,t),i=i.sibling}var Or=null;function Gy(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xn(i,t),Wn(t),l&4&&(aa(3,t,t.return),ml(3,t),aa(5,t,t.return));break;case 1:Xn(i,t),Wn(t),l&512&&(Bt||s===null||Jr(s,s.return)),l&64&&Mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Or;if(Xn(i,t),Wn(t),l&512&&(Bt||s===null||Jr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ke]||d[me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),yn(d,l,s),d[me]=t,rt(d),l=d;break e;case"link":var T=Uv("link","href",h).get(l+(s.href||""));if(T){for(var A=0;A<T.length;A++)if(d=T[A],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(A,1);break t}}d=h.createElement(l),yn(d,l,s),h.head.appendChild(d);break;case"meta":if(T=Uv("meta","content",h).get(l+(s.content||""))){for(A=0;A<T.length;A++)if(d=T[A],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(A,1);break t}}d=h.createElement(l),yn(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[me]=t,rt(d),l=d}t.stateNode=l}else Bv(h,t.type,t.stateNode);else t.stateNode=Lv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Bv(h,t.type,t.stateNode):Lv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Xn(i,t),Wn(t),l&512&&(Bt||s===null||Jr(s,s.return)),s!==null&&l&4&&Xf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Xn(i,t),Wn(t),l&512&&(Bt||s===null||Jr(s,s.return)),t.flags&32){h=t.stateNode;try{hr(h,"")}catch(ie){xt(t,t.return,ie)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Xf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Jf=!0);break;case 6:if(Xn(i,t),Wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ie){xt(t,t.return,ie)}}break;case 3:if(wc=null,h=Or,Or=Sc(i.containerInfo),Xn(i,t),Or=h,Wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ol(i.containerInfo)}catch(ie){xt(t,t.return,ie)}Jf&&(Jf=!1,$y(t));break;case 4:l=Or,Or=Sc(t.stateNode.containerInfo),Xn(i,t),Wn(t),Or=l;break;case 12:Xn(i,t),Wn(t);break;case 13:Xn(i,t),Wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sd=Cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ed(t,l)));break;case 22:h=t.memoizedState!==null;var j=s!==null&&s.memoizedState!==null,J=Mi,oe=Bt;if(Mi=J||h,Bt=oe||j,Xn(i,t),Bt=oe,Mi=J,Wn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||j||Mi||Bt||cs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){j=s=i;try{if(d=j.stateNode,h)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=j.stateNode;var de=j.memoizedProps.style,re=de!=null&&de.hasOwnProperty("display")?de.display:null;A.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ie){xt(j,j.return,ie)}}}else if(i.tag===6){if(s===null){j=i;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(ie){xt(j,j.return,ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ed(t,s))));break;case 19:Xn(i,t),Wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ed(t,l)));break;case 30:break;case 21:break;default:Xn(i,t),Wn(t)}}function Wn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Ly(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Wf(t);cc(t,d,h);break;case 5:var T=s.stateNode;s.flags&32&&(hr(T,""),s.flags&=-33);var A=Wf(t);cc(t,A,T);break;case 3:case 4:var j=s.stateNode.containerInfo,J=Wf(t);Zf(t,J,j);break;default:throw Error(a(161))}}catch(oe){xt(t,t.return,oe)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function $y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;$y(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function sa(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zy(t,i.alternate,i),i=i.sibling}function cs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:aa(4,i,i.return),cs(i);break;case 1:Jr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&ky(i,i.return,s),cs(i);break;case 27:Al(i.stateNode);case 26:case 5:Jr(i,i.return),cs(i);break;case 22:i.memoizedState===null&&cs(i);break;case 30:cs(i);break;default:cs(i)}t=t.sibling}}function oa(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,T=d.flags;switch(d.tag){case 0:case 11:case 15:oa(h,d,s),ml(4,d);break;case 1:if(oa(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(J){xt(l,l.return,J)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)Tp(j[h],A)}catch(J){xt(l,l.return,J)}}s&&T&64&&Py(d),gl(d,d.return);break;case 27:Uy(d);case 26:case 5:oa(h,d,s),s&&l===null&&T&4&&jy(d),gl(d,d.return);break;case 12:oa(h,d,s);break;case 13:oa(h,d,s),s&&T&4&&Fy(h,d);break;case 22:d.memoizedState===null&&oa(h,d,s),gl(d,d.return);break;case 30:break;default:oa(h,d,s)}i=i.sibling}}function td(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&el(s))}function nd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function ei(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yy(t,i,s,l),i=i.sibling}function Yy(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,s,l),h&2048&&ml(9,i);break;case 1:ei(t,i,s,l);break;case 3:ei(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){ei(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,T=d.id,A=d.onPostCommit;typeof A=="function"&&A(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){xt(i,i.return,j)}}else ei(t,i,s,l);break;case 13:ei(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,T=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,s,l):pl(t,i):d._visibility&2?ei(t,i,s,l):(d._visibility|=2,to(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&td(T,i);break;case 24:ei(t,i,s,l),h&2048&&nd(i.alternate,i);break;default:ei(t,i,s,l)}}function to(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,T=i,A=s,j=l,J=T.flags;switch(T.tag){case 0:case 11:case 15:to(d,T,A,j,h),ml(8,T);break;case 23:break;case 22:var oe=T.stateNode;T.memoizedState!==null?oe._visibility&2?to(d,T,A,j,h):pl(d,T):(oe._visibility|=2,to(d,T,A,j,h)),h&&J&2048&&td(T.alternate,T);break;case 24:to(d,T,A,j,h),h&&J&2048&&nd(T.alternate,T);break;default:to(d,T,A,j,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:pl(s,l),h&2048&&td(l.alternate,l);break;case 24:pl(s,l),h&2048&&nd(l.alternate,l);break;default:pl(s,l)}i=i.sibling}}var yl=8192;function no(t){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 26:no(t),t.flags&yl&&t.memoizedState!==null&&x1(Or,t.memoizedState,t.memoizedProps);break;case 5:no(t);break;case 3:case 4:var i=Or;Or=Sc(t.stateNode.containerInfo),no(t),Or=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=yl,yl=16777216,no(t),yl=i):no(t));break;default:no(t)}}function Ky(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];un=l,Wy(l,t)}Ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&aa(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,hc(t)):vl(t);break;default:vl(t)}}function hc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];un=l,Wy(l,t)}Ky(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:aa(8,i,i.return),hc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,hc(i));break;default:hc(i)}t=t.sibling}}function Wy(t,i){for(;un!==null;){var s=un;switch(s.tag){case 0:case 11:case 15:aa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,un=l;else e:for(s=t;un!==null;){l=un;var h=l.sibling,d=l.return;if(Hy(l),l===s){un=null;break e}if(h!==null){h.return=d,un=h;break e}un=d}}}var HS={getCacheForType:function(t){var i=Sn(tn),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},qS=typeof WeakMap=="function"?WeakMap:Map,vt=0,Rt=null,Ze=null,st=0,_t=0,Zn=null,la=!1,ro=!1,rd=!1,Pi=0,Pt=0,ua=0,hs=0,id=0,Er=0,io=0,_l=null,Bn=null,ad=!1,sd=0,fc=1/0,dc=null,ca=null,pn=0,ha=null,ao=null,so=0,od=0,ld=null,Zy=null,El=0,ud=null;function Jn(){if((vt&2)!==0&&st!==0)return st&-st;if(B.T!==null){var t=Ys;return t!==0?t:pd()}return H()}function Jy(){Er===0&&(Er=(st&536870912)===0||dt?gi():536870912);var t=_r.current;return t!==null&&(t.flags|=32),Er}function er(t,i,s){(t===Rt&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(oo(t,0),fa(t,st,Er,!1)),Cr(t,s),((vt&2)===0||t!==Rt)&&(t===Rt&&((vt&2)===0&&(hs|=s),Pt===4&&fa(t,st,Er,!1)),ti(t))}function ev(t,i,s){if((vt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||or(t,i),h=l?$S(t,i):fd(t,i,!0),d=l;do{if(h===0){ro&&!l&&fa(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!FS(s)){h=fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var A=t;h=_l;var j=A.current.memoizedState.isDehydrated;if(j&&(oo(A,T).flags|=256),T=fd(A,T,!1),T!==2){if(rd&&!j){A.errorRecoveryDisabledLanes|=d,hs|=d,h=4;break e}d=Bn,Bn=h,d!==null&&(Bn===null?Bn=d:Bn.push.apply(Bn,d))}h=T}if(d=!1,h!==2)continue}}if(h===1){oo(t,0),fa(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:fa(l,i,Er,!la);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=sd+300-Cn(),10<h)){if(fa(l,i,Er,!la),mi(l,0,!0)!==0)break e;l.timeoutHandle=Cv(tv.bind(null,l,s,Bn,dc,ad,i,Er,hs,io,la,d,2,-0,0),h);break e}tv(l,s,Bn,dc,ad,i,Er,hs,io,la,d,0,-0,0)}}break}while(!0);ti(t)}function tv(t,i,s,l,h,d,T,A,j,J,oe,de,re,ie){if(t.timeoutHandle=-1,de=i.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:w1},Qy(i),de=R1(),de!==null)){t.cancelPendingCommit=de(lv.bind(null,t,i,d,s,l,h,T,A,j,oe,1,re,ie)),fa(t,d,T,!J);return}lv(t,i,d,s,l,h,T,A,j)}function FS(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Qn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fa(t,i,s,l){i&=~id,i&=~hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-qt(h),T=1<<d;l[d]=-1,h&=~T}s!==0&&Nn(t,s,i)}function mc(){return(vt&6)===0?(Tl(0),!1):!0}function cd(){if(Ze!==null){if(_t===0)var t=Ze.return;else t=Ze,Ri=as=null,Rf(t),Js=null,hl=0,t=Ze;for(;t!==null;)Vy(t.alternate,t),t=t.return;Ze=null}}function oo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,l1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),cd(),Rt=t,Ze=s=Ai(t.current,null),st=i,_t=0,Zn=null,la=!1,ro=or(t,i),rd=!1,io=Er=id=hs=ua=Pt=0,Bn=_l=null,ad=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-qt(l),d=1<<h;i|=t[h],l&=~d}return Pi=i,ku(),s}function nv(t,i){$e=null,B.H=tc,i===nl||i===Gu?(i=_p(),_t=3):i===pp?(i=_p(),_t=4):_t=i===Ey?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zn=i,Ze===null&&(Pt=1,sc(t,gr(i,t.current)))}function rv(){var t=B.H;return B.H=tc,t===null?tc:t}function iv(){var t=B.A;return B.A=HS,t}function hd(){Pt=4,la||(st&4194048)!==st&&_r.current!==null||(ro=!0),(ua&134217727)===0&&(hs&134217727)===0||Rt===null||fa(Rt,st,Er,!1)}function fd(t,i,s){var l=vt;vt|=2;var h=rv(),d=iv();(Rt!==t||st!==i)&&(dc=null,oo(t,i)),i=!1;var T=Pt;e:do try{if(_t!==0&&Ze!==null){var A=Ze,j=Zn;switch(_t){case 8:cd(),T=6;break e;case 3:case 2:case 9:case 6:_r.current===null&&(i=!0);var J=_t;if(_t=0,Zn=null,lo(t,A,j,J),s&&ro){T=0;break e}break;default:J=_t,_t=0,Zn=null,lo(t,A,j,J)}}GS(),T=Pt;break}catch(oe){nv(t,oe)}while(!0);return i&&t.shellSuspendCounter++,Ri=as=null,vt=l,B.H=h,B.A=d,Ze===null&&(Rt=null,st=0,ku()),T}function GS(){for(;Ze!==null;)av(Ze)}function $S(t,i){var s=vt;vt|=2;var l=rv(),h=iv();Rt!==t||st!==i?(dc=null,fc=Cn()+500,oo(t,i)):ro=or(t,i);e:do try{if(_t!==0&&Ze!==null){i=Ze;var d=Zn;t:switch(_t){case 1:_t=0,Zn=null,lo(t,i,d,1);break;case 2:case 9:if(yp(d)){_t=0,Zn=null,sv(i);break}i=function(){_t!==2&&_t!==9||Rt!==t||(_t=7),ti(t)},d.then(i,i);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:yp(d)?(_t=0,Zn=null,sv(i)):(_t=0,Zn=null,lo(t,i,d,7));break;case 5:var T=null;switch(Ze.tag){case 26:T=Ze.memoizedState;case 5:case 27:var A=Ze;if(!T||zv(T)){_t=0,Zn=null;var j=A.sibling;if(j!==null)Ze=j;else{var J=A.return;J!==null?(Ze=J,gc(J)):Ze=null}break t}}_t=0,Zn=null,lo(t,i,d,5);break;case 6:_t=0,Zn=null,lo(t,i,d,6);break;case 8:cd(),Pt=6;break e;default:throw Error(a(462))}}YS();break}catch(oe){nv(t,oe)}while(!0);return Ri=as=null,B.H=l,B.A=h,vt=s,Ze!==null?0:(Rt=null,st=0,ku(),Pt)}function YS(){for(;Ze!==null&&!La();)av(Ze)}function av(t){var i=Oy(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,i===null?gc(t):Ze=i}function sv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=xy(s,i,i.pendingProps,i.type,void 0,st);break;case 11:i=xy(s,i,i.pendingProps,i.type.render,i.ref,st);break;case 5:Rf(i);default:Vy(s,i),i=Ze=op(i,Pi),i=Oy(s,i,Pi)}t.memoizedProps=t.pendingProps,i===null?gc(t):Ze=i}function lo(t,i,s,l){Ri=as=null,Rf(i),Js=null,hl=0;var h=i.return;try{if(kS(t,h,i,s,st)){Pt=1,sc(t,gr(s,t.current)),Ze=null;return}}catch(d){if(h!==null)throw Ze=h,d;Pt=1,sc(t,gr(s,t.current)),Ze=null;return}i.flags&32768?(dt||l===1?t=!0:ro||(st&536870912)!==0?t=!1:(la=t=!0,(l===2||l===9||l===3||l===6)&&(l=_r.current,l!==null&&l.tag===13&&(l.flags|=16384))),ov(i,t)):gc(i)}function gc(t){var i=t;do{if((i.flags&32768)!==0){ov(i,la);return}t=i.return;var s=LS(i.alternate,i,Pi);if(s!==null){Ze=s;return}if(i=i.sibling,i!==null){Ze=i;return}Ze=i=t}while(i!==null);Pt===0&&(Pt=5)}function ov(t,i){do{var s=US(t.alternate,t);if(s!==null){s.flags&=32767,Ze=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ze=t;return}Ze=t=s}while(t!==null);Pt=6,Ze=null}function lv(t,i,s,l,h,d,T,A,j){t.cancelPendingCommit=null;do pc();while(pn!==0);if((vt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=tf,Yi(t,s,d,T,A,j),t===Rt&&(Ze=Rt=null,st=0),ao=i,ha=t,so=s,od=d,ld=h,Zy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WS(di,function(){return dv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=ne.p,ne.p=2,T=vt,vt|=4;try{BS(t,i,s)}finally{vt=T,ne.p=h,B.T=l}}pn=1,uv(),cv(),hv()}}function uv(){if(pn===1){pn=0;var t=ha,i=ao,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=B.T,B.T=null;var l=ne.p;ne.p=2;var h=vt;vt|=4;try{Gy(i,t);var d=Ad,T=Wg(t.containerInfo),A=d.focusedElem,j=d.selectionRange;if(T!==A&&A&&A.ownerDocument&&Xg(A.ownerDocument.documentElement,A)){if(j!==null&&Xh(A)){var J=j.start,oe=j.end;if(oe===void 0&&(oe=J),"selectionStart"in A)A.selectionStart=J,A.selectionEnd=Math.min(oe,A.value.length);else{var de=A.ownerDocument||document,re=de&&de.defaultView||window;if(re.getSelection){var ie=re.getSelection(),Be=A.textContent.length,Ve=Math.min(j.start,Be),At=j.end===void 0?Ve:Math.min(j.end,Be);!ie.extend&&Ve>At&&(T=At,At=Ve,Ve=T);var G=Kg(A,Ve),q=Kg(A,At);if(G&&q&&(ie.rangeCount!==1||ie.anchorNode!==G.node||ie.anchorOffset!==G.offset||ie.focusNode!==q.node||ie.focusOffset!==q.offset)){var K=de.createRange();K.setStart(G.node,G.offset),ie.removeAllRanges(),Ve>At?(ie.addRange(K),ie.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),ie.addRange(K))}}}}for(de=[],ie=A;ie=ie.parentNode;)ie.nodeType===1&&de.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<de.length;A++){var ce=de[A];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Dc=!!Sd,Ad=Sd=null}finally{vt=h,ne.p=l,B.T=s}}t.current=i,pn=2}}function cv(){if(pn===2){pn=0;var t=ha,i=ao,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=B.T,B.T=null;var l=ne.p;ne.p=2;var h=vt;vt|=4;try{zy(t,i.alternate,i)}finally{vt=h,ne.p=l,B.T=s}}pn=3}}function hv(){if(pn===4||pn===3){pn=0,Ds();var t=ha,i=ao,s=so,l=Zy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,ao=ha=null,fv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ca=null),Qi(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=ne.p,ne.p=2,B.T=null;try{for(var d=t.onRecoverableError,T=0;T<l.length;T++){var A=l[T];d(A.value,{componentStack:A.stack})}}finally{B.T=i,ne.p=h}}(so&3)!==0&&pc(),ti(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===ud?El++:(El=0,ud=t):El=0,Tl(0)}}function fv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function pc(t){return uv(),cv(),hv(),dv()}function dv(){if(pn!==5)return!1;var t=ha,i=od;od=0;var s=Qi(so),l=B.T,h=ne.p;try{ne.p=32>s?32:s,B.T=null,s=ld,ld=null;var d=ha,T=so;if(pn=0,ao=ha=null,so=0,(vt&6)!==0)throw Error(a(331));var A=vt;if(vt|=4,Xy(d.current),Yy(d,d.current,T,s),vt=A,Tl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{ne.p=h,B.T=l,fv(t,i)}}function mv(t,i,s){i=gr(s,i),i=zf(t.stateNode,i,2),t=ta(t,i,2),t!==null&&(Cr(t,2),ti(t))}function xt(t,i,s){if(t.tag===3)mv(t,t,s);else for(;i!==null;){if(i.tag===3){mv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ca===null||!ca.has(l))){t=gr(s,t),s=vy(2),l=ta(i,s,2),l!==null&&(_y(s,l,i,t),Cr(l,2),ti(l));break}}i=i.return}}function dd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new qS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(rd=!0,h.add(s),t=QS.bind(null,t,i,s),i.then(t,t))}function QS(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Rt===t&&(st&s)===s&&(Pt===4||Pt===3&&(st&62914560)===st&&300>Cn()-sd?(vt&2)===0&&oo(t,0):id|=s,io===st&&(io=0)),ti(t)}function gv(t,i){i===0&&(i=Ba()),t=qs(t,i),t!==null&&(Cr(t,i),ti(t))}function KS(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),gv(t,s)}function XS(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),gv(t,s)}function WS(t,i){return ir(t,i)}var yc=null,uo=null,md=!1,vc=!1,gd=!1,fs=0;function ti(t){t!==uo&&t.next===null&&(uo===null?yc=uo=t:uo=uo.next=t),vc=!0,md||(md=!0,JS())}function Tl(t,i){if(!gd&&vc){gd=!0;do for(var s=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var T=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-qt(42|t)+1)-1,d&=h&~(T&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,_v(l,d))}else d=st,d=mi(l,l===Rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||or(l,d)||(s=!0,_v(l,d));l=l.next}while(s);gd=!1}}function ZS(){pv()}function pv(){vc=md=!1;var t=0;fs!==0&&(o1()&&(t=fs),fs=0);for(var i=Cn(),s=null,l=yc;l!==null;){var h=l.next,d=yv(l,i);d===0?(l.next=null,s===null?yc=h:s.next=h,h===null&&(uo=s)):(s=l,(t!==0||(d&3)!==0)&&(vc=!0)),l=h}Tl(t)}function yv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var T=31-qt(d),A=1<<T,j=h[T];j===-1?((A&s)===0||(A&l)!==0)&&(h[T]=$i(A,i)):j<=i&&(t.expiredLanes|=A),d&=~A}if(i=Rt,s=st,s=mi(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||or(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Dn(l),Qi(s)){case 2:case 8:s=qi;break;case 32:s=di;break;case 268435456:s=ar;break;default:s=di}return l=vv.bind(null,t),s=ir(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Dn(l),t.callbackPriority=2,t.callbackNode=null,2}function vv(t,i){if(pn!==0&&pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(pc()&&t.callbackNode!==s)return null;var l=st;return l=mi(t,t===Rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ev(t,l,i),yv(t,Cn()),t.callbackNode!=null&&t.callbackNode===s?vv.bind(null,t):null)}function _v(t,i){if(pc())return null;ev(t,i,!0)}function JS(){u1(function(){(vt&6)!==0?ir(Ua,ZS):pv()})}function pd(){return fs===0&&(fs=gi()),fs}function Ev(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Is(""+t)}function Tv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function e1(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=Ev((h[ye]||null).action),T=l.submitter;T&&(i=(i=T[ye]||null)?Ev(i.formAction):T.getAttribute("formAction"),i!==null&&(d=i,T=null));var A=new Os("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fs!==0){var j=T?Tv(h,T):new FormData(h);kf(s,{pending:!0,data:j,method:h.method,action:d},null,j)}}else typeof d=="function"&&(A.preventDefault(),j=T?Tv(h,T):new FormData(h),kf(s,{pending:!0,data:j,method:h.method,action:d},d,j))},currentTarget:h}]})}}for(var yd=0;yd<ef.length;yd++){var vd=ef[yd],t1=vd.toLowerCase(),n1=vd[0].toUpperCase()+vd.slice(1);Ir(t1,"on"+n1)}Ir(ep,"onAnimationEnd"),Ir(tp,"onAnimationIteration"),Ir(np,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(_S,"onTransitionRun"),Ir(ES,"onTransitionStart"),Ir(TS,"onTransitionCancel"),Ir(rp,"onTransitionEnd"),In("onMouseEnter",["mouseout","mouseover"]),In("onMouseLeave",["mouseout","mouseover"]),In("onPointerEnter",["pointerout","pointerover"]),In("onPointerLeave",["pointerout","pointerover"]),Zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function bv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var T=l.length-1;0<=T;T--){var A=l[T],j=A.instance,J=A.currentTarget;if(A=A.listener,j!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=J;try{d(h)}catch(oe){ac(oe)}h.currentTarget=null,d=j}else for(T=0;T<l.length;T++){if(A=l[T],j=A.instance,J=A.currentTarget,A=A.listener,j!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=J;try{d(h)}catch(oe){ac(oe)}h.currentTarget=null,d=j}}}}function Je(t,i){var s=i[Oe];s===void 0&&(s=i[Oe]=new Set);var l=t+"__bubble";s.has(l)||(Sv(i,t,2,!1),s.add(l))}function _d(t,i,s){var l=0;i&&(l|=4),Sv(s,t,l,i)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[_c]){t[_c]=!0,Qe.forEach(function(s){s!=="selectionchange"&&(r1.has(s)||_d(s,!1,t),_d(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[_c]||(i[_c]=!0,_d("selectionchange",!1,i))}}function Sv(t,i,s,l){switch(Yv(i)){case 2:var h=N1;break;case 8:h=I1;break;default:h=Vd}s=h.bind(null,i,s,t),h=void 0,!dr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Td(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===h)break;if(T===4)for(T=l.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;A!==null;){if(T=Ue(A),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){l=d=T;continue e}A=A.parentNode}}l=l.return}Tu(function(){var J=d,oe=fr(s),de=[];e:{var re=ip.get(t);if(re!==void 0){var ie=Os,Be=t;switch(t){case"keypress":if($r(s)===0)break e;case"keydown":case"keyup":ie=Ls;break;case"focusin":Be="focus",ie=Ps;break;case"focusout":Be="blur",ie=Ps;break;case"beforeblur":case"afterblur":ie=Ps;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=$h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Cu;break;case ep:case tp:case np:ie=ks;break;case rp:ie=Iu;break;case"scroll":case"scrollend":ie=bu;break;case"wheel":ie=Us;break;case"copy":case"cut":case"paste":ie=js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=$o;break;case"toggle":case"beforetoggle":ie=Mu}var Ve=(i&4)!==0,At=!Ve&&(t==="scroll"||t==="scrollend"),G=Ve?re!==null?re+"Capture":null:re;Ve=[];for(var q=J,K;q!==null;){var ce=q;if(K=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||K===null||G===null||(ce=Ga(q,G),ce!=null&&Ve.push(Sl(q,ce,K))),At)break;q=q.return}0<Ve.length&&(re=new ie(re,Be,null,s,oe),de.push({event:re,listeners:Ve}))}}if((i&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",re&&s!==vi&&(Be=s.relatedTarget||s.fromElement)&&(Ue(Be)||Be[we]))break e;if((ie||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(Be=s.relatedTarget||s.toElement,ie=J,Be=Be?Ue(Be):null,Be!==null&&(At=u(Be),Ve=Be.tag,Be!==At||Ve!==5&&Ve!==27&&Ve!==6)&&(Be=null)):(ie=null,Be=J),ie!==Be)){if(Ve=mr,ce="onMouseLeave",G="onMouseEnter",q="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=$o,ce="onPointerLeave",G="onPointerEnter",q="pointer"),At=ie==null?re:gt(ie),K=Be==null?re:gt(Be),re=new Ve(ce,q+"leave",ie,s,oe),re.target=At,re.relatedTarget=K,ce=null,Ue(oe)===J&&(Ve=new Ve(G,q+"enter",Be,s,oe),Ve.target=K,Ve.relatedTarget=At,ce=Ve),At=ce,ie&&Be)t:{for(Ve=ie,G=Be,q=0,K=Ve;K;K=co(K))q++;for(K=0,ce=G;ce;ce=co(ce))K++;for(;0<q-K;)Ve=co(Ve),q--;for(;0<K-q;)G=co(G),K--;for(;q--;){if(Ve===G||G!==null&&Ve===G.alternate)break t;Ve=co(Ve),G=co(G)}Ve=null}else Ve=null;ie!==null&&Av(de,re,ie,Ve,!1),Be!==null&&At!==null&&Av(de,At,Be,Ve,!0)}}e:{if(re=J?gt(J):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var Re=qg;else if(en(re))if(Fg)Re=pS;else{Re=mS;var Ke=dS}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?J&&Uo(J.elementType)&&(Re=qg):Re=gS;if(Re&&(Re=Re(t,J))){Si(de,Re,s,oe);break e}Ke&&Ke(t,re,J),t==="focusout"&&J&&re.type==="number"&&J.memoizedProps.value!=null&&Xi(re,"number",re.value)}switch(Ke=J?gt(J):window,t){case"focusin":(en(Ke)||Ke.contentEditable==="true")&&(Bs=Ke,Wh=J,Ko=null);break;case"focusout":Ko=Wh=Bs=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Zg(de,s,oe);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":Zg(de,s,oe)}var Ne;if(Kr)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else it?ae(t,s)&&(je="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(_&&s.locale!=="ko"&&(it||je!=="onCompositionStart"?je==="onCompositionEnd"&&it&&(Ne=zo()):(Gr=oe,Wi="value"in Gr?Gr.value:Gr.textContent,it=!0)),Ke=Ec(J,je),0<Ke.length&&(je=new Fo(je,t,null,s,oe),de.push({event:je,listeners:Ke}),Ne?je.data=Ne:(Ne=_e(s),Ne!==null&&(je.data=Ne)))),(Ne=y?Jt(t,s):at(t,s))&&(je=Ec(J,"onBeforeInput"),0<je.length&&(Ke=new Fo("onBeforeInput","beforeinput",null,s,oe),de.push({event:Ke,listeners:je}),Ke.data=Ne)),e1(de,t,J,s,oe)}bv(de,i)})}function Sl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Ec(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ga(t,s),h!=null&&l.unshift(Sl(t,h,d)),h=Ga(t,i),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Av(t,i,s,l,h){for(var d=i._reactName,T=[];s!==null&&s!==l;){var A=s,j=A.alternate,J=A.stateNode;if(A=A.tag,j!==null&&j===l)break;A!==5&&A!==26&&A!==27||J===null||(j=J,h?(J=Ga(s,d),J!=null&&T.unshift(Sl(s,J,j))):h||(J=Ga(s,d),J!=null&&T.push(Sl(s,J,j)))),s=s.return}T.length!==0&&t.push({event:i,listeners:T})}var i1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function wv(t){return(typeof t=="string"?t:""+t).replace(i1,`
`).replace(a1,"")}function xv(t,i){return i=wv(i),wv(t)===i}function Tc(){}function St(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hr(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hr(t,""+l);break;case"className":On(t,"class",l);break;case"tabIndex":On(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":On(t,s,l);break;case"style":Lo(t,l,d);break;case"data":if(i!=="object"){On(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Is(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&St(t,i,"name",h.name,h,null),St(t,i,"formEncType",h.formEncType,h,null),St(t,i,"formMethod",h.formMethod,h,null),St(t,i,"formTarget",h.formTarget,h,null)):(St(t,i,"encType",h.encType,h,null),St(t,i,"method",h.method,h,null),St(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Is(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Is(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Je("beforetoggle",t),Je("toggle",t),bn(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":bn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Fh.get(s)||s,bn(t,s,l))}}function bd(t,i,s,l,h,d){switch(s){case"style":Lo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?hr(t,l):(typeof l=="number"||typeof l=="bigint")&&hr(t,""+l);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ur.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[ye]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):bn(t,s,l)}}}function yn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var T=s[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(t,i,d,T,s,null)}}h&&St(t,i,"srcSet",s.srcSet,s,null),l&&St(t,i,"src",s.src,s,null);return;case"input":Je("invalid",t);var A=d=T=h=null,j=null,J=null;for(l in s)if(s.hasOwnProperty(l)){var oe=s[l];if(oe!=null)switch(l){case"name":h=oe;break;case"type":T=oe;break;case"checked":j=oe;break;case"defaultChecked":J=oe;break;case"value":d=oe;break;case"defaultValue":A=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,i));break;default:St(t,i,l,oe,s,null)}}Ha(t,d,A,j,J,T,h,!1),Ns(t);return;case"select":Je("invalid",t),l=T=d=null;for(h in s)if(s.hasOwnProperty(h)&&(A=s[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:St(t,i,h,A,s,null)}i=d,s=T,t.multiple=!!l,i!=null?yi(t,!!l,i,!1):s!=null&&yi(t,!!l,s,!0);return;case"textarea":Je("invalid",t),d=h=l=null;for(T in s)if(s.hasOwnProperty(T)&&(A=s[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:St(t,i,T,A,s,null)}qa(t,l,h,d),Ns(t);return;case"option":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:St(t,i,j,l,s,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)Je(bl[l],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in s)if(s.hasOwnProperty(J)&&(l=s[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(t,i,J,l,s,null)}return;default:if(Uo(i)){for(oe in s)s.hasOwnProperty(oe)&&(l=s[oe],l!==void 0&&bd(t,i,oe,l,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(l=s[A],l!=null&&St(t,i,A,l,s,null))}function s1(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,T=null,A=null,j=null,J=null,oe=null;for(ie in s){var de=s[ie];if(s.hasOwnProperty(ie)&&de!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":j=de;default:l.hasOwnProperty(ie)||St(t,i,ie,null,l,de)}}for(var re in l){var ie=l[re];if(de=s[re],l.hasOwnProperty(re)&&(ie!=null||de!=null))switch(re){case"type":d=ie;break;case"name":h=ie;break;case"checked":J=ie;break;case"defaultChecked":oe=ie;break;case"value":T=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,i));break;default:ie!==de&&St(t,i,re,ie,l,de)}}Yn(t,T,A,j,J,oe,d,h);return;case"select":ie=T=A=re=null;for(d in s)if(j=s[d],s.hasOwnProperty(d)&&j!=null)switch(d){case"value":break;case"multiple":ie=j;default:l.hasOwnProperty(d)||St(t,i,d,null,l,j)}for(h in l)if(d=l[h],j=s[h],l.hasOwnProperty(h)&&(d!=null||j!=null))switch(h){case"value":re=d;break;case"defaultValue":A=d;break;case"multiple":T=d;default:d!==j&&St(t,i,h,d,l,j)}i=A,s=T,l=ie,re!=null?yi(t,!!s,re,!1):!!l!=!!s&&(i!=null?yi(t,!!s,i,!0):yi(t,!!s,s?[]:"",!1));return;case"textarea":ie=re=null;for(A in s)if(h=s[A],s.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:St(t,i,A,null,l,h)}for(T in l)if(h=l[T],d=s[T],l.hasOwnProperty(T)&&(h!=null||d!=null))switch(T){case"value":re=h;break;case"defaultValue":ie=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&St(t,i,T,h,l,d)}Tt(t,re,ie);return;case"option":for(var Be in s)if(re=s[Be],s.hasOwnProperty(Be)&&re!=null&&!l.hasOwnProperty(Be))switch(Be){case"selected":t.selected=!1;break;default:St(t,i,Be,null,l,re)}for(j in l)if(re=l[j],ie=s[j],l.hasOwnProperty(j)&&re!==ie&&(re!=null||ie!=null))switch(j){case"selected":t.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:St(t,i,j,re,l,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in s)re=s[Ve],s.hasOwnProperty(Ve)&&re!=null&&!l.hasOwnProperty(Ve)&&St(t,i,Ve,null,l,re);for(J in l)if(re=l[J],ie=s[J],l.hasOwnProperty(J)&&re!==ie&&(re!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,i));break;default:St(t,i,J,re,l,ie)}return;default:if(Uo(i)){for(var At in s)re=s[At],s.hasOwnProperty(At)&&re!==void 0&&!l.hasOwnProperty(At)&&bd(t,i,At,void 0,l,re);for(oe in l)re=l[oe],ie=s[oe],!l.hasOwnProperty(oe)||re===ie||re===void 0&&ie===void 0||bd(t,i,oe,re,l,ie);return}}for(var G in s)re=s[G],s.hasOwnProperty(G)&&re!=null&&!l.hasOwnProperty(G)&&St(t,i,G,null,l,re);for(de in l)re=l[de],ie=s[de],!l.hasOwnProperty(de)||re===ie||re==null&&ie==null||St(t,i,de,re,l,ie)}var Sd=null,Ad=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function Rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function wd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xd=null;function o1(){var t=window.event;return t&&t.type==="popstate"?t===xd?!1:(xd=t,!0):(xd=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(t){return Nv.resolve(null).then(t).catch(c1)}:Cv;function c1(t){setTimeout(function(){throw t})}function da(t){return t==="head"}function Iv(t,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var T=t.ownerDocument;if(s&1&&Al(T.documentElement),s&2&&Al(T.body),s&4)for(s=T.head,Al(s),T=s.firstChild;T;){var A=T.nextSibling,j=T.nodeName;T[ke]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=A}}if(h===0){t.removeChild(d),Ol(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Ol(i)}function Rd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rd(s),Me(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function h1(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ke])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Mr(t.nextSibling),t===null)break}return null}function f1(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Mr(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function d1(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Cd=null;function Ov(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function Mv(t,i,s){switch(i=bc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Me(t)}var Tr=new Map,Vv=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=ne.d;ne.d={f:m1,r:g1,D:p1,C:y1,L:v1,m:_1,X:T1,S:E1,M:b1};function m1(){var t=ki.f(),i=mc();return t||i}function g1(t){var i=We(t);i!==null&&i.tag===5&&i.type==="form"?ey(i):ki.r(t)}var ho=typeof document>"u"?null:document;function Pv(t,i,s){var l=ho;if(l&&typeof i=="string"&&i){var h=Gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Vv.has(h)||(Vv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),yn(i,"link",t),rt(i),l.head.appendChild(i)))}}function p1(t){ki.D(t),Pv("dns-prefetch",t,null)}function y1(t,i){ki.C(t,i),Pv("preconnect",t,i)}function v1(t,i,s){ki.L(t,i,s);var l=ho;if(l&&t&&i){var h='link[rel="preload"][as="'+Gt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Gt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Gt(s.imageSizes)+'"]')):h+='[href="'+Gt(t)+'"]';var d=h;switch(i){case"style":d=fo(t);break;case"script":d=mo(t)}Tr.has(d)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Tr.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(xl(d))||(i=l.createElement("link"),yn(i,"link",t),rt(i),l.head.appendChild(i)))}}function _1(t,i){ki.m(t,i);var s=ho;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(t)}if(!Tr.has(d)&&(t=v({rel:"modulepreload",href:t},i),Tr.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(xl(d)))return}l=s.createElement("link"),yn(l,"link",t),rt(l),s.head.appendChild(l)}}}function E1(t,i,s){ki.S(t,i,s);var l=ho;if(l&&t){var h=ct(l).hoistableStyles,d=fo(t);i=i||"default";var T=h.get(d);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(wl(d)))A.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Tr.get(d))&&Nd(t,s);var j=T=l.createElement("link");rt(j),yn(j,"link",t),j._p=new Promise(function(J,oe){j.onload=J,j.onerror=oe}),j.addEventListener("load",function(){A.loading|=1}),j.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ac(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:A},h.set(d,T)}}}function T1(t,i){ki.X(t,i);var s=ho;if(s&&t){var l=ct(s).hoistableScripts,h=mo(t),d=l.get(h);d||(d=s.querySelector(xl(h)),d||(t=v({src:t,async:!0},i),(i=Tr.get(h))&&Id(t,i),d=s.createElement("script"),rt(d),yn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function b1(t,i){ki.M(t,i);var s=ho;if(s&&t){var l=ct(s).hoistableScripts,h=mo(t),d=l.get(h);d||(d=s.querySelector(xl(h)),d||(t=v({src:t,async:!0,type:"module"},i),(i=Tr.get(h))&&Id(t,i),d=s.createElement("script"),rt(d),yn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function kv(t,i,s,l){var h=(h=Te.current)?Sc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=fo(s.href),s=ct(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=fo(s.href);var d=ct(h).hoistableStyles,T=d.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,T),(d=h.querySelector(wl(t)))&&!d._p&&(T.instance=d,T.state.loading=5),Tr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Tr.set(t,s),d||S1(h,t,s,T.state))),i&&l===null)throw Error(a(528,""));return T}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(s),s=ct(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function fo(t){return'href="'+Gt(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function jv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function S1(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),yn(i,"link",s),rt(i),t.head.appendChild(i))}function mo(t){return'[src="'+Gt(t)+'"]'}function xl(t){return"script[async]"+t}function Lv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Gt(s.href)+'"]');if(l)return i.instance=l,rt(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),rt(l),yn(l,"style",h),Ac(l,s.precedence,t),i.instance=l;case"stylesheet":h=fo(s.href);var d=t.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,rt(d),d;l=jv(s),(h=Tr.get(h))&&Nd(l,h),d=(t.ownerDocument||t).createElement("link"),rt(d);var T=d;return T._p=new Promise(function(A,j){T.onload=A,T.onerror=j}),yn(d,"link",l),i.state.loading|=4,Ac(d,s.precedence,t),i.instance=d;case"script":return d=mo(s.src),(h=t.querySelector(xl(d)))?(i.instance=h,rt(h),h):(l=s,(h=Tr.get(d))&&(l=v({},s),Id(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),rt(h),yn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ac(l,s.precedence,t));return i.instance}function Ac(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Nd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Id(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var wc=null;function Uv(t,i,s){if(wc===null){var l=new Map,h=wc=new Map;h.set(s,l)}else h=wc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[ke]||d[me]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(i)||"";T=t+T;var A=l.get(T);A?A.push(d):l.set(T,[d])}}return l}function Bv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function A1(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function w1(){}function x1(t,i,s){if(Rl===null)throw Error(a(475));var l=Rl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=fo(s.href),d=t.querySelector(wl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,rt(d);return}d=t.ownerDocument||t,s=jv(s),(h=Tr.get(h))&&Nd(s,h),d=d.createElement("link"),rt(d);var T=d;T._p=new Promise(function(A,j){T.onload=A,T.onerror=j}),yn(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=xc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function R1(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&Od(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Od(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function xc(){if(this.count--,this.count===0){if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Od(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,i.forEach(D1,t),Rc=null,xc.call(t))}function D1(t,i){if(!(i.state.loading&4)){var s=Rc.get(t);if(s)var l=s.get(null);else{s=new Map,Rc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var T=h[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),l=T)}l&&s.set(null,l)}h=i.instance,T=h.getAttribute("data-precedence"),d=s.get(T)||l,d===l&&s.set(null,h),s.set(T,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:X,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function C1(t,i,s,l,h,d,T,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Hv(t,i,s,l,h,d,T,A,j,J,oe,de){return t=new C1(t,i,s,T,A,j,J,de),i=1,d===!0&&(i|=24),d=Kn(3,null,null,i),t.current=d,d.stateNode=t,i=df(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},yf(d),t}function qv(t){return t?(t=Fs,t):Fs}function Fv(t,i,s,l,h,d){h=qv(h),l.context===null?l.context=h:l.pendingContext=h,l=ea(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ta(t,l,i),s!==null&&(er(s,t,i),il(s,t,i))}function Gv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Md(t,i){Gv(t,i),(t=t.alternate)&&Gv(t,i)}function $v(t){if(t.tag===13){var i=qs(t,67108864);i!==null&&er(i,t,67108864),Md(t,67108864)}}var Dc=!0;function N1(t,i,s,l){var h=B.T;B.T=null;var d=ne.p;try{ne.p=2,Vd(t,i,s,l)}finally{ne.p=d,B.T=h}}function I1(t,i,s,l){var h=B.T;B.T=null;var d=ne.p;try{ne.p=8,Vd(t,i,s,l)}finally{ne.p=d,B.T=h}}function Vd(t,i,s,l){if(Dc){var h=Pd(l);if(h===null)Td(t,i,l,Cc,s),Qv(t,l);else if(M1(h,t,i,s,l))l.stopPropagation();else if(Qv(t,l),i&4&&-1<O1.indexOf(t)){for(;h!==null;){var d=We(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Fn(d.pendingLanes);if(T!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var j=1<<31-qt(T);A.entanglements[1]|=j,T&=~j}ti(d),(vt&6)===0&&(fc=Cn()+500,Tl(0))}}break;case 13:A=qs(d,2),A!==null&&er(A,d,2),mc(),Md(d,2)}if(d=Pd(l),d===null&&Td(t,i,l,Cc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Td(t,i,l,null,s)}}function Pd(t){return t=fr(t),kd(t)}var Cc=null;function kd(t){if(Cc=null,t=Ue(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Cc=t,null}function Yv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Po()){case Ua:return 2;case qi:return 8;case di:case Dr:return 32;case ar:return 268435456;default:return 32}default:return 32}}var jd=!1,ma=null,ga=null,pa=null,Cl=new Map,Nl=new Map,ya=[],O1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qv(t,i){switch(t){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Il(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=We(i),i!==null&&$v(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function M1(t,i,s,l,h){switch(i){case"focusin":return ma=Il(ma,t,i,s,l,h),!0;case"dragenter":return ga=Il(ga,t,i,s,l,h),!0;case"mouseover":return pa=Il(pa,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Il(Cl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Il(Nl.get(d)||null,t,i,s,l,h)),!0}return!1}function Kv(t){var i=Ue(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,Y(t.priority,function(){if(s.tag===13){var l=Jn();l=zr(l);var h=qs(s,l);h!==null&&er(h,s,l),Md(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Pd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);vi=l,s.target.dispatchEvent(l),vi=null}else return i=We(s),i!==null&&$v(i),t.blockedOn=s,!1;i.shift()}return!0}function Xv(t,i,s){Nc(t)&&s.delete(i)}function V1(){jd=!1,ma!==null&&Nc(ma)&&(ma=null),ga!==null&&Nc(ga)&&(ga=null),pa!==null&&Nc(pa)&&(pa=null),Cl.forEach(Xv),Nl.forEach(Xv)}function Ic(t,i){t.blockedOn===i&&(t.blockedOn=null,jd||(jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,V1)))}var Oc=null;function Wv(t){Oc!==t&&(Oc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(kd(l||s)===null)continue;break}var d=We(s);d!==null&&(t.splice(i,3),i-=3,kf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ol(t){function i(j){return Ic(j,t)}ma!==null&&Ic(ma,t),ga!==null&&Ic(ga,t),pa!==null&&Ic(pa,t),Cl.forEach(i),Nl.forEach(i);for(var s=0;s<ya.length;s++){var l=ya[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ya.length&&(s=ya[0],s.blockedOn===null);)Kv(s),s.blockedOn===null&&ya.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],T=h[ye]||null;if(typeof d=="function")T||Wv(s);else if(T){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,T=d[ye]||null)A=T.formAction;else if(kd(h)!==null)continue}else A=T.action;typeof A=="function"?s[l+1]=A:(s.splice(l,3),l-=3),Wv(s)}}}function Ld(t){this._internalRoot=t}Mc.prototype.render=Ld.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Jn();Fv(s,l,t,i,null,null)},Mc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Fv(t.current,2,null,t,null,null),mc(),i[we]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var i=H();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ya.length&&i!==0&&i<ya[s].priority;s++);ya.splice(s,0,t),s===0&&Kv(t)}};var Zv=e.version;if(Zv!=="19.1.0")throw Error(a(527,Zv,"19.1.0"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var P1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{ft=Vc.inject(P1),Ge=Vc}catch{}}return Vl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=my,d=gy,T=py,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=Hv(t,1,!1,null,null,s,l,h,d,T,A,null),t[we]=i.current,Ed(t),new Ld(i)},Vl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=my,T=gy,A=py,j=null,J=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(j=s.unstable_transitionCallbacks),s.formState!==void 0&&(J=s.formState)),i=Hv(t,1,!0,i,s??null,l,h,d,T,A,j,J),i.context=qv(null),s=i.current,l=Jn(),l=zr(l),h=ea(l),h.callback=null,ta(s,h,l),s=l,i.current.lanes=s,Cr(i,s),ti(i),t[we]=i.current,Ed(t),new Mc(i)},Vl.version="19.1.0",Vl}var l_;function F1(){if(l_)return zd.exports;l_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zd.exports=q1(),zd.exports}var G1=F1(),Pl={},u_;function $1(){if(u_)return Pl;u_=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parse=f,Pl.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,D){const M=new u,k=b.length;if(k<2)return M;const z=D?.decode||v;let L=0;do{const Z=b.indexOf("=",L);if(Z===-1)break;const X=b.indexOf(";",L),le=X===-1?k:X;if(Z>le){L=b.lastIndexOf(";",Z-1)+1;continue}const he=m(b,L,Z),U=g(b,Z,he),I=b.slice(he,U);if(M[I]===void 0){let x=m(b,Z+1,le),N=g(b,le,x);const C=z(b.slice(x,N));M[I]=C}L=le+1}while(L<k);return M}function m(b,D,M){do{const k=b.charCodeAt(D);if(k!==32&&k!==9)return D}while(++D<M);return M}function g(b,D,M){for(;D>M;){const k=b.charCodeAt(--D);if(k!==32&&k!==9)return D+1}return M}function p(b,D,M){const k=M?.encode||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const z=k(D);if(!e.test(z))throw new TypeError(`argument val is invalid: ${D}`);let L=b+"="+z;if(!M)return L;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);L+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);L+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);L+="; Path="+M.path}if(M.expires){if(!S(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);L+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(L+="; HttpOnly"),M.secure&&(L+="; Secure"),M.partitioned&&(L+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return L}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function S(b){return o.call(b)==="[object Date]"}return Pl}$1();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hE=r=>{throw TypeError(r)},Y1=(r,e,n)=>e.has(r)||hE("Cannot "+n),Gd=(r,e,n)=>(Y1(r,e,"read from private field"),n?n.call(r):e.get(r)),Q1=(r,e,n)=>e.has(r)?hE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),c_="popstate";function K1(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:g=""}=zi(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Jl("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:Da(u))}function a(o,u){Ht(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return W1(e,n,a,r)}function et(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ht(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X1(){return Math.random().toString(36).substring(2,10)}function h_(r,e){return{usr:r.state,key:r.key,idx:e}}function Jl(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?zi(e):e,state:n,key:e&&e.key||a||X1()}}function Da({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function zi(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function W1(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function S(){m="POP";let z=v(),L=z==null?null:z-p;p=z,g&&g({action:m,location:k.location,delta:L})}function b(z,L){m="PUSH";let Z=Jl(k.location,z,L);n&&n(Z,z),p=v()+1;let X=h_(Z,p),le=k.createHref(Z);try{f.pushState(X,"",le)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(le)}u&&g&&g({action:m,location:k.location,delta:1})}function D(z,L){m="REPLACE";let Z=Jl(k.location,z,L);n&&n(Z,z),p=v();let X=h_(Z,p),le=k.createHref(Z);f.replaceState(X,"",le),u&&g&&g({action:m,location:k.location,delta:0})}function M(z){return fE(z)}let k={get action(){return m},get location(){return r(o,f)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(c_,S),g=z,()=>{o.removeEventListener(c_,S),g=null}},createHref(z){return e(o,z)},createURL:M,encodeLocation(z){let L=M(z);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:D,go(z){return f.go(z)}};return k}function fE(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),et(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Da(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var Bl,f_=class{constructor(r){if(Q1(this,Bl,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(Gd(this,Bl).has(r))return Gd(this,Bl).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Gd(this,Bl).set(r,e)}};Bl=new WeakMap;var Z1=new Set(["lazy","caseSensitive","path","id","index","children"]);function J1(r){return Z1.has(r)}var eA=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function tA(r){return eA.has(r)}function nA(r){return r.index===!0}function nh(r,e,n=[],a={}){return r.map((o,u)=>{let f=[...n,String(u)],m=typeof o.id=="string"?o.id:f.join("-");if(et(o.index!==!0||!o.children,"Cannot specify children on an index route"),et(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),nA(o)){let g={...o,...e(o),id:m};return a[m]=g,g}else{let g={...o,...e(o),id:m,children:void 0};return a[m]=g,o.children&&(g.children=nh(o.children,e,f,a)),g}})}function Ea(r,e,n="/"){return $c(r,e,n,!1)}function $c(r,e,n,a){let o=typeof e=="string"?zi(e):e,u=Rr(o.pathname||"/",n);if(u==null)return null;let f=dE(r);iA(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=gA(u);m=dA(f[g],p,a)}return m}function rA(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function dE(r,e=[],n=[],a=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(et(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let p=ii([a,g.relativePath]),v=n.concat(g);u.children&&u.children.length>0&&(et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),dE(u.children,e,v,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:hA(p,u.index),routesMeta:v})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of mE(u.path))o(u,f,m)}),e}function mE(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=mE(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function iA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:fA(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var aA=/^:[\w-]+$/,sA=3,oA=2,lA=1,uA=10,cA=-2,d_=r=>r==="*";function hA(r,e){let n=r.split("/"),a=n.length;return n.some(d_)&&(a+=cA),e&&(a+=oA),n.filter(o=>!d_(o)).reduce((o,u)=>o+(aA.test(u)?sA:u===""?lA:uA),a)}function fA(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function dA(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),b=g.route;if(!S&&p&&n&&!a[a.length-1].route.index&&(S=rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ii([u,S.pathname]),pathnameBase:vA(ii([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=ii([u,S.pathnameBase]))}return f}function rh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=mA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:S},b)=>{if(v==="*"){let M=m[b]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const D=m[b];return S&&!D?p[v]=void 0:p[v]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function mA(r,e=!1,n=!0){Ht(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function gA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ht(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Rr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function pA(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?zi(r):r;return{pathname:n?n.startsWith("/")?n:yA(n,e):e,search:_A(a),hash:EA(o)}}function yA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $d(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gE(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bm(r){let e=gE(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function zm(r,e,n,a=!1){let o;typeof r=="string"?o=zi(r):(o={...r},et(!o.pathname||!o.pathname.includes("?"),$d("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),$d("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),$d("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let g=pA(o,m),p=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var ii=r=>r.join("/").replace(/\/\/+/g,"/"),vA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_A=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,EA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,ih=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function eu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var pE=["POST","PUT","PATCH","DELETE"],TA=new Set(pE),bA=["GET",...pE],SA=new Set(bA),AA=new Set([301,302,303,307,308]),wA=new Set([307,308]),Yd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Hm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RA=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),yE="remix-router-transitions",vE=Symbol("ResetLoaderData");function DA(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";et(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||RA,u={},f=nh(r.routes,o,void 0,u),m,g=r.basename||"/",p=r.dataStrategy||MA,v={unstable_middleware:!1,...r.future},S=null,b=new Set,D=null,M=null,k=null,z=r.hydrationData!=null,L=Ea(f,r.history.location,g),Z=!1,X=null,le;if(L==null&&!r.patchRoutesOnNavigation){let H=Sr(404,{pathname:r.history.location.pathname}),{matches:Y,route:W}=w_(f);le=!0,L=Y,X={[W.id]:H}}else if(L&&!r.hydrationData&&Nn(L,f,r.history.location.pathname).active&&(L=null),L)if(L.some(H=>H.route.lazy))le=!1;else if(!L.some(H=>H.route.loader))le=!0;else{let H=r.hydrationData?r.hydrationData.loaderData:null,Y=r.hydrationData?r.hydrationData.errors:null;if(Y){let W=L.findIndex(me=>Y[me.route.id]!==void 0);le=L.slice(0,W+1).every(me=>!cm(me.route,H,Y))}else le=L.every(W=>!cm(W.route,H,Y))}else{le=!1,L=[];let H=Nn(null,f,r.history.location.pathname);H.active&&H.matches&&(Z=!0,L=H.matches)}let he,U={historyAction:r.history.action,location:r.history.location,matches:L,initialized:le,navigation:Yd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||X,fetchers:new Map,blockers:new Map},I="POP",x=!1,N,C=!1,P=new Map,O=null,w=!1,ee=!1,ve=new Set,B=new Map,ne=0,te=-1,Ee=new Map,V=new Set,$=new Map,pe=new Map,se=new Set,ue=new Map,be,Te=null;function nt(){if(S=r.history.listen(({action:H,location:Y,delta:W})=>{if(be){be(),be=void 0;return}Ht(ue.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=$i({currentLocation:U.location,nextLocation:Y,historyAction:H});if(me&&W!=null){let ye=new Promise(we=>{be=we});r.history.go(W*-1),or(me,{state:"blocked",location:Y,proceed(){or(me,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ye.then(()=>r.history.go(W))},reset(){let we=new Map(U.blockers);we.set(me,kl),mt({blockers:we})}});return}return Dn(H,Y)}),n){FA(e,P);let H=()=>GA(e,P);e.addEventListener("pagehide",H),O=()=>e.removeEventListener("pagehide",H)}return U.initialized||Dn("POP",U.location,{initialHydration:!0}),he}function Pe(){S&&S(),O&&O(),b.clear(),N&&N.abort(),U.fetchers.forEach((H,Y)=>qt(Y)),U.blockers.forEach((H,Y)=>mi(Y))}function Et(H){return b.add(H),()=>b.delete(H)}function mt(H,Y={}){U={...U,...H};let W=[],me=[];U.fetchers.forEach((ye,we)=>{ye.state==="idle"&&(se.has(we)?W.push(we):me.push(we))}),se.forEach(ye=>{!U.fetchers.has(ye)&&!B.has(ye)&&W.push(ye)}),[...b].forEach(ye=>ye(U,{deletedFetchers:W,viewTransitionOpts:Y.viewTransitionOpts,flushSync:Y.flushSync===!0})),W.forEach(ye=>qt(ye)),me.forEach(ye=>U.fetchers.delete(ye))}function an(H,Y,{flushSync:W}={}){let me=U.actionData!=null&&U.navigation.formMethod!=null&&nr(U.navigation.formMethod)&&U.navigation.state==="loading"&&H.state?._isRedirect!==!0,ye;Y.actionData?Object.keys(Y.actionData).length>0?ye=Y.actionData:ye=null:me?ye=U.actionData:ye=null;let we=Y.loaderData?S_(U.loaderData,Y.loaderData,Y.matches||[],Y.errors):U.loaderData,Oe=U.blockers;Oe.size>0&&(Oe=new Map(Oe),Oe.forEach((De,ke)=>Oe.set(ke,kl)));let xe=x===!0||U.navigation.formMethod!=null&&nr(U.navigation.formMethod)&&H.state?._isRedirect!==!0;m&&(f=m,m=void 0),w||I==="POP"||(I==="PUSH"?r.history.push(H,H.state):I==="REPLACE"&&r.history.replace(H,H.state));let Ce;if(I==="POP"){let De=P.get(U.location.pathname);De&&De.has(H.pathname)?Ce={currentLocation:U.location,nextLocation:H}:P.has(H.pathname)&&(Ce={currentLocation:H,nextLocation:U.location})}else if(C){let De=P.get(U.location.pathname);De?De.add(H.pathname):(De=new Set([H.pathname]),P.set(U.location.pathname,De)),Ce={currentLocation:U.location,nextLocation:H}}mt({...Y,actionData:ye,loaderData:we,historyAction:I,location:H,initialized:!0,navigation:Yd,revalidation:"idle",restoreScrollPosition:Yi(H,Y.matches||U.matches),preventScrollReset:xe,blockers:Oe},{viewTransitionOpts:Ce,flushSync:W===!0}),I="POP",x=!1,C=!1,w=!1,ee=!1,Te?.resolve(),Te=null}async function kn(H,Y){if(typeof H=="number"){r.history.go(H);return}let W=um(U.location,U.matches,g,H,Y?.fromRouteId,Y?.relative),{path:me,submission:ye,error:we}=m_(!1,W,Y),Oe=U.location,xe=Jl(U.location,me,Y&&Y.state);xe={...xe,...r.history.encodeLocation(xe)};let Ce=Y&&Y.replace!=null?Y.replace:void 0,De="PUSH";Ce===!0?De="REPLACE":Ce===!1||ye!=null&&nr(ye.formMethod)&&ye.formAction===U.location.pathname+U.location.search&&(De="REPLACE");let ke=Y&&"preventScrollReset"in Y?Y.preventScrollReset===!0:void 0,Me=(Y&&Y.flushSync)===!0,Ue=$i({currentLocation:Oe,nextLocation:xe,historyAction:De});if(Ue){or(Ue,{state:"blocked",location:xe,proceed(){or(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),kn(H,Y)},reset(){let We=new Map(U.blockers);We.set(Ue,kl),mt({blockers:We})}});return}await Dn(De,xe,{submission:ye,pendingError:we,preventScrollReset:ke,replace:Y&&Y.replace,enableViewTransition:Y&&Y.viewTransition,flushSync:Me})}function ir(){Te||(Te=$A()),Gi(),mt({revalidation:"loading"});let H=Te.promise;return U.navigation.state==="submitting"?H:U.navigation.state==="idle"?(Dn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),H):(Dn(I||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:C===!0}),H)}async function Dn(H,Y,W){N&&N.abort(),N=null,I=H,w=(W&&W.startUninterruptedRevalidation)===!0,Cr(U.location,U.matches),x=(W&&W.preventScrollReset)===!0,C=(W&&W.enableViewTransition)===!0;let me=m||f,ye=W&&W.overrideNavigation,we=W?.initialHydration&&U.matches&&U.matches.length>0&&!Z?U.matches:Ea(me,Y,g),Oe=(W&&W.flushSync)===!0;if(we&&U.initialized&&!ee&&UA(U.location,Y)&&!(W&&W.submission&&nr(W.submission.formMethod))){an(Y,{matches:we},{flushSync:Oe});return}let xe=Nn(we,me,Y.pathname);if(xe.active&&xe.matches&&(we=xe.matches),!we){let{error:ct,notFoundMatches:rt,route:Qe}=gi(Y.pathname);an(Y,{matches:rt,loaderData:{},errors:{[Qe.id]:ct}},{flushSync:Oe});return}N=new AbortController;let Ce=po(r.history,Y,N.signal,W&&W.submission),De=new f_(r.unstable_getContext?await r.unstable_getContext():void 0),ke;if(W&&W.pendingError)ke=[ms(we).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&nr(W.submission.formMethod)){let ct=await La(Ce,Y,W.submission,we,De,xe.active,W&&W.initialHydration===!0,{replace:W.replace,flushSync:Oe});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[rt,Qe]=ct.pendingActionResult;if(tr(Qe)&&eu(Qe.error)&&Qe.error.status===404){N=null,an(Y,{matches:ct.matches,loaderData:{},errors:{[rt]:Qe.error}});return}}we=ct.matches||we,ke=ct.pendingActionResult,ye=Qd(Y,W.submission),Oe=!1,xe.active=!1,Ce=po(r.history,Ce.url,Ce.signal)}let{shortCircuited:Me,matches:Ue,loaderData:We,errors:gt}=await Ds(Ce,Y,we,De,xe.active,ye,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Oe,ke);Me||(N=null,an(Y,{matches:Ue||we,...A_(ke),loaderData:We,errors:gt}))}async function La(H,Y,W,me,ye,we,Oe,xe={}){Gi();let Ce=HA(Y,W);if(mt({navigation:Ce},{flushSync:xe.flushSync===!0}),we){let Me=await Br(me,Y.pathname,H.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){let Ue=ms(Me.partialMatches).route.id;return{matches:Me.partialMatches,pendingActionResult:[Ue,{type:"error",error:Me.error}]}}else if(Me.matches)me=Me.matches;else{let{notFoundMatches:Ue,error:We,route:gt}=gi(Y.pathname);return{matches:Ue,pendingActionResult:[gt.id,{type:"error",error:We}]}}}let De,ke=zl(me,Y);if(!ke.route.action&&!ke.route.lazy)De={type:"error",error:Sr(405,{method:H.method,pathname:Y.pathname,routeId:ke.route.id})};else{let Me=To(o,u,H,me,ke,Oe?[]:a,ye),Ue=await ar(H,Me,ye,null);if(De=Ue[ke.route.id],!De){for(let We of me)if(Ue[We.route.id]){De=Ue[We.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(gs(De)){let Me;return xe&&xe.replace!=null?Me=xe.replace:Me=E_(De.response.headers.get("Location"),new URL(H.url),g)===U.location.pathname+U.location.search,await Dr(H,De,!0,{submission:W,replace:Me}),{shortCircuited:!0}}if(tr(De)){let Me=ms(me,ke.route.id);return(xe&&xe.replace)!==!0&&(I="PUSH"),{matches:me,pendingActionResult:[Me.route.id,De,ke.route.id]}}return{matches:me,pendingActionResult:[ke.route.id,De]}}async function Ds(H,Y,W,me,ye,we,Oe,xe,Ce,De,ke,Me){let Ue=we||Qd(Y,Oe),We=Oe||xe||R_(Ue),gt=!w&&!De;if(ye){if(gt){let Ft=Cn(Me);mt({navigation:Ue,...Ft!==void 0?{actionData:Ft}:{}},{flushSync:ke})}let ze=await Br(W,Y.pathname,H.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Ft=ms(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Ft]:ze.error}}}else if(ze.matches)W=ze.matches;else{let{error:Ft,notFoundMatches:$n,route:jn}=gi(Y.pathname);return{matches:$n,loaderData:{},errors:{[jn.id]:Ft}}}}let ct=m||f,{dsMatches:rt,revalidatingFetchers:Qe}=g_(H,me,o,u,r.history,U,W,We,Y,De?[]:a,De===!0,ee,ve,se,$,V,ct,g,r.patchRoutesOnNavigation!=null,Me);if(te=++ne,!r.dataStrategy&&!rt.some(ze=>ze.shouldLoad)&&Qe.length===0){let ze=Lr();return an(Y,{matches:W,loaderData:{},errors:Me&&tr(Me[1])?{[Me[0]]:Me[1].error}:null,...A_(Me),...ze?{fetchers:new Map(U.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(gt){let ze={};if(!ye){ze.navigation=Ue;let Ft=Cn(Me);Ft!==void 0&&(ze.actionData=Ft)}Qe.length>0&&(ze.fetchers=Po(Qe)),mt(ze,{flushSync:ke})}Qe.forEach(ze=>{sr(ze.key),ze.controller&&B.set(ze.key,ze.controller)});let ur=()=>Qe.forEach(ze=>sr(ze.key));N&&N.signal.addEventListener("abort",ur);let{loaderResults:Zt,fetcherResults:In}=await Fi(rt,Qe,H,me);if(H.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",ur),Qe.forEach(ze=>B.delete(ze.key));let fn=Pc(Zt);if(fn)return await Dr(H,fn.result,!0,{replace:Ce}),{shortCircuited:!0};if(fn=Pc(In),fn)return V.add(fn.key),await Dr(H,fn.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Hr,errors:Gn}=b_(U,W,Zt,Me,Qe,In);De&&U.errors&&(Gn={...U.errors,...Gn});let Ki=Lr(),bn=Ur(te),On=Ki||bn||Qe.length>0;return{matches:W,loaderData:Hr,errors:Gn,...On?{fetchers:new Map(U.fetchers)}:{}}}function Cn(H){if(H&&!tr(H[1]))return{[H[0]]:H[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Po(H){return H.forEach(Y=>{let W=U.fetchers.get(Y.key),me=jl(void 0,W?W.data:void 0);U.fetchers.set(Y.key,me)}),new Map(U.fetchers)}async function Ua(H,Y,W,me){sr(H);let ye=(me&&me.flushSync)===!0,we=m||f,Oe=um(U.location,U.matches,g,W,Y,me?.relative),xe=Ea(we,Oe,g),Ce=Nn(xe,we,Oe);if(Ce.active&&Ce.matches&&(xe=Ce.matches),!xe){Ge(H,Y,Sr(404,{pathname:Oe}),{flushSync:ye});return}let{path:De,submission:ke,error:Me}=m_(!0,Oe,me);if(Me){Ge(H,Y,Me,{flushSync:ye});return}let Ue=zl(xe,De),We=new f_(r.unstable_getContext?await r.unstable_getContext():void 0),gt=(me&&me.preventScrollReset)===!0;if(ke&&nr(ke.formMethod)){await qi(H,Y,De,Ue,xe,We,Ce.active,ye,gt,ke);return}$.set(H,{routeId:Y,path:De}),await di(H,Y,De,Ue,xe,We,Ce.active,ye,gt,ke)}async function qi(H,Y,W,me,ye,we,Oe,xe,Ce,De){Gi(),$.delete(H);function ke(wt){if(!wt.route.action&&!wt.route.lazy){let cr=Sr(405,{method:De.formMethod,pathname:W,routeId:Y});return Ge(H,Y,cr,{flushSync:xe}),!0}return!1}if(!Oe&&ke(me))return;let Me=U.fetchers.get(H);ft(H,qA(De,Me),{flushSync:xe});let Ue=new AbortController,We=po(r.history,W,Ue.signal,De);if(Oe){let wt=await Br(ye,W,We.signal,H);if(wt.type==="aborted")return;if(wt.type==="error"){Ge(H,Y,wt.error,{flushSync:xe});return}else if(wt.matches){if(ye=wt.matches,me=zl(ye,W),ke(me))return}else{Ge(H,Y,Sr(404,{pathname:W}),{flushSync:xe});return}}B.set(H,Ue);let gt=ne,ct=To(o,u,We,ye,me,a,we),Qe=(await ar(We,ct,we,H))[me.route.id];if(We.signal.aborted){B.get(H)===Ue&&B.delete(H);return}if(se.has(H)){if(gs(Qe)||tr(Qe)){ft(H,_a(void 0));return}}else{if(gs(Qe))if(B.delete(H),te>gt){ft(H,_a(void 0));return}else return V.add(H),ft(H,jl(De)),Dr(We,Qe,!1,{fetcherSubmission:De,preventScrollReset:Ce});if(tr(Qe)){Ge(H,Y,Qe.error);return}}let ur=U.navigation.location||U.location,Zt=po(r.history,ur,Ue.signal),In=m||f,fn=U.navigation.state!=="idle"?Ea(In,U.navigation.location,g):U.matches;et(fn,"Didn't find any matches after fetcher action");let Hr=++ne;Ee.set(H,Hr);let Gn=jl(De,Qe.data);U.fetchers.set(H,Gn);let{dsMatches:Ki,revalidatingFetchers:bn}=g_(Zt,we,o,u,r.history,U,fn,De,ur,a,!1,ee,ve,se,$,V,In,g,r.patchRoutesOnNavigation!=null,[me.route.id,Qe]);bn.filter(wt=>wt.key!==H).forEach(wt=>{let cr=wt.key,pi=U.fetchers.get(cr),dn=jl(void 0,pi?pi.data:void 0);U.fetchers.set(cr,dn),sr(cr),wt.controller&&B.set(cr,wt.controller)}),mt({fetchers:new Map(U.fetchers)});let On=()=>bn.forEach(wt=>sr(wt.key));Ue.signal.addEventListener("abort",On);let{loaderResults:ze,fetcherResults:Ft}=await Fi(Ki,bn,Zt,we);if(Ue.signal.aborted)return;if(Ue.signal.removeEventListener("abort",On),Ee.delete(H),B.delete(H),bn.forEach(wt=>B.delete(wt.key)),U.fetchers.has(H)){let wt=_a(Qe.data);U.fetchers.set(H,wt)}let $n=Pc(ze);if($n)return Dr(Zt,$n.result,!1,{preventScrollReset:Ce});if($n=Pc(Ft),$n)return V.add($n.key),Dr(Zt,$n.result,!1,{preventScrollReset:Ce});let{loaderData:jn,errors:qr}=b_(U,fn,ze,void 0,bn,Ft);Ur(Hr),U.navigation.state==="loading"&&Hr>te?(et(I,"Expected pending action"),N&&N.abort(),an(U.navigation.location,{matches:fn,loaderData:jn,errors:qr,fetchers:new Map(U.fetchers)})):(mt({errors:qr,loaderData:S_(U.loaderData,jn,fn,qr),fetchers:new Map(U.fetchers)}),ee=!1)}async function di(H,Y,W,me,ye,we,Oe,xe,Ce,De){let ke=U.fetchers.get(H);ft(H,jl(De,ke?ke.data:void 0),{flushSync:xe});let Me=new AbortController,Ue=po(r.history,W,Me.signal);if(Oe){let Qe=await Br(ye,W,Ue.signal,H);if(Qe.type==="aborted")return;if(Qe.type==="error"){Ge(H,Y,Qe.error,{flushSync:xe});return}else if(Qe.matches)ye=Qe.matches,me=zl(ye,W);else{Ge(H,Y,Sr(404,{pathname:W}),{flushSync:xe});return}}B.set(H,Me);let We=ne,gt=To(o,u,Ue,ye,me,a,we),rt=(await ar(Ue,gt,we,H))[me.route.id];if(B.get(H)===Me&&B.delete(H),!Ue.signal.aborted){if(se.has(H)){ft(H,_a(void 0));return}if(gs(rt))if(te>We){ft(H,_a(void 0));return}else{V.add(H),await Dr(Ue,rt,!1,{preventScrollReset:Ce});return}if(tr(rt)){Ge(H,Y,rt.error);return}ft(H,_a(rt.data))}}async function Dr(H,Y,W,{submission:me,fetcherSubmission:ye,preventScrollReset:we,replace:Oe}={}){Y.response.headers.has("X-Remix-Revalidate")&&(ee=!0);let xe=Y.response.headers.get("Location");et(xe,"Expected a Location header on the redirect Response"),xe=E_(xe,new URL(H.url),g);let Ce=Jl(U.location,xe,{_isRedirect:!0});if(n){let gt=!1;if(Y.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(Hm.test(xe)){const ct=fE(xe,!0);gt=ct.origin!==e.location.origin||Rr(ct.pathname,g)==null}if(gt){Oe?e.location.replace(xe):e.location.assign(xe);return}}N=null;let De=Oe===!0||Y.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Me,formEncType:Ue}=U.navigation;!me&&!ye&&ke&&Me&&Ue&&(me=R_(U.navigation));let We=me||ye;if(wA.has(Y.response.status)&&We&&nr(We.formMethod))await Dn(De,Ce,{submission:{...We,formAction:xe},preventScrollReset:we||x,enableViewTransition:W?C:void 0});else{let gt=Qd(Ce,me);await Dn(De,Ce,{overrideNavigation:gt,fetcherSubmission:ye,preventScrollReset:we||x,enableViewTransition:W?C:void 0})}}async function ar(H,Y,W,me){let ye,we={};try{ye=await VA(p,H,Y,me,W,!1)}catch(Oe){return Y.filter(xe=>xe.shouldLoad).forEach(xe=>{we[xe.route.id]={type:"error",error:Oe}}),we}if(H.signal.aborted)return we;for(let[Oe,xe]of Object.entries(ye))if(BA(xe)){let Ce=xe.result;we[Oe]={type:"redirect",response:jA(Ce,H,Oe,Y,g)}}else we[Oe]=await kA(xe);return we}async function Fi(H,Y,W,me){let ye=ar(W,H,me,null),we=Promise.all(Y.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let ke=(await ar(Ce.request,Ce.matches,me,Ce.key))[Ce.match.route.id];return{[Ce.key]:ke}}else return Promise.resolve({[Ce.key]:{type:"error",error:Sr(404,{pathname:Ce.path})}})})),Oe=await ye,xe=(await we).reduce((Ce,De)=>Object.assign(Ce,De),{});return{loaderResults:Oe,fetcherResults:xe}}function Gi(){ee=!0,$.forEach((H,Y)=>{B.has(Y)&&ve.add(Y),sr(Y)})}function ft(H,Y,W={}){U.fetchers.set(H,Y),mt({fetchers:new Map(U.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function Ge(H,Y,W,me={}){let ye=ms(U.matches,Y);qt(H),mt({errors:{[ye.route.id]:W},fetchers:new Map(U.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function Tn(H){return pe.set(H,(pe.get(H)||0)+1),se.has(H)&&se.delete(H),U.fetchers.get(H)||xA}function qt(H){let Y=U.fetchers.get(H);B.has(H)&&!(Y&&Y.state==="loading"&&Ee.has(H))&&sr(H),$.delete(H),Ee.delete(H),V.delete(H),se.delete(H),ve.delete(H),U.fetchers.delete(H)}function Cs(H){let Y=(pe.get(H)||0)-1;Y<=0?(pe.delete(H),se.add(H)):pe.set(H,Y),mt({fetchers:new Map(U.fetchers)})}function sr(H){let Y=B.get(H);Y&&(Y.abort(),B.delete(H))}function jr(H){for(let Y of H){let W=Tn(Y),me=_a(W.data);U.fetchers.set(Y,me)}}function Lr(){let H=[],Y=!1;for(let W of V){let me=U.fetchers.get(W);et(me,`Expected fetcher: ${W}`),me.state==="loading"&&(V.delete(W),H.push(W),Y=!0)}return jr(H),Y}function Ur(H){let Y=[];for(let[W,me]of Ee)if(me<H){let ye=U.fetchers.get(W);et(ye,`Expected fetcher: ${W}`),ye.state==="loading"&&(sr(W),Ee.delete(W),Y.push(W))}return jr(Y),Y.length>0}function Fn(H,Y){let W=U.blockers.get(H)||kl;return ue.get(H)!==Y&&ue.set(H,Y),W}function mi(H){U.blockers.delete(H),ue.delete(H)}function or(H,Y){let W=U.blockers.get(H)||kl;et(W.state==="unblocked"&&Y.state==="blocked"||W.state==="blocked"&&Y.state==="blocked"||W.state==="blocked"&&Y.state==="proceeding"||W.state==="blocked"&&Y.state==="unblocked"||W.state==="proceeding"&&Y.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${Y.state}`);let me=new Map(U.blockers);me.set(H,Y),mt({blockers:me})}function $i({currentLocation:H,nextLocation:Y,historyAction:W}){if(ue.size===0)return;ue.size>1&&Ht(!1,"A router only supports one blocker at a time");let me=Array.from(ue.entries()),[ye,we]=me[me.length-1],Oe=U.blockers.get(ye);if(!(Oe&&Oe.state==="proceeding")&&we({currentLocation:H,nextLocation:Y,historyAction:W}))return ye}function gi(H){let Y=Sr(404,{pathname:H}),W=m||f,{matches:me,route:ye}=w_(W);return{notFoundMatches:me,route:ye,error:Y}}function Ba(H,Y,W){if(D=H,k=Y,M=W||null,!z&&U.navigation===Yd){z=!0;let me=Yi(U.location,U.matches);me!=null&&mt({restoreScrollPosition:me})}return()=>{D=null,k=null,M=null}}function lr(H,Y){return M&&M(H,Y.map(me=>rA(me,U.loaderData)))||H.key}function Cr(H,Y){if(D&&k){let W=lr(H,Y);D[W]=k()}}function Yi(H,Y){if(D){let W=lr(H,Y),me=D[W];if(typeof me=="number")return me}return null}function Nn(H,Y,W){if(r.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:$c(Y,W,g,!0)}}else return{active:!0,matches:$c(Y,W,g,!0)||[]};return{active:!1,matches:null}}async function Br(H,Y,W,me){if(!r.patchRoutesOnNavigation)return{type:"success",matches:H};let ye=H;for(;;){let we=m==null,Oe=m||f,xe=u;try{await r.patchRoutesOnNavigation({signal:W,path:Y,matches:ye,fetcherKey:me,patch:(ke,Me)=>{W.aborted||p_(ke,Me,Oe,xe,o)}})}catch(ke){return{type:"error",error:ke,partialMatches:ye}}finally{we&&!W.aborted&&(f=[...f])}if(W.aborted)return{type:"aborted"};let Ce=Ea(Oe,Y,g);if(Ce)return{type:"success",matches:Ce};let De=$c(Oe,Y,g,!0);if(!De||ye.length===De.length&&ye.every((ke,Me)=>ke.route.id===De[Me].route.id))return{type:"success",matches:null};ye=De}}function zr(H){u={},m=nh(H,o,void 0,u)}function Qi(H,Y){let W=m==null;p_(H,Y,m||f,u,o),W&&(f=[...f],mt({}))}return he={get basename(){return g},get future(){return v},get state(){return U},get routes(){return f},get window(){return e},initialize:nt,subscribe:Et,enableScrollRestoration:Ba,navigate:kn,fetch:Ua,revalidate:ir,createHref:H=>r.history.createHref(H),encodeLocation:H=>r.history.encodeLocation(H),getFetcher:Tn,deleteFetcher:Cs,dispose:Pe,getBlocker:Fn,deleteBlocker:mi,patchRoutes:Qi,_internalFetchControllers:B,_internalSetRoutes:zr},he}function CA(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function um(r,e,n,a,o,u){let f,m;if(o){f=[];for(let p of e)if(f.push(p),p.route.id===o){m=p;break}}else f=e,m=e[e.length-1];let g=zm(a||".",Bm(f),Rr(r.pathname,n)||r.pathname,u==="path");if(a==null&&(g.search=r.search,g.hash=r.hash),(a==null||a===""||a===".")&&m){let p=qm(g.search);if(m.route.index&&!p)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&p){let v=new URLSearchParams(g.search),S=v.getAll("index");v.delete("index"),S.filter(D=>D).forEach(D=>v.append("index",D));let b=v.toString();g.search=b?`?${b}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:ii([n,g.pathname])),Da(g)}function m_(r,e,n){if(!n||!CA(n))return{path:e};if(n.formMethod&&!zA(n.formMethod))return{path:e,error:Sr(405,{method:n.formMethod})};let a=()=>({path:e,error:Sr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=AE(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!nr(u))return a();let S=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[D,M])=>`${b}${D}=${M}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:S}}}else if(n.formEncType==="application/json"){if(!nr(u))return a();try{let S=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:S,text:void 0}}}catch{return a()}}}et(typeof FormData=="function","FormData is not available in this environment");let m,g;if(n.formData)m=fm(n.formData),g=n.formData;else if(n.body instanceof FormData)m=fm(n.body),g=n.body;else if(n.body instanceof URLSearchParams)m=n.body,g=T_(m);else if(n.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(n.body),g=T_(m)}catch{return a()}let p={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(nr(p.formMethod))return{path:e,submission:p};let v=zi(e);return r&&v.search&&qm(v.search)&&m.append("index",""),v.search=`?${m}`,{path:Da(v),submission:p}}function g_(r,e,n,a,o,u,f,m,g,p,v,S,b,D,M,k,z,L,Z,X){let le=X?tr(X[1])?X[1].error:X[1].data:void 0,he=o.createURL(u.location),U=o.createURL(g),I;if(v&&u.errors){let w=Object.keys(u.errors)[0];I=f.findIndex(ee=>ee.route.id===w)}else if(X&&tr(X[1])){let w=X[0];I=f.findIndex(ee=>ee.route.id===w)-1}let x=X?X[1].statusCode:void 0,N=x&&x>=400,C={currentUrl:he,currentParams:u.matches[0]?.params||{},nextUrl:U,nextParams:f[0].params,...m,actionResult:le,actionStatus:x},P=f.map((w,ee)=>{let{route:ve}=w,B=null;if(I!=null&&ee>I?B=!1:ve.lazy?B=!0:ve.loader==null?B=!1:v?B=cm(ve,u.loaderData,u.errors):NA(u.loaderData,u.matches[ee],w)&&(B=!0),B!==null)return hm(n,a,r,w,p,e,B);let ne=N?!1:S||he.pathname+he.search===U.pathname+U.search||he.search!==U.search||IA(u.matches[ee],w),te={...C,defaultShouldRevalidate:ne},Ee=ah(w,te);return hm(n,a,r,w,p,e,Ee,te)}),O=[];return M.forEach((w,ee)=>{if(v||!f.some(pe=>pe.route.id===w.routeId)||D.has(ee))return;let ve=u.fetchers.get(ee),B=ve&&ve.state!=="idle"&&ve.data===void 0,ne=Ea(z,w.path,L);if(!ne){if(Z&&B)return;O.push({key:ee,routeId:w.routeId,path:w.path,matches:null,match:null,request:null,controller:null});return}if(k.has(ee))return;let te=zl(ne,w.path),Ee=new AbortController,V=po(o,w.path,Ee.signal),$=null;if(b.has(ee))b.delete(ee),$=To(n,a,V,ne,te,p,e);else if(B)S&&($=To(n,a,V,ne,te,p,e));else{let pe={...C,defaultShouldRevalidate:N?!1:S};ah(te,pe)&&($=To(n,a,V,ne,te,p,e,pe))}$&&O.push({key:ee,routeId:w.routeId,path:w.path,matches:$,match:te,request:V,controller:Ee})}),{dsMatches:P,revalidatingFetchers:O}}function cm(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function NA(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function IA(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function ah(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function p_(r,e,n,a,o){let u;if(r){let g=a[r];et(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),u=g.children}else u=n;let f=e.filter(g=>!u.some(p=>_E(g,p))),m=nh(f,o,[r||"_","patch",String(u?.length||"0")],a);u.push(...m)}function _E(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>e.children?.some(o=>_E(n,o))):!1}var y_=new WeakMap,EE=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(et(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let f=y_.get(o);f||(f={},y_.set(o,f));let m=f[r];if(m)return m;let g=(async()=>{let p=J1(r),S=o[r]!==void 0&&r!=="hasErrorBoundary";if(p)Ht(!p,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),f[r]=Promise.resolve();else if(S)Ht(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let b=await u();b!=null&&(Object.assign(o,{[r]:b}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))})();return f[r]=g,g},v_=new WeakMap;function OA(r,e,n,a,o){let u=n[r.id];if(et(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=v_.get(u);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let S=(async()=>{et(typeof r.lazy=="function","No lazy route function found");let b=await r.lazy(),D={};for(let M in b){let k=b[M];if(k===void 0)continue;let z=tA(M),Z=u[M]!==void 0&&M!=="hasErrorBoundary";z?Ht(!z,"Route property "+M+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Z?Ht(!Z,`Route "${u.id}" has a static property "${M}" defined but its lazy function is also returning a value for this property. The lazy route property "${M}" will be ignored.`):D[M]=k}Object.assign(u,D),Object.assign(u,{...a(u),lazy:void 0})})();return v_.set(u,S),S.catch(()=>{}),{lazyRoutePromise:S,lazyHandlerPromise:S}}let f=Object.keys(r.lazy),m=[],g;for(let v of f){if(o&&o.includes(v))continue;let S=EE({key:v,route:r,manifest:n,mapRouteProperties:a});S&&(m.push(S),v===e&&(g=S))}let p=m.length>0?Promise.all(m).then(()=>{}):void 0;return p?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:g}}async function __(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function MA(r){return r.matches.some(e=>e.route.unstable_middleware)?TE(r,!1,()=>__(r),(e,n)=>({[n]:{type:"error",result:e}})):__(r)}async function TE(r,e,n,a){let{matches:o,request:u,params:f,context:m}=r,g={handlerResult:void 0};try{let p=o.flatMap(S=>S.route.unstable_middleware?S.route.unstable_middleware.map(b=>[S.route.id,b]):[]),v=await bE({request:u,params:f,context:m},p,e,g,n);return e?v:g.handlerResult}catch(p){if(!g.middlewareError)throw p;let v=await a(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,v):v}}async function bE(r,e,n,a,o,u=0){let{request:f}=r;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let m=e[u];if(!m)return a.handlerResult=await o(),a.handlerResult;let[g,p]=m,v=!1,S,b=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await bE(r,e,n,a,o,u+1)};try{let D=await p({request:r.request,params:r.params,context:r.context},b);return v?D===void 0?S:D:b()}catch(D){throw a.middlewareError?a.middlewareError.error!==D&&(a.middlewareError={routeId:g,error:D}):a.middlewareError={routeId:g,error:D},D}}function SE(r,e,n,a,o){let u=EE({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),f=OA(a.route,nr(n.method)?"action":"loader",e,r,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function hm(r,e,n,a,o,u,f,m=null){let g=!1,p=SE(r,e,n,a,o);return{...a,_lazyPromises:p,shouldLoad:f,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(v){return g=!0,m?typeof v=="boolean"?ah(a,{...m,defaultShouldRevalidate:v}):ah(a,m):f},resolve(v){return g||f||v&&n.method==="GET"&&(a.route.lazy||a.route.loader)?PA({request:n,match:a,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:v,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function To(r,e,n,a,o,u,f,m=null){return a.map(g=>g.route.id!==o.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:SE(r,e,n,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:hm(r,e,n,g,u,f,!0,m))}async function VA(r,e,n,a,o,u){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let f={request:e,params:n[0].params,context:o,matches:n},g=await r({...f,fetcherKey:a,unstable_runClientMiddleware:p=>{let v=f;return TE(v,!1,()=>p({...v,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(S,b)=>({[b]:{type:"error",result:S}}))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return g}async function PA({request:r,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let f,m,g=nr(r.method),p=g?"action":"loader",v=S=>{let b,D=new Promise((z,L)=>b=L);m=()=>b(),r.signal.addEventListener("abort",m);let M=z=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):S({request:r,params:e.params,context:u},...z!==void 0?[z]:[]),k=(async()=>{try{return{type:"data",result:await(o?o(L=>M(L)):M())}}catch(z){return{type:"error",result:z}}})();return Promise.race([k,D])};try{let S=g?e.route.action:e.route.loader;if(n||a)if(S){let b,[D]=await Promise.all([v(S).catch(M=>{b=M}),n,a]);if(b!==void 0)throw b;f=D}else{await n;let b=g?e.route.action:e.route.loader;if(b)[f]=await Promise.all([v(b),a]);else if(p==="action"){let D=new URL(r.url),M=D.pathname+D.search;throw Sr(405,{method:r.method,pathname:M,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(S)f=await v(S);else{let b=new URL(r.url),D=b.pathname+b.search;throw Sr(404,{pathname:D})}}catch(S){return{type:"error",result:S}}finally{m&&r.signal.removeEventListener("abort",m)}return f}async function kA(r){let{result:e,type:n}=r;if(wE(e)){let a;try{let o=e.headers.get("Content-Type");o&&/\bapplication\/json\b/.test(o)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new ih(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?x_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new ih(e.init?.status||500,void 0,e.data),statusCode:eu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:eu(e)?e.status:void 0}:x_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function jA(r,e,n,a,o){let u=r.headers.get("Location");if(et(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Hm.test(u)){let f=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=um(new URL(e.url),f,o,u),r.headers.set("Location",u)}return r}function E_(r,e,n){if(Hm.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=Rr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function po(r,e,n,a){let o=r.createURL(AE(e)).toString(),u={signal:n};if(a&&nr(a.formMethod)){let{formMethod:f,formEncType:m}=a;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=fm(a.formData):u.body=a.formData}return new Request(o,u)}function fm(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function T_(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function LA(r,e,n,a=!1,o=!1){let u={},f=null,m,g=!1,p={},v=n&&tr(n[1])?n[1].error:void 0;return r.forEach(S=>{if(!(S.route.id in e))return;let b=S.route.id,D=e[b];if(et(!gs(D),"Cannot handle redirect results in processLoaderData"),tr(D)){let M=D.error;if(v!==void 0&&(M=v,v=void 0),f=f||{},o)f[b]=M;else{let k=ms(r,b);f[k.route.id]==null&&(f[k.route.id]=M)}a||(u[b]=vE),g||(g=!0,m=eu(D.error)?D.error.status:500),D.headers&&(p[b]=D.headers)}else u[b]=D.data,D.statusCode&&D.statusCode!==200&&!g&&(m=D.statusCode),D.headers&&(p[b]=D.headers)}),v!==void 0&&n&&(f={[n[0]]:v},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:p}}function b_(r,e,n,a,o,u){let{loaderData:f,errors:m}=LA(e,n,a);return o.filter(g=>!g.matches||g.matches.some(p=>p.shouldLoad)).forEach(g=>{let{key:p,match:v,controller:S}=g,b=u[p];if(et(b,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(tr(b)){let D=ms(r.matches,v?.route.id);m&&m[D.route.id]||(m={...m,[D.route.id]:b.error}),r.fetchers.delete(p)}else if(gs(b))et(!1,"Unhandled fetcher revalidation redirect");else{let D=_a(b.data);r.fetchers.set(p,D)}}),{loaderData:f,errors:m}}function S_(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==vE).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&r.hasOwnProperty(f)&&u.route.loader&&(o[f]=r[f]),a&&a.hasOwnProperty(f))break}return o}function A_(r){return r?tr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function ms(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function w_(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Sr(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(f="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(f="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(f="Not Found",m=`No route matches URL "${e}"`):r===405&&(f="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new ih(r||500,f,new Error(m),!0)}function Pc(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(gs(o))return{key:a,result:o}}}function AE(r){let e=typeof r=="string"?zi(r):r;return Da({...e,hash:""})}function UA(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function BA(r){return wE(r.result)&&AA.has(r.result.status)}function tr(r){return r.type==="error"}function gs(r){return(r&&r.type)==="redirect"}function x_(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function wE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function zA(r){return SA.has(r.toUpperCase())}function nr(r){return TA.has(r.toUpperCase())}function qm(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function zl(r,e){let n=typeof e=="string"?zi(e).search:e.search;if(r[r.length-1].route.index&&qm(n||""))return r[r.length-1];let a=gE(r);return a[a.length-1]}function R_(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:f}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function Qd(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HA(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function jl(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qA(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function _a(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function FA(r,e){try{let n=r.sessionStorage.getItem(yE);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function GA(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(yE,JSON.stringify(n))}catch(a){Ht(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function $A(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var bs=F.createContext(null);bs.displayName="DataRouter";var uu=F.createContext(null);uu.displayName="DataRouterState";var Fm=F.createContext({isTransitioning:!1});Fm.displayName="ViewTransition";var xE=F.createContext(new Map);xE.displayName="Fetchers";var YA=F.createContext(null);YA.displayName="Await";var fi=F.createContext(null);fi.displayName="Navigation";var Th=F.createContext(null);Th.displayName="Location";var Hi=F.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var Gm=F.createContext(null);Gm.displayName="RouteError";function QA(r,{relative:e}={}){et(cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=F.useContext(fi),{hash:o,pathname:u,search:f}=hu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ii([n,u])),a.createHref({pathname:m,search:f,hash:o})}function cu(){return F.useContext(Th)!=null}function ja(){return et(cu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Th).location}var RE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DE(r){F.useContext(fi).static||F.useLayoutEffect(r)}function $m(){let{isDataRoute:r}=F.useContext(Hi);return r?ow():KA()}function KA(){et(cu(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(bs),{basename:e,navigator:n}=F.useContext(fi),{matches:a}=F.useContext(Hi),{pathname:o}=ja(),u=JSON.stringify(Bm(a)),f=F.useRef(!1);return DE(()=>{f.current=!0}),F.useCallback((g,p={})=>{if(Ht(f.current,RE),!f.current)return;if(typeof g=="number"){n.go(g);return}let v=zm(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ii([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,u,o,r])}F.createContext(null);function hu(r,{relative:e}={}){let{matches:n}=F.useContext(Hi),{pathname:a}=ja(),o=JSON.stringify(Bm(n));return F.useMemo(()=>zm(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function XA(r,e,n,a){et(cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(fi),{matches:u}=F.useContext(Hi),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",p=f?f.pathnameBase:"/",v=f&&f.route;{let L=v&&v.path||"";CE(g,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let S=ja(),b;b=S;let D=b.pathname||"/",M=D;if(p!=="/"){let L=p.replace(/^\//,"").split("/");M="/"+D.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=Ea(r,{pathname:M});return Ht(v||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ht(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),tw(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:ii([p,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:ii([p,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,n,a)}function WA(){let r=sw(),e=eu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,f)}var ZA=F.createElement(WA,null),JA=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?F.createElement(Hi.Provider,{value:this.props.routeContext},F.createElement(Gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ew({routeContext:r,match:e,children:n}){let a=F.useContext(bs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Hi.Provider,{value:r},n)}function tw(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:v,errors:S}=n,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!S||S[p.route.id]===void 0);if(p.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,v)=>{let S,b=!1,D=null,M=null;n&&(S=u&&p.route.id?u[p.route.id]:void 0,D=p.route.errorElement||ZA,f&&(m<0&&v===0?(CE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,M=null):m===v&&(b=!0,M=p.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,v+1)),z=()=>{let L;return S?L=D:b?L=M:p.route.Component?L=F.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=g,F.createElement(ew,{match:p,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:L})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?F.createElement(JA,{location:n.location,revalidation:n.revalidation,component:D,error:S,children:z(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):z()},null)}function Ym(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(r){let e=F.useContext(bs);return et(e,Ym(r)),e}function rw(r){let e=F.useContext(uu);return et(e,Ym(r)),e}function iw(r){let e=F.useContext(Hi);return et(e,Ym(r)),e}function Qm(r){let e=iw(r),n=e.matches[e.matches.length-1];return et(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function aw(){return Qm("useRouteId")}function sw(){let r=F.useContext(Gm),e=rw("useRouteError"),n=Qm("useRouteError");return r!==void 0?r:e.errors?.[n]}function ow(){let{router:r}=nw("useNavigate"),e=Qm("useNavigate"),n=F.useRef(!1);return DE(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{Ht(n.current,RE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var D_={};function CE(r,e,n){!e&&!D_[r]&&(D_[r]=!0,Ht(!1,n))}var C_={};function N_(r,e){!r&&!C_[e]&&(C_[e]=!0,console.warn(e))}function lw(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Ht(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Ht(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Ht(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var uw=["HydrateFallback","hydrateFallbackElement"],cw=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function hw({router:r,flushSync:e}){let[n,a]=F.useState(r.state),[o,u]=F.useState(),[f,m]=F.useState({isTransitioning:!1}),[g,p]=F.useState(),[v,S]=F.useState(),[b,D]=F.useState(),M=F.useRef(new Map),k=F.useCallback((X,{deletedFetchers:le,flushSync:he,viewTransitionOpts:U})=>{X.fetchers.forEach((x,N)=>{x.data!==void 0&&M.current.set(N,x.data)}),le.forEach(x=>M.current.delete(x)),N_(he===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(N_(U==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!I){e&&he?e(()=>a(X)):F.startTransition(()=>a(X));return}if(e&&he){e(()=>{v&&(g&&g.resolve(),v.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let x=r.window.document.startViewTransition(()=>{e(()=>a(X))});x.finished.finally(()=>{e(()=>{p(void 0),S(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>S(x));return}v?(g&&g.resolve(),v.skipTransition(),D({state:X,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(u(X),m({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[r.window,e,v,g]);F.useLayoutEffect(()=>r.subscribe(k),[r,k]),F.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new cw)},[f]),F.useEffect(()=>{if(g&&o&&r.window){let X=o,le=g.promise,he=r.window.document.startViewTransition(async()=>{F.startTransition(()=>a(X)),await le});he.finished.finally(()=>{p(void 0),S(void 0),u(void 0),m({isTransitioning:!1})}),S(he)}},[o,g,r.window]),F.useEffect(()=>{g&&o&&n.location.key===o.location.key&&g.resolve()},[g,v,n.location,o]),F.useEffect(()=>{!f.isTransitioning&&b&&(u(b.state),m({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),D(void 0))},[f.isTransitioning,b]);let z=F.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:X=>r.navigate(X),push:(X,le,he)=>r.navigate(X,{state:le,preventScrollReset:he?.preventScrollReset}),replace:(X,le,he)=>r.navigate(X,{replace:!0,state:le,preventScrollReset:he?.preventScrollReset})}),[r]),L=r.basename||"/",Z=F.useMemo(()=>({router:r,navigator:z,static:!1,basename:L}),[r,z,L]);return F.createElement(F.Fragment,null,F.createElement(bs.Provider,{value:Z},F.createElement(uu.Provider,{value:n},F.createElement(xE.Provider,{value:M.current},F.createElement(Fm.Provider,{value:f},F.createElement(mw,{basename:L,location:n.location,navigationType:n.historyAction,navigator:z},F.createElement(fw,{routes:r.routes,future:r.future,state:n})))))),null)}var fw=F.memo(dw);function dw({routes:r,future:e,state:n}){return XA(r,void 0,n,e)}function mw({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){et(!cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=zi(n));let{pathname:g="/",search:p="",hash:v="",state:S=null,key:b="default"}=n,D=F.useMemo(()=>{let M=Rr(g,f);return M==null?null:{location:{pathname:M,search:p,hash:v,state:S,key:b},navigationType:a}},[f,g,p,v,S,b,a]);return Ht(D!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement(fi.Provider,{value:m},F.createElement(Th.Provider,{children:e,value:D}))}var Yc="get",Qc="application/x-www-form-urlencoded";function bh(r){return r!=null&&typeof r.tagName=="string"}function gw(r){return bh(r)&&r.tagName.toLowerCase()==="button"}function pw(r){return bh(r)&&r.tagName.toLowerCase()==="form"}function yw(r){return bh(r)&&r.tagName.toLowerCase()==="input"}function vw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _w(r,e){return r.button===0&&(!e||e==="_self")&&!vw(r)}var kc=null;function Ew(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var Tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kd(r){return r!=null&&!Tw.has(r)?(Ht(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):r}function bw(r,e){let n,a,o,u,f;if(pw(r)){let m=r.getAttribute("action");a=m?Rr(m,e):null,n=r.getAttribute("method")||Yc,o=Kd(r.getAttribute("enctype"))||Qc,u=new FormData(r)}else if(gw(r)||yw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(a=g?Rr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Yc,o=Kd(r.getAttribute("formenctype"))||Kd(m.getAttribute("enctype"))||Qc,u=new FormData(m,r),!Ew()){let{name:p,type:v,value:S}=r;if(v==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,S)}}else{if(bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yc,a=null,o=Qc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Km(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Sw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Aw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ww(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Sw(u,n);return f.links?f.links():[]}return[]}));return Cw(a.flat(1).filter(Aw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I_(r,e,n,a,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let v=a.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function xw(r,e,{includeHydrateFallback:n}={}){return Rw(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Rw(r){return[...new Set(r)]}function Dw(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function Cw(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(Dw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nw=new Set([100,101,204,205]);function Iw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Rr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function NE(){let r=F.useContext(bs);return Km(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ow(){let r=F.useContext(uu);return Km(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Xm=F.createContext(void 0);Xm.displayName="FrameworkContext";function IE(){let r=F.useContext(Xm);return Km(r,"You must render this element inside a <HydratedRouter> element"),r}function Mw(r,e){let n=F.useContext(Xm),[a,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:S}=e,b=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let k=L=>{L.forEach(Z=>{f(Z.isIntersecting)})},z=new IntersectionObserver(k,{threshold:.5});return b.current&&z.observe(b.current),()=>{z.disconnect()}}},[r]),F.useEffect(()=>{if(a){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[a]);let D=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Ll(m,D),onBlur:Ll(g,M),onMouseEnter:Ll(p,D),onMouseLeave:Ll(v,M),onTouchStart:Ll(S,D)}]:[!1,b,{}]}function Ll(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Vw({page:r,...e}){let{router:n}=NE(),a=F.useMemo(()=>Ea(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?F.createElement(kw,{page:r,matches:a,...e}):null}function Pw(r){let{manifest:e,routeModules:n}=IE(),[a,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return ww(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function kw({page:r,matches:e,...n}){let a=ja(),{manifest:o,routeModules:u}=IE(),{basename:f}=NE(),{loaderData:m,matches:g}=Ow(),p=F.useMemo(()=>I_(r,e,g,o,a,"data"),[r,e,g,o,a]),v=F.useMemo(()=>I_(r,e,g,o,a,"assets"),[r,e,g,o,a]),S=F.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let M=new Set,k=!1;if(e.forEach(L=>{let Z=o.routes[L.route.id];!Z||!Z.hasLoader||(!p.some(X=>X.route.id===L.route.id)&&L.route.id in m&&u[L.route.id]?.shouldRevalidate||Z.hasClientLoader?k=!0:M.add(L.route.id))}),M.size===0)return[];let z=Iw(r,f);return k&&M.size>0&&z.searchParams.set("_routes",e.filter(L=>M.has(L.route.id)).map(L=>L.route.id).join(",")),[z.pathname+z.search]},[f,m,a,o,p,e,r,u]),b=F.useMemo(()=>xw(v,o),[v,o]),D=Pw(v);return F.createElement(F.Fragment,null,S.map(M=>F.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),b.map(M=>F.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),D.map(({key:M,link:k})=>F.createElement("link",{key:M,...k})))}function jw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OE&&(window.__reactRouterVersion="7.6.3")}catch{}function Lw(r,e){return DA({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:K1({window:e?.window}),hydrationData:Uw(),routes:r,mapRouteProperties:lw,hydrationRouteProperties:uw,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function Uw(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:Bw(r.errors)}),r}function Bw(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new ih(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VE=F.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:v,viewTransition:S,...b},D){let{basename:M}=F.useContext(fi),k=typeof p=="string"&&ME.test(p),z,L=!1;if(typeof p=="string"&&k&&(z=p,OE))try{let N=new URL(window.location.href),C=p.startsWith("//")?new URL(N.protocol+p):new URL(p),P=Rr(C.pathname,M);C.origin===N.origin&&P!=null?p=P+C.search+C.hash:L=!0}catch{Ht(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=QA(p,{relative:o}),[X,le,he]=Mw(a,b),U=Fw(p,{replace:f,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:S});function I(N){e&&e(N),N.defaultPrevented||U(N)}let x=F.createElement("a",{...b,...he,href:z||Z,onClick:L||u?e:I,ref:jw(D,le),target:g,"data-discover":!k&&n==="render"?"true":void 0});return X&&!k?F.createElement(F.Fragment,null,x,F.createElement(Vw,{page:Z})):x});VE.displayName="Link";var zw=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},v){let S=hu(f,{relative:p.relative}),b=ja(),D=F.useContext(uu),{navigator:M,basename:k}=F.useContext(fi),z=D!=null&&Kw(S)&&m===!0,L=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,Z=b.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),X=X?X.toLowerCase():null,L=L.toLowerCase()),X&&k&&(X=Rr(X,k)||X);const le=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let he=Z===L||!o&&Z.startsWith(L)&&Z.charAt(le)==="/",U=X!=null&&(X===L||!o&&X.startsWith(L)&&X.charAt(L.length)==="/"),I={isActive:he,isPending:U,isTransitioning:z},x=he?e:void 0,N;typeof a=="function"?N=a(I):N=[a,he?"active":null,U?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(I):u;return F.createElement(VE,{...p,"aria-current":x,className:N,ref:v,style:C,to:f,viewTransition:m},typeof g=="function"?g(I):g)});zw.displayName="NavLink";var Hw=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Yc,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:S,...b},D)=>{let M=Yw(),k=Qw(m,{relative:p}),z=f.toLowerCase()==="get"?"get":"post",L=typeof m=="string"&&ME.test(m),Z=X=>{if(g&&g(X),X.defaultPrevented)return;X.preventDefault();let le=X.nativeEvent.submitter,he=le?.getAttribute("formmethod")||f;M(le||X.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:S})};return F.createElement("form",{ref:D,method:z,action:k,onSubmit:a?g:Z,...b,"data-discover":!L&&r==="render"?"true":void 0})});Hw.displayName="Form";function qw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PE(r){let e=F.useContext(bs);return et(e,qw(r)),e}function Fw(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=$m(),g=ja(),p=hu(r,{relative:u});return F.useCallback(v=>{if(_w(v,e)){v.preventDefault();let S=n!==void 0?n:Da(g)===Da(p);m(r,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,a,e,r,o,u,f])}var Gw=0,$w=()=>`__${String(++Gw)}__`;function Yw(){let{router:r}=PE("useSubmit"),{basename:e}=F.useContext(fi),n=aw();return F.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=bw(a,e);if(o.navigate===!1){let v=o.fetcherKey||$w();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Qw(r,{relative:e}={}){let{basename:n}=F.useContext(fi),a=F.useContext(Hi);et(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...hu(r||".",{relative:e})},f=ja();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ii([n,u.pathname])),Da(u)}function Kw(r,e={}){let n=F.useContext(Fm);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=PE("useViewTransitionState"),o=hu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Rr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=Rr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return rh(o.pathname,f)!=null||rh(o.pathname,u)!=null}[...Nw];var Xw=cE();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ww(r){return F.createElement(hw,{flushSync:Xw.flushSync,...r})}const Zw=()=>E.jsxs("main",{children:[E.jsxs("div",{className:"home-topnav",style:{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[E.jsx("div",{className:"home-league-name-section",style:{marginLeft:32},children:E.jsx("h1",{className:"home-logo",children:"Saint Mark Leagues"})}),E.jsxs("div",{className:"home-tabs desktop-tabs",style:{display:"flex",flexDirection:"row",gap:"20px",color:"black",fontWeight:"bold",cursor:"pointer",marginRight:"50px",marginTop:"10px"},children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",style:{color:"black",textDecoration:"none"},children:E.jsx("div",{className:"home-tab",children:"Dashboard"})}),E.jsx("div",{className:"home-tab",children:"2025"}),E.jsx("div",{className:"home-tab",children:"History"})]})]}),E.jsxs("div",{className:"home-tabs mobile-tabs",style:{display:"none",flexDirection:"row",gap:"20px",color:"black",fontWeight:"bold",cursor:"pointer",margin:"10px auto",justifyContent:"center",width:"100%"},children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",style:{color:"black",textDecoration:"none"},children:E.jsx("div",{className:"home-tab",children:"Dashboard"})}),E.jsx("div",{className:"home-tab",children:"2025"}),E.jsx("div",{className:"home-tab",children:"History"})]}),E.jsx("div",{className:"home-section1",children:E.jsxs("div",{className:"home-section1-left",children:[E.jsxs("h1",{className:"home-welcome",style:{color:"white",textAlign:"center",marginRight:"60px"},children:["Yalla Nel3ab ",E.jsx("br",{})," ",E.jsxs("span",{style:{display:"inline-block",width:"100%",textAlign:"center"},children:["K",E.jsx("span",{className:"home-span-not-mobile",children:"OOOOO"}),"ORA!!"]})]}),E.jsx("p",{children:"Welcome to Saint Mark Leagues, your hub for football excitement! Explore the latest league, check out the history, and get ready for the 2025 Summer season."}),E.jsx("button",{className:"home-button",children:"Yalla Nel3ab"})]})})]}),Jw=()=>{};var O_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ex=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,v=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,D=p&63;g||(D=64,f||(b=64)),a.push(n[v],n[S],n[b],n[D])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(kE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ex(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new tx;const b=u<<2|m>>4;if(a.push(b),p!==64){const D=m<<4&240|p>>2;if(a.push(D),S!==64){const M=p<<6&192|S;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nx=function(r){const e=kE(r);return jE.encodeByteArray(e,!0)},sh=function(r){return nx(r).replace(/\./g,"")},rx=function(r){try{return jE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=()=>ix().__FIREBASE_DEFAULTS__,sx=()=>{if(typeof process>"u"||typeof O_>"u")return;const r=O_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ox=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&rx(r[1]);return e&&JSON.parse(e)},Wm=()=>{try{return Jw()||ax()||sx()||ox()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lx=r=>{var e,n;return(n=(e=Wm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},LE=r=>{const e=lx(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},UE=()=>{var r;return(r=Wm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}const $l={};function cx(){const r={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?r.emulator.push(e):r.prod.push(e);return r}function hx(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let M_=!1;function HE(r,e){if(typeof window>"u"||typeof document>"u"||!fu(window.location.host)||$l[r]===e||$l[r]||M_)return;$l[r]=e;function n(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=cx().prod.length>0;function f(){const b=document.getElementById(a);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{M_=!0,f()},b}function v(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=hx(a),D=n("text"),M=document.getElementById(D)||document.createElement("span"),k=n("learnmore"),z=document.getElementById(k)||document.createElement("a"),L=n("preprendIcon"),Z=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;m(X),v(z,k);const le=p();g(Z,L),X.append(Z,M,z,le),document.body.appendChild(X)}u?(M.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dx(){var r;const e=(r=Wm())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mx(){return!dx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gx(){try{return typeof indexedDB=="object"}catch{return!1}}function px(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="FirebaseError";class Ss extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=yx,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qE.prototype.create)}}class qE{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?vx(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ss(o,m,a)}}function vx(r,e){return r.replace(_x,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const _x=/\{\$([^}]+)}/g;function oh(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(V_(u)&&V_(f)){if(!oh(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function V_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(r){return r&&r._delegate?r._delegate:r}class Ao{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new ux;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bx(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Tx(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tx(r){return r===ds?void 0:r}function bx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ex(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(lt||(lt={}));const Ax={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},wx=lt.INFO,xx={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},Rx=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=xx[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class FE{constructor(e){this.name=e,this._logLevel=wx,this._logHandler=Rx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ax[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const Dx=(r,e)=>e.some(n=>r instanceof n);let P_,k_;function Cx(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nx(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,dm=new WeakMap,$E=new WeakMap,Xd=new WeakMap,Zm=new WeakMap;function Ix(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Sa(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&GE.set(n,r)}).catch(()=>{}),Zm.set(e,r),e}function Ox(r){if(dm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});dm.set(r,e)}let mm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return dm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$E.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Mx(r){mm=r(mm)}function Vx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Wd(this),e,...n);return $E.set(a,e.sort?e.sort():[e]),Sa(a)}:Nx().includes(r)?function(...e){return r.apply(Wd(this),e),Sa(GE.get(this))}:function(...e){return Sa(r.apply(Wd(this),e))}}function Px(r){return typeof r=="function"?Vx(r):(r instanceof IDBTransaction&&Ox(r),Dx(r,Cx())?new Proxy(r,mm):r)}function Sa(r){if(r instanceof IDBRequest)return Ix(r);if(Xd.has(r))return Xd.get(r);const e=Px(r);return e!==r&&(Xd.set(r,e),Zm.set(e,r)),e}const Wd=r=>Zm.get(r);function kx(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Sa(f);return a&&f.addEventListener("upgradeneeded",g=>{a(Sa(f.result),g.oldVersion,g.newVersion,Sa(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const jx=["get","getKey","getAll","getAllKeys","count"],Lx=["put","add","delete","clear"],Zd=new Map;function j_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Lx.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||jx.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Zd.set(e,u),u}Mx(r=>({...r,get:(e,n,a)=>j_(e,n)||r.get(e,n,a),has:(e,n)=>!!j_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bx(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Bx(r){const e=r.getComponent();return e?.type==="VERSION"}const gm="@firebase/app",L_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new FE("@firebase/app"),zx="@firebase/app-compat",Hx="@firebase/analytics-compat",qx="@firebase/analytics",Fx="@firebase/app-check-compat",Gx="@firebase/app-check",$x="@firebase/auth",Yx="@firebase/auth-compat",Qx="@firebase/database",Kx="@firebase/data-connect",Xx="@firebase/database-compat",Wx="@firebase/functions",Zx="@firebase/functions-compat",Jx="@firebase/installations",eR="@firebase/installations-compat",tR="@firebase/messaging",nR="@firebase/messaging-compat",rR="@firebase/performance",iR="@firebase/performance-compat",aR="@firebase/remote-config",sR="@firebase/remote-config-compat",oR="@firebase/storage",lR="@firebase/storage-compat",uR="@firebase/firestore",cR="@firebase/ai",hR="@firebase/firestore-compat",fR="firebase",dR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",mR={[gm]:"fire-core",[zx]:"fire-core-compat",[qx]:"fire-analytics",[Hx]:"fire-analytics-compat",[Gx]:"fire-app-check",[Fx]:"fire-app-check-compat",[$x]:"fire-auth",[Yx]:"fire-auth-compat",[Qx]:"fire-rtdb",[Kx]:"fire-data-connect",[Xx]:"fire-rtdb-compat",[Wx]:"fire-fn",[Zx]:"fire-fn-compat",[Jx]:"fire-iid",[eR]:"fire-iid-compat",[tR]:"fire-fcm",[nR]:"fire-fcm-compat",[rR]:"fire-perf",[iR]:"fire-perf-compat",[aR]:"fire-rc",[sR]:"fire-rc-compat",[oR]:"fire-gcs",[lR]:"fire-gcs-compat",[uR]:"fire-fst",[hR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[fR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,gR=new Map,ym=new Map;function U_(r,e){try{r.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function tu(r){const e=r.name;if(ym.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,r);for(const n of lh.values())U_(n,r);for(const n of gR.values())U_(n,r);return!0}function YE(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function QE(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new qE("app","Firebase",pR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=dR;function XE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:pm,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Aa.create("bad-app-name",{appName:String(o)});if(n||(n=UE()),!n)throw Aa.create("no-options");const u=lh.get(o);if(u){if(oh(n,u.options)&&oh(a,u.config))return u;throw Aa.create("duplicate-app",{appName:o})}const f=new Sx(o);for(const g of ym.values())f.addComponent(g);const m=new yR(n,a,f);return lh.set(o,m),m}function WE(r=pm){const e=lh.get(r);if(!e&&r===pm&&UE())return XE();if(!e)throw Aa.create("no-app",{appName:r});return e}function wa(r,e,n){var a;let o=(a=mR[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(m.join(" "));return}tu(new Ao(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firebase-heartbeat-database",_R=1,nu="firebase-heartbeat-store";let Jd=null;function ZE(){return Jd||(Jd=kx(vR,_R,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Aa.create("idb-open",{originalErrorMessage:r.message})})),Jd}async function ER(r){try{const n=(await ZE()).transaction(nu),a=await n.objectStore(nu).get(JE(r));return await n.done,a}catch(e){if(e instanceof Ss)Li.warn(e.message);else{const n=Aa.create("idb-get",{originalErrorMessage:e?.message});Li.warn(n.message)}}}async function B_(r,e){try{const a=(await ZE()).transaction(nu,"readwrite");await a.objectStore(nu).put(e,JE(r)),await a.done}catch(n){if(n instanceof Ss)Li.warn(n.message);else{const a=Aa.create("idb-set",{originalErrorMessage:n?.message});Li.warn(a.message)}}}function JE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1024,bR=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=z_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>bR){const f=xR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Li.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z_(),{heartbeatsToSend:a,unsentEntries:o}=AR(this._heartbeatsCache.heartbeats),u=sh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Li.warn(n),""}}}function z_(){return new Date().toISOString().substring(0,10)}function AR(r,e=TR){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),H_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),H_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class wR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gx()?px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ER(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function H_(r){return sh(JSON.stringify({version:2,heartbeats:r})).length}function xR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){tu(new Ao("platform-logger",e=>new Ux(e),"PRIVATE")),tu(new Ao("heartbeat",e=>new SR(e),"PRIVATE")),wa(gm,L_,r),wa(gm,L_,"esm2017"),wa("fire-js","")}RR("");var DR="firebase",CR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wa(DR,CR,"app");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xa,eT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function N(){}N.prototype=x.prototype,I.D=x.prototype,I.prototype=new N,I.prototype.constructor=I,I.C=function(C,P,O){for(var w=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)w[ee-2]=arguments[ee];return x.prototype[P].apply(C,w)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,N){N||(N=0);var C=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)C[P]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(P=0;16>P;++P)C[P]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=I.g[0],N=I.g[1],P=I.g[2];var O=I.g[3],w=x+(O^N&(P^O))+C[0]+3614090360&4294967295;x=N+(w<<7&4294967295|w>>>25),w=O+(P^x&(N^P))+C[1]+3905402710&4294967295,O=x+(w<<12&4294967295|w>>>20),w=P+(N^O&(x^N))+C[2]+606105819&4294967295,P=O+(w<<17&4294967295|w>>>15),w=N+(x^P&(O^x))+C[3]+3250441966&4294967295,N=P+(w<<22&4294967295|w>>>10),w=x+(O^N&(P^O))+C[4]+4118548399&4294967295,x=N+(w<<7&4294967295|w>>>25),w=O+(P^x&(N^P))+C[5]+1200080426&4294967295,O=x+(w<<12&4294967295|w>>>20),w=P+(N^O&(x^N))+C[6]+2821735955&4294967295,P=O+(w<<17&4294967295|w>>>15),w=N+(x^P&(O^x))+C[7]+4249261313&4294967295,N=P+(w<<22&4294967295|w>>>10),w=x+(O^N&(P^O))+C[8]+1770035416&4294967295,x=N+(w<<7&4294967295|w>>>25),w=O+(P^x&(N^P))+C[9]+2336552879&4294967295,O=x+(w<<12&4294967295|w>>>20),w=P+(N^O&(x^N))+C[10]+4294925233&4294967295,P=O+(w<<17&4294967295|w>>>15),w=N+(x^P&(O^x))+C[11]+2304563134&4294967295,N=P+(w<<22&4294967295|w>>>10),w=x+(O^N&(P^O))+C[12]+1804603682&4294967295,x=N+(w<<7&4294967295|w>>>25),w=O+(P^x&(N^P))+C[13]+4254626195&4294967295,O=x+(w<<12&4294967295|w>>>20),w=P+(N^O&(x^N))+C[14]+2792965006&4294967295,P=O+(w<<17&4294967295|w>>>15),w=N+(x^P&(O^x))+C[15]+1236535329&4294967295,N=P+(w<<22&4294967295|w>>>10),w=x+(P^O&(N^P))+C[1]+4129170786&4294967295,x=N+(w<<5&4294967295|w>>>27),w=O+(N^P&(x^N))+C[6]+3225465664&4294967295,O=x+(w<<9&4294967295|w>>>23),w=P+(x^N&(O^x))+C[11]+643717713&4294967295,P=O+(w<<14&4294967295|w>>>18),w=N+(O^x&(P^O))+C[0]+3921069994&4294967295,N=P+(w<<20&4294967295|w>>>12),w=x+(P^O&(N^P))+C[5]+3593408605&4294967295,x=N+(w<<5&4294967295|w>>>27),w=O+(N^P&(x^N))+C[10]+38016083&4294967295,O=x+(w<<9&4294967295|w>>>23),w=P+(x^N&(O^x))+C[15]+3634488961&4294967295,P=O+(w<<14&4294967295|w>>>18),w=N+(O^x&(P^O))+C[4]+3889429448&4294967295,N=P+(w<<20&4294967295|w>>>12),w=x+(P^O&(N^P))+C[9]+568446438&4294967295,x=N+(w<<5&4294967295|w>>>27),w=O+(N^P&(x^N))+C[14]+3275163606&4294967295,O=x+(w<<9&4294967295|w>>>23),w=P+(x^N&(O^x))+C[3]+4107603335&4294967295,P=O+(w<<14&4294967295|w>>>18),w=N+(O^x&(P^O))+C[8]+1163531501&4294967295,N=P+(w<<20&4294967295|w>>>12),w=x+(P^O&(N^P))+C[13]+2850285829&4294967295,x=N+(w<<5&4294967295|w>>>27),w=O+(N^P&(x^N))+C[2]+4243563512&4294967295,O=x+(w<<9&4294967295|w>>>23),w=P+(x^N&(O^x))+C[7]+1735328473&4294967295,P=O+(w<<14&4294967295|w>>>18),w=N+(O^x&(P^O))+C[12]+2368359562&4294967295,N=P+(w<<20&4294967295|w>>>12),w=x+(N^P^O)+C[5]+4294588738&4294967295,x=N+(w<<4&4294967295|w>>>28),w=O+(x^N^P)+C[8]+2272392833&4294967295,O=x+(w<<11&4294967295|w>>>21),w=P+(O^x^N)+C[11]+1839030562&4294967295,P=O+(w<<16&4294967295|w>>>16),w=N+(P^O^x)+C[14]+4259657740&4294967295,N=P+(w<<23&4294967295|w>>>9),w=x+(N^P^O)+C[1]+2763975236&4294967295,x=N+(w<<4&4294967295|w>>>28),w=O+(x^N^P)+C[4]+1272893353&4294967295,O=x+(w<<11&4294967295|w>>>21),w=P+(O^x^N)+C[7]+4139469664&4294967295,P=O+(w<<16&4294967295|w>>>16),w=N+(P^O^x)+C[10]+3200236656&4294967295,N=P+(w<<23&4294967295|w>>>9),w=x+(N^P^O)+C[13]+681279174&4294967295,x=N+(w<<4&4294967295|w>>>28),w=O+(x^N^P)+C[0]+3936430074&4294967295,O=x+(w<<11&4294967295|w>>>21),w=P+(O^x^N)+C[3]+3572445317&4294967295,P=O+(w<<16&4294967295|w>>>16),w=N+(P^O^x)+C[6]+76029189&4294967295,N=P+(w<<23&4294967295|w>>>9),w=x+(N^P^O)+C[9]+3654602809&4294967295,x=N+(w<<4&4294967295|w>>>28),w=O+(x^N^P)+C[12]+3873151461&4294967295,O=x+(w<<11&4294967295|w>>>21),w=P+(O^x^N)+C[15]+530742520&4294967295,P=O+(w<<16&4294967295|w>>>16),w=N+(P^O^x)+C[2]+3299628645&4294967295,N=P+(w<<23&4294967295|w>>>9),w=x+(P^(N|~O))+C[0]+4096336452&4294967295,x=N+(w<<6&4294967295|w>>>26),w=O+(N^(x|~P))+C[7]+1126891415&4294967295,O=x+(w<<10&4294967295|w>>>22),w=P+(x^(O|~N))+C[14]+2878612391&4294967295,P=O+(w<<15&4294967295|w>>>17),w=N+(O^(P|~x))+C[5]+4237533241&4294967295,N=P+(w<<21&4294967295|w>>>11),w=x+(P^(N|~O))+C[12]+1700485571&4294967295,x=N+(w<<6&4294967295|w>>>26),w=O+(N^(x|~P))+C[3]+2399980690&4294967295,O=x+(w<<10&4294967295|w>>>22),w=P+(x^(O|~N))+C[10]+4293915773&4294967295,P=O+(w<<15&4294967295|w>>>17),w=N+(O^(P|~x))+C[1]+2240044497&4294967295,N=P+(w<<21&4294967295|w>>>11),w=x+(P^(N|~O))+C[8]+1873313359&4294967295,x=N+(w<<6&4294967295|w>>>26),w=O+(N^(x|~P))+C[15]+4264355552&4294967295,O=x+(w<<10&4294967295|w>>>22),w=P+(x^(O|~N))+C[6]+2734768916&4294967295,P=O+(w<<15&4294967295|w>>>17),w=N+(O^(P|~x))+C[13]+1309151649&4294967295,N=P+(w<<21&4294967295|w>>>11),w=x+(P^(N|~O))+C[4]+4149444226&4294967295,x=N+(w<<6&4294967295|w>>>26),w=O+(N^(x|~P))+C[11]+3174756917&4294967295,O=x+(w<<10&4294967295|w>>>22),w=P+(x^(O|~N))+C[2]+718787259&4294967295,P=O+(w<<15&4294967295|w>>>17),w=N+(O^(P|~x))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(P+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+O&4294967295}a.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var N=x-this.blockSize,C=this.B,P=this.h,O=0;O<x;){if(P==0)for(;O<=N;)o(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<x;)if(C[P++]=I.charCodeAt(O++),P==this.blockSize){o(this,C),P=0;break}}else for(;O<x;)if(C[P++]=I[O++],P==this.blockSize){o(this,C),P=0;break}}this.h=P,this.o+=x},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var N=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=N&255,N/=256;for(this.u(I),I=Array(16),x=N=0;4>x;++x)for(var C=0;32>C;C+=8)I[N++]=this.g[x]>>>C&255;return I};function u(I,x){var N=m;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=x(I)}function f(I,x){this.h=x;for(var N=[],C=!0,P=I.length-1;0<=P;P--){var O=I[P]|0;C&&O==x||(N[P]=O,C=!1)}this.g=N}var m={};function g(I){return-128<=I&&128>I?u(I,function(x){return new f([x|0],0>x?-1:0)}):new f([I|0],0>I?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return S;if(0>I)return z(p(-I));for(var x=[],N=1,C=0;I>=N;C++)x[C]=I/N|0,N*=4294967296;return new f(x,0)}function v(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return z(v(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(x,8)),C=S,P=0;P<I.length;P+=8){var O=Math.min(8,I.length-P),w=parseInt(I.substring(P,P+O),x);8>O?(O=p(Math.pow(x,O)),C=C.j(O).add(p(w))):(C=C.j(N),C=C.add(p(w)))}return C}var S=g(0),b=g(1),D=g(16777216);r=f.prototype,r.m=function(){if(k(this))return-z(this).m();for(var I=0,x=1,N=0;N<this.g.length;N++){var C=this.i(N);I+=(0<=C?C:4294967296+C)*x,x*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(k(this))return"-"+z(this).toString(I);for(var x=p(Math.pow(I,6)),N=this,C="";;){var P=le(N,x).g;N=L(N,P.j(x));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(I);if(N=P,M(N))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function k(I){return I.h==-1}r.l=function(I){return I=L(this,I),k(I)?-1:M(I)?0:1};function z(I){for(var x=I.g.length,N=[],C=0;C<x;C++)N[C]=~I.g[C];return new f(N,~I.h).add(b)}r.abs=function(){return k(this)?z(this):this},r.add=function(I){for(var x=Math.max(this.g.length,I.g.length),N=[],C=0,P=0;P<=x;P++){var O=C+(this.i(P)&65535)+(I.i(P)&65535),w=(O>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);C=w>>>16,O&=65535,w&=65535,N[P]=w<<16|O}return new f(N,N[N.length-1]&-2147483648?-1:0)};function L(I,x){return I.add(z(x))}r.j=function(I){if(M(this)||M(I))return S;if(k(this))return k(I)?z(this).j(z(I)):z(z(this).j(I));if(k(I))return z(this.j(z(I)));if(0>this.l(D)&&0>I.l(D))return p(this.m()*I.m());for(var x=this.g.length+I.g.length,N=[],C=0;C<2*x;C++)N[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<I.g.length;P++){var O=this.i(C)>>>16,w=this.i(C)&65535,ee=I.i(P)>>>16,ve=I.i(P)&65535;N[2*C+2*P]+=w*ve,Z(N,2*C+2*P),N[2*C+2*P+1]+=O*ve,Z(N,2*C+2*P+1),N[2*C+2*P+1]+=w*ee,Z(N,2*C+2*P+1),N[2*C+2*P+2]+=O*ee,Z(N,2*C+2*P+2)}for(C=0;C<x;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=x;C<2*x;C++)N[C]=0;return new f(N,0)};function Z(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function X(I,x){this.g=I,this.h=x}function le(I,x){if(M(x))throw Error("division by zero");if(M(I))return new X(S,S);if(k(I))return x=le(z(I),x),new X(z(x.g),z(x.h));if(k(x))return x=le(I,z(x)),new X(z(x.g),x.h);if(30<I.g.length){if(k(I)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var N=b,C=x;0>=C.l(I);)N=he(N),C=he(C);var P=U(N,1),O=U(C,1);for(C=U(C,2),N=U(N,2);!M(C);){var w=O.add(C);0>=w.l(I)&&(P=P.add(N),O=w),C=U(C,1),N=U(N,1)}return x=L(I,P.j(x)),new X(P,x)}for(P=S;0<=I.l(x);){for(N=Math.max(1,Math.floor(I.m()/x.m())),C=Math.ceil(Math.log(N)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=p(N),w=O.j(x);k(w)||0<w.l(I);)N-=C,O=p(N),w=O.j(x);M(O)&&(O=b),P=P.add(O),I=L(I,w)}return new X(P,I)}r.A=function(I){return le(this,I).h},r.and=function(I){for(var x=Math.max(this.g.length,I.g.length),N=[],C=0;C<x;C++)N[C]=this.i(C)&I.i(C);return new f(N,this.h&I.h)},r.or=function(I){for(var x=Math.max(this.g.length,I.g.length),N=[],C=0;C<x;C++)N[C]=this.i(C)|I.i(C);return new f(N,this.h|I.h)},r.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),N=[],C=0;C<x;C++)N[C]=this.i(C)^I.i(C);return new f(N,this.h^I.h)};function he(I){for(var x=I.g.length+1,N=[],C=0;C<x;C++)N[C]=I.i(C)<<1|I.i(C-1)>>>31;return new f(N,I.h)}function U(I,x){var N=x>>5;x%=32;for(var C=I.g.length-N,P=[],O=0;O<C;O++)P[O]=0<x?I.i(O+N)>>>x|I.i(O+N+1)<<32-x:I.i(O+N);return new f(P,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,eT=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=v,xa=f}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tT,Hl,nT,Kc,vm,rT,iT,aT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var R=0;R<c.length-1;R++){var Q=c[R];if(!(Q in _))break e;_=_[Q]}c=c[c.length-1],R=_[c],y=y(R),y!=R&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,R=!1,Q={next:function(){if(!R&&_<c.length){var ae=_++;return{value:y(ae,c[ae]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,R),c.apply(y,Q)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,b.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(R,Q,ae){for(var _e=Array(arguments.length-2),it=2;it<arguments.length;it++)_e[it-2]=arguments[it];return y.prototype[Q].apply(R,_e)}}function k(c){const y=c.length;if(0<y){const _=Array(y);for(let R=0;R<y;R++)_[R]=c[R];return _}return[]}function z(c,y){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(g(R)){const Q=c.length||0,ae=R.length||0;c.length=Q+ae;for(let _e=0;_e<ae;_e++)c[Q+_e]=R[_e]}else c.push(R)}}class L{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function le(c){return le[" "](c),c}le[" "]=function(){};var he=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function U(c,y,_){for(const R in c)y.call(_,c[R],R,c)}function I(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function x(c){const y={};for(const _ in c)y[_]=c[_];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let _,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(_ in R)c[_]=R[_];for(let ae=0;ae<N.length;ae++)_=N[ae],Object.prototype.hasOwnProperty.call(R,_)&&(c[_]=R[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function O(c){m.setTimeout(()=>{throw c},0)}function w(){var c=Ee;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ee{constructor(){this.h=this.g=null}add(y,_){const R=ve.get();R.set(y,_),this.h?this.h.next=R:this.g=R,this.h=R}}var ve=new L(()=>new B,c=>c.reset());class B{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,te=!1,Ee=new ee,V=()=>{const c=m.Promise.resolve(void 0);ne=()=>{c.then($)}};var $=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(_){O(_)}var y=ve;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}te=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function be(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{le(y.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}M(be,se);var Te={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function Et(c,y,_,R,Q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!R,this.ha=Q,this.key=++Pe,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function an(c){this.src=c,this.g={},this.h=0}an.prototype.add=function(c,y,_,R,Q){var ae=c.toString();c=this.g[ae],c||(c=this.g[ae]=[],this.h++);var _e=ir(c,y,R,Q);return-1<_e?(y=c[_e],_||(y.fa=!1)):(y=new Et(y,this.src,ae,!!R,Q),y.fa=_,c.push(y)),y};function kn(c,y){var _=y.type;if(_ in c.g){var R=c.g[_],Q=Array.prototype.indexOf.call(R,y,void 0),ae;(ae=0<=Q)&&Array.prototype.splice.call(R,Q,1),ae&&(mt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ir(c,y,_,R){for(var Q=0;Q<c.length;++Q){var ae=c[Q];if(!ae.da&&ae.listener==y&&ae.capture==!!_&&ae.ha==R)return Q}return-1}var Dn="closure_lm_"+(1e6*Math.random()|0),La={};function Ds(c,y,_,R,Q){if(Array.isArray(y)){for(var ae=0;ae<y.length;ae++)Ds(c,y[ae],_,R,Q);return null}return _=Gi(_),c&&c[nt]?c.K(y,_,p(R)?!!R.capture:!1,Q):Cn(c,y,_,!1,R,Q)}function Cn(c,y,_,R,Q,ae){if(!y)throw Error("Invalid event type");var _e=p(Q)?!!Q.capture:!!Q,it=ar(c);if(it||(c[Dn]=it=new an(c)),_=it.add(y,_,R,_e,ae),_.proxy)return _;if(R=Po(),_.proxy=R,R.src=c,R.listener=_,c.addEventListener)ue||(Q=_e),Q===void 0&&(Q=!1),c.addEventListener(y.toString(),R,Q);else if(c.attachEvent)c.attachEvent(di(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Po(){function c(_){return y.call(c.src,c.listener,_)}const y=Dr;return c}function Ua(c,y,_,R,Q){if(Array.isArray(y))for(var ae=0;ae<y.length;ae++)Ua(c,y[ae],_,R,Q);else R=p(R)?!!R.capture:!!R,_=Gi(_),c&&c[nt]?(c=c.i,y=String(y).toString(),y in c.g&&(ae=c.g[y],_=ir(ae,_,R,Q),-1<_&&(mt(ae[_]),Array.prototype.splice.call(ae,_,1),ae.length==0&&(delete c.g[y],c.h--)))):c&&(c=ar(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ir(y,_,R,Q)),(_=-1<c?y[c]:null)&&qi(_))}function qi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[nt])kn(y.i,c);else{var _=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(_,R,c.capture):y.detachEvent?y.detachEvent(di(_),R):y.addListener&&y.removeListener&&y.removeListener(R),(_=ar(y))?(kn(_,c),_.h==0&&(_.src=null,y[Dn]=null)):mt(c)}}}function di(c){return c in La?La[c]:La[c]="on"+c}function Dr(c,y){if(c.da)c=!0;else{y=new be(y,this);var _=c.listener,R=c.ha||c.src;c.fa&&qi(c),c=_.call(R,y)}return c}function ar(c){return c=c[Dn],c instanceof an?c:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(c){return typeof c=="function"?c:(c[Fi]||(c[Fi]=function(y){return c.handleEvent(y)}),c[Fi])}function ft(){pe.call(this),this.i=new an(this),this.M=this,this.F=null}M(ft,pe),ft.prototype[nt]=!0,ft.prototype.removeEventListener=function(c,y,_,R){Ua(this,c,y,_,R)};function Ge(c,y){var _,R=c.F;if(R)for(_=[];R;R=R.F)_.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var Q=y;y=new se(R,c),C(y,Q)}if(Q=!0,_)for(var ae=_.length-1;0<=ae;ae--){var _e=y.g=_[ae];Q=Tn(_e,R,!0,y)&&Q}if(_e=y.g=c,Q=Tn(_e,R,!0,y)&&Q,Q=Tn(_e,R,!1,y)&&Q,_)for(ae=0;ae<_.length;ae++)_e=y.g=_[ae],Q=Tn(_e,R,!1,y)&&Q}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],R=0;R<_.length;R++)mt(_[R]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,_,R){return this.i.add(String(c),y,!1,_,R)},ft.prototype.L=function(c,y,_,R){return this.i.add(String(c),y,!0,_,R)};function Tn(c,y,_,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var Q=!0,ae=0;ae<y.length;++ae){var _e=y[ae];if(_e&&!_e.da&&_e.capture==_){var it=_e.listener,Jt=_e.ha||_e.src;_e.fa&&kn(c.i,_e),Q=it.call(Jt,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function qt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Cs(c){c.g=qt(()=>{c.g=null,c.i&&(c.i=!1,Cs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sr extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(c){pe.call(this),this.h=c,this.g={}}M(jr,pe);var Lr=[];function Ur(c){U(c.g,function(y,_){this.g.hasOwnProperty(_)&&qi(y)},c),c.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Ur(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=m.JSON.stringify,mi=m.JSON.parse,or=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function $i(){}$i.prototype.h=null;function gi(c){return c.h||(c.h=c.i())}function Ba(){}var lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){se.call(this,"d")}M(Cr,se);function Yi(){se.call(this,"c")}M(Yi,se);var Nn={},Br=null;function zr(){return Br=Br||new ft}Nn.La="serverreachability";function Qi(c){se.call(this,Nn.La,c)}M(Qi,se);function H(c){const y=zr();Ge(y,new Qi(y))}Nn.STAT_EVENT="statevent";function Y(c,y){se.call(this,Nn.STAT_EVENT,c),this.stat=y}M(Y,se);function W(c){const y=zr();Ge(y,new Y(y,c))}Nn.Ma="timingevent";function me(c,y){se.call(this,Nn.Ma,c),this.size=y}M(me,se);function ye(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function we(){this.g=!0}we.prototype.xa=function(){this.g=!1};function Oe(c,y,_,R,Q,ae){c.info(function(){if(c.g)if(ae)for(var _e="",it=ae.split("&"),Jt=0;Jt<it.length;Jt++){var at=it[Jt].split("=");if(1<at.length){var on=at[0];at=at[1];var en=on.split("_");_e=2<=en.length&&en[1]=="type"?_e+(on+"="+at+"&"):_e+(on+"=redacted&")}}else _e=null;else _e=ae;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+y+`
`+_+`
`+_e})}function xe(c,y,_,R,Q,ae,_e){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+y+`
`+_+`
`+ae+" "+_e})}function Ce(c,y,_,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ke(c,_)+(R?" "+R:"")})}function De(c,y){c.info(function(){return"TIMEOUT: "+y})}we.prototype.info=function(){};function ke(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var R=_[c];if(!(2>R.length)){var Q=R[1];if(Array.isArray(Q)&&!(1>Q.length)){var ae=Q[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var _e=1;_e<Q.length;_e++)Q[_e]=""}}}}return Fn(_)}catch{return y}}var Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},We;function gt(){}M(gt,$i),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},We=new gt;function ct(c,y,_,R){this.j=c,this.i=y,this.l=_,this.R=R||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rt}function rt(){this.i=null,this.g="",this.h=!1}var Qe={},ur={};function Zt(c,y,_){c.L=1,c.v=qa(Yn(y)),c.m=_,c.P=!0,In(c,null)}function In(c,y){c.F=Date.now(),Gn(c),c.A=Yn(c.v);var _=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Bo(_.i,"t",R),c.C=0,_=c.j.J,c.h=new rt,c.g=Iu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new sr(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,R=c.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Lr[0]=Q.toString()),Q=Lr);for(var ae=0;ae<Q.length;ae++){var _e=Ds(_,Q[ae],R||y.handleEvent,!1,y.h||y);if(!_e)break;y.g[_e.key]=_e}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),H(),Oe(c.i,c.u,c.A,c.l,c.R,c.m)}ct.prototype.ca=function(c){c=c.target;const y=this.M;y&&mr(c)==3?y.j():this.Y(c)},ct.prototype.Y=function(c){try{if(c==this.g)e:{const en=mr(this.g);var y=this.g.Ba();const Si=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||en!=4||y==7||(y==8||0>=Si?H(3):H(2)),bn(this);var _=this.g.Z();this.X=_;t:if(fn(this)){var R=Su(this.g);c="";var Q=R.length,ae=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),On(this);var _e="";break t}this.h.i=new m.TextDecoder}for(y=0;y<Q;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(ae&&y==Q-1)});R.length=0,this.h.g+=c,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=_==200,xe(this.i,this.u,this.A,this.l,this.R,en,_),this.o){if(this.T&&!this.K){t:{if(this.g){var it,Jt=this.g;if((it=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(it)){var at=it;break t}}at=null}if(_=at)Ce(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ft(this,_);else{this.o=!1,this.s=3,W(12),ze(this),On(this);break e}}if(this.P){_=!0;let mn;for(;!this.J&&this.C<_e.length;)if(mn=Hr(this,_e),mn==ur){en==4&&(this.s=4,W(14),_=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Qe){this.s=4,W(15),Ce(this.i,this.l,_e,"[Invalid Chunk]"),_=!1;break}else Ce(this.i,this.l,mn,null),Ft(this,mn);if(fn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||_e.length!=0||this.h.h||(this.s=1,W(16),_=!1),this.o=this.o&&_,!_)Ce(this.i,this.l,_e,"[Invalid Chunked Response]"),ze(this),On(this);else if(0<_e.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Wa(on),on.M=!0,W(11))}}else Ce(this.i,this.l,_e,null),Ft(this,_e);en==4&&ze(this),this.o&&!this.J&&(en==4?Du(this.j,this):(this.o=!1,Gn(this)))}else $h(this.g),_==400&&0<_e.indexOf("Unknown SID")?(this.s=3,W(12)):(this.s=0,W(13)),ze(this),On(this)}}}catch{}finally{}};function fn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hr(c,y){var _=c.C,R=y.indexOf(`
`,_);return R==-1?ur:(_=Number(y.substring(_,R)),isNaN(_)?Qe:(R+=1,R+_>y.length?ur:(y=y.slice(R,R+_),c.C=R+_,y)))}ct.prototype.cancel=function(){this.J=!0,ze(this)};function Gn(c){c.S=Date.now()+c.I,Ki(c,c.I)}function Ki(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ye(b(c.ba,c),y)}function bn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ct.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(De(this.i,this.A),this.L!=2&&(H(),W(17)),ze(this),this.s=2,On(this)):Ki(this,this.S-c)};function On(c){c.j.G==0||c.J||Du(c.j,c)}function ze(c){bn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ur(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ft(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||cr(_.h,c))){if(!c.K&&cr(_.h,c)&&_.G==3){try{var R=_.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ls(_),ks(_);else break e;Go(_),W(18)}}else _.za=Q[1],0<_.za-_.T&&37500>Q[2]&&_.F&&_.v==0&&!_.C&&(_.C=ye(b(_.Za,_),6e3));if(1>=wt(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((c.K||_.g==c)&&Ls(_),!Z(y))for(Q=_.Da.g.parse(y),y=0;y<Q.length;y++){let at=Q[y];if(_.T=at[0],at=at[1],_.G==2)if(at[0]=="c"){_.K=at[1],_.ia=at[2];const on=at[3];on!=null&&(_.la=on,_.j.info("VER="+_.la));const en=at[4];en!=null&&(_.Aa=en,_.j.info("SVER="+_.Aa));const Si=at[5];Si!=null&&typeof Si=="number"&&0<Si&&(R=1.5*Si,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const mn=c.g;if(mn){const Xr=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var ae=R.h;ae.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(pi(ae,ae.h),ae.h=null))}if(R.D){const Yo=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(R.ya=Yo,Tt(R.I,R.D,Yo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var _e=c;if(R.qa=Nu(R,R.J?R.ia:null,R.W),_e.K){dn(R.h,_e);var it=_e,Jt=R.L;Jt&&(it.I=Jt),it.B&&(bn(it),Gn(it)),R.g=_e}else xu(R);0<_.i.length&&js(_)}else at[0]!="stop"&&at[0]!="close"||bi(_,7);else _.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?bi(_,7):qo(_):at[0]!="noop"&&_.l&&_.l.ta(at),_.v=0)}}H(4)}catch{}}var $n=class{constructor(c,y){this.g=c,this.map=y}};function jn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wt(c){return c.h?1:c.g?c.g.size:0}function cr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function pi(c,y){c.g?c.g.add(y):c.h=y}function dn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jn.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return k(c.i)}function Hh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,R=0;R<_;R++)y.push(c[R]);return y}y=[],_=0;for(R in c)y[_++]=c[R];return y}function Ns(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const R in c)y[_++]=R;return y}}}function jo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ns(c),R=Hh(c),Q=R.length,ae=0;ae<Q;ae++)y.call(void 0,R[ae],_&&_[ae],c)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qh(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var R=c[_].indexOf("="),Q=null;if(0<=R){var ae=c[_].substring(0,R);Q=c[_].substring(R+1)}else ae=c[_];y(ae,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gt){this.h=c.h,Ha(this,c.j),this.o=c.o,this.g=c.g,Xi(this,c.s),this.l=c.l;var y=c.i,_=new vi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),yi(this,_),this.m=c.m}else c&&(y=String(c).match(za))?(this.h=!1,Ha(this,y[1]||"",!0),this.o=hr(y[2]||""),this.g=hr(y[3]||"",!0),Xi(this,y[4]),this.l=hr(y[5]||"",!0),yi(this,y[6]||"",!0),this.m=hr(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Gt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Fa(y,Lo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Fa(y,Lo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Fa(_,_.charAt(0)=="/"?Fh:Uo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Fa(_,Is)),c.join("")};function Yn(c){return new Gt(c)}function Ha(c,y,_){c.j=_?hr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Xi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function yi(c,y,_){y instanceof vi?(c.i=y,Tu(c.i,c.h)):(_||(y=Fa(y,Gh)),c.i=new vi(y,c.h))}function Tt(c,y,_){c.i.set(y,_)}function qa(c){return Tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function hr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fa(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Eu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Eu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,Uo=/[#\?:]/g,Fh=/[#\?]/g,Gh=/[#\?@]/g,Is=/#/g;function vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function fr(c){c.g||(c.g=new Map,c.h=0,c.i&&qh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=vi.prototype,r.add=function(c,y){fr(this),this.i=null,c=Fr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function _i(c,y){fr(c),y=Fr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ei(c,y){return fr(c),y=Fr(c,y),c.g.has(y)}r.forEach=function(c,y){fr(this),this.g.forEach(function(_,R){_.forEach(function(Q){c.call(y,Q,R,this)},this)},this)},r.na=function(){fr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let R=0;R<y.length;R++){const Q=c[R];for(let ae=0;ae<Q.length;ae++)_.push(y[R])}return _},r.V=function(c){fr(this);let y=[];if(typeof c=="string")Ei(this,c)&&(y=y.concat(this.g.get(Fr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return fr(this),this.i=null,c=Fr(this,c),Ei(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Bo(c,y,_){_i(c,y),0<_.length&&(c.i=null,c.g.set(Fr(c,y),k(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var R=y[_];const ae=encodeURIComponent(String(R)),_e=this.V(R);for(R=0;R<_e.length;R++){var Q=ae;_e[R]!==""&&(Q+="="+encodeURIComponent(String(_e[R]))),c.push(Q)}}return this.i=c.join("&")};function Fr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Tu(c,y){y&&!c.j&&(fr(c),c.i=null,c.g.forEach(function(_,R){var Q=R.toLowerCase();R!=Q&&(_i(this,R),Bo(this,Q,_))},c)),c.j=y}function Ga(c,y){const _=new we;if(m.Image){const R=new Image;R.onload=D(dr,_,"TestLoadImage: loaded",!0,y,R),R.onerror=D(dr,_,"TestLoadImage: error",!1,y,R),R.onabort=D(dr,_,"TestLoadImage: abort",!1,y,R),R.ontimeout=D(dr,_,"TestLoadImage: timeout",!1,y,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function Nr(c,y){const _=new we,R=new AbortController,Q=setTimeout(()=>{R.abort(),dr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(ae=>{clearTimeout(Q),ae.ok?dr(_,"TestPingServer: ok",!0,y):dr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Q),dr(_,"TestPingServer: error",!1,y)})}function dr(c,y,_,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(_)}catch{}}function $a(){this.g=new or}function Gr(c,y,_){const R=_||"";try{jo(c,function(Q,ae){let _e=Q;p(Q)&&(_e=Fn(Q)),y.push(R+ae+"="+encodeURIComponent(_e))})}catch(Q){throw y.push(R+"type="+encodeURIComponent("_badmap")),Q}}function Wi(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Wi,$i),Wi.prototype.g=function(){return new Ti(this.l,this.j)},Wi.prototype.i=function(c){return function(){return c}}({});function Ti(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ti,ft),r=Ti.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Yr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?$r(this):Yr(this),this.readyState==3&&zo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$r(this))},r.Qa=function(c){this.g&&(this.response=c,$r(this))},r.ga=function(){this.g&&$r(this)};function $r(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ho(c){let y="";return U(c,function(_,R){y+=R,y+=":",y+=_,y+=`\r
`}),y}function sn(c,y,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=Ho(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Tt(c,y,_))}function pt(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(pt,ft);var Os=/^https?$/i,Ya=["POST","PUT"];r=pt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():We.g(),this.v=this.o?gi(this.o):gi(We),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(ae){bu(this,ae);return}if(c=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)_.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ae of R.keys())_.set(ae,R.get(ae));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(ae=>ae.toLowerCase()=="content-type"),Q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ya,y,void 0))||R||Q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,_e]of _)this.g.setRequestHeader(ae,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qa(this),this.u=!0,this.g.send(c),this.u=!1}catch(ae){bu(this,ae)}};function bu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ms(c),Qr(c)}function Ms(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Qr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),pt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Vs(this):this.bb())},r.bb=function(){Vs(this)};function Vs(c){if(c.h&&typeof f<"u"&&(!c.v[1]||mr(c)!=4||c.Z()!=2)){if(c.u&&mr(c)==4)qt(c.Ea,0,c);else if(Ge(c,"readystatechange"),mr(c)==4){c.h=!1;try{const _e=c.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var R;if(R=_e===0){var Q=String(c.D).match(za)[1]||null;!Q&&m.self&&m.self.location&&(Q=m.self.location.protocol.slice(0,-1)),R=!Os.test(Q?Q.toLowerCase():"")}_=R}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var ae=2<mr(c)?c.g.statusText:""}catch{ae=""}c.l=ae+" ["+c.Z()+"]",Ms(c)}}finally{Qr(c)}}}}function Qr(c,y){if(c.g){Qa(c);const _=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{_.onreadystatechange=R}catch{}}}function Qa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function mr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mi(y)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $h(c){const y={};c=(c.g&&2<=mr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(Z(c[R]))continue;var _=P(c[R]);const Q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ae=y[Q]||[];y[Q]=ae,ae.push(_)}I(y,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ps(c){this.Aa=0,this.i=[],this.j=new we,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,c),this.cb=Ka("retryDelaySeedMs",1e4,c),this.Wa=Ka("forwardChannelMaxRetries",2,c),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jn(c&&c.concurrentRequestLimit),this.Da=new $a,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ps.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,R){W(0),this.W=c,this.H=y||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=Nu(this,null,this.W),js(this)};function qo(c){if(Au(c),c.G==3){var y=c.U++,_=Yn(c.I);if(Tt(_,"SID",c.K),Tt(_,"RID",y),Tt(_,"TYPE","terminate"),Xa(c,_),y=new ct(c,c.j,y),y.L=2,y.v=qa(Yn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Iu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Gn(y)}Cu(c)}function ks(c){c.g&&(Wa(c),c.g.cancel(),c.g=null)}function Au(c){ks(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ls(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function js(c){if(!qr(c.h)&&!c.s){c.s=!0;var y=c.Ga;ne||V(),te||(ne(),te=!0),Ee.add(y,c),c.B=0}}function Yh(c,y){return wt(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ye(b(c.Ga,c,y),$o(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const Q=new ct(this,this.j,c);let ae=this.o;if(this.S&&(ae?(ae=x(ae),C(ae,this.S)):ae=this.S),this.m!==null||this.O||(Q.H=ae,ae=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=wu(this,Q,y),_=Yn(this.I),Tt(_,"RID",c),Tt(_,"CVER",22),this.D&&Tt(_,"X-HTTP-Session-Id",this.D),Xa(this,_),ae&&(this.O?y="headers="+encodeURIComponent(String(Ho(ae)))+"&"+y:this.m&&sn(_,this.m,ae)),pi(this.h,Q),this.Ua&&Tt(_,"TYPE","init"),this.P?(Tt(_,"$req",y),Tt(_,"SID","null"),Q.T=!0,Zt(Q,_,null)):Zt(Q,_,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||qr(this.h)||Fo(this))};function Fo(c,y){var _;y?_=y.l:_=c.U++;const R=Yn(c.I);Tt(R,"SID",c.K),Tt(R,"RID",_),Tt(R,"AID",c.T),Xa(c,R),c.m&&c.o&&sn(R,c.m,c.o),_=new ct(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=wu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),pi(c.h,_),Zt(_,R,y)}function Xa(c,y){c.H&&U(c.H,function(_,R){Tt(y,R,_)}),c.l&&jo({},function(_,R){Tt(y,R,_)})}function wu(c,y,_){_=Math.min(c.i.length,_);var R=c.l?b(c.l.Na,c.l,c):null;e:{var Q=c.i;let ae=-1;for(;;){const _e=["count="+_];ae==-1?0<_?(ae=Q[0].g,_e.push("ofs="+ae)):ae=0:_e.push("ofs="+ae);let it=!0;for(let Jt=0;Jt<_;Jt++){let at=Q[Jt].g;const on=Q[Jt].map;if(at-=ae,0>at)ae=Math.max(0,Q[Jt].g-100),it=!1;else try{Gr(on,_e,"req"+at+"_")}catch{R&&R(on)}}if(it){R=_e.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,R}function xu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ne||V(),te||(ne(),te=!0),Ee.add(y,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ye(b(c.Fa,c),$o(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ye(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,W(10),ks(this),Ru(this))};function Wa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ru(c){c.g=new ct(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Yn(c.qa);Tt(y,"RID","rpc"),Tt(y,"SID",c.K),Tt(y,"AID",c.T),Tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Tt(y,"TO",c.ja),Tt(y,"TYPE","xmlhttp"),Xa(c,y),c.m&&c.o&&sn(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=qa(Yn(y)),_.m=null,_.P=!0,In(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ks(this),Go(this),W(19))};function Ls(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Du(c,y){var _=null;if(c.g==y){Ls(c),Wa(c),c.g=null;var R=2}else if(cr(c.h,y))_=y.D,dn(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var Q=c.B;R=zr(),Ge(R,new me(R,_)),js(c)}else xu(c);else if(Q=y.s,Q==3||Q==0&&0<y.X||!(R==1&&Yh(c,y)||R==2&&Go(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),Q){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function $o(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function bi(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),R=c.Xa;const Q=!R;R=new Gt(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ha(R,"https"),qa(R),Q?Ga(R.toString(),_):Nr(R.toString(),_)}else W(2);c.G=0,c.l&&c.l.sa(y),Cu(c),Au(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),W(2)):(this.j.info("Failed to ping google.com"),W(1))};function Cu(c){if(c.G=0,c.ka=[],c.l){const y=ko(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Nu(c,y,_){var R=_ instanceof Gt?Yn(_):new Gt(_);if(R.g!="")y&&(R.g=y+"."+R.g),Xi(R,R.s);else{var Q=m.location;R=Q.protocol,y=y?y+"."+Q.hostname:Q.hostname,Q=+Q.port;var ae=new Gt(null);R&&Ha(ae,R),y&&(ae.g=y),Q&&Xi(ae,Q),_&&(ae.l=_),R=ae}return _=c.D,y=c.ya,_&&y&&Tt(R,_,y),Tt(R,"VER",c.la),Xa(c,R),R}function Iu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new pt(new Wi({eb:_})):new pt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}r=Ou.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Us(){}Us.prototype.g=function(c,y){return new Mn(c,y)};function Mn(c,y){ft.call(this),this.g=new Ps(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Kr(this)}M(Mn,ft),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){qo(this.g)},Mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Fn(c),c=_);y.i.push(new $n(y.Ya++,c)),y.G==3&&js(y)},Mn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,Mn.aa.N.call(this)};function Mu(c){Cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Mu,Cr);function Vu(){Yi.call(this),this.status=1}M(Vu,Yi);function Kr(c){this.g=c}M(Kr,Ou),Kr.prototype.ua=function(){Ge(this.g,"a")},Kr.prototype.ta=function(c){Ge(this.g,new Mu(c))},Kr.prototype.sa=function(c){Ge(this.g,new Vu)},Kr.prototype.ra=function(){Ge(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,aT=function(){return new Us},iT=function(){return zr()},rT=Nn,vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,Kc=Me,Ue.COMPLETE="complete",nT=Ue,Ba.EventType=lr,lr.OPEN="a",lr.CLOSE="b",lr.ERROR="c",lr.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Hl=Ba,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,tT=pt}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const F_="@firebase/firestore",G_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new FE("@firebase/firestore");function yo(){return _s.logLevel}function Ae(r,...e){if(_s.logLevel<=lt.DEBUG){const n=e.map(Jm);_s.debug(`Firestore (${No}): ${r}`,...n)}}function Ui(r,...e){if(_s.logLevel<=lt.ERROR){const n=e.map(Jm);_s.error(`Firestore (${No}): ${r}`,...n)}}function Ca(r,...e){if(_s.logLevel<=lt.WARN){const n=e.map(Jm);_s.warn(`Firestore (${No}): ${r}`,...n)}}function Jm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,sT(r,a,n)}function sT(r,e,n){let a=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ui(a),new Error(a)}function yt(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||sT(e,o,a)}function qe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class IR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OR{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ji,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ji)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(yt(typeof a.accessToken=="string",31837,{l:a}),new oT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class MR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new MR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,QE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yt(this.o===void 0,3512);const a=u=>{u.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=kR(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ye(r,e){return r<e?-1:r>e?1:0}function _m(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ye(a,o);{const u=lT(),f=jR(u.encode(Y_(r,n)),u.encode(Y_(e,n)));return f!==0?f:Ye(a,o)}}n+=a>65535?2:1}return Ye(r.length,e.length)}function Y_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function jR(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ye(r[n],e[n]);return Ye(r.length,e.length)}function wo(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class ni{constructor(e,n,a){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Le(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ye(e.length,n.length)}static compareSegments(e,n){const a=ni.isNumericId(e),o=ni.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ni.extractNumericId(e).compare(ni.extractNumericId(n)):_m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}}class Dt extends ni{construct(e,n,a){return new Dt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Se(fe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const LR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends ni{construct(e,n,a){return new _n(e,n,a)}static isValidIdentifier(e){return LR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new _n([Q_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Se(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Se(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Se(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new Se(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Dt.fromString(e))}static fromName(e){return new Ie(Dt.fromString(e).popFirst(5))}static empty(){return new Ie(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r,e,n){if(!n)throw new Se(fe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function UR(r,e,n,a){if(e===!0&&a===!0)throw new Se(fe.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function K_(r){if(!Ie.isDocumentKey(r))throw new Se(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function X_(r){if(Ie.isDocumentKey(r))throw new Se(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Le(12329,{type:typeof r})}function Na(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Se(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sh(r);throw new Se(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function du(r,e){if(!cT(r))throw new Se(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new Se(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=-62135596800,Z_=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Z_);return new Ct(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<W_)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:Xt("string",Ct._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Ct(0,0))}static max(){return new He(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function BR(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=He.fromTimestamp(a===1e9?new Ct(n+1,0):new Ct(n,a));return new Ia(o,Ie.empty(),e)}function zR(r){return new Ia(r.readTime,r.key,ru)}class Ia{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ia(He.min(),Ie.empty(),ru)}static max(){return new Ia(He.max(),Ie.empty(),ru)}}function HR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(r.documentKey,e.documentKey),n!==0?n:Ye(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(r){if(r.code!==fe.FAILED_PRECONDITION||r.message!==qR)throw r;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.reject(n)}static resolve(e){return new ge((n,a)=>{n(e)})}static reject(e){return new ge((n,a)=>{a(e)})}static waitFor(e){return new ge((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>a(g))}),f=!0,u===o&&n()})}static or(e){let n=ge.resolve(!1);for(const a of e)n=n.next(o=>o?ge.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ge((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(v=>{f[p]=v,++m,m===u&&a(f)},v=>o(v))}})}static doWhile(e,n){return new ge((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function GR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this._e(a),this.ae=a=>n.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ah.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=-1;function wh(r){return r==null}function uh(r){return r===0&&1/r==-1/0}function $R(r){return typeof r=="number"&&Number.isInteger(r)&&!uh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="";function YR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=J_(e)),e=QR(r.get(n),e);return J_(e)}function QR(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case hT:n+="";break;default:n+=u}}return n}function J_(r){return r+hT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function As(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function fT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??vn.RED,this.left=o??vn.EMPTY,this.right=u??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new vn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Vr([])}unionWith(e){let n=new rn(_n.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new dT("Invalid base64 string: "+u):u}}(e);return new En(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const KR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(r){if(yt(!!r,39018),typeof r=="string"){let e=0;const n=KR.exec(r);if(yt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:zt(r.seconds),nanos:zt(r.nanos)}}function zt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ma(r){return typeof r=="string"?En.fromBase64String(r):En.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="server_timestamp",gT="__type__",pT="__previous_value__",yT="__local_write_time__";function ng(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gT])===null||n===void 0?void 0:n.stringValue)===mT}function xh(r){const e=r.mapValue.fields[pT];return ng(e)?xh(e):e}function iu(r){const e=Oa(r.mapValue.fields[yT].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,a,o,u,f,m,g,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const ch="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||ch}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__type__",WR="__max__",Uc={mapValue:{}},_T="__vector__",hh="value";function Va(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ng(r)?4:JR(r)?9007199254740991:ZR(r)?10:11:Le(28295,{value:r})}function hi(r,e){if(r===e)return!0;const n=Va(r);if(n!==Va(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return iu(r).isEqual(iu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Oa(o.timestampValue),m=Oa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Ma(o.bytesValue).isEqual(Ma(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return zt(o.geoPointValue.latitude)===zt(u.geoPointValue.latitude)&&zt(o.geoPointValue.longitude)===zt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return zt(o.integerValue)===zt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=zt(o.doubleValue),m=zt(u.doubleValue);return f===m?uh(f)===uh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return wo(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(e0(f)!==e0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!hi(f[g],m[g])))return!1;return!0}(r,e);default:return Le(52216,{left:r})}}function su(r,e){return(r.values||[]).find(n=>hi(n,e))!==void 0}function xo(r,e){if(r===e)return 0;const n=Va(r),a=Va(e);if(n!==a)return Ye(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=zt(u.integerValue||u.doubleValue),g=zt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return n0(r.timestampValue,e.timestampValue);case 4:return n0(iu(r),iu(e));case 5:return _m(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Ma(u),g=Ma(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const v=Ye(m[p],g[p]);if(v!==0)return v}return Ye(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ye(zt(u.latitude),zt(f.latitude));return m!==0?m:Ye(zt(u.longitude),zt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return r0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,p,v;const S=u.fields||{},b=f.fields||{},D=(m=S[hh])===null||m===void 0?void 0:m.arrayValue,M=(g=b[hh])===null||g===void 0?void 0:g.arrayValue,k=Ye(((p=D?.values)===null||p===void 0?void 0:p.length)||0,((v=M?.values)===null||v===void 0?void 0:v.length)||0);return k!==0?k:r0(D,M)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let S=0;S<g.length&&S<v.length;++S){const b=_m(g[S],v[S]);if(b!==0)return b;const D=xo(m[g[S]],p[v[S]]);if(D!==0)return D}return Ye(g.length,v.length)}(r.mapValue,e.mapValue);default:throw Le(23264,{le:n})}}function n0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ye(r,e);const n=Oa(r),a=Oa(e),o=Ye(n.seconds,a.seconds);return o!==0?o:Ye(n.nanos,a.nanos)}function r0(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=xo(n[o],a[o]);if(u)return u}return Ye(n.length,a.length)}function Ro(r){return Em(r)}function Em(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Oa(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ma(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ie.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Em(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Em(n.fields[f])}`;return o+"}"}(r.mapValue):Le(61005,{value:r})}function Xc(r){switch(Va(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(r);return e?16+Xc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ma(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Xc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return As(a.fields,(u,f)=>{o+=u.length+Xc(f)}),o}(r.mapValue);default:throw Le(13486,{value:r})}}function i0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Tm(r){return!!r&&"integerValue"in r}function rg(r){return!!r&&"arrayValue"in r}function a0(r){return!!r&&"nullValue"in r}function s0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wc(r){return!!r&&"mapValue"in r}function ZR(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vT])===null||n===void 0?void 0:n.stringValue)===_T}function Yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return As(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Yl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function JR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=_n.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Yl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){As(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new wr(Yl(this.value))}}function ET(r){const e=[];return As(r.fields,(n,a)=>{const o=new _n([n]);if(Wc(a)){const u=ET(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Rn(e,0,He.min(),He.min(),He.min(),wr.empty(),0)}static newFoundDocument(e,n,a,o){return new Rn(e,1,n,He.min(),a,o,0)}static newNoDocument(e,n){return new Rn(e,2,n,He.min(),He.min(),wr.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,He.min(),He.min(),wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function o0(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=Ie.comparator(Ie.fromName(f.referenceValue),n.key):a=xo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function l0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function e2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{}class Kt extends TT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new n2(e,n,a):n==="array-contains"?new a2(e,a):n==="in"?new s2(e,a):n==="not-in"?new o2(e,a):n==="array-contains-any"?new l2(e,a):new Kt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new r2(e,a):new i2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&Va(this.value)===Va(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends TT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new kr(e,n)}matches(e){return bT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function bT(r){return r.op==="and"}function ST(r){return t2(r)&&bT(r)}function t2(r){for(const e of r.filters)if(e instanceof kr)return!1;return!0}function bm(r){if(r instanceof Kt)return r.field.canonicalString()+r.op.toString()+Ro(r.value);if(ST(r))return r.filters.map(e=>bm(e)).join(",");{const e=r.filters.map(n=>bm(n)).join(",");return`${r.op}(${e})`}}function AT(r,e){return r instanceof Kt?function(a,o){return o instanceof Kt&&a.op===o.op&&a.field.isEqual(o.field)&&hi(a.value,o.value)}(r,e):r instanceof kr?function(a,o){return o instanceof kr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&AT(f,o.filters[m]),!0):!1}(r,e):void Le(19439)}function wT(r){return r instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`}(r):r instanceof kr?function(n){return n.op.toString()+" {"+n.getFilters().map(wT).join(" ,")+"}"}(r):"Filter"}class n2 extends Kt{constructor(e,n,a){super(e,n,a),this.key=Ie.fromName(a.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class r2 extends Kt{constructor(e,n){super(e,"in",n),this.keys=xT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class i2 extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=xT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ie.fromName(a.referenceValue))}class a2 extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rg(n)&&su(n.arrayValue,this.value)}}class s2 extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class o2 extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class l2 extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>su(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function u0(r,e=null,n=[],a=[],o=null,u=null,f=null){return new u2(r,e,n,a,o,u,f)}function ig(r){const e=qe(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>bm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Ro(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Ro(a)).join(",")),e.Pe=n}return e.Pe}function ag(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!e2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!AT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!l0(r.startAt,e.startAt)&&l0(r.endAt,e.endAt)}function Sm(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function c2(r,e,n,a,o,u,f,m){return new mu(r,e,n,a,o,u,f,m)}function sg(r){return new mu(r)}function c0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RT(r){return r.collectionGroup!==null}function Ql(r){const e=qe(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new rn(_n.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new dh(u,a))}),n.has(_n.keyField().canonicalString())||e.Te.push(new dh(_n.keyField(),a))}return e.Te}function ai(r){const e=qe(r);return e.Ie||(e.Ie=h2(e,Ql(r))),e.Ie}function h2(r,e){if(r.limitType==="F")return u0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new dh(o.field,u)});const n=r.endAt?new fh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new fh(r.startAt.position,r.startAt.inclusive):null;return u0(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Am(r,e){const n=r.filters.concat([e]);return new mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function wm(r,e,n){return new mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Rh(r,e){return ag(ai(r),ai(e))&&r.limitType===e.limitType}function DT(r){return`${ig(ai(r))}|lt:${r.limitType}`}function vo(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>wT(o)).join(", ")}]`),wh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Ro(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Ro(o)).join(",")),`Target(${a})`}(ai(r))}; limitType=${r.limitType})`}function Dh(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ie.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of Ql(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,m,g){const p=o0(f,m,g);return f.inclusive?p<=0:p<0}(a.startAt,Ql(a),o)||a.endAt&&!function(f,m,g){const p=o0(f,m,g);return f.inclusive?p>=0:p>0}(a.endAt,Ql(a),o))}(r,e)}function f2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CT(r){return(e,n)=>{let a=!1;for(const o of Ql(r)){const u=d2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function d2(r,e,n){const a=r.field.isKeyField()?Ie.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?xo(g,p):Le(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Le(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return fT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Mt(Ie.comparator);function Bi(){return m2}const NT=new Mt(Ie.comparator);function ql(...r){let e=NT;for(const n of r)e=e.insert(n.key,n);return e}function IT(r){let e=NT;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function ps(){return Kl()}function OT(){return Kl()}function Kl(){return new ws(r=>r.toString(),(r,e)=>r.isEqual(e))}const g2=new Mt(Ie.comparator),p2=new rn(Ie.comparator);function tt(...r){let e=p2;for(const n of r)e=e.add(n);return e}const y2=new rn(Ye);function v2(){return y2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function MT(r){return{integerValue:""+r}}function _2(r,e){return $R(e)?MT(e):og(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function E2(r,e,n){return r instanceof mh?function(o,u){const f={fields:{[gT]:{stringValue:mT},[yT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ng(u)&&(u=xh(u)),u&&(f.fields[pT]=u),{mapValue:f}}(n,e):r instanceof ou?PT(r,e):r instanceof lu?kT(r,e):function(o,u){const f=VT(o,u),m=h0(f)+h0(o.Ee);return Tm(f)&&Tm(o.Ee)?MT(m):og(o.serializer,m)}(r,e)}function T2(r,e,n){return r instanceof ou?PT(r,e):r instanceof lu?kT(r,e):n}function VT(r,e){return r instanceof gh?function(a){return Tm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class mh extends Ch{}class ou extends Ch{constructor(e){super(),this.elements=e}}function PT(r,e){const n=jT(e);for(const a of r.elements)n.some(o=>hi(o,a))||n.push(a);return{arrayValue:{values:n}}}class lu extends Ch{constructor(e){super(),this.elements=e}}function kT(r,e){let n=jT(e);for(const a of r.elements)n=n.filter(o=>!hi(o,a));return{arrayValue:{values:n}}}class gh extends Ch{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function h0(r){return zt(r.integerValue||r.doubleValue)}function jT(r){return rg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function b2(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof ou&&o instanceof ou||a instanceof lu&&o instanceof lu?wo(a.elements,o.elements,hi):a instanceof gh&&o instanceof gh?hi(a.Ee,o.Ee):a instanceof mh&&o instanceof mh}(r.transform,e.transform)}class S2{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nh{}function LT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new lg(r.key,si.none()):new gu(r.key,r.data,si.none());{const n=r.data,a=wr.empty();let o=new rn(_n.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new xs(r.key,a,new Vr(o.toArray()),si.none())}}function A2(r,e,n){r instanceof gu?function(o,u,f){const m=o.value.clone(),g=d0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof xs?function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=d0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(UT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Xl(r,e,n,a){return r instanceof gu?function(u,f,m,g){if(!Zc(u.precondition,f))return m;const p=u.value.clone(),v=m0(u.fieldTransforms,g,f);return p.setAll(v),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(r,e,n,a):r instanceof xs?function(u,f,m,g){if(!Zc(u.precondition,f))return m;const p=m0(u.fieldTransforms,g,f),v=f.data;return v.setAll(UT(u)),v.setAll(p),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,a):function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function w2(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=VT(a.transform,o||null);u!=null&&(n===null&&(n=wr.empty()),n.set(a.field,u))}return n||null}function f0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&wo(a,o,(u,f)=>b2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class gu extends Nh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends Nh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function UT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function d0(r,e,n){const a=new Map;yt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,T2(f,m,n[o]))}return a}function m0(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,E2(u,f,e))}return a}class lg extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x2 extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&A2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Xl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Xl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=OT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=LT(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(He.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,a)=>f0(n,a))&&wo(this.baseMutations,e.baseMutations,(n,a)=>f0(n,a))}}class ug{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){yt(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=function(){return g2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new ug(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,ot;function N2(r){switch(r){case fe.OK:return Le(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Le(15467,{code:r})}}function BT(r){if(r===void 0)return Ui("GRPC error has no .code"),fe.UNKNOWN;switch(r){case Qt.OK:return fe.OK;case Qt.CANCELLED:return fe.CANCELLED;case Qt.UNKNOWN:return fe.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return fe.INTERNAL;case Qt.UNAVAILABLE:return fe.UNAVAILABLE;case Qt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Qt.NOT_FOUND:return fe.NOT_FOUND;case Qt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Qt.ABORTED:return fe.ABORTED;case Qt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Qt.DATA_LOSS:return fe.DATA_LOSS;default:return Le(39323,{code:r})}}(ot=Qt||(Qt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new xa([4294967295,4294967295],0);function g0(r){const e=lT().encode(r),n=new eT;return n.update(e),new Uint8Array(n.digest())}function p0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new xa([n,a],0),new xa([o,u],0)]}class cg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(a<0)throw new Fl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=xa.fromNumber(this.fe)}pe(e,n,a){let o=e.add(n.multiply(xa.fromNumber(a)));return o.compare(I2)===1&&(o=new xa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=g0(e),[a,o]=p0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(a,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new cg(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const n=g0(e),[a,o]=p0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(a,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Ih(He.min(),o,new Mt(Ye),Bi(),tt())}}class pu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new pu(a,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.be=o}}class zT{constructor(e,n){this.targetId=e,this.De=n}}class HT{constructor(e,n,a=En.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class y0{constructor(){this.ve=0,this.Ce=v0(),this.Fe=En.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=tt(),n=tt(),a=tt();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Le(38017,{changeType:u})}}),new pu(this.Fe,this.Me,e,n,a)}ke(){this.xe=!1,this.Ce=v0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class O2{constructor(e){this.We=e,this.Ge=new Map,this.ze=Bi(),this.je=Bc(),this.Je=Bc(),this.He=new Mt(Ye)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const a=this.tt(n);switch(e.state){case 0:this.nt(n)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),a.Be(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((a,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,a=e.De.count,o=this.st(n);if(o){const u=o.target;if(Sm(u))if(a===0){const f=new Ie(u.path);this.Xe(n,f,Rn.newNoDocument(f,He.min()))}else yt(a===1,20013,{expectedCount:a});else{const f=this.ot(n);if(f!==a){const m=this._t(e),g=m?this.ut(m,e,f):1;if(g!==0){this.rt(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ma(a).toUint8Array()}catch(g){if(g instanceof dT)return Ca("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new cg(f,o,u)}catch(g){return Ca(g instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,n,a){return n.De.count===a-this.ht(e,n.targetId)?0:2}ht(e,n){const a=this.We.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&Sm(m.target)){const g=new Ie(m.target.path);this.Tt(g).has(f)||this.It(f,g)||this.Xe(f,g,Rn.newNoDocument(g,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let a=tt();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const p=this.st(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new Ih(e,n,this.He,this.ze,a);return this.ze=Bi(),this.je=Bc(),this.Je=Bc(),this.He=new Mt(Ye),o}Ze(e,n){if(!this.nt(e))return;const a=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,a),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),a&&(this.ze=this.ze.insert(n,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new y0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new rn(Ye),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new rn(Ye),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new y0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new Mt(Ie.comparator)}function v0(){return new Mt(Ie.comparator)}const M2={asc:"ASCENDING",desc:"DESCENDING"},V2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P2={and:"AND",or:"OR"};class k2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xm(r,e){return r.useProto3Json||wh(e)?e:{value:e}}function ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function j2(r,e){return ph(r,e.toTimestamp())}function oi(r){return yt(!!r,49232),He.fromTimestamp(function(n){const a=Oa(n);return new Ct(a.seconds,a.nanos)}(r))}function hg(r,e){return Rm(r,e).canonicalString()}function Rm(r,e){const n=function(o){return new Dt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function FT(r){const e=Dt.fromString(r);return yt(KT(e),10190,{key:e.toString()}),e}function Dm(r,e){return hg(r.databaseId,e.path)}function em(r,e){const n=FT(e);if(n.get(1)!==r.databaseId.projectId)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ie($T(n))}function GT(r,e){return hg(r.databaseId,e)}function L2(r){const e=FT(r);return e.length===4?Dt.emptyPath():$T(e)}function Cm(r){return new Dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $T(r){return yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function _0(r,e,n){return{name:Dm(r,e),fields:n.value.mapValue.fields}}function U2(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,v){return p.useProto3Json?(yt(v===void 0||typeof v=="string",58123),En.fromBase64String(v||"")):(yt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),En.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(p){const v=p.code===void 0?fe.UNKNOWN:BT(p.code);return new Se(v,p.message||"")}(f);n=new HT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=em(r,a.document.name),u=oi(a.document.updateTime),f=a.document.createTime?oi(a.document.createTime):He.min(),m=new wr({mapValue:{fields:a.document.fields}}),g=Rn.newFoundDocument(o,u,f,m),p=a.targetIds||[],v=a.removedTargetIds||[];n=new Jc(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=em(r,a.document),u=a.readTime?oi(a.readTime):He.min(),f=Rn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Jc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=em(r,a.document),u=a.removedTargetIds||[];n=new Jc([],u,o,null)}else{if(!("filter"in e))return Le(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new C2(o,u),m=a.targetId;n=new zT(m,f)}}return n}function B2(r,e){let n;if(e instanceof gu)n={update:_0(r,e.key,e.value)};else if(e instanceof lg)n={delete:Dm(r,e.key)};else if(e instanceof xs)n={update:_0(r,e.key,e.data),updateMask:K2(e.fieldMask)};else{if(!(e instanceof x2))return Le(16599,{Rt:e.type});n={verify:Dm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof mh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Le(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:j2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Le(27497)}(r,e.precondition)),n}function z2(r,e){return r&&r.length>0?(yt(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?oi(o.updateTime):oi(u);return f.isEqual(He.min())&&(f=oi(u)),new S2(f,o.transformResults||[])}(n,e))):[]}function H2(r,e){return{documents:[GT(r,e.path)]}}function q2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=GT(r,o);const u=function(p){if(p.length!==0)return QT(kr.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(v=>function(b){return{field:_o(b.field),direction:$2(b.dir)}}(v))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=xm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:n,parent:o}}function F2(r){let e=L2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){yt(a===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(S){const b=YT(S);return b instanceof kr&&ST(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(b=>function(M){return new dh(Eo(M.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,wh(b)?null:b}(n.limit));let g=null;n.startAt&&(g=function(S){const b=!!S.before,D=S.values||[];return new fh(D,b)}(n.startAt));let p=null;return n.endAt&&(p=function(S){const b=!S.before,D=S.values||[];return new fh(D,b)}(n.endAt)),c2(e,o,f,u,m,"F",g,p)}function G2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Eo(n.unaryFilter.field);return Kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return Kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(n.unaryFilter.field);return Kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Eo(n.unaryFilter.field);return Kt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(r):r.fieldFilter!==void 0?function(n){return Kt.create(Eo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return kr.create(n.compositeFilter.filters.map(a=>YT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(r):Le(30097,{filter:r})}function $2(r){return M2[r]}function Y2(r){return V2[r]}function Q2(r){return P2[r]}function _o(r){return{fieldPath:r.canonicalString()}}function Eo(r){return _n.fromServerFormat(r.fieldPath)}function QT(r){return r instanceof Kt?function(n){if(n.op==="=="){if(s0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(a0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(a0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:Y2(n.op),value:n.value}}}(r):r instanceof kr?function(n){const a=n.getFilters().map(o=>QT(o));return a.length===1?a[0]:{compositeFilter:{op:Q2(n.op),filters:a}}}(r):Le(54877,{filter:r})}function K2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,a,o,u=He.min(),f=He.min(),m=En.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.gt=e}}function W2(r){const e=F2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.Dn=new J2}addToCollectionParentIndex(e,n){return this.Dn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Ia.min())}updateCollectionGroup(e,n,a){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class J2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new rn(Dt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new rn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(XT,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Do(0)}static ur(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="LruGarbageCollector",eD=1048576;function b0([r,e],[n,a]){const o=Ye(r,n);return o===0?Ye(e,a):o}class tD{constructor(e){this.Tr=e,this.buffer=new rn(b0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();b0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ae(T0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?Ae(T0,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Rr(3e5)})}}class rD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(Ah.ue);const a=new tD(n);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(E0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let a,o,u,f,m,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(e,a,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(p=Date.now(),yo()<=lt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function iD(r,e){return new rD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.changes=new ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ge.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Xl(a.mutation,o,Vr.empty(),Ct.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,tt()).next(()=>a))}getLocalViewOfDocuments(e,n,a=tt()){const o=ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=ql();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=ps();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,tt()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=Bi();const f=Kl(),m=function(){return Kl()}();return n.forEach((g,p)=>{const v=a.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof xs)?u=u.insert(p.key,p):v!==void 0?(f.set(p.key,v.mutation.getFieldMask()),Xl(v.mutation,p,v.mutation.getFieldMask(),Ct.now())):f.set(p.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,v)=>f.set(p,v)),n.forEach((p,v)=>{var S;return m.set(p,new sD(v,(S=f.get(p))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Kl();let o=new Mt((f,m)=>f-m),u=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let v=a.get(g)||Vr.empty();v=m.applyToLocalView(p,v),a.set(g,v);const S=(o.get(m.batchId)||tt()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,v=g.value,S=OT();v.forEach(b=>{if(!u.has(b)){const D=LT(n.get(b),a.get(b));D!==null&&S.set(b,D),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,p,S))}return ge.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return Ie.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ge.resolve(ps());let m=ru,g=u;return f.next(p=>ge.forEach(p,(v,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(v)?ge.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{g=g.insert(v,b)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,tt())).next(v=>({batchId:m,changes:IT(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(a=>{let o=ql();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next(m=>ge.forEach(m,g=>{const p=function(S,b){return new mu(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next(v=>{v.forEach((S,b)=>{f=f.insert(S,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((g,p)=>{const v=p.getKey();f.get(v)===null&&(f=f.insert(v,Rn.newInvalidDocument(v)))});let m=ql();return f.forEach((g,p)=>{const v=u.get(g);v!==void 0&&Xl(v.mutation,p,Vr.empty(),Ct.now()),Dh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ge.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:W2(o.bundledQuery),readTime:oi(o.readTime)}}(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.overlays=new Mt(Ie.comparator),this.kr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ps();return ge.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.wt(e,n,u)}),ge.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(a)),ge.resolve()}getOverlaysForCollection(e,n,a){const o=ps(),u=n.length+1,f=new Ie(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Mt((p,v)=>p-v);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let v=u.get(p.largestBatchId);v===null&&(v=ps(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=ps(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,v)=>m.set(p,v)),!(m.size()>=o)););return ge.resolve(m)}wt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new D2(n,a));let u=this.kr.get(n);u===void 0&&(u=tt(),this.kr.set(n,u)),this.kr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.qr=new rn(hn.Qr),this.$r=new rn(hn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const a=new hn(e,n);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Wr(new hn(e,n))}Gr(e,n){e.forEach(a=>this.removeReference(a,n))}zr(e){const n=new Ie(new Dt([])),a=new hn(n,e),o=new hn(n,e+1),u=[];return this.$r.forEachInRange([a,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ie(new Dt([])),a=new hn(n,e),o=new hn(n,e+1);let u=tt();return this.$r.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new hn(e,0),a=this.qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class hn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ie.comparator(e.key,n.key)||Ye(e.Hr,n.Hr)}static Ur(e,n){return Ye(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new rn(hn.Qr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new R2(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new hn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ge.resolve(f)}lookupMutationBatch(e,n){return ge.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return ge.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?tg:this.er-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new hn(n,0),o=new hn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([a,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),ge.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new rn(Ye);return n.forEach(o=>{const u=new hn(o,0),f=new hn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{a=a.add(m.Hr)})}),ge.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ie.isDocumentKey(u)||(u=u.child(""));const f=new hn(new Ie(u),0);let m=new rn(Ye);return this.Yr.forEachWhile(g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)},f),ge.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){yt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return ge.forEach(n.mutations,o=>{const u=new hn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,n){const a=new hn(n,0),o=this.Yr.firstAfterOrEqual(a);return ge.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.ni=e,this.docs=function(){return new Mt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ge.resolve(a?a.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let a=Bi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Rn.newInvalidDocument(o))}),ge.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Bi();const f=n.path,m=new Ie(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||HR(zR(v),a)<=0||(o.has(v.key)||Dh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ge.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Le(9500)}ri(e,n){return ge.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new dD(this)}getSize(e){return ge.resolve(this.size)}}class dD extends aD{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),ge.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.persistence=e,this.ii=new ws(n=>ig(n),ag),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.si=0,this.oi=new fg,this.targetCount=0,this._i=Do.ar()}forEachTarget(e,n){return this.ii.forEach((a,o)=>n(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.si&&(this.si=n),ge.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.hr(n),ge.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ge.waitFor(u).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const a=this.ii.get(n)||null;return ge.resolve(a)}addMatchingKeys(e,n,a){return this.oi.Kr(n,a),ge.resolve()}removeMatchingKeys(e,n,a){this.oi.Gr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ge.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const a=this.oi.Jr(n);return ge.resolve(a)}containsKey(e,n){return ge.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.ai={},this.overlays={},this.ui=new Ah(0),this.ci=!1,this.ci=!0,this.li=new cD,this.referenceDelegate=e(this),this.hi=new mD(this),this.indexManager=new Z2,this.remoteDocumentCache=function(o){return new fD(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new X2(n),this.Ti=new lD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ai[e.toKey()];return a||(a=new hD(n,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,a){Ae("MemoryPersistence","Starting transaction:",e);const o=new gD(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return ge.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,n)))}}class gD extends FR{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ai=new fg,this.Ri=null}static Vi(e){return new dg(e)}get mi(){if(this.Ri)return this.Ri;throw Le(60996)}addReference(e,n,a){return this.Ai.addReference(a,n),this.mi.delete(a.toString()),ge.resolve()}removeReference(e,n,a){return this.Ai.removeReference(a,n),this.mi.add(a.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.mi,a=>{const o=Ie.fromPath(a);return this.fi(e,o).next(u=>{u||n.removeEntry(o,He.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(a=>{a?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ge.or([()=>ge.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.gi=new ws(a=>YR(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=iD(this,n)}static Vi(e,n){return new yh(e,n)}Ii(){}di(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}yr(e){let n=0;return this.gr(e,a=>{n++}).next(()=>n)}gr(e,n){return ge.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(u=>u?ge.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,n).next(m=>{m||(a++,u.removeEntry(f,He.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ge.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}Sr(e,n,a){return ge.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return ge.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Is=a,this.ds=o}static Es(e,n){let a=tt(),o=tt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mg(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return mx()?8:GR(fx())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ps(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new pD;return this.ws(e,n,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)})}).next(()=>u.result)}Ss(e,n,a,o){return a.documentReadCount<this.Vs?(yo()<=lt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ge.resolve()):(yo()<=lt.DEBUG&&Ae("QueryEngine","Query:",vo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(yo()<=lt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):ge.resolve())}ps(e,n){if(c0(n))return ge.resolve(null);let a=ai(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=wm(n,null,"F"),a=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=tt(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(g=>{const p=this.bs(n,m);return this.Ds(n,p,f,g.readTime)?this.ps(e,wm(n,null,"F")):this.vs(e,p,n,g)}))})))}ys(e,n,a,o){return c0(n)||o.isEqual(He.min())?ge.resolve(null):this.gs.getDocuments(e,a).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,a,o)?ge.resolve(null):(yo()<=lt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(n)),this.vs(e,f,n,BR(o,ru)).next(m=>m))})}bs(e,n){let a=new rn(CT(e));return n.forEach((o,u)=>{Dh(e,u)&&(a=a.add(u))}),a}Ds(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,a){return yo()<=lt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",vo(n)),this.gs.getDocumentsMatchingQuery(e,n,Ia.min(),a)}vs(e,n,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",vD=3e8;class _D{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Mt(Ye),this.Ms=new ws(u=>ig(u),ag),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function ED(r,e,n,a){return new _D(r,e,n,a)}async function ZT(r,e){const n=qe(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let g=tt();for(const p of o){f.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of u){m.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(a,g).next(p=>({Bs:p,removedBatchIds:f,addedBatchIds:m}))})})}function TD(r,e){const n=qe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,g,p,v){const S=p.batch,b=S.keys();let D=ge.resolve();return b.forEach(M=>{D=D.next(()=>v.getEntry(g,M)).next(k=>{const z=p.docVersions.get(M);yt(z!==null,48541),k.version.compareTo(z)<0&&(S.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),v.addEntry(k)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let g=tt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function JT(r){const e=qe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function bD(r,e){const n=qe(r),a=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach((v,S)=>{const b=o.get(S);if(!b)return;m.push(n.hi.removeMatchingKeys(u,v.removedDocuments,S).next(()=>n.hi.addMatchingKeys(u,v.addedDocuments,S)));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(En.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,a)),o=o.insert(S,D),function(k,z,L){return k.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=vD?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(b,D,v)&&m.push(n.hi.updateTargetData(u,D))});let g=Bi(),p=tt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(SD(u,f,e.documentUpdates).next(v=>{g=v.Ls,p=v.ks})),!a.isEqual(He.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next(S=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(v)}return ge.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Fs=o,u))}function SD(r,e,n){let a=tt(),o=tt();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let f=Bi();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(He.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):Ae(gg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{Ls:f,ks:o}})}function AD(r,e){const n=qe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=tg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function wD(r,e){const n=qe(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.hi.getTargetData(a,e).next(u=>u?(o=u,ge.resolve(o)):n.hi.allocateTargetId(a).next(f=>(o=new ba(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(a.targetId,a),n.Ms.set(e,a.targetId)),a})}async function Nm(r,e,n){const a=qe(r),o=a.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Oo(f))throw f;Ae(gg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function S0(r,e,n){const a=qe(r);let o=He.min(),u=tt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(g,p,v){const S=qe(g),b=S.Ms.get(v);return b!==void 0?ge.resolve(S.Fs.get(b)):S.hi.getTargetData(p,v)}(a,f,ai(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>a.Cs.getDocumentsMatchingQuery(f,e,n?o:He.min(),n?u:tt())).next(m=>(xD(a,f2(e),m),{documents:m,qs:u})))}function xD(r,e,n){let a=r.xs.get(e)||He.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.xs.set(e,a)}class A0{constructor(){this.activeTargetIds=v2()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RD{constructor(){this.Fo=new A0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,a){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new A0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="ConnectivityMonitor";class x0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ae(w0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ae(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Im(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",CD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ND{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===ch?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,u){const f=Im(),m=this.Go(e,n.toUriEncodedString());Ae(tm,`Sending RPC '${e}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:p}=new URL(m),v=fu(p);return this.jo(e,m,g,a,v).then(S=>(Ae(tm,`Received RPC '${e}' ${f}: `,S),S),S=>{throw Ca(tm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",a),S})}Jo(e,n,a,o,u,f){return this.Wo(e,n,a,o,u)}zo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const a=CD[e];return`${this.$o}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class OD extends ND{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,a,o,u){const f=Im();return new Promise((m,g)=>{const p=new tT;p.setWithCredentials(!0),p.listenOnce(nT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Kc.NO_ERROR:const S=p.getResponseJson();Ae(wn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Kc.TIMEOUT:Ae(wn,`RPC '${e}' ${f} timed out`),g(new Se(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const b=p.getStatus();if(Ae(wn,`RPC '${e}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const M=D?.error;if(M&&M.status&&M.message){const k=function(L){const Z=L.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Z)>=0?Z:fe.UNKNOWN}(M.status);g(new Se(k,M.message))}else g(new Se(fe.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new Se(fe.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{c_:e,streamId:f,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{Ae(wn,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(o);Ae(wn,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",v,a,15)})}P_(e,n,a){const o=Im(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=aT(),m=iT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const v=u.join("");Ae(wn,`Creating RPC '${e}' stream ${o}: ${v}`,g);const S=f.createWebChannel(v,g);this.T_(S);let b=!1,D=!1;const M=new ID({Ho:z=>{D?Ae(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(b||(Ae(wn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),Ae(wn,`RPC '${e}' stream ${o} sending:`,z),S.send(z))},Yo:()=>S.close()}),k=(z,L,Z)=>{z.listen(L,X=>{try{Z(X)}catch(le){setTimeout(()=>{throw le},0)}})};return k(S,Hl.EventType.OPEN,()=>{D||(Ae(wn,`RPC '${e}' stream ${o} transport opened.`),M.s_())}),k(S,Hl.EventType.CLOSE,()=>{D||(D=!0,Ae(wn,`RPC '${e}' stream ${o} transport closed`),M.__(),this.I_(S))}),k(S,Hl.EventType.ERROR,z=>{D||(D=!0,Ca(wn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),M.__(new Se(fe.UNAVAILABLE,"The operation could not be completed")))}),k(S,Hl.EventType.MESSAGE,z=>{var L;if(!D){const Z=z.data[0];yt(!!Z,16349);const X=Z,le=X?.error||((L=X[0])===null||L===void 0?void 0:L.error);if(le){Ae(wn,`RPC '${e}' stream ${o} received error:`,le);const he=le.status;let U=function(N){const C=Qt[N];if(C!==void 0)return BT(C)}(he),I=le.message;U===void 0&&(U=fe.INTERNAL,I="Unknown error status: "+he+" with message "+le.message),D=!0,M.__(new Se(U,I)),S.close()}else Ae(wn,`RPC '${e}' stream ${o} received:`,Z),M.a_(Z)}}),k(m,rT.STAT_EVENT,z=>{z.stat===vm.PROXY?Ae(wn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===vm.NOPROXY&&Ae(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.o_()},0),M}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(r){return new k2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=a,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-a);o>0&&Ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="PersistentStream";class tb{constructor(e,n,a,o,u,f,m,g){this.Fi=e,this.w_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new eb(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===n&&this.W_(a,o)},a=>{e(()=>{const o=new Se(fe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,n){const a=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Ae(R0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Ae(R0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MD extends tb{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=U2(this.serializer,e),a=function(u){if(!("targetChange"in u))return He.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?He.min():f.readTime?oi(f.readTime):He.min()}(e);return this.listener.J_(n,a)}H_(e){const n={};n.database=Cm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Sm(g)?{documents:H2(u,g)}:{query:q2(u,g).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=qT(u,f.resumeToken);const p=xm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(He.min())>0){m.readTime=ph(u,f.snapshotVersion.toTimestamp());const p=xm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const a=G2(this.serializer,e);a&&(n.labels=a),this.k_(n)}Y_(e){const n={};n.database=Cm(this.serializer),n.removeTarget=e,this.k_(n)}}class VD extends tb{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=z2(e.writeResults,e.commitTime),a=oi(e.commitTime);return this.listener.ta(a,n)}na(){const e={};e.database=Cm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>B2(this.serializer,a))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{}class kD extends PD{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,Rm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(fe.UNKNOWN,u.toString())})}Jo(e,n,a,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,Rm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Se(fe.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class jD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ui(n),this._a=!1):Ae("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class LD{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{a.enqueueAndForget(async()=>{Rs(this)&&(Ae(Es,"Restarting streams for network reachability change."),await async function(g){const p=qe(g);p.Ia.add(4),await yu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Mh(p)}(this))})}),this.Aa=new jD(a,o)}}async function Mh(r){if(Rs(r))for(const e of r.da)await e(!0)}async function yu(r){for(const e of r.da)await e(!1)}function nb(r,e){const n=qe(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),_g(n)?vg(n):Mo(n).x_()&&yg(n,e))}function pg(r,e){const n=qe(r),a=Mo(n);n.Ta.delete(e),a.x_()&&rb(n,e),n.Ta.size===0&&(a.x_()?a.B_():Rs(n)&&n.Aa.set("Unknown"))}function yg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(r).H_(e)}function rb(r,e){r.Ra.$e(e),Mo(r).Y_(e)}function vg(r){r.Ra=new O2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.Aa.aa()}function _g(r){return Rs(r)&&!Mo(r).M_()&&r.Ta.size>0}function Rs(r){return qe(r).Ia.size===0}function ib(r){r.Ra=void 0}async function UD(r){r.Aa.set("Online")}async function BD(r){r.Ta.forEach((e,n)=>{yg(r,e)})}async function zD(r,e){ib(r),_g(r)?(r.Aa.la(e),vg(r)):r.Aa.set("Unknown")}async function HD(r,e,n){if(r.Aa.set("Online"),e instanceof HT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(a){Ae(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vh(r,a)}else if(e instanceof Jc?r.Ra.Ye(e):e instanceof zT?r.Ra.it(e):r.Ra.et(e),!n.isEqual(He.min()))try{const a=await JT(r.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ta.get(p);v&&u.Ta.set(p,v.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,p)=>{const v=u.Ta.get(g);if(!v)return;u.Ta.set(g,v.withResumeToken(En.EMPTY_BYTE_STRING,v.snapshotVersion)),rb(u,g);const S=new ba(v.target,g,p,v.sequenceNumber);yg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){Ae(Es,"Failed to raise snapshot:",a),await vh(r,a)}}async function vh(r,e,n){if(!Oo(e))throw e;r.Ia.add(1),await yu(r),r.Aa.set("Offline"),n||(n=()=>JT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ae(Es,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await Mh(r)})}function ab(r,e){return e().catch(n=>vh(r,n,e))}async function Vh(r){const e=qe(r),n=Pa(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:tg;for(;qD(e);)try{const o=await AD(e.localStore,a);if(o===null){e.Pa.length===0&&n.B_();break}a=o.batchId,FD(e,o)}catch(o){await vh(e,o)}sb(e)&&ob(e)}function qD(r){return Rs(r)&&r.Pa.length<10}function FD(r,e){r.Pa.push(e);const n=Pa(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function sb(r){return Rs(r)&&!Pa(r).M_()&&r.Pa.length>0}function ob(r){Pa(r).start()}async function GD(r){Pa(r).na()}async function $D(r){const e=Pa(r);for(const n of r.Pa)e.X_(n.mutations)}async function YD(r,e,n){const a=r.Pa.shift(),o=ug.from(a,e,n);await ab(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Vh(r)}async function QD(r,e){e&&Pa(r).Z_&&await async function(a,o){if(function(f){return N2(f)&&f!==fe.ABORTED}(o.code)){const u=a.Pa.shift();Pa(a).N_(),await ab(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Vh(a)}}(r,e),sb(r)&&ob(r)}async function D0(r,e){const n=qe(r);n.asyncQueue.verifyOperationInProgress(),Ae(Es,"RemoteStore received new credentials");const a=Rs(n);n.Ia.add(3),await yu(n),a&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Mh(n)}async function KD(r,e){const n=qe(r);e?(n.Ia.delete(2),await Mh(n)):e||(n.Ia.add(2),await yu(n),n.Aa.set("Unknown"))}function Mo(r){return r.Va||(r.Va=function(n,a,o){const u=qe(n);return u.ia(),new MD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:UD.bind(null,r),e_:BD.bind(null,r),n_:zD.bind(null,r),J_:HD.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),_g(r)?vg(r):r.Aa.set("Unknown")):(await r.Va.stop(),ib(r))})),r.Va}function Pa(r){return r.ma||(r.ma=function(n,a,o){const u=qe(n);return u.ia(),new VD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:GD.bind(null,r),n_:QD.bind(null,r),ea:$D.bind(null,r),ta:YD.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Vh(r)):(await r.ma.stop(),r.Pa.length>0&&(Ae(Es,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Eg(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),Oo(r))return new Se(fe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ie.comparator(n.key,a.key):(n,a)=>Ie.comparator(n.key,a.key),this.keyedMap=ql(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new bo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.fa=new Mt(Ie.comparator)}track(e){const n=e.doc.key,a=this.fa.get(n);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(n,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(n):e.type===1&&a.type===2?this.fa=this.fa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Le(63341,{At:e,ga:a}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,a)=>{e.push(a)}),e}}class Co{constructor(e,n,a,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Co(e,n,bo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class WD{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,a){const o=qe(n),u=o.queries;o.queries=N0(),u.forEach((f,m)=>{for(const g of m.wa)g.onError(a)})})(this,new Se(fe.ABORTED,"Firestore shutting down"))}}function N0(){return new ws(r=>DT(r),Rh)}async function lb(r,e){const n=qe(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(a=2):(u=new XD,a=e.ba()?0:1);try{switch(a){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Tg(f,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&bg(n)}async function ub(r,e){const n=qe(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function ZD(r,e){const n=qe(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(a=!0);f.ya=o}}a&&bg(n)}function JD(r,e,n){const a=qe(r),o=a.queries.get(e);if(o)for(const u of o.wa)u.onError(n);a.queries.delete(e)}function bg(r){r.Da.forEach(e=>{e.next()})}var Om,I0;(I0=Om||(Om={})).Fa="default",I0.Cache="cache";class cb{constructor(e,n,a){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Co(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const a=n!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.key=e}}class fb{constructor(e){this.key=e}}class eC{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=tt(),this.mutatedKeys=tt(),this.Xa=CT(e),this.eu=new bo(this.Xa)}get tu(){return this.Ha}nu(e,n){const a=n?n.ru:new C0,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const b=o.get(v),D=Dh(this.query,S)?S:null,M=!!b&&this.mutatedKeys.has(b.key),k=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;b&&D?b.data.isEqual(D.data)?M!==k&&(a.track({type:3,doc:D}),z=!0):this.iu(b,D)||(a.track({type:2,doc:D}),z=!0,(g&&this.Xa(D,g)>0||p&&this.Xa(D,p)<0)&&(m=!0)):!b&&D?(a.track({type:0,doc:D}),z=!0):b&&!D&&(a.track({type:1,doc:b}),z=!0,(g||p)&&(m=!0)),z&&(D?(f=f.add(D),u=k?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{eu:f,ru:a,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((v,S)=>function(D,M){const k=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{At:z})}};return k(D)-k(M)}(v.type,S.type)||this.Xa(v.doc,S.doc)),this.su(a),o=o!=null&&o;const m=n&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,p=g!==this.Ya;return this.Ya=g,f.length!==0||p?{snapshot:new Co(this.query,e.eu,u,f,e.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new C0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=tt(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const n=[];return e.forEach(a=>{this.Za.has(a)||n.push(new fb(a))}),this.Za.forEach(a=>{e.has(a)||n.push(new hb(a))}),n}uu(e){this.Ha=e.qs,this.Za=tt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Co.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Sg="SyncEngine";class tC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class nC{constructor(e){this.key=e,this.lu=!1}}class rC{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ws(m=>DT(m),Rh),this.Tu=new Map,this.Iu=new Set,this.du=new Mt(Ie.comparator),this.Eu=new Map,this.Au=new fg,this.Ru={},this.Vu=new Map,this.mu=Do.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function iC(r,e,n=!0){const a=vb(r);let o;const u=a.Pu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await db(a,e,n,!0),o}async function aC(r,e){const n=vb(r);await db(n,e,!0,!1)}async function db(r,e,n,a){const o=await wD(r.localStore,ai(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await sC(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&nb(r.remoteStore,o),m}async function sC(r,e,n,a,o){r.gu=(S,b,D)=>async function(k,z,L,Z){let X=z.view.nu(L);X.Ds&&(X=await S0(k.localStore,z.query,!1).then(({documents:I})=>z.view.nu(I,X)));const le=Z&&Z.targetChanges.get(z.targetId),he=Z&&Z.targetMismatches.get(z.targetId)!=null,U=z.view.applyChanges(X,k.isPrimaryClient,le,he);return M0(k,z.targetId,U._u),U.snapshot}(r,S,b,D);const u=await S0(r.localStore,e,!0),f=new eC(e,u.qs),m=f.nu(u.documents),g=pu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);M0(r,n,p._u);const v=new tC(e,n,f);return r.Pu.set(e,v),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),p.snapshot}async function oC(r,e,n){const a=qe(r),o=a.Pu.get(e),u=a.Tu.get(o.targetId);if(u.length>1)return a.Tu.set(o.targetId,u.filter(f=>!Rh(f,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Nm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&pg(a.remoteStore,o.targetId),Mm(a,o.targetId)}).catch(Io)):(Mm(a,o.targetId),await Nm(a.localStore,o.targetId,!0))}async function lC(r,e){const n=qe(r),a=n.Pu.get(e),o=n.Tu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),pg(n.remoteStore,a.targetId))}async function uC(r,e,n){const a=pC(r);try{const o=await function(f,m){const g=qe(f),p=Ct.now(),v=m.reduce((D,M)=>D.add(M.key),tt());let S,b;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let M=Bi(),k=tt();return g.Os.getEntries(D,v).next(z=>{M=z,M.forEach((L,Z)=>{Z.isValidDocument()||(k=k.add(L))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,M)).next(z=>{S=z;const L=[];for(const Z of m){const X=w2(Z,S.get(Z.key).overlayedDocument);X!=null&&L.push(new xs(Z.key,X,ET(X.value.mapValue),si.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,L,m)}).next(z=>{b=z;const L=z.applyToLocalDocumentSet(S,k);return g.documentOverlayCache.saveOverlays(D,z.batchId,L)})}).then(()=>({batchId:b.batchId,changes:IT(S)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let p=f.Ru[f.currentUser.toKey()];p||(p=new Mt(Ye)),p=p.insert(m,g),f.Ru[f.currentUser.toKey()]=p}(a,o.batchId,n),await vu(a,o.changes),await Vh(a.remoteStore)}catch(o){const u=Tg(o,"Failed to persist write");n.reject(u)}}async function mb(r,e){const n=qe(r);try{const a=await bD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?yt(f.lu,14607):o.removedDocuments.size>0&&(yt(f.lu,42227),f.lu=!1))}),await vu(n,a,e)}catch(a){await Io(a)}}function O0(r,e,n){const a=qe(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=qe(f);g.onlineState=m;let p=!1;g.queries.forEach((v,S)=>{for(const b of S.wa)b.va(m)&&(p=!0)}),p&&bg(g)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function cC(r,e,n){const a=qe(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Eu.get(e),u=o&&o.key;if(u){let f=new Mt(Ie.comparator);f=f.insert(u,Rn.newNoDocument(u,He.min()));const m=tt().add(u),g=new Ih(He.min(),new Map,new Mt(Ye),f,m);await mb(a,g),a.du=a.du.remove(u),a.Eu.delete(e),Ag(a)}else await Nm(a.localStore,e,!1).then(()=>Mm(a,e,n)).catch(Io)}async function hC(r,e){const n=qe(r),a=e.batch.batchId;try{const o=await TD(n.localStore,e);pb(n,a,null),gb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await vu(n,o)}catch(o){await Io(o)}}async function fC(r,e,n){const a=qe(r);try{const o=await function(f,m){const g=qe(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return g.mutationQueue.lookupMutationBatch(p,m).next(S=>(yt(S!==null,37113),v=S.keys(),g.mutationQueue.removeMutationBatch(p,S))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>g.localDocuments.getDocuments(p,v))})}(a.localStore,e);pb(a,e,n),gb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await vu(a,o)}catch(o){await Io(o)}}function gb(r,e){(r.Vu.get(e)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(e)}function pb(r,e,n){const a=qe(r);let o=a.Ru[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function Mm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Tu.get(e))r.Pu.delete(a),n&&r.hu.pu(a,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(a=>{r.Au.containsKey(a)||yb(r,a)})}function yb(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(pg(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),Ag(r))}function M0(r,e,n){for(const a of n)a instanceof hb?(r.Au.addReference(a.key,e),dC(r,a)):a instanceof fb?(Ae(Sg,"Document no longer in limbo: "+a.key),r.Au.removeReference(a.key,e),r.Au.containsKey(a.key)||yb(r,a.key)):Le(19791,{yu:a})}function dC(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Iu.has(a)||(Ae(Sg,"New document in limbo: "+n),r.Iu.add(a),Ag(r))}function Ag(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Ie(Dt.fromString(e)),a=r.mu.next();r.Eu.set(a,new nC(n)),r.du=r.du.insert(n,a),nb(r.remoteStore,new ba(ai(sg(n.path)),a,"TargetPurposeLimboResolution",Ah.ue))}}async function vu(r,e,n){const a=qe(r),o=[],u=[],f=[];a.Pu.isEmpty()||(a.Pu.forEach((m,g)=>{f.push(a.gu(g,e,n).then(p=>{var v;if((p||n)&&a.isPrimaryClient){const S=p?!p.fromCache:(v=n?.targetChanges.get(g.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(p){o.push(p);const S=mg.Es(g.targetId,p);u.push(S)}}))}),await Promise.all(f),a.hu.J_(o),await async function(g,p){const v=qe(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ge.forEach(p,b=>ge.forEach(b.Is,D=>v.persistence.referenceDelegate.addReference(S,b.targetId,D)).next(()=>ge.forEach(b.ds,D=>v.persistence.referenceDelegate.removeReference(S,b.targetId,D)))))}catch(S){if(!Oo(S))throw S;Ae(gg,"Failed to update sequence numbers: "+S)}for(const S of p){const b=S.targetId;if(!S.fromCache){const D=v.Fs.get(b),M=D.snapshotVersion,k=D.withLastLimboFreeSnapshotVersion(M);v.Fs=v.Fs.insert(b,k)}}}(a.localStore,u))}async function mC(r,e){const n=qe(r);if(!n.currentUser.isEqual(e)){Ae(Sg,"User change. New user:",e.toKey());const a=await ZT(n.localStore,e);n.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(g=>{g.reject(new Se(fe.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await vu(n,a.Bs)}}function gC(r,e){const n=qe(r),a=n.Eu.get(e);if(a&&a.lu)return tt().add(a.key);{let o=tt();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function vb(r){const e=qe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cC.bind(null,e),e.hu.J_=ZD.bind(null,e.eventManager),e.hu.pu=JD.bind(null,e.eventManager),e}function pC(r){const e=qe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fC.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return ED(this.persistence,new yD,e.initialUser,this.serializer)}Du(e){return new WT(dg.Vi,this.serializer)}bu(e){return new RD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class yC extends _h{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){yt(this.persistence.referenceDelegate instanceof yh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new nD(a,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new WT(a=>yh.Vi(a,n),this.serializer)}}class Vm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>O0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=mC.bind(null,this.syncEngine),await KD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WD}()}createDatastore(e){const n=Oh(e.databaseInfo.databaseId),a=function(u){return new OD(u)}(e.databaseInfo);return function(u,f,m,g){return new kD(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new LD(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>O0(this.syncEngine,n,0),function(){return x0.C()?new x0:new DD}())}createSyncEngine(e,n){return function(o,u,f,m,g,p,v){const S=new rC(o,u,f,m,g,p);return v&&(S.fu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=qe(o);Ae(Es,"RemoteStore shutting down."),u.Ia.add(5),await yu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vm.provider={build:()=>new Vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class vC{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=xn.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{Ae(ka,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(Ae(ka,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Tg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function rm(r,e){r.asyncQueue.verifyOperationInProgress(),Ae(ka,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await ZT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{Ca("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{Ae("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Ca("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function V0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await _C(r);Ae(ka,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>D0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>D0(e.remoteStore,o)),r._onlineComponents=e}async function _C(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ae(ka,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===fe.FAILED_PRECONDITION||o.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ca("Error using user provided cache. Falling back to memory cache: "+n),await rm(r,new _h)}}else Ae(ka,"Using default OfflineComponentProvider"),await rm(r,new yC(void 0));return r._offlineComponents}async function Eb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ae(ka,"Using user provided OnlineComponentProvider"),await V0(r,r._uninitializedComponentsProvider._online)):(Ae(ka,"Using default OnlineComponentProvider"),await V0(r,new Vm))),r._onlineComponents}function EC(r){return Eb(r).then(e=>e.syncEngine)}async function Tb(r){const e=await Eb(r),n=e.eventManager;return n.onListen=iC.bind(null,e.syncEngine),n.onUnlisten=oC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lC.bind(null,e.syncEngine),n}function TC(r,e,n={}){const a=new ji;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const v=new _b({next:b=>{v.Ou(),f.enqueueAndForget(()=>ub(u,S));const D=b.docs.has(m);!D&&b.fromCache?p.reject(new Se(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&g&&g.source==="server"?p.reject(new Se(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),S=new cb(sg(m.path),v,{includeMetadataChanges:!0,ka:!0});return lb(u,S)}(await Tb(r),r.asyncQueue,e,n,a)),a.promise}function bC(r,e,n={}){const a=new ji;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const v=new _b({next:b=>{v.Ou(),f.enqueueAndForget(()=>ub(u,S)),b.fromCache&&g.source==="server"?p.reject(new Se(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),S=new cb(m,v,{includeMetadataChanges:!0,ka:!0});return lb(u,S)}(await Tb(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="firestore.googleapis.com",k0=!0;class j0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sb,this.ssl=k0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:k0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eD)throw new Se(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bb((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new NR;switch(a.type){case"firstParty":return new VR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Se(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=P0.get(n);a&&(Ae("ComponentProvider","Removing Datastore"),P0.delete(n),a.terminate())}(this),Promise.resolve()}}function SC(r,e,n,a={}){var o;r=Na(r,Ph);const u=fu(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${n}`;u&&(BE(`https://${g}`),HE("Firestore",!0)),f.host!==Sb&&f.host!==g&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:a});if(!oh(p,m)&&(r._setSettings(p),a.mockUserToken)){let v,S;if(typeof a.mockUserToken=="string")v=a.mockUserToken,S=xn.MOCK_USER;else{v=zE(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new Se(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new xn(b)}r._authCredentials=new IR(new oT(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class Wt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(du(n,Wt._jsonSchema))return new Wt(e,a||null,new Ie(Dt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Xt("string",Wt._jsonSchemaVersion),referencePath:Xt("string")};class Ra extends Vo{constructor(e,n,a){super(e,n,sg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ie(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function Hn(r,e,...n){if(r=ci(r),uT("collection","path",e),r instanceof Ph){const a=Dt.fromString(e,...n);return X_(a),new Ra(r,null,a)}{if(!(r instanceof Wt||r instanceof Ra))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Dt.fromString(e,...n));return X_(a),new Ra(r.firestore,null,a)}}function It(r,e,...n){if(r=ci(r),arguments.length===1&&(e=eg.newId()),uT("doc","path",e),r instanceof Ph){const a=Dt.fromString(e,...n);return K_(a),new Wt(r,null,new Ie(a))}{if(!(r instanceof Wt||r instanceof Ra))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Dt.fromString(e,...n));return K_(a),new Wt(r.firestore,r instanceof Ra?r.converter:null,new Ie(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="AsyncQueue";class U0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new eb(this,"async_queue_retry"),this.oc=()=>{const a=nm();a&&Ae(L0,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const n=nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ji;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Oo(e))throw e;Ae(L0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Ui("INTERNAL UNHANDLED ERROR: ",B0(a)),a}).then(a=>(this.nc=!1,a))));return this._c=n,n}enqueueAfterDelay(e,n,a){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=Eg.createAndSchedule(this,e,n,a,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Le(47125,{hc:B0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function B0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class _u extends Ph{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new U0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U0(e),this._firestoreClient=void 0,await e}}}function AC(r,e){const n=typeof r=="object"?r:WE(),a=typeof r=="string"?r:ch,o=YE(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=LE("firestore");u&&SC(o,...u)}return o}function wg(r){if(r._terminated)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wC(r),r._firestoreClient}function wC(r){var e,n,a;const o=r._freezeSettings(),u=function(m,g,p,v){return new XR(m,g,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,bb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new vC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m?._online.build();return{_offline:m?._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xr(En.fromBase64String(e))}catch(n){throw new Se(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xr(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,xr._jsonSchema))return xr.fromBase64String(e.bytes)}}xr._jsonSchemaVersion="firestore/bytes/1.0",xr._jsonSchema={type:Xt("string",xr._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(du(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:Xt("string",li._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ui(e.vectorValues);throw new Se(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Xt("string",ui._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=/^__.*__$/;class RC{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}function wb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ec:r})}}class Rg{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:a,mc:!1});return o.fc(e),o}gc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:a,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Eh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(wb(this.Ec)&&xC.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class DC{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Oh(e)}Dc(e,n,a,o=!1){return new Rg({Ec:e,methodName:n,bc:a,path:_n.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xb(r){const e=r._freezeSettings(),n=Oh(r._databaseId);return new DC(r._databaseId,!!e.ignoreUndefinedProperties,n)}function CC(r,e,n,a,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Cb("Data must be an object, but it was:",f,a);const m=Rb(a,f);let g,p;if(u.merge)g=new Vr(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const b=IC(e,S,n);if(!f.contains(b))throw new Se(fe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);MC(v,b)||v.push(b)}g=new Vr(v),p=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,p=f.fieldTransforms;return new RC(new wr(m),g,p)}function NC(r,e,n,a=!1){return Dg(n,r.Dc(a?4:3,e))}function Dg(r,e){if(Db(r=ci(r)))return Cb("Unsupported field value:",e,r),Rb(r,e);if(r instanceof Ab)return function(a,o){if(!wb(o.Ec))throw o.wc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let g=Dg(m,o.yc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=ci(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ct.fromDate(a);return{timestampValue:ph(o.serializer,u)}}if(a instanceof Ct){const u=new Ct(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ph(o.serializer,u)}}if(a instanceof li)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xr)return{bytesValue:qT(o.serializer,a._byteString)};if(a instanceof Wt){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ui)return function(f,m){return{mapValue:{fields:{[vT]:{stringValue:_T},[hh]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.wc("VectorValues must only contain numeric values.");return og(m.serializer,p)})}}}}}}(a,o);throw o.wc(`Unsupported field value: ${Sh(a)}`)}(r,e)}function Rb(r,e){const n={};return fT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(r,(a,o)=>{const u=Dg(o,e.Vc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function Db(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ct||r instanceof li||r instanceof xr||r instanceof Wt||r instanceof Ab||r instanceof ui)}function Cb(r,e,n){if(!Db(n)||!cT(n)){const a=Sh(n);throw a==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+a)}}function IC(r,e,n){if((e=ci(e))instanceof xg)return e._internalPath;if(typeof e=="string")return Nb(r,e);throw Eh("Field path arguments must be of type string or ",r,!1,void 0,n)}const OC=new RegExp("[~\\*/\\[\\]]");function Nb(r,e,n){if(e.search(OC)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xg(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Eh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${o}`),g+=")"),new Se(fe.INVALID_ARGUMENT,m+r+g)}function MC(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VC extends Ib{data(){return super.data()}}function Cg(r,e){return typeof e=="string"?Nb(r,e):e instanceof xg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Se(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class kC extends Ng{}function z0(r,e,...n){let a=[];e instanceof Ng&&a.push(e),a=a.concat(n),function(u){const f=u.filter(g=>g instanceof Ig).length,m=u.filter(g=>g instanceof kh).length;if(f>1||f>0&&m>0)throw new Se(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class kh extends kC{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new kh(e,n,a)}_apply(e){const n=this._parse(e);return Ob(e._query,n),new Vo(e.firestore,e.converter,Am(e._query,n))}_parse(e){const n=xb(e.firestore);return function(u,f,m,g,p,v,S){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Se(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){F0(S,v);const M=[];for(const k of S)M.push(q0(g,u,k));b={arrayValue:{values:M}}}else b=q0(g,u,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||F0(S,v),b=NC(m,f,S,v==="in"||v==="not-in");return Kt.create(p,v,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function H0(r,e,n){const a=e,o=Cg("where",r);return kh._create(o,a,n)}class Ig extends Ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ig(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)Ob(f,g),f=Am(f,g)}(e._query,n),new Vo(e.firestore,e.converter,Am(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function q0(r,e,n){if(typeof(n=ci(n))=="string"){if(n==="")throw new Se(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RT(e)&&n.indexOf("/")!==-1)throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Dt.fromString(n));if(!Ie.isDocumentKey(a))throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return i0(r,new Ie(a))}if(n instanceof Wt)return i0(r,n._key);throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(n)}.`)}function F0(r,e){if(!Array.isArray(r)||r.length===0)throw new Se(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ob(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jC{convertValue(e,n="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return As(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[hh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>zt(f.doubleValue));return new ui(u)}convertGeoPoint(e){return new li(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=xh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=Oa(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Dt.fromString(e);yt(KT(a),9688,{name:e});const o=new au(a.get(1),a.get(3)),u=new Ie(a.popFirst(5));return o.isEqual(n)||Ui(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ys extends Ib{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Cg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",ys._jsonSchema={type:Xt("string",ys._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class eh extends ys{data(e={}){return super.data(e)}}class So{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new eh(this._firestore,this._userDataWriter,a.key,a,new Gl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:UC(m.type),doc:g,oldIndex:p,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r){r=Na(r,Wt);const e=Na(r.firestore,_u);return TC(wg(e),r._key).then(n=>BC(e,r,n))}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:Xt("string",So._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Mb extends jC{constructor(e){super(),this.firestore=e}convertBytes(e){return new xr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function qn(r){r=Na(r,Vo);const e=Na(r.firestore,_u),n=wg(e),a=new Mb(e);return PC(r._query),bC(n,r._query).then(o=>new So(e,a,r,o))}function kt(r,e,n){r=Na(r,Wt);const a=Na(r.firestore,_u),o=LC(r.converter,e,n);return Vb(a,[CC(xb(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,si.none())])}function im(r){return Vb(Na(r.firestore,_u),[new lg(r._key,si.none())])}function Vb(r,e){return function(a,o){const u=new ji;return a.asyncQueue.enqueueAndForget(async()=>uC(await EC(a),o,u)),u.promise}(wg(r),e)}function BC(r,e,n){const a=n.docs.get(e._key),o=new Mb(r);return new ys(r,o,e._key,a,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){No=o})(KE),tu(new Ao("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new _u(new OR(a.getProvider("auth-internal")),new PR(f,a.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(p.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),wa(F_,G_,e),wa(F_,G_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebasestorage.googleapis.com",kb="storageBucket",zC=2*60*1e3,HC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends Ss{constructor(e,n,a=0){super(am(e),`Firebase Storage: ${n} (${am(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return am(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function am(r){return"storage/"+r}function Og(){const r="An unknown error occurred, please check the error payload for server response.";return new Lt(jt.UNKNOWN,r)}function qC(r){return new Lt(jt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function FC(r){return new Lt(jt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GC(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(jt.UNAUTHENTICATED,r)}function $C(){return new Lt(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function YC(r){return new Lt(jt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function QC(){return new Lt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KC(){return new Lt(jt.CANCELED,"User canceled the upload/download.")}function XC(r){return new Lt(jt.INVALID_URL,"Invalid URL '"+r+"'.")}function WC(r){return new Lt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function ZC(){return new Lt(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kb+"' property when initializing the app?")}function JC(){return new Lt(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eN(){return new Lt(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tN(r){return new Lt(jt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pm(r){return new Lt(jt.INVALID_ARGUMENT,r)}function jb(){return new Lt(jt.APP_DELETED,"The Firebase app was deleted.")}function nN(r){return new Lt(jt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wl(r,e){return new Lt(jt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Ul(r){throw new Lt(jt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=rr.makeFromUrl(e,n)}catch{return new rr(e,"")}if(a.path==="")return a;throw WC(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function p(le){le.path_=decodeURIComponent(le.path)}const v="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",D=new RegExp(`^https?://${S}/${v}/b/${o}/o${b}`,"i"),M={bucket:1,path:3},k=n===Pb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",L=new RegExp(`^https?://${k}/${o}/${z}`,"i"),X=[{regex:m,indices:g,postModify:u},{regex:D,indices:M,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let le=0;le<X.length;le++){const he=X[le],U=he.regex.exec(e);if(U){const I=U[he.indices.bucket];let x=U[he.indices.path];x||(x=""),a=new rr(I,x),he.postModify(a);break}}if(a==null)throw XC(e);return a}}class rN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(r,e,n){let a=1,o=null,u=null,f=!1,m=0;function g(){return m===2}let p=!1;function v(...z){p||(p=!0,e.apply(null,z))}function S(z){o=setTimeout(()=>{o=null,r(D,g())},z)}function b(){u&&clearTimeout(u)}function D(z,...L){if(p){b();return}if(z){b(),v.call(null,z,...L);return}if(g()||f){b(),v.call(null,z,...L);return}a<64&&(a*=2);let X;m===1?(m=2,X=0):X=(a+Math.random())*1e3,S(X)}let M=!1;function k(z){M||(M=!0,b(),!p&&(o!==null?(z||(m=2),clearTimeout(o),S(0)):z||(m=1)))}return S(0),u=setTimeout(()=>{f=!0,k(!0)},n),k}function aN(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(r){return r!==void 0}function oN(r){return typeof r=="object"&&!Array.isArray(r)}function Mg(r){return typeof r=="string"||r instanceof String}function G0(r){return Vg()&&r instanceof Blob}function Vg(){return typeof Blob<"u"}function $0(r,e,n,a){if(a<e)throw Pm(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>n)throw Pm(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(r,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${r}`}function Lb(r){const e=encodeURIComponent;let n="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var vs;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(vs||(vs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,a,o,u,f,m,g,p,v,S,b=!0,D=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=S,this.retry=b,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,k)=>{this.resolve_=M,this.reject_=k,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Hc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===vs.NO_ERROR,g=u.getStatus();if(!m||lN(g,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===vs.ABORT;a(!1,new Hc(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;a(!0,new Hc(p,u))})},n=(a,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());sN(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=Og();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?jb():KC();f(g)}else{const g=QC();f(g)}};this.canceled_?n(!1,new Hc(!1,null,!0)):this.backoffId_=iN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hc{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function cN(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function hN(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fN(r,e){e&&(r["X-Firebase-GMPID"]=e)}function dN(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function mN(r,e,n,a,o,u,f=!0,m=!1){const g=Lb(r.urlParams),p=r.url+g,v=Object.assign({},r.headers);return fN(v,e),cN(v,n),hN(v,u),dN(v,a),new uN(p,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pN(...r){const e=gN();if(e!==void 0){const n=new e;for(let a=0;a<r.length;a++)n.append(r[a]);return n.getBlob()}else{if(Vg())return new Blob(r);throw new Lt(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yN(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(r){if(typeof atob>"u")throw tN("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sm{constructor(e,n){this.data=e,this.contentType=n||null}}function _N(r,e){switch(r){case ri.RAW:return new sm(Ub(e));case ri.BASE64:case ri.BASE64URL:return new sm(Bb(r,e));case ri.DATA_URL:return new sm(TN(e),bN(e))}throw Og()}function Ub(r){const e=[];for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=a,f=r.charCodeAt(++n);a=65536|(u&1023)<<10|f&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function EN(r){let e;try{e=decodeURIComponent(r)}catch{throw Wl(ri.DATA_URL,"Malformed data URL.")}return Ub(e)}function Bb(r,e){switch(r){case ri.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Wl(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Wl(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=vN(e)}catch(o){throw o.message.includes("polyfill")?o:Wl(r,"Invalid character found")}const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}class zb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Wl(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=SN(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function TN(r){const e=new zb(r);return e.base64?Bb(ri.BASE64,e.rest):EN(e.rest)}function bN(r){return new zb(r).contentType}function SN(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){let a=0,o="";G0(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(G0(this.data_)){const a=this.data_,o=yN(a,e,n);return o===null?null:new Ta(o)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new Ta(a,!0)}}static getBlob(...e){if(Vg()){const n=e.map(a=>a instanceof Ta?a.data_:a);return new Ta(pN.apply(null,n))}else{const n=e.map(f=>Mg(f)?_N(ri.RAW,f).data:f.data_);let a=0;n.forEach(f=>{a+=f.byteLength});const o=new Uint8Array(a);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new Ta(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(r){let e;try{e=JSON.parse(r)}catch{return null}return oN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function wN(r,e){const n=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?n:r+"/"+n}function qb(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(r,e){return e}class Pn{constructor(e,n,a,o){this.server=e,this.local=n||e,this.writable=!!a,this.xform=o||xN}}let qc=null;function RN(r){return!Mg(r)||r.length<2?r:qb(r)}function Fb(){if(qc)return qc;const r=[];r.push(new Pn("bucket")),r.push(new Pn("generation")),r.push(new Pn("metageneration")),r.push(new Pn("name","fullPath",!0));function e(u,f){return RN(f)}const n=new Pn("name");n.xform=e,r.push(n);function a(u,f){return f!==void 0?Number(f):f}const o=new Pn("size");return o.xform=a,r.push(o),r.push(new Pn("timeCreated")),r.push(new Pn("updated")),r.push(new Pn("md5Hash",null,!0)),r.push(new Pn("cacheControl",null,!0)),r.push(new Pn("contentDisposition",null,!0)),r.push(new Pn("contentEncoding",null,!0)),r.push(new Pn("contentLanguage",null,!0)),r.push(new Pn("contentType",null,!0)),r.push(new Pn("metadata","customMetadata",!0)),qc=r,qc}function DN(r,e){function n(){const a=r.bucket,o=r.fullPath,u=new rr(a,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function CN(r,e,n){const a={};a.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];a[f.local]=f.xform(a,e[f.server])}return DN(a,r),a}function Gb(r,e,n){const a=Hb(e);return a===null?null:CN(r,a,n)}function NN(r,e,n,a){const o=Hb(e);if(o===null||!Mg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(p=>{const v=r.bucket,S=r.fullPath,b="/b/"+f(v)+"/o/"+f(S),D=Pg(b,n,a),M=Lb({alt:"media",token:p});return D+M})[0]}function IN(r,e){const n={},a=e.length;for(let o=0;o<a;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class $b{constructor(e,n,a,o){this.url=e,this.method=n,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(r){if(!r)throw Og()}function ON(r,e){function n(a,o){const u=Gb(r,o,e);return Yb(u!==null),u}return n}function MN(r,e){function n(a,o){const u=Gb(r,o,e);return Yb(u!==null),NN(u,o,r.host,r._protocol)}return n}function Qb(r){function e(n,a){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=$C():o=GC():n.getStatus()===402?o=FC(r.bucket):n.getStatus()===403?o=YC(r.path):o=a,o.status=n.getStatus(),o.serverResponse=a.serverResponse,o}return e}function VN(r){const e=Qb(r);function n(a,o){let u=e(a,o);return a.getStatus()===404&&(u=qC(r.path)),u.serverResponse=o.serverResponse,u}return n}function PN(r,e,n){const a=e.fullServerUrl(),o=Pg(a,r.host,r._protocol),u="GET",f=r.maxOperationRetryTime,m=new $b(o,u,MN(r,n),f);return m.errorHandler=VN(e),m}function kN(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function jN(r,e,n){const a=Object.assign({},n);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=kN(null,e)),a}function LN(r,e,n,a,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let X="";for(let le=0;le<2;le++)X=X+Math.random().toString().slice(2);return X}const g=m();f["Content-Type"]="multipart/related; boundary="+g;const p=jN(e,a,o),v=IN(p,n),S="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+g+"--",D=Ta.getBlob(S,a,b);if(D===null)throw JC();const M={name:p.fullPath},k=Pg(u,r.host,r._protocol),z="POST",L=r.maxUploadRetryTime,Z=new $b(k,z,ON(r,n),L);return Z.urlParams=M,Z.headers=f,Z.body=D.uploadData(),Z.errorHandler=Qb(e),Z}class UN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,o,u){if(this.sent_)throw Ul("cannot .send() more than once");if(fu(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class BN extends UN{initXhr(){this.xhr_.responseType="text"}}function Kb(){return new BN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ts(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qb(this._location.path)}get storage(){return this._service}get parent(){const e=AN(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new Ts(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nN(e)}}function zN(r,e,n){r._throwIfRoot("uploadBytes");const a=LN(r.storage,r._location,Fb(),new Ta(e,!0),n);return r.storage.makeRequestWithTokens(a,Kb).then(o=>({metadata:o,ref:r}))}function HN(r){r._throwIfRoot("getDownloadURL");const e=PN(r.storage,r._location,Fb());return r.storage.makeRequestWithTokens(e,Kb).then(n=>{if(n===null)throw eN();return n})}function qN(r,e){const n=wN(r._location.path,e),a=new rr(r._location.bucket,n);return new Ts(r.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(r){return/^[A-Za-z]+:\/\//.test(r)}function GN(r,e){return new Ts(r,e)}function Xb(r,e){if(r instanceof kg){const n=r;if(n._bucket==null)throw ZC();const a=new Ts(n,n._bucket);return e!=null?Xb(a,e):a}else return e!==void 0?qN(r,e):r}function $N(r,e){if(e&&FN(e)){if(r instanceof kg)return GN(r,e);throw Pm("To use ref(service, url), the first argument must be a Storage instance.")}else return Xb(r,e)}function Y0(r,e){const n=e?.[kb];return n==null?null:rr.makeFromBucketSpec(n,r)}function YN(r,e,n,a={}){r.host=`${e}:${n}`;const o=fu(e);o&&(BE(`https://${r.host}/b`),HE("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(r._overrideAuthToken=typeof u=="string"?u:zE(u,r.app.options.projectId))}class kg{constructor(e,n,a,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=Pb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zC,this._maxUploadRetryTime=HC,this._requests=new Set,o!=null?this._bucket=rr.makeFromBucketSpec(o,this._host):this._bucket=Y0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=Y0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(QE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ts(this,e)}_makeRequest(e,n,a,o,u=!0){if(this._deleted)return new rN(jb());{const f=mN(e,this._appId,a,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const Q0="@firebase/storage",K0="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="storage";function QN(r,e,n){return r=ci(r),zN(r,e,n)}function KN(r){return r=ci(r),HN(r)}function XN(r,e){return r=ci(r),$N(r,e)}function WN(r=WE(),e){r=ci(r);const a=YE(r,Wb).getImmediate({identifier:e}),o=LE("storage");return o&&ZN(a,...o),a}function ZN(r,e,n,a={}){YN(r,e,n,a)}function JN(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new kg(n,a,o,e,KE)}function eI(){tu(new Ao(Wb,JN,"PUBLIC").setMultipleInstances(!0)),wa(Q0,K0,""),wa(Q0,K0,"esm2017")}eI();const tI={apiKey:"AIzaSyAfEeMMgpZr8-1NGeatOe6K4NdG23HPCvI",authDomain:"saint-mark-leagues.firebaseapp.com",databaseURL:"https://saint-mark-leagues-default-rtdb.firebaseio.com",projectId:"saint-mark-leagues",storageBucket:"saint-mark-leagues.firebasestorage.app",messagingSenderId:"974377360398",appId:"1:974377360398:web:0b5865d69deff9adb6f05f"},Zb=XE(tI),Xe=AC(Zb),nI=WN(Zb),rI=()=>E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Saint Mark Leagues"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",id:"active",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),iI=()=>E.jsxs("aside",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",id:"active",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),aI=()=>{const[r,e]=F.useState(""),[n,a]=F.useState(""),[o,u]=F.useState("A"),[f,m]=F.useState(["","","","",""]),[g,p]=F.useState([null,null,null,null,null]),[v,S]=F.useState(!1),[b,D]=F.useState(""),M=(L,Z)=>{m(X=>X.map((le,he)=>he===L?Z:le))},k=(L,Z)=>{p(X=>X.map((le,he)=>he===L?Z:le))},z=async L=>{if(L.preventDefault(),D(""),!r.trim()||!n.trim()){D("League and team name required!");return}S(!0);try{const Z=It(Xe,"leagues",r),le=!(await qn(z0(Hn(Xe,"leagues"),H0("name","==",r)))).empty;if(!le){const N={name:r,matchMinutes:document.getElementById("matchMinutes")?.value||10,maxTeams:document.getElementById("maxTeams")?.value||4,maxPlayers:document.getElementById("maxPlayers")?.value||5,pointsWin:document.getElementById("pointsWin")?.value||3,pointsDraw:document.getElementById("pointsDraw")?.value||1,pointsLose:document.getElementById("pointsLose")?.value||0,classification:o};await kt(Z,N)}const he=r,U=It(Xe,`leagues/${he}/teams`,n);if(!(await qn(z0(Hn(Xe,`leagues/${he}/teams`),H0("name","==",n)))).empty){D("Team or league already exists!"),S(!1);return}const x=await Promise.all(f.map(async(N,C)=>{if(!N.trim())return null;let P="";if(g[C]){const O=XN(nI,`leagues/${he}/teams/${n}/players/${N}_${Date.now()}`);await QN(O,g[C]),P=await KN(O)}return{name:N,image:P,goals:0,assists:0,POTM:0}}));await kt(U,{name:n,DG:0,GA:0,Dif:0,Points:0,players:x.filter(Boolean),classification:o}),D(le?`Added ${n} team to ${r} league!`:"League, team, and players assigned!"),a(""),m(["","","","",""]),p([null,null,null,null,null])}catch(Z){D("Error assigning league: "+Z.message)}S(!1)};return E.jsxs("main",{className:"dashboard-main",children:[E.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",zIndex:100},children:E.jsx(rI,{})}),E.jsxs("div",{className:"d-container",children:[E.jsx("div",{className:"dashboard-sidenav",children:E.jsx(iI,{})}),E.jsx("div",{className:"dashboard-content",children:E.jsxs("section",{className:"dashboard-main-section",children:[E.jsxs("div",{className:"dashboard-card",children:[E.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:E.jsx("div",{style:{background:"#2563eb",color:"#fff",borderRadius:"50%",width:"54px",height:"54px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:900,fontSize:"1.5rem",letterSpacing:"1px"},children:"LE"})}),E.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginBottom:"24px"},children:E.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem",color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:"4px"},children:"LEAGUE SETTINGS"})}),E.jsxs("form",{className:"dashboard-form",autoComplete:"off",children:[E.jsx("input",{type:"text",id:"leagueName",name:"leagueName",placeholder:"Enter league name",value:r,onChange:L=>e(L.target.value),required:!0,className:"league-name-input"}),E.jsxs("div",{className:"dashboard-form-row",children:[E.jsx("input",{type:"number",id:"matchMinutes",name:"matchMinutes",min:"1",max:"180",placeholder:"Match Time (minutes)",className:"default-info-input"}),E.jsx("input",{type:"number",id:"maxTeams",name:"maxTeams",min:"2",max:"32",placeholder:"Max Teams in a Group",className:"default-info-input"}),E.jsx("input",{type:"number",id:"maxPlayers",name:"maxPlayers",min:"1",max:"180",placeholder:"Max Players in a Team",className:"default-info-input"}),E.jsx("input",{type:"number",id:"pointsWin",name:"pointsWin",min:"0",max:"32",placeholder:"Points per Win",className:"default-info-input",defaultValue:3}),E.jsx("input",{type:"number",id:"pointsDraw",name:"pointsDraw",min:"0",max:"32",placeholder:"Points per Draw",className:"default-info-input",defaultValue:1}),E.jsx("input",{type:"number",id:"pointsLose",name:"pointsLose",min:"0",max:"32",placeholder:"Points per Lose",className:"default-info-input",defaultValue:0})]})]})]}),E.jsxs("div",{className:"dashboard-card",children:[E.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:E.jsx("div",{style:{background:"#2563eb",color:"#fff",borderRadius:"50%",width:"54px",height:"54px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:900,fontSize:"1.5rem",letterSpacing:"1px"},children:"TP"})}),E.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginBottom:"24px"},children:E.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem",color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:"4px"},children:"ADD TEAM & PLAYERS"})}),E.jsxs("form",{className:"dashboard-form",onSubmit:z,autoComplete:"off",children:[E.jsxs("div",{className:"team-input-row",children:[E.jsx("input",{type:"text",placeholder:"Team Name",className:"team-name-input",value:n,onChange:L=>a(L.target.value),required:!0}),E.jsxs("select",{className:"team-classification-input",value:o,onChange:L=>u(L.target.value),required:!0,children:[E.jsx("option",{value:"A",children:"A"}),E.jsx("option",{value:"B",children:"B"}),E.jsx("option",{value:"C",children:"C"}),E.jsx("option",{value:"D",children:"D"})]})]}),E.jsx("div",{className:"players-list",children:f.map((L,Z)=>E.jsxs("div",{className:"player-input-row",children:[E.jsx("input",{type:"text",placeholder:`Player ${Z+1}`,className:"player-input",value:L,onChange:X=>M(Z,X.target.value),required:!0}),E.jsx("input",{type:"file",accept:"image/*",id:`player-image-input-${Z}`,style:{display:"none"},onChange:X=>{X.target.files&&X.target.files[0]&&k(Z,X.target.files[0])}}),g[Z]?E.jsx("img",{src:URL.createObjectURL(g[Z]),alt:`Player ${Z+1} Preview`,className:"player-img-preview",title:"Change Player Image",onClick:()=>document.getElementById(`player-image-input-${Z}`).click()}):E.jsx("button",{type:"button",className:"add-image-btn",title:"Add Player Image",onClick:()=>document.getElementById(`player-image-input-${Z}`).click(),children:"📷"})]},Z))}),E.jsx("button",{type:"submit",className:"submit-league-btn",id:"submit-league-btn",disabled:v,children:v?"Saving...":"Assign League"}),b&&E.jsx("div",{className:"dashboard-error",children:b})]})]})]})})]})]})},sI=F.createContext({dragDropManager:void 0});function br(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var X0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),W0=function(){return Math.random().toString(36).substring(7).split("").join(".")},Z0={INIT:"@@redux/INIT"+W0(),REPLACE:"@@redux/REPLACE"+W0()};function oI(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function Jb(r,e,n){var a;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(br(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(br(1));return n(Jb)(r,e)}if(typeof r!="function")throw new Error(br(2));var o=r,u=e,f=[],m=f,g=!1;function p(){m===f&&(m=f.slice())}function v(){if(g)throw new Error(br(3));return u}function S(k){if(typeof k!="function")throw new Error(br(4));if(g)throw new Error(br(5));var z=!0;return p(),m.push(k),function(){if(z){if(g)throw new Error(br(6));z=!1,p();var Z=m.indexOf(k);m.splice(Z,1),f=null}}}function b(k){if(!oI(k))throw new Error(br(7));if(typeof k.type>"u")throw new Error(br(8));if(g)throw new Error(br(9));try{g=!0,u=o(u,k)}finally{g=!1}for(var z=f=m,L=0;L<z.length;L++){var Z=z[L];Z()}return k}function D(k){if(typeof k!="function")throw new Error(br(10));o=k,b({type:Z0.REPLACE})}function M(){var k,z=S;return k={subscribe:function(Z){if(typeof Z!="object"||Z===null)throw new Error(br(11));function X(){Z.next&&Z.next(v())}X();var le=z(X);return{unsubscribe:le}}},k[X0]=function(){return this},k}return b({type:Z0.INIT}),a={dispatch:b,subscribe:S,getState:v,replaceReducer:D},a[X0]=M,a}function ut(r,e,...n){if(lI()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let a;if(e===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;a=new Error(e.replace(/%s/g,function(){return n[o++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}function lI(){return typeof process<"u"&&!0}function uI(r,e,n){return e.split(".").reduce((a,o)=>a&&a[o]?a[o]:n||null,r)}function cI(r,e){return r.filter(n=>n!==e)}function eS(r){return typeof r=="object"}function hI(r,e){const n=new Map,a=u=>{n.set(u,n.has(u)?n.get(u)+1:1)};r.forEach(a),e.forEach(a);const o=[];return n.forEach((u,f)=>{u===1&&o.push(f)}),o}function fI(r,e){return r.filter(n=>e.indexOf(n)>-1)}const jg="dnd-core/INIT_COORDS",jh="dnd-core/BEGIN_DRAG",Lg="dnd-core/PUBLISH_DRAG_SOURCE",Lh="dnd-core/HOVER",Uh="dnd-core/DROP",Bh="dnd-core/END_DRAG";function J0(r,e){return{type:jg,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const dI={type:jg,payload:{clientOffset:null,sourceClientOffset:null}};function mI(r){return function(n=[],a={publishSource:!0}){const{publishSource:o=!0,clientOffset:u,getSourceClientOffset:f}=a,m=r.getMonitor(),g=r.getRegistry();r.dispatch(J0(u)),gI(n,m,g);const p=vI(n,m);if(p==null){r.dispatch(dI);return}let v=null;if(u){if(!f)throw new Error("getSourceClientOffset must be defined");pI(f),v=f(p)}r.dispatch(J0(u,v));const b=g.getSource(p).beginDrag(m,p);if(b==null)return;yI(b),g.pinSource(p);const D=g.getSourceType(p);return{type:jh,payload:{itemType:D,item:b,sourceId:p,clientOffset:u||null,sourceClientOffset:v||null,isSourcePublic:!!o}}}}function gI(r,e,n){ut(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(a){ut(n.getSource(a),"Expected sourceIds to be registered.")})}function pI(r){ut(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function yI(r){ut(eS(r),"Item must be an object.")}function vI(r,e){let n=null;for(let a=r.length-1;a>=0;a--)if(e.canDragSource(r[a])){n=r[a];break}return n}function _I(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function EI(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){_I(r,o,n[o])})}return r}function TI(r){return function(n={}){const a=r.getMonitor(),o=r.getRegistry();bI(a),wI(a).forEach((f,m)=>{const g=SI(f,m,o,a),p={type:Uh,payload:{dropResult:EI({},n,g)}};r.dispatch(p)})}}function bI(r){ut(r.isDragging(),"Cannot call drop while not dragging."),ut(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function SI(r,e,n,a){const o=n.getTarget(r);let u=o?o.drop(a,r):void 0;return AI(u),typeof u>"u"&&(u=e===0?{}:a.getDropResult()),u}function AI(r){ut(typeof r>"u"||eS(r),"Drop result must either be an object or undefined.")}function wI(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function xI(r){return function(){const n=r.getMonitor(),a=r.getRegistry();RI(n);const o=n.getSourceId();return o!=null&&(a.getSource(o,!0).endDrag(n,o),a.unpinSource()),{type:Bh}}}function RI(r){ut(r.isDragging(),"Cannot call endDrag while not dragging.")}function km(r,e){return e===null?r===null:Array.isArray(r)?r.some(n=>n===e):r===e}function DI(r){return function(n,{clientOffset:a}={}){CI(n);const o=n.slice(0),u=r.getMonitor(),f=r.getRegistry(),m=u.getItemType();return II(o,f,m),NI(o,u,f),OI(o,u,f),{type:Lh,payload:{targetIds:o,clientOffset:a||null}}}}function CI(r){ut(Array.isArray(r),"Expected targetIds to be an array.")}function NI(r,e,n){ut(e.isDragging(),"Cannot call hover while not dragging."),ut(!e.didDrop(),"Cannot call hover after drop.");for(let a=0;a<r.length;a++){const o=r[a];ut(r.lastIndexOf(o)===a,"Expected targetIds to be unique in the passed array.");const u=n.getTarget(o);ut(u,"Expected targetIds to be registered.")}}function II(r,e,n){for(let a=r.length-1;a>=0;a--){const o=r[a],u=e.getTargetType(o);km(u,n)||r.splice(a,1)}}function OI(r,e,n){r.forEach(function(a){n.getTarget(a).hover(e,a)})}function MI(r){return function(){if(r.getMonitor().isDragging())return{type:Lg}}}function VI(r){return{beginDrag:mI(r),publishDragSource:MI(r),hover:DI(r),drop:TI(r),endDrag:xI(r)}}class PI{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function a(u){return(...f)=>{const m=u.apply(e,f);typeof m<"u"&&n(m)}}const o=VI(this);return Object.keys(o).reduce((u,f)=>{const m=o[f];return u[f]=a(m),u},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const a=this.store.getState().refCount>0;this.backend&&(a&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!a&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function kI(r,e){return{x:r.x+e.x,y:r.y+e.y}}function tS(r,e){return{x:r.x-e.x,y:r.y-e.y}}function jI(r){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:a}=r;return!e||!n||!a?null:tS(kI(e,a),n)}function LI(r){const{clientOffset:e,initialClientOffset:n}=r;return!e||!n?null:tS(e,n)}const Zl=[],Ug=[];Zl.__IS_NONE__=!0;Ug.__IS_ALL__=!0;function UI(r,e){return r===Zl?!1:r===Ug||typeof e>"u"?!0:fI(e,r).length>0}class BI{subscribeToStateChange(e,n={}){const{handlerIds:a}=n;ut(typeof e=="function","listener must be a function."),ut(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const u=()=>{const f=this.store.getState(),m=f.stateId;try{m===o||m===o+1&&!UI(f.dirtyHandlerIds,a)||e()}finally{o=m}};return this.store.subscribe(u)}subscribeToOffsetChange(e){ut(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const a=()=>{const o=this.store.getState().dragOffset;o!==n&&(n=o,e())};return this.store.subscribe(a)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return ut(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(ut(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const a=this.registry.getTargetType(e),o=this.getItemType();return km(a,o)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(ut(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const a=this.registry.getSourceType(e),o=this.getItemType();return a!==o?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:a}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),u=this.getItemType();if(u&&!km(o,u))return!1;const f=this.getTargetIds();if(!f.length)return!1;const m=f.indexOf(e);return a?m===f.length-1:m>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return jI(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return LI(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const eE=typeof global<"u"?global:self,nS=eE.MutationObserver||eE.WebKitMutationObserver;function rS(r){return function(){const n=setTimeout(o,0),a=setInterval(o,50);function o(){clearTimeout(n),clearInterval(a),r()}}}function zI(r){let e=1;const n=new nS(r),a=document.createTextNode("");return n.observe(a,{characterData:!0}),function(){e=-e,a.data=e}}const HI=typeof nS=="function"?zI:rS;class qI{enqueueTask(e){const{queue:n,requestFlush:a}=this;n.length||(a(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let a=0,o=e.length-this.index;a<o;a++)e[a]=e[a+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=HI(this.flush),this.requestErrorThrow=rS(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class FI{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class GI{create(e){const n=this.freeTasks,a=n.length?n.pop():new FI(this.onError,o=>n[n.length]=o);return a.task=e,a}constructor(e){this.onError=e,this.freeTasks=[]}}const iS=new qI,$I=new GI(iS.registerPendingError);function YI(r){iS.enqueueTask($I.create(r))}const Bg="dnd-core/ADD_SOURCE",zg="dnd-core/ADD_TARGET",Hg="dnd-core/REMOVE_SOURCE",zh="dnd-core/REMOVE_TARGET";function QI(r){return{type:Bg,payload:{sourceId:r}}}function KI(r){return{type:zg,payload:{targetId:r}}}function XI(r){return{type:Hg,payload:{sourceId:r}}}function WI(r){return{type:zh,payload:{targetId:r}}}function ZI(r){ut(typeof r.canDrag=="function","Expected canDrag to be a function."),ut(typeof r.beginDrag=="function","Expected beginDrag to be a function."),ut(typeof r.endDrag=="function","Expected endDrag to be a function.")}function JI(r){ut(typeof r.canDrop=="function","Expected canDrop to be a function."),ut(typeof r.hover=="function","Expected hover to be a function."),ut(typeof r.drop=="function","Expected beginDrag to be a function.")}function jm(r,e){if(e&&Array.isArray(r)){r.forEach(n=>jm(n,!1));return}ut(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ar;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(Ar||(Ar={}));let eO=0;function tO(){return eO++}function nO(r){const e=tO().toString();switch(r){case Ar.SOURCE:return`S${e}`;case Ar.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function tE(r){switch(r[0]){case"S":return Ar.SOURCE;case"T":return Ar.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function nE(r,e){const n=r.entries();let a=!1;do{const{done:o,value:[,u]}=n.next();if(u===e)return!0;a=!!o}while(!a);return!1}class rO{addSource(e,n){jm(e),ZI(n);const a=this.addHandler(Ar.SOURCE,e,n);return this.store.dispatch(QI(a)),a}addTarget(e,n){jm(e,!0),JI(n);const a=this.addHandler(Ar.TARGET,e,n);return this.store.dispatch(KI(a)),a}containsHandler(e){return nE(this.dragSources,e)||nE(this.dropTargets,e)}getSource(e,n=!1){return ut(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return ut(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return ut(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return ut(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return tE(e)===Ar.SOURCE}isTargetId(e){return tE(e)===Ar.TARGET}removeSource(e){ut(this.getSource(e),"Expected an existing source."),this.store.dispatch(XI(e)),YI(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){ut(this.getTarget(e),"Expected an existing target."),this.store.dispatch(WI(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);ut(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){ut(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,a){const o=nO(e);return this.types.set(o,n),e===Ar.SOURCE?this.dragSources.set(o,a):e===Ar.TARGET&&this.dropTargets.set(o,a),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const iO=(r,e)=>r===e;function aO(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function sO(r,e,n=iO){if(r.length!==e.length)return!1;for(let a=0;a<r.length;++a)if(!n(r[a],e[a]))return!1;return!0}function oO(r=Zl,e){switch(e.type){case Lh:break;case Bg:case zg:case zh:case Hg:return Zl;case jh:case Lg:case Bh:case Uh:default:return Ug}const{targetIds:n=[],prevTargetIds:a=[]}=e.payload,o=hI(n,a);if(!(o.length>0||!sO(n,a)))return Zl;const f=a[a.length-1],m=n[n.length-1];return f!==m&&(f&&o.push(f),m&&o.push(m)),o}function lO(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function uO(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){lO(r,o,n[o])})}return r}const rE={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function cO(r=rE,e){const{payload:n}=e;switch(e.type){case jg:case jh:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Lh:return aO(r.clientOffset,n.clientOffset)?r:uO({},r,{clientOffset:n.clientOffset});case Bh:case Uh:return rE;default:return r}}function hO(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function go(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){hO(r,o,n[o])})}return r}const fO={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function dO(r=fO,e){const{payload:n}=e;switch(e.type){case jh:return go({},r,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Lg:return go({},r,{isSourcePublic:!0});case Lh:return go({},r,{targetIds:n.targetIds});case zh:return r.targetIds.indexOf(n.targetId)===-1?r:go({},r,{targetIds:cI(r.targetIds,n.targetId)});case Uh:return go({},r,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Bh:return go({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function mO(r=0,e){switch(e.type){case Bg:case zg:return r+1;case Hg:case zh:return r-1;default:return r}}function gO(r=0){return r+1}function pO(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function yO(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){pO(r,o,n[o])})}return r}function vO(r={},e){return{dirtyHandlerIds:oO(r.dirtyHandlerIds,{type:e.type,payload:yO({},e.payload,{prevTargetIds:uI(r,"dragOperation.targetIds",[])})}),dragOffset:cO(r.dragOffset,e),refCount:mO(r.refCount,e),dragOperation:dO(r.dragOperation,e),stateId:gO(r.stateId)}}function _O(r,e=void 0,n={},a=!1){const o=EO(a),u=new BI(o,new rO(o)),f=new PI(o,u),m=r(f,e,n);return f.receiveBackend(m),f}function EO(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Jb(vO,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function TO(r,e){if(r==null)return{};var n=bO(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function bO(r,e){if(r==null)return{};var n={},a=Object.keys(r),o,u;for(u=0;u<a.length;u++)o=a[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}let iE=0;const th=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var SO=F.memo(function(e){var{children:n}=e,a=TO(e,["children"]);const[o,u]=AO(a);return F.useEffect(()=>{if(u){const f=aS();return++iE,()=>{--iE===0&&(f[th]=null)}}},[]),E.jsx(sI.Provider,{value:o,children:n})});function AO(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=wO(r.backend,r.context,r.options,r.debugMode),n=!r.context;return[e,n]}function wO(r,e=aS(),n,a){const o=e;return o[th]||(o[th]={dragDropManager:_O(r,e,n,a)}),o[th]}function aS(){return typeof global<"u"?global:window}function sS(r){let e=null;return()=>(e==null&&(e=r()),e)}function xO(r,e){return r.filter(n=>n!==e)}function RO(r,e){const n=new Set,a=u=>n.add(u);r.forEach(a),e.forEach(a);const o=[];return n.forEach(u=>o.push(u)),o}class DO{enter(e){const n=this.entered.length,a=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=RO(this.entered.filter(a),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=xO(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class CO{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(a=>{const o=this.config.exposeProperties[a];o!=null&&(n[a]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const oS="__NATIVE_FILE__",lS="__NATIVE_URL__",uS="__NATIVE_TEXT__",cS="__NATIVE_HTML__",aE=Object.freeze(Object.defineProperty({__proto__:null,FILE:oS,HTML:cS,TEXT:uS,URL:lS},Symbol.toStringTag,{value:"Module"}));function om(r,e,n){const a=e.reduce((o,u)=>o||r.getData(u),"");return a??n}const Lm={[oS]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[cS]:{exposeProperties:{html:(r,e)=>om(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[lS]:{exposeProperties:{urls:(r,e)=>om(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[uS]:{exposeProperties:{text:(r,e)=>om(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function NO(r,e){const n=Lm[r];if(!n)throw new Error(`native type ${r} has no configuration`);const a=new CO(n);return a.loadDataTransfer(e),a}function lm(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(Lm).filter(n=>{const a=Lm[n];return a?.matchesTypes?a.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}const IO=sS(()=>/firefox/i.test(navigator.userAgent)),hS=sS(()=>!!window.safari);class sE{interpolate(e){const{xs:n,ys:a,c1s:o,c2s:u,c3s:f}=this;let m=n.length-1;if(e===n[m])return a[m];let g=0,p=f.length-1,v;for(;g<=p;){v=Math.floor(.5*(g+p));const D=n[v];if(D<e)g=v+1;else if(D>e)p=v-1;else return a[v]}m=Math.max(0,p);const S=e-n[m],b=S*S;return a[m]+o[m]*S+u[m]*b+f[m]*S*b}constructor(e,n){const{length:a}=e,o=[];for(let D=0;D<a;D++)o.push(D);o.sort((D,M)=>e[D]<e[M]?-1:1);const u=[],f=[];let m,g;for(let D=0;D<a-1;D++)m=e[D+1]-e[D],g=n[D+1]-n[D],u.push(m),f.push(g/m);const p=[f[0]];for(let D=0;D<u.length-1;D++){const M=f[D],k=f[D+1];if(M*k<=0)p.push(0);else{m=u[D];const z=u[D+1],L=m+z;p.push(3*L/((L+z)/M+(L+m)/k))}}p.push(f[f.length-1]);const v=[],S=[];let b;for(let D=0;D<p.length-1;D++){b=f[D];const M=p[D],k=1/u[D],z=M+p[D+1]-b-b;v.push((b-M-z)*k),S.push(z*k*k)}this.xs=e,this.ys=n,this.c1s=p,this.c2s=v,this.c3s=S}}const OO=1;function fS(r){const e=r.nodeType===OO?r:r.parentElement;if(!e)return null;const{top:n,left:a}=e.getBoundingClientRect();return{x:a,y:n}}function Fc(r){return{x:r.clientX,y:r.clientY}}function MO(r){var e;return r.nodeName==="IMG"&&(IO()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function VO(r,e,n,a){let o=r?e.width:n,u=r?e.height:a;return hS()&&r&&(u/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:u}}function PO(r,e,n,a,o){const u=MO(e),m=fS(u?r:e),g={x:n.x-m.x,y:n.y-m.y},{offsetWidth:p,offsetHeight:v}=r,{anchorX:S,anchorY:b}=a,{dragPreviewWidth:D,dragPreviewHeight:M}=VO(u,e,p,v),k=()=>{let U=new sE([0,.5,1],[g.y,g.y/v*M,g.y+M-v]).interpolate(b);return hS()&&u&&(U+=(window.devicePixelRatio-1)*M),U},z=()=>new sE([0,.5,1],[g.x,g.x/p*D,g.x+D-p]).interpolate(S),{offsetX:L,offsetY:Z}=o,X=L===0||L,le=Z===0||Z;return{x:X?L:z(),y:le?Z:k()}}class kO{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function jO(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function oE(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){jO(r,o,n[o])})}return r}class LO{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,a){return this.sourcePreviewNodeOptions.set(e,a),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,a){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,a);const o=f=>this.handleDragStart(f,e),u=f=>this.handleSelectStart(f);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",u),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",u),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const a=f=>this.handleDragEnter(f,e),o=f=>this.handleDragOver(f,e),u=f=>this.handleDrop(f,e);return n.addEventListener("dragenter",a),n.addEventListener("dragover",o),n.addEventListener("drop",u),()=>{n.removeEventListener("dragenter",a),n.removeEventListener("dragover",o),n.removeEventListener("drop",u)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return oE({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return oE({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(aE).some(n=>aE[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=NO(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var a;return(a=this.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,a){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const u=this.sourceNodes.get(o);return u&&fS(u)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:u}=this;this.dragStartSourceIds=null;const f=Fc(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(u||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:f});const{dataTransfer:m}=o,g=lm(m);if(this.monitor.isDragging()){if(m&&typeof m.setDragImage=="function"){const v=this.monitor.getSourceId(),S=this.sourceNodes.get(v),b=this.sourcePreviewNodes.get(v)||S;if(b){const{anchorX:D,anchorY:M,offsetX:k,offsetY:z}=this.getCurrentSourcePreviewNodeOptions(),X=PO(S,b,f,{anchorX:D,anchorY:M},{offsetX:k,offsetY:z});m.setDragImage(b,X.x,X.y)}}try{m?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:p}=this.getCurrentSourcePreviewNodeOptions();p?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(g)this.beginDragNativeItem(g);else{if(m&&!m.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var u;(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:m}=o,g=lm(m);g&&this.beginDragNativeItem(g,m)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:u}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,u.length>0&&this.actions.hover(u,{clientOffset:Fc(o)}),u.some(m=>this.monitor.canDropOnTarget(m))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var u;(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:u}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=Fc(o),this.scheduleHover(u),(u||[]).some(m=>this.monitor.canDropOnTarget(m))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var u;o.preventDefault(),(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(o.dataTransfer)}else lm(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:u}=this;this.dropTargetIds=[],this.actions.hover(u,{clientOffset:Fc(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const u=o.target;typeof u.dragDrop=="function"&&(u.tagName==="INPUT"||u.tagName==="SELECT"||u.tagName==="TEXTAREA"||u.isContentEditable||(o.preventDefault(),u.dragDrop()))},this.options=new kO(n,a),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new DO(this.isNodeInDocument)}}const UO=function(e,n,a){return new LO(e,n,a)},Gc=["#00c2abff","#2563eb","#10b981","#e11d48","#6366f1","#fbbf24","#14b8a6","#f43f5e","#a3e635","#f472b6"],BO=()=>{const[r,e]=F.useState(""),[n,a]=F.useState({}),[o,u]=F.useState([]),[f,m]=F.useState(""),[g,p]=F.useState(!1),v=k=>k.sort((z,L)=>L.Points!==z.Points?L.Points-z.Points:L.GA!==z.GA?L.GA-z.GA:z.DG!==L.DG?z.DG-L.DG:L.Dif-z.Dif),S=async()=>{if(!r){alert("Please enter a league name first.");return}if(window.confirm("Are you sure you want to reset all group assignments? This will remove group assignments for all teams."))try{p(!0);const k=Hn(Xe,`leagues/${r}/groups`),L=(await qn(k)).docs.map(he=>im(he.ref));await Promise.all(L);const Z=Hn(Xe,`leagues/${r}/teams`),le=(await qn(Z)).docs.map(he=>kt(he.ref,{group:null},{merge:!0}));await Promise.all(le),a({}),u([]),alert("Group assignments have been reset successfully!")}catch(k){console.error("Error resetting group assignments:",k),alert("Error resetting group assignments: "+k.message)}finally{p(!1)}};F.useEffect(()=>{(async()=>{if(!r){a({}),u([]),m("");return}p(!0),m("");try{const z=Hn(Xe,`leagues/${r}/teams`),L=await qn(z);let Z=[];L.forEach(I=>{const x=I.data();Z.push({id:I.id,name:x.name,DG:x.DG||0,GA:x.GA||0,Dif:x.Dif||0,Points:x.Points||0,group:x.group||null})});const X={},le=[];Z.forEach(I=>{I.group?(X[I.group]||(X[I.group]=[]),X[I.group].push(I)):le.push(I)});const he={};Object.keys(X).forEach(I=>{he[I]=v(X[I])});const U=v(le);a(he),u(U)}catch(z){console.error("Error loading teams or groups:",z),m("Error loading teams or groups."),a({}),u([])}finally{p(!1)}})()},[r]);const b=async()=>{if(!r){alert("Please enter a league name first.");return}try{p(!0);const k=Hn(Xe,`leagues/${r}/groups`),L=(await qn(k)).docs.map(I=>im(I.ref));await Promise.all(L);const Z=[],X=Object.keys(n).sort();for(const I of X){const x=n[I];if(x&&x.length>0){const N=It(Xe,`leagues/${r}/groups`,I);Z.push(kt(N,{teams:x}));for(const C of x){const P=C.id||C.name,O=It(Xe,`leagues/${r}/teams`,P);Z.push(kt(O,{group:I},{merge:!0}))}}}for(const I of o){const x=I.id||I.name,N=It(Xe,`leagues/${r}/teams`,x);Z.push(kt(N,{group:null},{merge:!0}))}const le=[];let he=1;for(const I of X){const x=n[I]||[];if(x.length>1)for(let N=0;N<x.length;N++)for(let C=N+1;C<x.length;C++)le.push({group:I,matchNum:he++,teamA:x[N].name,teamB:x[C].name})}const U=It(Xe,`leagues/${r}/groups`,"matches");le.length>0?Z.push(kt(U,{matches:le},{merge:!0})):Z.push(im(U).catch(I=>console.log("No central matches doc to delete or error deleting:",I))),await Promise.all(Z),alert("Groups and matches saved successfully!")}catch(k){console.error("Error saving groups:",k),alert("Error saving groups: "+k.message)}finally{p(!1)}},D=({team:k})=>E.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[E.jsx("td",{style:{padding:"8px",fontWeight:600},children:k.name}),E.jsx("td",{style:{padding:"8px"},children:k.Points}),E.jsx("td",{style:{padding:"8px"},children:k.GA}),E.jsx("td",{style:{padding:"8px"},children:k.DG}),E.jsx("td",{style:{padding:"8px"},children:k.Dif})]}),M=({groupName:k,teams:z})=>{const L=k.charCodeAt(0)-65,Z=isNaN(L)||L<0?0:L%Gc.length;return E.jsxs("div",{className:"groups-super-card classic-group",style:{background:Gc[Z],boxShadow:"0 2px 12px #0002",borderRadius:"14px",padding:"18px 14px",margin:"18px",minWidth:220,maxWidth:340,flex:"1 1 260px",color:"#fff",border:"2px solid #fff",position:"relative",overflow:"hidden"},children:[E.jsxs("div",{className:"groups-super-label classic-group-title",style:{fontWeight:700,fontSize:"1.5rem",letterSpacing:"2px",marginBottom:12,color:"#fff",borderBottom:"2px solid #fff",paddingBottom:8},children:["Group ",k]}),E.jsxs("table",{style:{width:"100%",background:"#fff",color:Gc[Z],borderRadius:"8px",boxShadow:"0 2px 8px #0001",borderCollapse:"collapse",marginBottom:"8px"},children:[E.jsx("thead",{children:E.jsxs("tr",{style:{background:Gc[Z],color:"#fff"},children:[E.jsx("th",{style:{padding:"8px"},children:"Team"}),E.jsx("th",{style:{padding:"8px"},children:"Pts"}),E.jsx("th",{style:{padding:"8px"},children:"GA"}),E.jsx("th",{style:{padding:"8px"},children:"GD"}),E.jsx("th",{style:{padding:"8px"},children:"Dif"})]})}),E.jsx("tbody",{children:z.map(X=>E.jsx(D,{team:X},`${k}-${X.name}`))})]})]})};return E.jsx(SO,{backend:UO,children:E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Groups"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"#2025",children:"2025"}),E.jsx("a",{href:"#history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("div",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",id:"active",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("div",{className:"groups-super-page",style:{width:"100%"},children:[E.jsxs("header",{className:"groups-header",children:[E.jsx("h1",{className:"groups-title",children:"Groups Draw"}),E.jsxs("div",{className:"groups-controls",children:[E.jsx("input",{type:"text",className:"groups-league-input",placeholder:"Enter League Name...",value:r,onChange:k=>e(k.target.value)}),E.jsx("button",{onClick:S,style:{background:"#e11d48",color:"white",border:"none",borderRadius:"4px",padding:"8px 16px",cursor:"pointer",marginLeft:"8px"},disabled:g,children:"Reset Groups"})]})]}),f&&(!r||f!=="League not found."&&f!=="No teams found for this league.")&&E.jsx("div",{className:"groups-error",children:f}),g?E.jsx("div",{className:"groups-loading",children:"Loading groups..."}):E.jsx(E.Fragment,{children:E.jsxs("div",{className:"groups-list-super",children:[Object.keys(n).sort().map(k=>E.jsx(M,{groupName:k,teams:n[k]},k)),o.length>0&&E.jsxs("div",{className:"groups-super-card classic-group",style:{background:"#fff",boxShadow:"0 2px 12px #0002",borderRadius:"14px",padding:"18px 14px",margin:"18px",minWidth:220,maxWidth:340,flex:"1 1 260px",color:"#2563eb",border:"2px solid #2563eb",position:"relative",overflow:"hidden"},children:[E.jsx("div",{className:"groups-super-label classic-group-title",style:{fontWeight:700,fontSize:"1.5rem",letterSpacing:"2px",marginBottom:12,color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:8},children:"Waiting Teams"}),E.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:o.map(k=>E.jsx("li",{style:{fontWeight:600,fontSize:"1rem",color:"#222",marginBottom:"6px"},children:k.name},`waiting-${k.name}`))})]})]})}),E.jsxs("div",{style:{margin:"32px 0",textAlign:"center"},children:[E.jsx("h2",{style:{fontWeight:800,fontSize:"1.3rem",marginBottom:"18px",color:"#2563eb"},children:"Stages"}),E.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"16px"},children:[{name:"Stage 32",count:32},{name:"Stage 16",count:16},{name:"Quarter Final",count:8},{name:"Semi Final",count:4},{name:"Final",count:2}].map(k=>E.jsx("button",{className:"save-groups-btn",style:{padding:"12px 28px",fontWeight:700,fontSize:"1.08rem",borderRadius:"8px",background:"#10b981",color:"#fff",border:"none",boxShadow:"0 1px 4px #0001",cursor:"pointer"},onClick:async()=>{if(window.confirm(`Are you sure to start ${k.name}?`))try{const z=[];Object.entries(n).forEach(([ee,ve])=>{[...ve].sort((ne,te)=>te.Points!==ne.Points?te.Points-ne.Points:te.GA!==ne.GA?te.GA-ne.GA:ne.DG!==te.DG?ne.DG-te.DG:te.Dif-ne.Dif).forEach((ne,te)=>{z.push({...ne,group:ee,groupPosition:te+1,id:ne.id?.trim()||ne.name?.trim(),name:ne.name?.trim()})})}),console.log("All teams with group info:",z);const L=z.filter(ee=>ee.groupPosition===1),Z=z.filter(ee=>ee.groupPosition===2),X=z.filter(ee=>ee.groupPosition===3);console.log("First place teams:",L),console.log("Second place teams:",Z),console.log("Third place teams:",X);let le=[...L,...Z];console.log(`Qualified teams from top 2 of each group: ${le.length}`);const he=k.count;if(le.length<he){const ee=he-le.length;console.log(`Need ${ee} more teams from third place`);const B=X.sort((ne,te)=>te.Points!==ne.Points?te.Points-ne.Points:te.GA!==ne.GA?te.GA-ne.GA:ne.DG!==te.DG?ne.DG-te.DG:te.Dif-ne.Dif).slice(0,ee);le=[...le,...B],console.log("Best third place teams added:",B)}if(le.length<he){alert(`Not enough teams to start ${k.name}. Need ${he}, but only have ${le.length} qualified teams.`);return}const U=le.sort((ee,ve)=>ve.Points!==ee.Points?ve.Points-ee.Points:ve.GA!==ee.GA?ve.GA-ee.GA:ee.DG!==ve.DG?ee.DG-ve.DG:ve.Dif-ee.Dif).slice(0,he);console.log("Final qualified teams:",U);const I=U.slice();for(let ee=I.length-1;ee>0;ee--){const ve=Math.floor(Math.random()*(ee+1));[I[ee],I[ve]]=[I[ve],I[ee]]}const x=[];for(let ee=0;ee<I.length;ee+=2)I[ee+1]&&x.push({teamA:I[ee].id||I[ee].name,teamAName:I[ee].name,teamB:I[ee+1].id||I[ee+1].name,teamBName:I[ee+1].name,teamAGroup:I[ee].group,teamBGroup:I[ee+1].group,teamAPosition:I[ee].groupPosition,teamBPosition:I[ee+1].groupPosition});console.log("Generated matches:",x);const N=It(Xe,`leagues/${r}/knockout`,k.name);await kt(N,{teams:U.map(ee=>({name:ee.name,group:ee.group,position:ee.groupPosition,points:ee.Points,goalDifference:ee.Dif})),matches:x,stage:k.name,createdAt:new Date().toISOString(),qualificationMethod:{firstPlace:L.length,secondPlace:Z.length,thirdPlace:U.filter(ee=>ee.groupPosition===3).length,totalGroups:Object.keys(n).length}});const C=U.filter(ee=>ee.groupPosition===1).length,P=U.filter(ee=>ee.groupPosition===2).length,O=U.filter(ee=>ee.groupPosition===3).length;let w=`Knockout stage '${k.name}' created!
`;w+=`Qualified teams (${U.length}):
`,w+=`• ${C} group winners
`,w+=`• ${P} group runners-up
`,O>0&&(w+=`• ${O} best third-place teams
`),w+=`
Matches created: ${x.length}`,alert(w)}catch(z){console.error("Error creating knockout stage:",z),alert("Error saving knockout stage: "+z.message)}},children:k.name},k.name))})]}),E.jsx("button",{className:"save-groups-btn",style:{margin:"32px auto 0 auto",display:"block",padding:"14px 38px",fontWeight:700,fontSize:"1.2rem",borderRadius:"8px",background:"#2563eb",color:"#fff",border:"none",boxShadow:"0 2px 8px #2563eb22",cursor:"pointer"},onClick:b,disabled:g||!r,children:"Save Groups"})]})]})]})})},zO=r=>{const e=[],n=[...r];for(;n.length>0;){const a=[],o=new Set;for(let u=n.length-1;u>=0;u--){const f=n[u];if(!o.has(f.teamA)&&!o.has(f.teamB)&&(a.push(f),o.add(f.teamA),o.add(f.teamB),n.splice(u,1)),a.length===2)break}if(a.length>0&&e.push(a),e.length>r.length){console.error("Failed to schedule all matches. Potential conflict or infinite loop.");break}}return e},HO=()=>{const[r,e]=F.useState(""),[n,a]=F.useState(!1),[o,u]=F.useState([]),[f,m]=F.useState(!1),[g,p]=F.useState(""),[v,S]=F.useState(""),[b,D]=F.useState([]),[M,k]=F.useState([]),[z,L]=F.useState({}),[Z,X]=F.useState({}),[le,he]=F.useState({}),U=$m();F.useEffect(()=>{if(!g){u([]),D([]),k([]),L({}),X({}),he({});return}const O=async()=>{m(!0),S("");try{const ee=It(Xe,"leagues",g);if(!(await Pr(ee)).exists()){S("League not found."),u([]),D([]),k([]),m(!1);return}const B=Hn(Xe,`leagues/${g}/teams`),ne=await qn(B);let te=[];ne.forEach(se=>{const ue=se.data();te.push({name:ue.name,DG:ue.DG||0,GA:ue.GA||0,Dif:ue.Dif||0,Points:ue.Points||0,group:ue.group||"",players:ue.players||[]})}),u(te);const Ee=It(Xe,`leagues/${g}/groups`,"matches"),V=await Pr(Ee);let $=[];if(V.exists()&&Array.isArray(V.data().matches))$=V.data().matches;else{let se={};te.forEach(be=>{be.group&&(se[be.group]||(se[be.group]=[]),se[be.group].push(be))});let ue=1;Object.keys(se).sort().forEach(be=>{const Te=se[be];if(Te.length>1)for(let nt=0;nt<Te.length;nt++)for(let Pe=nt+1;Pe<Te.length;Pe++)$.push({group:be,matchNum:ue++,teamA:Te[nt].name,teamB:Te[Pe].name})})}D($);const pe=zO($);k(pe),m(!1)}catch(ee){console.error("Error fetching teams or generating matches:",ee),S("Error loading teams or matches."),u([]),D([]),k([]),m(!1)}},w=async()=>{if(g)try{const ee=Hn(Xe,`leagues/${g}/endedMatches`),ve=await qn(ee);let B={};ve.forEach(ne=>{const te=ne.data(),Ee=`${te.group}_${te.matchNum}`;B[Ee]={scoreA:te.scoreA,scoreB:te.scoreB,teamA:te.teamA,teamB:te.teamB}}),L(B)}catch(ee){console.error("Error fetching ended matches:",ee),L({})}};O(),w()},[g]);const I=async()=>{if(!g){alert("Enter league name first!");return}if(b.length===0){alert("No matches to save.");return}try{const O=It(Xe,`leagues/${g}/groups`,"matches");await kt(O,{matches:b},{merge:!0}),alert("All matches saved successfully!")}catch(O){console.error("Error saving matches:",O),alert("Error saving matches: "+O.message)}},x=O=>{U("/events",{state:{match:O,leagueName:g}})},N=async O=>{if(!window.confirm("Are you sure you want to finalize and hide this match result forever?"))return;const w=`${O.group}_${O.matchNum}`;let ee=!1;try{let ve=0,B=0;if(z[w])ve=z[w].scoreA||0,B=z[w].scoreB||0;else{const kn=`${O.group||""}_${O.matchNum}`,ir=le[kn]||{scoreA:0,scoreB:0};ve=Number(ir.scoreA)||0,B=Number(ir.scoreB)||0}const ne=It(Xe,`leagues/${g}/endedMatches`,w);await kt(ne,{...O,scoreA:ve,scoreB:B,endedAt:new Date().toISOString()},{merge:!0});const te=It(Xe,`leagues/${g}/teams`,O.teamA),Ee=It(Xe,`leagues/${g}/teams`,O.teamB),[V,$]=await Promise.all([Pr(te),Pr(Ee)]),pe=V.exists()?V.data():{},se=$.exists()?$.data():{};let ue=pe.Points||0,be=se.Points||0,Te=pe.GA||0,nt=se.GA||0,Pe=pe.DG||0,Et=se.DG||0;ve>B?ue+=3:ve<B?be+=3:(ue+=1,be+=1),Te+=ve,Pe+=B,nt+=B,Et+=ve;const mt=Te-Pe,an=nt-Et;await Promise.all([kt(te,{Points:ue,GA:Te,DG:Pe,Dif:mt},{merge:!0}),kt(Ee,{Points:be,GA:nt,DG:Et,Dif:an},{merge:!0})]),X(kn=>({...kn,[w]:!0})),localStorage.setItem(`checked_${g}_${w}`,"true"),ee=!0,alert("Match result saved and stats updated successfully!")}catch(ve){console.error("Error saving match result:",ve),alert("Error saving match result: "+(ve.message||"Unknown error")),ee=!1}},P=r.trim()?M.map(O=>O.filter(w=>w.teamA.toLowerCase().includes(r.toLowerCase())||w.teamB.toLowerCase().includes(r.toLowerCase()))).filter(O=>O.length>0):M;return E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Fixtures"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"#2025",children:"2025"}),E.jsx("a",{href:"#history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("div",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",id:"active",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("section",{className:"fix-section-main",children:[E.jsx("h1",{className:"groups-title",style:{textAlign:"center"},children:"Group Stage Fixtures"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"24px 0"},children:[E.jsx("div",{className:"fix-league-input-row",style:{width:"100%",maxWidth:"340px",marginBottom:"12px"},children:E.jsx("input",{type:"text",className:"fix-league-input",placeholder:"Enter League Name...",value:g,onChange:O=>p(O.target.value),style:{width:"100%",textAlign:"center"}})}),E.jsx("div",{className:"fix-search-row",style:{width:"100%",maxWidth:"340px"},children:E.jsx("input",{type:"text",className:"fix-league-input",placeholder:"Search team match...",value:r,onChange:O=>e(O.target.value),style:{width:"100%",textAlign:"center"}})})]}),v&&(!g||v!=="League not found."&&v!=="No teams found for this league.")&&E.jsx("div",{className:"fix-error",children:v}),f?E.jsx("div",{className:"fix-loading",children:"Loading fixtures..."}):E.jsx(E.Fragment,{children:b.length===0&&!v&&g?E.jsx("div",{className:"fix-error",children:"No group matches found. Please ensure teams are assigned to groups in the 'Groups' section."}):b.length===0?E.jsx("div",{className:"fix-error",children:"Please enter a league name to generate or load fixtures."}):E.jsx("div",{className:"fix-matches-list",children:P.length===0&&r?E.jsxs("div",{className:"fix-error",children:['No matches found for "',r,'".']}):P.length===0?E.jsx("div",{className:"fix-error",children:"No matches scheduled."}):P.map((O,w)=>E.jsx("div",{style:{width:"100%"},children:O.map((ee,ve)=>{const B=`${ee.group}_${ee.matchNum}`,ne=z[B];if(Z[B]||localStorage.getItem(`checked_${g}_${B}`))return null;const Ee=`${ee.group||""}_${ee.matchNum}`,V=le[Ee]||{scoreA:"",scoreB:""},$=ne,pe=ve===0?"Stadium 1":"Stadium 2",se=`slot-${w}-match-${ve}`;return E.jsxs("div",{className:"fix-match-card",style:{marginBottom:"24px",minHeight:"120px",width:"100%",maxWidth:"620px",border:"3px solid #000",borderRadius:"18px",background:"#fff",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"24px",boxSizing:"border-box",boxShadow:"0 2px 8px #0001",marginLeft:"auto",marginRight:"auto"},children:[E.jsxs("div",{style:{textAlign:"center",fontWeight:700,fontSize:"1.3rem",color:"#222",marginBottom:"12px"},children:["Match ",w+1," "]}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:"12px"},children:[E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"left"},children:ee.teamA}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"18px"},children:[E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:$&&ne?E.jsx("h2",{style:{margin:"0",color:"#2563eb"},children:ne.scoreA}):E.jsx("input",{type:"number",min:"0",max:"99",className:"fix-score-input",placeholder:"",style:{width:"40px",height:"40px",fontSize:"1.2rem",textAlign:"center",border:"none"},value:V.scoreA,onChange:ue=>{const be=ue.target.value;he(Te=>({...Te,[Ee]:{...Te[Ee],scoreA:be}}))},disabled:$})}),E.jsx("span",{style:{fontWeight:700,fontSize:"1.2rem",color:"#222"},children:"vs"}),E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:$&&ne?E.jsx("h2",{style:{margin:"0",color:"#2563eb"},children:ne.scoreB}):E.jsx("input",{type:"number",min:"0",max:"99",className:"fix-score-input",placeholder:"",style:{width:"40px",height:"40px",fontSize:"1.2rem",textAlign:"center",border:"none"},value:V.scoreB,onChange:ue=>{const be=ue.target.value;he(Te=>({...Te,[Ee]:{...Te[Ee],scoreB:be}}))},disabled:$})})]}),E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"right"},children:ee.teamB})]}),E.jsxs("div",{className:"fix-stadium",style:{textAlign:"center",marginTop:"8px",fontWeight:500,color:"#222"},children:[pe," "]}),E.jsxs("div",{className:"fix-match-actions",style:{display:"flex",justifyContent:"center",gap:"16px",marginTop:"12px"},children:[E.jsxs("button",{className:"fix-check-btn",onClick:()=>N(ee),children:[E.jsx("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:E.jsx("path",{d:"M5 10l4 4 6-8",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Check Match"]}),E.jsxs("button",{className:"fix-events-btn",onClick:()=>x(ee),children:[E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:[E.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"#fff",strokeWidth:"2"}),E.jsx("rect",{x:"8",y:"6",width:"4",height:"8",rx:"2",fill:"#fff"})]}),"Events"]})]})]},se)})},`slot-${w}`))})}),g&&b.length>0&&E.jsx("div",{style:{textAlign:"center",margin:"24px 0"},children:E.jsx("button",{className:"fix-save-btn",onClick:I,children:"Save All Matches"})})]})]})]})},lE=E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[E.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"#2563eb",strokeWidth:"2"}),E.jsx("circle",{cx:"10",cy:"10",r:"4",fill:"#2563eb"})]}),uE=E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[E.jsx("rect",{x:"4",y:"12",width:"12",height:"4",rx:"2",fill:"#10b981"}),E.jsx("path",{d:"M4 12L8 8L16 8",stroke:"#10b981",strokeWidth:"2"})]}),qO=()=>{const r=ja(),e=r.state?.match,n=r.state?.leagueName||"",[a,o]=F.useState([]),[u,f]=F.useState({}),[m,g]=F.useState({}),[p,v]=F.useState(0),[S,b]=F.useState(0),[D,M]=F.useState([]),[k,z]=F.useState([]),[L,Z]=F.useState(!0);F.useEffect(()=>{(async()=>{if(!e||!n){Z(!1);return}Z(!0);try{const{teamA:I,teamB:x}=e;console.log("Fetching players for:",I,"vs",x,"in league:",n);const N=async O=>{try{const w=It(Xe,`leagues/${n}/teams`,O),ee=await Pr(w);let ve=[];if(ee.exists()){const B=ee.data();console.log(`Team ${O} data:`,B),ve=(B.players||[]).map(te=>({name:te.name||te,image:te.image||"",team:O}))}else console.log(`Team ${O} document does not exist`);return ve}catch(w){return console.error(`Error fetching players for team ${O}:`,w),[]}},[C,P]=await Promise.all([N(I),N(x)]);console.log("Team A Players:",C),console.log("Team B Players:",P),M(C),z(P),o([...C,...P])}catch(I){console.error("Error fetching players:",I),o([]),M([]),z([])}Z(!1)})()},[e,n]);const X=U=>{console.log(`🎯 Adding goal for ${U} (local only)`),f(x=>{const N={...x,[U]:(x[U]||0)+1};return console.log("Updated local goals state:",N),N});const I=a.find(x=>x.name===U);I&&(I.team===e.teamA?v(x=>x+1):I.team===e.teamB&&b(x=>x+1))},le=U=>{console.log(`🅰️ Adding assist for ${U} (local only)`),g(I=>{const x={...I,[U]:(I[U]||0)+1};return console.log("Updated local assists state:",x),x})},he=async()=>{if(window.confirm("Are you sure you want to end this match? This will save all goals and assists to the database."))try{console.log("🏁 Ending match and saving to database..."),console.log("Final goals:",u),console.log("Final assists:",m),console.log("Final scores:",{scoreA:p,scoreB:S}),console.log("📝 Updating player stats in database...");for(const[C,P]of Object.entries(u))if(P>0){const O=a.find(w=>w.name===C);if(O)try{console.log(`Updating ${P} goals for ${C} in team ${O.team}`);const w=It(Xe,`leagues/${n}/teams`,O.team),ee=await Pr(w);if(ee.exists()){const ve=ee.data(),B=ve.players||[],ne=B.findIndex(te=>te.name===C);ne!==-1&&(B[ne]={...B[ne],goals:(B[ne].goals||0)+P},await kt(w,{...ve,players:B}),console.log(`✅ Updated goals for ${C}. New total: ${B[ne].goals}`))}}catch(w){console.error(`❌ Error updating goals for ${C}:`,w)}}for(const[C,P]of Object.entries(m))if(P>0){const O=a.find(w=>w.name===C);if(O)try{console.log(`Updating ${P} assists for ${C} in team ${O.team}`);const w=It(Xe,`leagues/${n}/teams`,O.team),ee=await Pr(w);if(ee.exists()){const ve=ee.data(),B=ve.players||[],ne=B.findIndex(te=>te.name===C);ne!==-1&&(B[ne]={...B[ne],assists:(B[ne].assists||0)+P},await kt(w,{...ve,players:B}),console.log(`✅ Updated assists for ${C}. New total: ${B[ne].assists}`))}}catch(w){console.error(`❌ Error updating assists for ${C}:`,w)}}const U=[],I=[];Object.entries(u).forEach(([C,P])=>{const O=a.find(w=>w.name===C);if(O)for(let w=0;w<P;w++)U.push({name:C,team:O.team})}),Object.entries(m).forEach(([C,P])=>{const O=a.find(w=>w.name===C);if(O)for(let w=0;w<P;w++)I.push({name:C,team:O.team})}),console.log("Goals array for match record:",U),console.log("Assists array for match record:",I);const x={...e,scoreA:p,scoreB:S,goals:U,assists:I,endedAt:new Date().toISOString()},N=`${e.group||"group"}_${e.matchNum||Date.now()}`;console.log("Saving match with ID:",N),await kt(It(Xe,`leagues/${n}/endedMatches`,N),x),console.log("✅ Match ended and all data saved successfully"),alert("Match ended successfully! All goals and assists have been recorded in the database."),window.location.href="/saint-mark-leagues/#/fixtures"}catch(U){console.error("❌ Error saving match result:",U),alert("Error saving match result: "+U.message)}};return e?L?E.jsx("div",{style:{textAlign:"center",marginTop:"48px",padding:"20px"},children:E.jsx("h2",{children:"Loading players..."})}):E.jsxs("div",{className:"events-page",style:{maxWidth:"620px",margin:"32px auto",padding:"0 16px"},children:[E.jsxs("div",{className:"fix-match-card",style:{marginBottom:"24px",minHeight:"120px",width:"100%",border:"3px solid #000",borderRadius:"18px",background:"#fff",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"24px",boxSizing:"border-box",boxShadow:"0 2px 8px #0001"},children:[E.jsxs("div",{style:{textAlign:"center",fontWeight:700,fontSize:"1.3rem",color:"#222",marginBottom:"12px"},children:["Match ",e.matchNum||"N/A"]}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:"12px"},children:[E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"left"},children:e.teamA}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"18px"},children:[E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:p}),E.jsx("span",{style:{fontWeight:700,fontSize:"1.2rem",color:"#222"},children:"vs"}),E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:S})]}),E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"right"},children:e.teamB})]}),E.jsxs("div",{className:"fix-stadium",style:{textAlign:"center",marginTop:"8px",fontWeight:500,color:"#222"},children:["Stadium: ",e.stadium||"N/A"]})]}),E.jsx("div",{style:{marginBottom:"18px",fontWeight:700,fontSize:"1.1rem",color:"#2563eb",textAlign:"center"},children:'Assign Goals & Assists (Click "End Match" to save to database)'}),D.length>0&&E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsxs("h3",{style:{fontWeight:600,fontSize:"1.1rem",color:"#fff",marginBottom:"12px",background:"#2563eb",padding:"8px 16px",borderRadius:"8px",textAlign:"center"},children:[e.teamA," (",D.length," players)"]}),E.jsx("div",{className:"events-players-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:D.map((U,I)=>E.jsxs("div",{className:"events-player-card",style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px #0001",padding:"12px 18px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",border:"2px solid #2563eb22"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx("img",{src:U.image||`https://ui-avatars.com/api/?name=${encodeURIComponent(U.name)}&background=2563eb&color=fff`,alt:U.name,style:{width:"44px",height:"44px",borderRadius:"50%",objectFit:"cover",background:"#eee",border:"2px solid #2563eb"}}),E.jsx("span",{style:{fontWeight:600,fontSize:"1.08rem",color:"#222",minWidth:"120px",maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:U.name})]}),E.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[E.jsxs("button",{onClick:()=>X(U.name),style:{background:"none",border:"2px solid #2563eb",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Goal",children:[lE,E.jsx("span",{style:{fontWeight:600,color:"#2563eb"},children:u[U.name]||0})]}),E.jsxs("button",{onClick:()=>le(U.name),style:{background:"none",border:"2px solid #10b981",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Assist",children:[uE,E.jsx("span",{style:{fontWeight:600,color:"#10b981"},children:m[U.name]||0})]})]})]},`${U.name}-${I}`))})]}),k.length>0&&E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsxs("h3",{style:{fontWeight:600,fontSize:"1.1rem",color:"#fff",marginBottom:"12px",background:"#e11d48",padding:"8px 16px",borderRadius:"8px",textAlign:"center"},children:[e.teamB," (",k.length," players)"]}),E.jsx("div",{className:"events-players-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:k.map((U,I)=>E.jsxs("div",{className:"events-player-card",style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px #0001",padding:"12px 18px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",border:"2px solid #e11d4822"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx("img",{src:U.image||`https://ui-avatars.com/api/?name=${encodeURIComponent(U.name)}&background=e11d48&color=fff`,alt:U.name,style:{width:"44px",height:"44px",borderRadius:"50%",objectFit:"cover",background:"#eee",border:"2px solid #e11d48"}}),E.jsx("span",{style:{fontWeight:600,fontSize:"1.08rem",color:"#222",minWidth:"120px",maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:U.name})]}),E.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[E.jsxs("button",{onClick:()=>X(U.name),style:{background:"none",border:"2px solid #2563eb",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Goal",children:[lE,E.jsx("span",{style:{fontWeight:600,color:"#2563eb"},children:u[U.name]||0})]}),E.jsxs("button",{onClick:()=>le(U.name),style:{background:"none",border:"2px solid #10b981",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Assist",children:[uE,E.jsx("span",{style:{fontWeight:600,color:"#10b981"},children:m[U.name]||0})]})]})]},`${U.name}-${I}`))})]}),E.jsx("div",{style:{textAlign:"center",margin:"24px 0"},children:E.jsx("button",{className:"fix-save-btn",style:{padding:"12px 32px",fontSize:"1.1rem"},onClick:he,children:"End Match"})})]}):E.jsxs("div",{style:{textAlign:"center",marginTop:"48px",padding:"20px"},children:[E.jsx("h2",{children:"No match selected"}),E.jsx("p",{children:"Please select a match to record events."})]})},FO=()=>{const[r,e]=F.useState(""),[n,a]=F.useState([]),[o,u]=F.useState(!1),[f,m]=F.useState(""),[g,p]=F.useState("2025");return F.useEffect(()=>{r&&(u(!0),m(""),(async()=>{try{const v=Hn(Xe,`leagues/${r}/teams`),S=await qn(v);let b=[];S.forEach(D=>{const M=D.data(),k=M.name;(Array.isArray(M.players)?M.players:[]).forEach(L=>{typeof L.goals=="number"&&L.goals>0&&b.push({name:L.name,goals:L.goals,assists:L.assists||0,team:k})})}),b.sort((D,M)=>M.goals-D.goals),a(b.slice(0,20))}catch{m("Error loading scorers.")}u(!1)})())},[r,g]),E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Top Scorers"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top assisters"}),E.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("aside",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",id:"active",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("div",{className:"scorers-container",children:[E.jsx("div",{className:"scorers-controls",children:E.jsx("input",{type:"text",className:"scorers-league-input",placeholder:"Enter League Name...",value:r,onChange:v=>e(v.target.value)})}),f&&E.jsx("div",{className:"scorers-error",children:f}),o?E.jsx("div",{className:"scorers-loading",children:"Loading..."}):E.jsx("div",{className:"scorers-table-wrapper",style:{maxWidth:"1200px",margin:"0 auto"},children:E.jsxs("table",{className:"scorers-table",style:{width:"100%"},children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Rank"}),E.jsx("th",{children:"Player"}),E.jsx("th",{children:"Team"}),E.jsx("th",{children:"Goals"})]})}),E.jsx("tbody",{children:n.map((v,S)=>E.jsxs("tr",{children:[E.jsx("td",{children:S+1}),E.jsx("td",{children:v.name}),E.jsx("td",{children:v.team}),E.jsx("td",{children:v.goals})]},v.name+v.team))})]})})]})]})]})},GO=()=>{const[r,e]=F.useState(""),[n,a]=F.useState([]),[o,u]=F.useState(!1),[f,m]=F.useState(""),[g,p]=F.useState("2025");return F.useEffect(()=>{r&&(u(!0),m(""),(async()=>{try{const v=Hn(Xe,`leagues/${r}/teams`),S=await qn(v);let b=[];S.forEach(D=>{const M=D.data(),k=M.name;(Array.isArray(M.players)?M.players:[]).forEach(L=>{typeof L.assists=="number"&&L.assists>0&&b.push({name:L.name,assists:L.assists,assists:L.assists||0,team:k})})}),b.sort((D,M)=>M.assists-D.assists),a(b.slice(0,20))}catch{m("Error loading scorers.")}u(!1)})())},[r,g]),E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Top Scorers"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top assisters"}),E.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("aside",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",id:"active",children:"Top assisters"})]}),E.jsxs("div",{className:"scorers-container",children:[E.jsx("div",{className:"scorers-controls",children:E.jsx("input",{type:"text",className:"scorers-league-input",placeholder:"Enter League Name...",value:r,onChange:v=>e(v.target.value)})}),f&&E.jsx("div",{className:"scorers-error",children:f}),o?E.jsx("div",{className:"scorers-loading",children:"Loading..."}):E.jsx("div",{className:"scorers-table-wrapper",style:{maxWidth:"1200px",margin:"0 auto"},children:E.jsxs("table",{className:"scorers-table",style:{width:"100%"},children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Rank"}),E.jsx("th",{children:"Player"}),E.jsx("th",{children:"Team"}),E.jsx("th",{children:"assists"})]})}),E.jsx("tbody",{children:n.map((v,S)=>E.jsxs("tr",{children:[E.jsx("td",{children:S+1}),E.jsx("td",{children:v.name}),E.jsx("td",{children:v.team}),E.jsx("td",{children:v.assists})]},v.name+v.team))})]})})]})]})]})},$O=()=>{const[r,e]=F.useState(""),[n,a]=F.useState(!1),[o,u]=F.useState(""),[f,m]=F.useState(""),[g,p]=F.useState([]),[v,S]=F.useState({}),[b,D]=F.useState({}),[M,k]=F.useState({}),[z,L]=F.useState([]),[Z,X]=F.useState([]);F.useEffect(()=>{(async()=>{if(o)try{const P=Hn(Xe,`leagues/${o}/stages`),w=(await qn(P)).docs.map(ee=>ee.data().name);L(w)}catch(P){console.error("Error fetching stages:",P)}})()},[o]),F.useEffect(()=>{(async()=>{if(o)try{const P=Hn(Xe,`leagues/${o}/teams`),O=await qn(P),w=[];O.forEach(ee=>{const ve=ee.data();w.push({name:ve.name,group:ve.group||"Unknown",players:ve.players||[]})}),X(w)}catch(P){console.error("Error fetching teams:",P),X([])}})()},[o]),F.useEffect(()=>{if(!o)return;const C=async()=>{a(!0),m("");try{const O=It(Xe,"leagues",o);if(!(await Pr(O)).exists()){m("League not found."),p([]),a(!1);return}const ee=Hn(Xe,`leagues/${o}/knockout`),ve=await qn(ee);let B=[];ve.forEach(te=>{const Ee=te.data(),V=te.id,pe=(Ee.matches||[]).map((se,ue)=>({...se,stage:V,matchNum:ue+1,group:V}));B.push({name:V,matches:pe,createdAt:Ee.createdAt,teams:Ee.teams||[]})});const ne=z.length>0?z:["Stage 32","Stage 16","Quarter Final","Semi Final","Final"];B.sort((te,Ee)=>{const V=ne.indexOf(te.name),$=ne.indexOf(Ee.name);return V-$}),p(B),a(!1)}catch{m("Error loading knockout stages."),p([]),a(!1)}},P=async()=>{if(o)try{const O=Hn(Xe,`leagues/${o}/endedMatches`),w=await qn(O);let ee={};w.forEach(ve=>{const B=ve.data(),ne=`${B.stage||B.group}_${B.matchNum}`;ee[ne]={scoreA:B.scoreA,scoreB:B.scoreB,teamA:B.teamA||B.teamAName,teamB:B.teamB||B.teamBName}}),S(ee)}catch(O){console.error("Error fetching ended matches:",O),S({})}};C(),P()},[o,z]);const le=$m(),he=C=>{le("/events",{state:{match:C,leagueName:o}})},U=async C=>{if(!window.confirm("Are you sure you want to check and hide this match forever?"))return;const P=`${C.stage}_${C.matchNum}`,O=`${C.stage||""}_${C.matchNum}`,w=M[O]||{scoreA:"",scoreB:""},ee=Number(w.scoreA)||0,ve=Number(w.scoreB)||0;let B=!1;try{const ne=It(Xe,`leagues/${o}/endedMatches`,P);let te=[],Ee=[],V=ee,$=ve;const pe=await Pr(ne);if(pe.exists()){const ue=pe.data();te=Array.isArray(ue.goals)?ue.goals:[],Ee=Array.isArray(ue.assists)?ue.assists:[],V=ue.scoreA!==void 0?ue.scoreA:ee,$=ue.scoreB!==void 0?ue.scoreB:ve,await kt(ne,{...ue,scoreA:V,scoreB:$,stage:C.stage,endedAt:new Date().toISOString()},{merge:!0})}else await kt(ne,{...C,scoreA:V,scoreB:$,goals:[],assists:[],stage:C.stage,endedAt:new Date().toISOString()});if(console.log("Processing knockout match goals:",te),console.log("Processing knockout match assists:",Ee),Array.isArray(te)&&te.length>0)for(const ue of te){if(!ue.name||!ue.team){console.log("Skipping invalid goal:",ue);continue}try{console.log(`Processing goal for ${ue.name} in team ${ue.team}`);const be=It(Xe,`leagues/${o}/teams`,ue.team),Te=await Pr(be);if(Te.exists()){const nt=Te.data(),Pe=nt.players||[],Et=Pe.findIndex(mt=>mt.name===ue.name);Et!==-1?(Pe[Et]={...Pe[Et],goals:(Pe[Et].goals||0)+1},await kt(be,{...nt,players:Pe}),console.log(`✅ Updated goals for ${ue.name}: ${Pe[Et].goals}`)):console.log(`❌ Player ${ue.name} not found in team ${ue.team}`)}else console.log(`❌ Team ${ue.team} not found`)}catch(be){console.error(`Error updating goals for ${ue.name}:`,be)}}if(Array.isArray(Ee)&&Ee.length>0)for(const ue of Ee){if(!ue.name||!ue.team){console.log("Skipping invalid assist:",ue);continue}try{console.log(`Processing assist for ${ue.name} in team ${ue.team}`);const be=It(Xe,`leagues/${o}/teams`,ue.team),Te=await Pr(be);if(Te.exists()){const nt=Te.data(),Pe=nt.players||[],Et=Pe.findIndex(mt=>mt.name===ue.name);Et!==-1?(Pe[Et]={...Pe[Et],assists:(Pe[Et].assists||0)+1},await kt(be,{...nt,players:Pe}),console.log(`✅ Updated assists for ${ue.name}: ${Pe[Et].assists}`)):console.log(`❌ Player ${ue.name} not found in team ${ue.team}`)}else console.log(`❌ Team ${ue.team} not found`)}catch(be){console.error(`Error updating assists for ${ue.name}:`,be)}}const se=It(Xe,"leagues",o);await kt(se,{lastUpdate:new Date().toISOString()},{merge:!0}),B=!0,console.log("✅ Knockout match checked successfully with player stats updated")}catch(ne){console.error("❌ Full error details:",ne),alert("Error saving match result: "+ne.message),B=!1}B&&(D(ne=>({...ne,[P]:!0})),localStorage.setItem(`checked_${o}_${P}`,"true"))},I=async C=>{if(C<0||C>=g.length-1)return;const P=g[C],O=g[C+1];if(!P.matches.every(te=>{const Ee=`${te.stage}_${te.matchNum}`;return v[Ee]!==void 0})){alert("Cannot proceed to the next stage. This stage is not complete. Please complete all matches first.");return}const ee=P.matches.map(te=>{const Ee=`${te.stage}_${te.matchNum}`,V=v[Ee];return V.scoreA>V.scoreB?te.teamAName||te.teamA:te.teamBName||te.teamB}),B=(te=>{for(let Ee=te.length-1;Ee>0;Ee--){const V=Math.floor(Math.random()*(Ee+1));[te[Ee],te[V]]=[te[V],te[Ee]]}return te})([...ee]),ne=[];for(let te=0;te<B.length;te+=2)te+1<B.length&&ne.push({teamA:B[te],teamB:B[te+1],matchNum:Math.floor(te/2)+1,stage:O.name});try{const te=It(Xe,`leagues/${o}/knockoutResults`,P.name);await kt(te,{stage:P.name,matches:P.matches.map($=>{const pe=`${$.stage}_${$.matchNum}`,se=v[pe];return{...$,scoreA:se?.scoreA||0,scoreB:se?.scoreB||0,winner:se?se.scoreA>se.scoreB?$.teamAName||$.teamA:$.teamBName||$.teamB:null}}),winningTeams:ee,timestamp:new Date().toISOString()});const Ee=It(Xe,`leagues/${o}/knockout`,O.name);await kt(Ee,{matches:ne,teams:B,stage:O.name,createdAt:O.createdAt||new Date().toISOString(),lastUpdated:new Date().toISOString()},{merge:!0}),p($=>{const pe=[...$];return pe[C+1]={...pe[C+1],matches:ne,teams:B},pe});const V=ee.join(", ");alert(`${V} were transferred to ${O.name}`),setTimeout(()=>{const $=document.getElementById(O.name);$&&$.scrollIntoView({behavior:"smooth"})},100)}catch(te){console.error("❌ Error processing next stage:",te),alert("Error advancing to next stage: "+te.message)}},x=C=>C.matches.every(P=>{const O=`${P.stage}_${P.matchNum}`;return v[O]!==void 0}),N=(C,P)=>P.trim()?C.filter(O=>{const w=P;return(O.teamAName||O.teamA||"").includes(w)||(O.teamBName||O.teamB||"").includes(w)||O.stage.includes(w)}):C;return E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",style:{width:"117vw"},children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Knockout Fixtures"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"#2025",children:"2025"}),E.jsx("a",{href:"#history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("div",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",id:"active",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("section",{className:"fix-section-main",children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[E.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1f2937",marginBottom:"10px",background:"linear-gradient(90deg, #3b82f6, #8b5cf6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Knockout Tournament"}),E.jsx("p",{style:{fontSize:"1.1rem",color:"#6b7280",maxWidth:"600px",margin:"0 auto"},children:"Manage your knockout stage matches, track results, and advance teams through the tournament bracket"})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",marginBottom:"30px"},children:[E.jsx("div",{style:{width:"100%",maxWidth:"400px"},children:E.jsx("input",{type:"text",placeholder:"Enter League Name...",value:o,onChange:C=>u(C.target.value),style:{width:"100%",padding:"16px 20px",fontSize:"1.1rem",border:"2px solid #e5e7eb",borderRadius:"12px",outline:"none",textAlign:"center",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onFocus:C=>C.target.style.borderColor="#3b82f6",onBlur:C=>C.target.style.borderColor="#e5e7eb"})}),E.jsx("div",{style:{width:"100%",maxWidth:"400px"},children:E.jsx("input",{type:"text",placeholder:"Search teams, matches...",value:r,onChange:C=>e(C.target.value),style:{width:"100%",padding:"16px 20px",fontSize:"1.1rem",border:"2px solid #e5e7eb",borderRadius:"12px",outline:"none",textAlign:"center",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onFocus:C=>C.target.style.borderColor="#3b82f6",onBlur:C=>C.target.style.borderColor="#e5e7eb"})})]}),f&&(!o||f!=="League not found.")&&E.jsx("div",{style:{backgroundColor:"#fee",color:"#e44",padding:"16px",borderRadius:"8px",margin:"20px auto",maxWidth:"600px",border:"1px solid #fcc",textAlign:"center",fontWeight:"500"},children:f}),n?E.jsxs("div",{style:{textAlign:"center",padding:"60px",fontSize:"1.5rem",color:"#666",minHeight:"300px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{width:"50px",height:"50px",border:"5px solid #e5e7eb",borderTop:"5px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"}}),E.jsx("p",{children:"Loading knockout fixtures..."})]}):E.jsx(E.Fragment,{children:g.length===0?E.jsx("div",{style:{backgroundColor:"#fee",color:"#e44",padding:"20px",borderRadius:"8px",margin:"20px auto",maxWidth:"600px",border:"1px solid #fcc",textAlign:"center",fontWeight:"500"},children:"No knockout stages found. Create knockout stages from the Groups page first."}):E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"40px",maxWidth:"1000px",margin:"0 auto"},children:g.map((C,P)=>{const O=N(C.matches,r);if(O.length===0&&!C.name.includes(r))return null;const w=x(C);return E.jsxs("div",{id:C.name,style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",overflow:"hidden",border:"1px solid #e5e7eb"},children:[E.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"20px 30px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",margin:0},children:C.name}),P<g.length-1&&E.jsxs("button",{onClick:()=>I(P),disabled:!w,style:{padding:"12px 24px",backgroundColor:w?"#2563eb":"#ccc",color:"white",border:"none",borderRadius:"8px",cursor:w?"pointer":"not-allowed",fontWeight:"600",fontSize:"1.1rem",transition:"all 0.2s ease",opacity:w?1:.6,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:ee=>{w&&(ee.target.style.backgroundColor="#1d4ed8",ee.target.style.transform="translateY(-1px)")},onMouseLeave:ee=>{w&&(ee.target.style.backgroundColor="#2563eb",ee.target.style.transform="translateY(0)")},children:["Advance to ",g[P+1].name]})]}),E.jsx("div",{style:{padding:"20px 30px"},children:O.map(ee=>{const ve=`${ee.stage}_${ee.matchNum}`,B=v[ve],ne=b[ve]||localStorage.getItem(`checked_${o}_${ve}`),te=ve,Ee=M[te]||{scoreA:"",scoreB:""},V=B!==void 0;return ne?null:E.jsxs("div",{style:{marginBottom:"20px",padding:"20px",border:"2px solid #e5e7eb",borderRadius:"12px",backgroundColor:"#fff",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[E.jsxs("div",{style:{fontSize:"1.3rem",fontWeight:"700",color:"#1f2937"},children:[C.name," Match ",ee.matchNum]}),E.jsxs("div",{style:{fontSize:"0.9rem",color:"#6b7280",fontWeight:"500"},children:["Stadium: ",ee.matchNum%2===0?"Stadium 1":"Stadium 2"]})]}),E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"20px"},children:[E.jsx("div",{style:{flex:1,textAlign:"right"},children:E.jsx("div",{style:{fontWeight:"600",color:"#1f2937",fontSize:"1.1rem"},children:ee.teamAName||ee.teamA})}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[E.jsx("div",{style:{width:"60px",height:"60px",border:"3px solid #000",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",fontSize:"1.5rem",color:"#2563eb",backgroundColor:V&&B?"#eff6ff":"white"},children:V&&B?E.jsx("span",{style:{margin:0,color:"#2563eb"},children:B.scoreA}):E.jsx("input",{type:"number",min:"0",max:"9",style:{width:"40px",height:"40px",fontSize:"1.3rem",textAlign:"center",border:"none",outline:"none",backgroundColor:"transparent"},value:Ee.scoreA,onChange:$=>{const pe=$.target.value;k(se=>({...se,[te]:{...se[te],scoreA:pe}}))}})}),E.jsx("span",{style:{fontWeight:"700",fontSize:"1.3rem",color:"#4b5563"},children:"vs"}),E.jsx("div",{style:{width:"60px",height:"60px",border:"3px solid #000",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",fontSize:"1.5rem",color:"#2563eb",backgroundColor:V&&B?"#eff6ff":"white"},children:V&&B?E.jsx("span",{style:{margin:0,color:"#2563eb"},children:B.scoreB}):E.jsx("input",{type:"number",min:"0",max:"9",style:{width:"40px",height:"40px",fontSize:"1.3rem",textAlign:"center",border:"none",outline:"none",backgroundColor:"transparent"},value:Ee.scoreB,onChange:$=>{const pe=$.target.value;k(se=>({...se,[te]:{...se[te],scoreB:pe}}))}})})]}),E.jsx("div",{style:{flex:1,textAlign:"left"},children:E.jsx("div",{style:{fontWeight:"600",color:"#1f2937",fontSize:"1.1rem"},children:ee.teamBName||ee.teamB})})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginTop:"20px"},children:[E.jsxs("button",{onClick:()=>{if(!B){const $=M[te]||{scoreA:0,scoreB:0};ee.scoreA=Number($.scoreA),ee.scoreB=Number($.scoreB)}U(ee)},style:{padding:"10px 20px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},onMouseEnter:$=>{$.target.style.backgroundColor="#059669",$.target.style.transform="translateY(-1px)"},onMouseLeave:$=>{$.target.style.backgroundColor="#10b981",$.target.style.transform="translateY(0)"},children:[E.jsx("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",style:{flexShrink:0},children:E.jsx("path",{d:"M5 10l4 4 6-8",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Check Match"]}),E.jsxs("button",{onClick:()=>he(ee),style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},onMouseEnter:$=>{$.target.style.backgroundColor="#2563eb",$.target.style.transform="translateY(-1px)"},onMouseLeave:$=>{$.target.style.backgroundColor="#3b82f6",$.target.style.transform="translateY(0)"},children:[E.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",style:{flexShrink:0},children:[E.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"white",strokeWidth:"2"}),E.jsx("rect",{x:"8",y:"6",width:"4",height:"8",rx:"2",fill:"white"})]}),"Events"]})]})]},ee.matchNum)})})]},C.name)})})})]})]}),E.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]})},YO=Lw([{path:"/",element:E.jsx(Zw,{})},{path:"/dashboard",element:E.jsx(aI,{})},{path:"/make-groups",element:E.jsx(BO,{})},{path:"/fixtures",element:E.jsx(HO,{})},{path:"/events",element:E.jsx(qO,{})},{path:"/scorers",element:E.jsx(FO,{})},{path:"/assisters",element:E.jsx(GO,{})},{path:"/knockout",element:E.jsx($O,{})}]);G1.createRoot(document.getElementById("root")).render(E.jsx(F.StrictMode,{children:E.jsx(Ww,{router:YO})}));
