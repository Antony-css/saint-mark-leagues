(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Rd={exports:{}},Ro={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function U1(){if(xv)return Ro;xv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:a,key:f,ref:l!==void 0?l:null,props:u}}return Ro.Fragment=e,Ro.jsx=n,Ro.jsxs=n,Ro}var Iv;function k1(){return Iv||(Iv=1,Rd.exports=U1()),Rd.exports}var G=k1(),Dd={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function z1(){if(Nv)return He;Nv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,K={};function B(O,re,me){this.props=O,this.context=re,this.refs=K,this.updater=me||D}B.prototype.isReactComponent={},B.prototype.setState=function(O,re){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,re,"setState")},B.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function U(){}U.prototype=B.prototype;function te(O,re,me){this.props=O,this.context=re,this.refs=K,this.updater=me||D}var ee=te.prototype=new U;ee.constructor=te,N(ee,B.prototype),ee.isPureReactComponent=!0;var he=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function I(O,re,me,ce,Se,Be){return me=Be.ref,{$$typeof:i,type:O,key:re,ref:me!==void 0?me:null,props:Be}}function w(O,re){return I(O.type,re,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function M(O){var re={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(me){return re[me]})}var P=/\/+/g;function k(O,re){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):re.toString(36)}function C(){}function ke(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(re){O.status==="pending"&&(O.status="fulfilled",O.value=re)},function(re){O.status==="pending"&&(O.status="rejected",O.reason=re)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Je(O,re,me,ce,Se){var Be=typeof O;(Be==="undefined"||Be==="boolean")&&(O=null);var xe=!1;if(O===null)xe=!0;else switch(Be){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(O.$$typeof){case i:case e:xe=!0;break;case E:return xe=O._init,Je(xe(O._payload),re,me,ce,Se)}}if(xe)return Se=Se(O),xe=ce===""?"."+k(O,0):ce,he(Se)?(me="",xe!=null&&(me=xe.replace(P,"$&/")+"/"),Je(Se,re,me,"",function(Xn){return Xn})):Se!=null&&(R(Se)&&(Se=w(Se,me+(Se.key==null||O&&O.key===Se.key?"":(""+Se.key).replace(P,"$&/")+"/")+xe)),re.push(Se)),1;xe=0;var Ut=ce===""?".":ce+":";if(he(O))for(var pt=0;pt<O.length;pt++)ce=O[pt],Be=Ut+k(ce,pt),xe+=Je(ce,re,me,Be,Se);else if(pt=T(O),typeof pt=="function")for(O=pt.call(O),pt=0;!(ce=O.next()).done;)ce=ce.value,Be=Ut+k(ce,pt++),xe+=Je(ce,re,me,Be,Se);else if(Be==="object"){if(typeof O.then=="function")return Je(ke(O),re,me,ce,Se);throw re=String(O),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function $(O,re,me){if(O==null)return O;var ce=[],Se=0;return Je(O,ce,"","",function(Be){return re.call(me,Be,Se++)}),ce}function de(O){if(O._status===-1){var re=O._result;re=re(),re.then(function(me){(O._status===0||O._status===-1)&&(O._status=1,O._result=me)},function(me){(O._status===0||O._status===-1)&&(O._status=2,O._result=me)}),O._status===-1&&(O._status=0,O._result=re)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function je(){}return He.Children={map:$,forEach:function(O,re,me){$(O,function(){re.apply(this,arguments)},me)},count:function(O){var re=0;return $(O,function(){re++}),re},toArray:function(O){return $(O,function(re){return re})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},He.Component=B,He.Fragment=n,He.Profiler=l,He.PureComponent=te,He.StrictMode=a,He.Suspense=p,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,He.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ue.H.useMemoCache(O)}},He.cache=function(O){return function(){return O.apply(null,arguments)}},He.cloneElement=function(O,re,me){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=N({},O.props),Se=O.key,Be=void 0;if(re!=null)for(xe in re.ref!==void 0&&(Be=void 0),re.key!==void 0&&(Se=""+re.key),re)!z.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(ce[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)ce.children=me;else if(1<xe){for(var Ut=Array(xe),pt=0;pt<xe;pt++)Ut[pt]=arguments[pt+2];ce.children=Ut}return I(O.type,Se,void 0,void 0,Be,ce)},He.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},He.createElement=function(O,re,me){var ce,Se={},Be=null;if(re!=null)for(ce in re.key!==void 0&&(Be=""+re.key),re)z.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Se[ce]=re[ce]);var xe=arguments.length-2;if(xe===1)Se.children=me;else if(1<xe){for(var Ut=Array(xe),pt=0;pt<xe;pt++)Ut[pt]=arguments[pt+2];Se.children=Ut}if(O&&O.defaultProps)for(ce in xe=O.defaultProps,xe)Se[ce]===void 0&&(Se[ce]=xe[ce]);return I(O,Be,void 0,void 0,null,Se)},He.createRef=function(){return{current:null}},He.forwardRef=function(O){return{$$typeof:m,render:O}},He.isValidElement=R,He.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:de}},He.memo=function(O,re){return{$$typeof:g,type:O,compare:re===void 0?null:re}},He.startTransition=function(O){var re=ue.T,me={};ue.T=me;try{var ce=O(),Se=ue.S;Se!==null&&Se(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(je,ge)}catch(Be){ge(Be)}finally{ue.T=re}},He.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},He.use=function(O){return ue.H.use(O)},He.useActionState=function(O,re,me){return ue.H.useActionState(O,re,me)},He.useCallback=function(O,re){return ue.H.useCallback(O,re)},He.useContext=function(O){return ue.H.useContext(O)},He.useDebugValue=function(){},He.useDeferredValue=function(O,re){return ue.H.useDeferredValue(O,re)},He.useEffect=function(O,re,me){var ce=ue.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(O,re)},He.useId=function(){return ue.H.useId()},He.useImperativeHandle=function(O,re,me){return ue.H.useImperativeHandle(O,re,me)},He.useInsertionEffect=function(O,re){return ue.H.useInsertionEffect(O,re)},He.useLayoutEffect=function(O,re){return ue.H.useLayoutEffect(O,re)},He.useMemo=function(O,re){return ue.H.useMemo(O,re)},He.useOptimistic=function(O,re){return ue.H.useOptimistic(O,re)},He.useReducer=function(O,re,me){return ue.H.useReducer(O,re,me)},He.useRef=function(O){return ue.H.useRef(O)},He.useState=function(O){return ue.H.useState(O)},He.useSyncExternalStore=function(O,re,me){return ue.H.useSyncExternalStore(O,re,me)},He.useTransition=function(){return ue.H.useTransition()},He.version="19.1.0",He}var Ov;function bm(){return Ov||(Ov=1,Dd.exports=z1()),Dd.exports}var W=bm(),Cd={exports:{}},Do={},xd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function j1(){return Vv||(Vv=1,function(i){function e($,de){var ge=$.length;$.push(de);e:for(;0<ge;){var je=ge-1>>>1,O=$[je];if(0<l(O,de))$[je]=de,$[ge]=O,ge=je;else break e}}function n($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var de=$[0],ge=$.pop();if(ge!==de){$[0]=ge;e:for(var je=0,O=$.length,re=O>>>1;je<re;){var me=2*(je+1)-1,ce=$[me],Se=me+1,Be=$[Se];if(0>l(ce,ge))Se<O&&0>l(Be,ce)?($[je]=Be,$[Se]=ge,je=Se):($[je]=ce,$[me]=ge,je=me);else if(Se<O&&0>l(Be,ge))$[je]=Be,$[Se]=ge,je=Se;else break e}}return de}function l($,de){var ge=$.sortIndex-de.sortIndex;return ge!==0?ge:$.id-de.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,T=3,D=!1,N=!1,K=!1,B=!1,U=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function he($){for(var de=n(g);de!==null;){if(de.callback===null)a(g);else if(de.startTime<=$)a(g),de.sortIndex=de.expirationTime,e(p,de);else break;de=n(g)}}function ue($){if(K=!1,he($),!N)if(n(p)!==null)N=!0,z||(z=!0,k());else{var de=n(g);de!==null&&Je(ue,de.startTime-$)}}var z=!1,I=-1,w=5,R=-1;function M(){return B?!0:!(i.unstable_now()-R<w)}function P(){if(B=!1,z){var $=i.unstable_now();R=$;var de=!0;try{e:{N=!1,K&&(K=!1,te(I),I=-1),D=!0;var ge=T;try{t:{for(he($),A=n(p);A!==null&&!(A.expirationTime>$&&M());){var je=A.callback;if(typeof je=="function"){A.callback=null,T=A.priorityLevel;var O=je(A.expirationTime<=$);if($=i.unstable_now(),typeof O=="function"){A.callback=O,he($),de=!0;break t}A===n(p)&&a(p),he($)}else a(p);A=n(p)}if(A!==null)de=!0;else{var re=n(g);re!==null&&Je(ue,re.startTime-$),de=!1}}break e}finally{A=null,T=ge,D=!1}de=void 0}}finally{de?k():z=!1}}}var k;if(typeof ee=="function")k=function(){ee(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ke=C.port2;C.port1.onmessage=P,k=function(){ke.postMessage(null)}}else k=function(){U(P,0)};function Je($,de){I=U(function(){$(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function($){switch(T){case 1:case 2:case 3:var de=3;break;default:de=T}var ge=T;T=de;try{return $()}finally{T=ge}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function($,de){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ge=T;T=$;try{return de()}finally{T=ge}},i.unstable_scheduleCallback=function($,de,ge){var je=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,$={id:E++,callback:de,priorityLevel:$,startTime:ge,expirationTime:O,sortIndex:-1},ge>je?($.sortIndex=ge,e(g,$),n(p)===null&&$===n(g)&&(K?(te(I),I=-1):K=!0,Je(ue,ge-je))):($.sortIndex=O,e(p,$),N||D||(N=!0,z||(z=!0,k()))),$},i.unstable_shouldYield=M,i.unstable_wrapCallback=function($){var de=T;return function(){var ge=T;T=de;try{return $.apply(this,arguments)}finally{T=ge}}}}(Id)),Id}var Mv;function B1(){return Mv||(Mv=1,xd.exports=j1()),xd.exports}var Nd={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function H1(){if(Lv)return _n;Lv=1;var i=bm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_n.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},_n.flushSync=function(p){var g=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=E,a.d.f()}},_n.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},_n.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},_n.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:D}):E==="script"&&a.d.X(p,{crossOrigin:A,integrity:T,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},_n.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);a.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},_n.requestFormReset=function(p){a.d.r(p)},_n.unstable_batchedUpdates=function(p,g){return p(g)},_n.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},_n.useFormStatus=function(){return f.H.useHostTransitionStatus()},_n.version="19.1.0",_n}var Pv;function S0(){if(Pv)return Nd.exports;Pv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nd.exports=H1(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function q1(){if(Uv)return Do;Uv=1;var i=B1(),e=bm(),n=S0();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,o=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===o)return m(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=d;else{for(var _=!1,b=h.child;b;){if(b===s){_=!0,s=h,o=d;break}if(b===o){_=!0,o=h,s=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===s){_=!0,s=d,o=h;break}if(b===o){_=!0,o=d,s=h;break}b=b.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case B:return"Profiler";case K:return"StrictMode";case ue:return"Suspense";case z:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case ee:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case he:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:ke(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return ke(t(r))}catch{}}return null}var Je=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],O=-1;function re(t){return{current:t}}function me(t){0>O||(t.current=je[O],je[O]=null,O--)}function ce(t,r){O++,je[O]=t.current,t.current=r}var Se=re(null),Be=re(null),xe=re(null),Ut=re(null);function pt(t,r){switch(ce(xe,r),ce(Be,t),ce(Se,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?rv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=rv(r),t=iv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}me(Se),ce(Se,t)}function Xn(){me(Se),me(Be),me(xe)}function wt(t){t.memoizedState!==null&&ce(Ut,t);var r=Se.current,s=iv(r,t.type);r!==s&&(ce(Be,t),ce(Se,s))}function pn(t){Be.current===t&&(me(Se),me(Be)),Ut.current===t&&(me(Ut),To._currentValue=ge)}var Dr=Object.prototype.hasOwnProperty,ii=i.unstable_scheduleCallback,An=i.unstable_cancelCallback,xa=i.unstable_shouldYield,Es=i.unstable_requestPaint,Sn=i.unstable_now,Dl=i.unstable_getCurrentPriorityLevel,Ia=i.unstable_ImmediatePriority,Li=i.unstable_UserBlockingPriority,ai=i.unstable_NormalPriority,vr=i.unstable_LowPriority,Zn=i.unstable_IdlePriority,Pi=i.log,Ui=i.unstable_setDisableYieldValue,ot=null,qe=null;function gn(t){if(typeof Pi=="function"&&Ui(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(ot,t)}catch{}}var kt=Math.clz32?Math.clz32:Cr,Ts=Math.log,Wn=Math.LN2;function Cr(t){return t>>>=0,t===0?32:31-(Ts(t)/Wn|0)|0}var xr=256,Ir=4194304;function Pn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,r,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~d,o!==0?h=Pn(o):(_&=b,_!==0?h=Pn(_):s||(s=b&~t,s!==0&&(h=Pn(s))))):(b=o&~d,b!==0?h=Pn(b):_!==0?h=Pn(_):s||(s=o&~t,s!==0&&(h=Pn(s)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:h}function Jn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ki(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function li(){var t=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),t}function Na(){var t=Ir;return Ir<<=1,(Ir&62914560)===0&&(Ir=4194304),t}function er(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function _r(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zi(t,r,s,o,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,x=t.expirationTimes,Y=t.hiddenUpdates;for(s=_&~s;0<s;){var ne=31-kt(s),se=1<<ne;b[ne]=0,x[ne]=-1;var X=Y[ne];if(X!==null)for(Y[ne]=null,ne=0;ne<X.length;ne++){var Z=X[ne];Z!==null&&(Z.lane&=-536870913)}s&=~se}o!==0&&wn(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function wn(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-kt(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function Nr(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var o=31-kt(s),h=1<<o;h&r|t[o]&r&&(t[o]|=r),s&=~h}}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function V(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:Av(t.type))}function H(t,r){var s=de.p;try{return de.p=t,r()}finally{de.p=s}}var Q=Math.random().toString(36).slice(2),le="__reactFiber$"+Q,fe="__reactProps$"+Q,_e="__reactContainer$"+Q,De="__reactEvents$"+Q,Ee="__reactListeners$"+Q,Ae="__reactHandles$"+Q,be="__reactResources$"+Q,Ne="__reactMarker$"+Q;function Ce(t){delete t[le],delete t[fe],delete t[De],delete t[Ee],delete t[Ae]}function Me(t){var r=t[le];if(r)return r;for(var s=t.parentNode;s;){if(r=s[_e]||s[le]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=ov(t);t!==null;){if(s=t[le])return s;t=ov(t)}return r}t=s,s=t.parentNode}return null}function Ke(t){if(t=t[le]||t[_e]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ct(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function st(t){var r=t[be];return r||(r=t[be]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function et(t){t[Ne]=!0}var Qe=new Set,tr={};function Yt(t,r){Rn(t,r),Rn(t+"Capture",r)}function Rn(t,r){for(tr[t]=r,t=0;t<r.length;t++)Qe.add(r[t])}var sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vr={},Un={};function Bi(t){return Dr.call(Un,t)?!0:Dr.call(Vr,t)?!1:sn.test(t)?Un[t]=!0:(Vr[t]=!0,!1)}function yn(t,r,s){if(Bi(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Dn(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Pe(t,r,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+o)}}var zt,kn;function Nn(t){if(zt===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);zt=r&&r[1]||"",kn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zt+t+kn}var Mr=!1;function Et(t,r){if(!t||Mr)return"";Mr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var X=Z}Reflect.construct(t,[],se)}else{try{se.call()}catch(Z){X=Z}t.call(se.prototype)}}else{try{throw Error()}catch(Z){X=Z}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var x=_.split(`
`),Y=b.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===Y.length)for(o=x.length-1,h=Y.length-1;1<=o&&0<=h&&x[o]!==Y[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==Y[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==Y[h]){var ne=`
`+x[o].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=o&&0<=h);break}}}finally{Mr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Nn(s):""}function nr(t){switch(t.tag){case 26:case 27:case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return Et(t.type,!1);case 11:return Et(t.type.render,!1);case 1:return Et(t.type,!0);case 31:return Nn("Activity");default:return""}}function oi(t){try{var r="";do r+=nr(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cl(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function xh(t){var r=Cl(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function bs(t){t._valueTracker||(t._valueTracker=xh(t))}function xl(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return t&&(o=Cl(t)?t.checked?"true":"false":t.value),t=o,t!==s?(r.setValue(t),!0):!1}function Oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ih=/[\n"\\]/g;function jt(t){return t.replace(Ih,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function zn(t,r,s,o,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+ln(r)):t.value!==""+ln(r)&&(t.value=""+ln(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Hi(t,_,ln(r)):s!=null?Hi(t,_,ln(s)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+ln(b):t.removeAttribute("name")}function Va(t,r,s,o,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+ln(s):"",r=r!=null?""+ln(r):s,b||r===t.value||(t.value=r),t.defaultValue=r}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Hi(t,r,s){r==="number"&&Oa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ui(t,r,s,o){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+ln(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function gt(t,r,s){if(r!=null&&(r=""+ln(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+ln(s):""}function Ma(t,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(a(92));if(Je(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=ln(r),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function rr(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var La=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(t,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,s):typeof s!="number"||s===0||La.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Il(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in r)o=r[h],r.hasOwnProperty(h)&&s[h]!==o&&pu(t,h,o)}else for(var d in r)r.hasOwnProperty(d)&&pu(t,d,r[d])}function Nl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(t){return Oh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ci=null;function ir(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function Ol(t){var r=Ke(t);if(r&&(t=r.stateNode)){var s=t[fe]||null;e:switch(t=r.stateNode,r.type){case"input":if(zn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+jt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==t&&o.form===t.form){var h=o[fe]||null;if(!h)throw Error(a(90));zn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===t.form&&xl(o)}break e;case"textarea":gt(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&ui(t,!!s.multiple,r,!1)}}}var Lr=!1;function gu(t,r,s){if(Lr)return t(r,s);Lr=!0;try{var o=t(r);return o}finally{if(Lr=!1,(hi!==null||fi!==null)&&(uc(),hi&&(r=hi,t=fi,fi=hi=null,Ol(r),t)))for(r=0;r<t.length;r++)Ol(t[r])}}function Pa(t,r){var s=t.stateNode;if(s===null)return null;var o=s[fe]||null;if(o===null)return null;s=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ar=!1;if(Er)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){ar=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{ar=!1}var Pr=null,qi=null,di=null;function Vl(){if(di)return di;var t,r=qi,s=r.length,o,h="value"in Pr?Pr.value:Pr.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(o=1;o<=_&&r[s-o]===h[d-o];o++);return di=h.slice(t,1<o?1-o:void 0)}function Ur(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function kr(){return!0}function Ml(){return!1}function Jt(t){function r(s,o,h,d,_){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?kr:Ml,this.isPropagationStopped=Ml,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),r}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=Jt(ht),ka=E({},ht,{view:0,detail:0}),yu=Jt(ka),ws,Rs,zr,za=E({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zr&&(zr&&t.type==="mousemove"?(ws=t.screenX-zr.screenX,Rs=t.screenY-zr.screenY):Rs=ws=0,zr=t),ws)},movementY:function(t){return"movementY"in t?t.movementY:Rs}}),sr=Jt(za),vu=E({},za,{dataTransfer:0}),Vh=Jt(vu),ja=E({},ka,{relatedTarget:0}),Ds=Jt(ja),Ll=E({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Cs=Jt(Ll),_u=E({},ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xs=Jt(_u),Mh=E({},ht,{data:0}),Pl=Jt(Mh),Ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Tu[t])?!!r[t]:!1}function Ha(){return Ul}var bu=E({},ka,{key:function(t){if(t.key){var r=Ba[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Is=Jt(bu),Au=E({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Jt(Au),mi=E({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Su=Jt(mi),wu=E({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=Jt(wu),Du=E({},za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ns=Jt(Du),Cn=E({},ht,{newState:0,oldState:0}),Cu=Jt(Cn),xu=[9,13,27,32],jr=Er&&"CompositionEvent"in window,c=null;Er&&"documentMode"in document&&(c=document.documentMode);var y=Er&&"TextEvent"in window&&!c,v=Er&&(!jr||c&&8<c&&11>=c),S=" ",q=!1;function J(t,r){switch(t){case"keyup":return xu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Kt(t,r){switch(t){case"compositionend":return pe(r);case"keypress":return r.which!==32?null:(q=!0,S);case"textInput":return t=r.data,t===S&&q?null:t;default:return null}}function nt(t,r){if(tt)return t==="compositionend"||!jr&&J(t,r)?(t=Vl(),di=qi=Pr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $t(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!en[t.type]:r==="textarea"}function pi(t,r,s,o){hi?fi?fi.push(o):fi=[o]:hi=o,r=pc(r,"onChange"),0<r.length&&(s=new Ss("onChange","change",null,s,o),t.push({event:s,listeners:r}))}var on=null,Br=null;function zl(t){Wy(t,0)}function Iu(t){var r=ct(t);if(xl(r))return t}function _p(t,r){if(t==="change")return r}var Ep=!1;if(Er){var Lh;if(Er){var Ph="oninput"in document;if(!Ph){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Ph=typeof Tp.oninput=="function"}Lh=Ph}else Lh=!1;Ep=Lh&&(!document.documentMode||9<document.documentMode)}function bp(){on&&(on.detachEvent("onpropertychange",Ap),Br=on=null)}function Ap(t){if(t.propertyName==="value"&&Iu(Br)){var r=[];pi(r,Br,t,ir(t)),gu(zl,r)}}function db(t,r,s){t==="focusin"?(bp(),on=r,Br=s,on.attachEvent("onpropertychange",Ap)):t==="focusout"&&bp()}function mb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Br)}function pb(t,r){if(t==="click")return Iu(r)}function gb(t,r){if(t==="input"||t==="change")return Iu(r)}function yb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var jn=typeof Object.is=="function"?Object.is:yb;function jl(t,r){if(jn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Dr.call(r,h)||!jn(t[h],r[h]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wp(t,r){var s=Sp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=r&&o>=r)return{node:s,offset:r-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sp(s)}}function Rp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Rp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Dp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Oa(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Oa(t.document)}return r}function Uh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var vb=Er&&"documentMode"in document&&11>=document.documentMode,Os=null,kh=null,Bl=null,zh=!1;function Cp(t,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||Os==null||Os!==Oa(o)||(o=Os,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bl&&jl(Bl,o)||(Bl=o,o=pc(kh,"onSelect"),0<o.length&&(r=new Ss("onSelect","select",null,r,s),t.push({event:r,listeners:o}),r.target=Os)))}function qa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Vs={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},jh={},xp={};Er&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Fa(t){if(jh[t])return jh[t];if(!Vs[t])return t;var r=Vs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in xp)return jh[t]=r[s];return t}var Ip=Fa("animationend"),Np=Fa("animationiteration"),Op=Fa("animationstart"),_b=Fa("transitionrun"),Eb=Fa("transitionstart"),Tb=Fa("transitioncancel"),Vp=Fa("transitionend"),Mp=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Tr(t,r){Mp.set(t,r),Yt(r,[t])}var Lp=new WeakMap;function lr(t,r){if(typeof t=="object"&&t!==null){var s=Lp.get(t);return s!==void 0?s:(r={value:t,source:r,stack:oi(r)},Lp.set(t,r),r)}return{value:t,source:r,stack:oi(r)}}var or=[],Ms=0,Hh=0;function Nu(){for(var t=Ms,r=Hh=Ms=0;r<t;){var s=or[r];or[r++]=null;var o=or[r];or[r++]=null;var h=or[r];or[r++]=null;var d=or[r];if(or[r++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&Pp(s,h,d)}}function Ou(t,r,s,o){or[Ms++]=t,or[Ms++]=r,or[Ms++]=s,or[Ms++]=o,Hh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function qh(t,r,s,o){return Ou(t,r,s,o),Vu(t)}function Ls(t,r){return Ou(t,null,null,r),Vu(t)}function Pp(t,r,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-kt(s),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[r]:o.push(r),r.lane=s|536870912),d):null}function Vu(t){if(50<fo)throw fo=0,Xf=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ps={};function bb(t,r,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,r,s,o){return new bb(t,r,s,o)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,r){var s=t.alternate;return s===null?(s=Bn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Up(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Mu(t,r,s,o,h,d){var _=0;if(o=t,typeof t=="function")Fh(t)&&(_=1);else if(typeof t=="string")_=S1(t,s,Se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Bn(31,s,r,h),t.elementType=R,t.lanes=d,t;case N:return Ga(s.children,h,d,r);case K:_=8,h|=24;break;case B:return t=Bn(12,s,r,h|2),t.elementType=B,t.lanes=d,t;case ue:return t=Bn(13,s,r,h),t.elementType=ue,t.lanes=d,t;case z:return t=Bn(19,s,r,h),t.elementType=z,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:case ee:_=10;break e;case te:_=9;break e;case he:_=11;break e;case I:_=14;break e;case w:_=16,o=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return r=Bn(_,s,r,h),r.elementType=t,r.type=o,r.lanes=d,r}function Ga(t,r,s,o){return t=Bn(7,t,o,r),t.lanes=s,t}function Gh(t,r,s){return t=Bn(6,t,null,r),t.lanes=s,t}function Qh(t,r,s){return r=Bn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Us=[],ks=0,Lu=null,Pu=0,ur=[],cr=0,Qa=null,yi=1,vi="";function Ya(t,r){Us[ks++]=Pu,Us[ks++]=Lu,Lu=t,Pu=r}function kp(t,r,s){ur[cr++]=yi,ur[cr++]=vi,ur[cr++]=Qa,Qa=t;var o=yi;t=vi;var h=32-kt(o)-1;o&=~(1<<h),s+=1;var d=32-kt(r)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,yi=1<<32-kt(r)+h|s<<h|o,vi=d+t}else yi=1<<d|s<<h|o,vi=t}function Yh(t){t.return!==null&&(Ya(t,1),kp(t,1,0))}function Kh(t){for(;t===Lu;)Lu=Us[--ks],Us[ks]=null,Pu=Us[--ks],Us[ks]=null;for(;t===Qa;)Qa=ur[--cr],ur[cr]=null,vi=ur[--cr],ur[cr]=null,yi=ur[--cr],ur[cr]=null}var xn=null,xt=null,ut=!1,Ka=null,Hr=!1,$h=Error(a(519));function $a(t){var r=Error(a(418,""));throw Fl(lr(r,t)),$h}function zp(t){var r=t.stateNode,s=t.type,o=t.memoizedProps;switch(r[le]=t,r[fe]=o,s){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<po.length;s++)Xe(po[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":Xe("invalid",r),Va(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),bs(r);break;case"select":Xe("invalid",r);break;case"textarea":Xe("invalid",r),Ma(r,o.value,o.defaultValue,o.children),bs(r)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||nv(r.textContent,s)?(o.popover!=null&&(Xe("beforetoggle",r),Xe("toggle",r)),o.onScroll!=null&&Xe("scroll",r),o.onScrollEnd!=null&&Xe("scrollend",r),o.onClick!=null&&(r.onclick=gc),r=!0):r=!1,r||$a(t)}function jp(t){for(xn=t.return;xn;)switch(xn.tag){case 5:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:xn=xn.return}}function Hl(t){if(t!==xn)return!1;if(!ut)return jp(t),ut=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||fd(t.type,t.memoizedProps)),s=!s),s&&xt&&$a(t),jp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){xt=Ar(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}xt=null}}else r===27?(r=xt,aa(t.type)?(t=gd,gd=null,xt=t):xt=r):xt=xn?Ar(t.stateNode.nextSibling):null;return!0}function ql(){xt=xn=null,ut=!1}function Bp(){var t=Ka;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),Ka=null),t}function Fl(t){Ka===null?Ka=[t]:Ka.push(t)}var Xh=re(null),Xa=null,_i=null;function Fi(t,r,s){ce(Xh,r._currentValue),r._currentValue=s}function Ei(t){t._currentValue=Xh.current,me(Xh)}function Zh(t,r,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===s)break;t=t.return}}function Wh(t,r,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var x=0;x<r.length;x++)if(b.context===r[x]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),Zh(d.return,s,t),o||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Zh(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Gl(t,r,s,o){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var b=h.type;jn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===Ut.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(To):t=[To])}h=h.return}t!==null&&Wh(r,t,s,o),r.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Za(t){Xa=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vn(t){return Hp(Xa,t)}function ku(t,r){return Xa===null&&Za(t),Hp(t,r)}function Hp(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},_i===null){if(t===null)throw Error(a(308));_i=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else _i=_i.next=r;return s}var Ab=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},Sb=i.unstable_scheduleCallback,wb=i.unstable_NormalPriority,Xt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new Ab,data:new Map,refCount:0}}function Ql(t){t.refCount--,t.refCount===0&&Sb(wb,function(){t.controller.abort()})}var Yl=null,ef=0,zs=0,js=null;function Rb(t,r){if(Yl===null){var s=Yl=[];ef=0,zs=rd(),js={status:"pending",value:void 0,then:function(o){s.push(o)}}}return ef++,r.then(qp,qp),r}function qp(){if(--ef===0&&Yl!==null){js!==null&&(js.status="fulfilled");var t=Yl;Yl=null,zs=0,js=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Db(t,r){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Fp=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Rb(t,r),Fp!==null&&Fp(t,r)};var Wa=re(null);function tf(){var t=Wa.current;return t!==null?t:bt.pooledCache}function zu(t,r){r===null?ce(Wa,Wa.current):ce(Wa,r.pool)}function Gp(){var t=tf();return t===null?null:{parent:Xt._currentValue,pool:t}}var Kl=Error(a(460)),Qp=Error(a(474)),ju=Error(a(542)),nf={then:function(){}};function Yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bu(){}function Kp(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Bu,Bu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Xp(t),t;default:if(typeof r.status=="string")r.then(Bu,Bu);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=o}},function(o){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Xp(t),t}throw $l=r,Kl}}var $l=null;function $p(){if($l===null)throw Error(a(459));var t=$l;return $l=null,t}function Xp(t){if(t===Kl||t===ju)throw Error(a(483))}var Gi=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,r,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(dt&2)!==0){var h=o.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),o.pending=r,r=Vu(t),Pp(t,null,s),r}return Ou(t,o,r,s),Vu(t)}function Xl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Nr(t,s)}}function sf(t,r){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var lf=!1;function Zl(){if(lf){var t=js;if(t!==null)throw t}}function Wl(t,r,s,o){lf=!1;var h=t.updateQueue;Gi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var x=b,Y=x.next;x.next=null,_===null?d=Y:_.next=Y,_=x;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==_&&(b===null?ne.firstBaseUpdate=Y:b.next=Y,ne.lastBaseUpdate=x))}if(d!==null){var se=h.baseState;_=0,ne=Y=x=null,b=d;do{var X=b.lane&-536870913,Z=X!==b.lane;if(Z?(rt&X)===X:(o&X)===X){X!==0&&X===zs&&(lf=!0),ne!==null&&(ne=ne.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Le=t,Ie=b;X=r;var _t=s;switch(Ie.tag){case 1:if(Le=Ie.payload,typeof Le=="function"){se=Le.call(_t,se,X);break e}se=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ie.payload,X=typeof Le=="function"?Le.call(_t,se,X):Le,X==null)break e;se=E({},se,X);break e;case 2:Gi=!0}}X=b.callback,X!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(Y=ne=Z,x=se):ne=ne.next=Z,_|=X;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Z=b,b=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);ne===null&&(x=se),h.baseState=x,h.firstBaseUpdate=Y,h.lastBaseUpdate=ne,d===null&&(h.shared.lanes=0),ta|=_,t.lanes=_,t.memoizedState=se}}function Zp(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Wp(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Zp(s[t],r)}var Bs=re(null),Hu=re(0);function Jp(t,r){t=Di,ce(Hu,t),ce(Bs,r),Di=t|r.baseLanes}function of(){ce(Hu,Di),ce(Bs,Bs.current)}function uf(){Di=Hu.current,me(Bs),me(Hu)}var Ki=0,Fe=null,yt=null,Bt=null,qu=!1,Hs=!1,Ja=!1,Fu=0,Jl=0,qs=null,Cb=0;function Vt(){throw Error(a(321))}function cf(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!jn(t[s],r[s]))return!1;return!0}function hf(t,r,s,o,h,d){return Ki=d,Fe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?Pg:Ug,Ja=!1,d=s(o,h),Ja=!1,Hs&&(d=tg(r,s,o,h)),eg(t),d}function eg(t){$.H=Xu;var r=yt!==null&&yt.next!==null;if(Ki=0,Bt=yt=Fe=null,qu=!1,Jl=0,qs=null,r)throw Error(a(300));t===null||tn||(t=t.dependencies,t!==null&&Uu(t)&&(tn=!0))}function tg(t,r,s,o){Fe=t;var h=0;do{if(Hs&&(qs=null),Jl=0,Hs=!1,25<=h)throw Error(a(301));if(h+=1,Bt=yt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Lb,d=r(s,o)}while(Hs);return d}function xb(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?eo(r):r,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Fe.flags|=1024),r}function ff(){var t=Fu!==0;return Fu=0,t}function df(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function mf(t){if(qu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}qu=!1}Ki=0,Bt=yt=Fe=null,Hs=!1,Jl=Fu=0,qs=null}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Fe.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Ht(){if(yt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var r=Bt===null?Fe.memoizedState:Bt.next;if(r!==null)Bt=r,yt=t;else{if(t===null)throw Fe.alternate===null?Error(a(467)):Error(a(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Bt===null?Fe.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(t){var r=Jl;return Jl+=1,qs===null&&(qs=[]),t=Kp(qs,t,r),r=Fe,(Bt===null?r.memoizedState:Bt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Pg:Ug),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return eo(t);if(t.$$typeof===ee)return vn(t)}throw Error(a(438,String(t)))}function gf(t){var r=null,s=Fe.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=Fe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=pf(),Fe.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),o=0;o<t;o++)s[o]=M;return r.index++,s}function Ti(t,r){return typeof r=="function"?r(t):r}function Qu(t){var r=Ht();return yf(r,yt,t)}function yf(t,r,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=_=null,x=null,Y=r,ne=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(rt&se)===se:(Ki&se)===se){var X=Y.revertLane;if(X===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===zs&&(ne=!0);else if((Ki&X)===X){Y=Y.next,X===zs&&(ne=!0);continue}else se={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},x===null?(b=x=se,_=d):x=x.next=se,Fe.lanes|=X,ta|=X;se=Y.action,Ja&&s(d,se),d=Y.hasEagerState?Y.eagerState:s(d,se)}else X={lane:se,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},x===null?(b=x=X,_=d):x=x.next=X,Fe.lanes|=se,ta|=se;Y=Y.next}while(Y!==null&&Y!==r);if(x===null?_=d:x.next=b,!jn(d,t.memoizedState)&&(tn=!0,ne&&(s=js,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=x,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function vf(t){var r=Ht(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);jn(d,r.memoizedState)||(tn=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,o]}function ng(t,r,s){var o=Fe,h=Ht(),d=ut;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!jn((yt||h).memoizedState,s);_&&(h.memoizedState=s,tn=!0),h=h.queue;var b=ag.bind(null,o,h,t);if(to(2048,8,b,[t]),h.getSnapshot!==r||_||Bt!==null&&Bt.memoizedState.tag&1){if(o.flags|=2048,Fs(9,Yu(),ig.bind(null,o,h,s,r),null),bt===null)throw Error(a(349));d||(Ki&124)!==0||rg(o,r,s)}return s}function rg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Fe.updateQueue,r===null?(r=pf(),Fe.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function ig(t,r,s,o){r.value=s,r.getSnapshot=o,sg(r)&&lg(t)}function ag(t,r,s){return s(function(){sg(r)&&lg(t)})}function sg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!jn(t,s)}catch{return!0}}function lg(t){var r=Ls(t,2);r!==null&&Qn(r,t,2)}function _f(t){var r=On();if(typeof t=="function"){var s=t;if(t=s(),Ja){gn(!0);try{s()}finally{gn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},r}function og(t,r,s,o){return t.baseState=s,yf(t,yt,typeof o=="function"?o:Ti)}function Ib(t,r,s,o,h){if($u(t))throw Error(a(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?s(!0):d.isTransition=!1,o(d),s=r.pending,s===null?(d.next=r.pending=d,ug(r,d)):(d.next=s.next,r.pending=s.next=d)}}function ug(t,r){var s=r.action,o=r.payload,h=t.state;if(r.isTransition){var d=$.T,_={};$.T=_;try{var b=s(h,o),x=$.S;x!==null&&x(_,b),cg(t,r,b)}catch(Y){Ef(t,r,Y)}finally{$.T=d}}else try{d=s(h,o),cg(t,r,d)}catch(Y){Ef(t,r,Y)}}function cg(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){hg(t,r,o)},function(o){return Ef(t,r,o)}):hg(t,r,s)}function hg(t,r,s){r.status="fulfilled",r.value=s,fg(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,ug(t,s)))}function Ef(t,r,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,fg(r),r=r.next;while(r!==o)}t.action=null}function fg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function dg(t,r){return r}function mg(t,r){if(ut){var s=bt.formState;if(s!==null){e:{var o=Fe;if(ut){if(xt){t:{for(var h=xt,d=Hr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ar(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xt=Ar(h.nextSibling),o=h.data==="F!";break e}}$a(o)}o=!1}o&&(r=s[0])}}return s=On(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:r},s.queue=o,s=Vg.bind(null,Fe,o),o.dispatch=s,o=_f(!1),d=wf.bind(null,Fe,!1,o.queue),o=On(),h={state:r,dispatch:null,action:t,pending:null},o.queue=h,s=Ib.bind(null,Fe,h,d,s),h.dispatch=s,o.memoizedState=t,[r,s,!1]}function pg(t){var r=Ht();return gg(r,yt,t)}function gg(t,r,s){if(r=yf(t,r,dg)[0],t=Qu(Ti)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=eo(r)}catch(_){throw _===Kl?ju:_}else o=r;r=Ht();var h=r.queue,d=h.dispatch;return s!==r.memoizedState&&(Fe.flags|=2048,Fs(9,Yu(),Nb.bind(null,h,s),null)),[o,d,t]}function Nb(t,r){t.action=r}function yg(t){var r=Ht(),s=yt;if(s!==null)return gg(r,s,t);Ht(),r=r.memoizedState,s=Ht();var o=s.queue.dispatch;return s.memoizedState=t,[r,o,!1]}function Fs(t,r,s,o){return t={tag:t,create:s,deps:o,inst:r,next:null},r=Fe.updateQueue,r===null&&(r=pf(),Fe.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,r.lastEffect=t),t}function Yu(){return{destroy:void 0,resource:void 0}}function vg(){return Ht().memoizedState}function Ku(t,r,s,o){var h=On();o=o===void 0?null:o,Fe.flags|=t,h.memoizedState=Fs(1|r,Yu(),s,o)}function to(t,r,s,o){var h=Ht();o=o===void 0?null:o;var d=h.memoizedState.inst;yt!==null&&o!==null&&cf(o,yt.memoizedState.deps)?h.memoizedState=Fs(r,d,s,o):(Fe.flags|=t,h.memoizedState=Fs(1|r,d,s,o))}function _g(t,r){Ku(8390656,8,t,r)}function Eg(t,r){to(2048,8,t,r)}function Tg(t,r){return to(4,2,t,r)}function bg(t,r){return to(4,4,t,r)}function Ag(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Sg(t,r,s){s=s!=null?s.concat([t]):null,to(4,4,Ag.bind(null,r,t),s)}function Tf(){}function wg(t,r){var s=Ht();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&cf(r,o[1])?o[0]:(s.memoizedState=[t,r],t)}function Rg(t,r){var s=Ht();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&cf(r,o[1]))return o[0];if(o=t(),Ja){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[o,r],o}function bf(t,r,s){return s===void 0||(Ki&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=xy(),Fe.lanes|=t,ta|=t,s)}function Dg(t,r,s,o){return jn(s,r)?s:Bs.current!==null?(t=bf(t,s,o),jn(t,r)||(tn=!0),t):(Ki&42)===0?(tn=!0,t.memoizedState=s):(t=xy(),Fe.lanes|=t,ta|=t,r)}function Cg(t,r,s,o,h){var d=de.p;de.p=d!==0&&8>d?d:8;var _=$.T,b={};$.T=b,wf(t,!1,r,s);try{var x=h(),Y=$.S;if(Y!==null&&Y(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var ne=Db(x,o);no(t,r,ne,Gn(t))}else no(t,r,o,Gn(t))}catch(se){no(t,r,{then:function(){},status:"rejected",reason:se},Gn())}finally{de.p=d,$.T=_}}function Ob(){}function Af(t,r,s,o){if(t.tag!==5)throw Error(a(476));var h=xg(t).queue;Cg(t,h,r,ge,s===null?Ob:function(){return Ig(t),s(o)})}function xg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:ge},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ig(t){var r=xg(t).next.queue;no(t,r,{},Gn())}function Sf(){return vn(To)}function Ng(){return Ht().memoizedState}function Og(){return Ht().memoizedState}function Vb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Gn();t=Qi(s);var o=Yi(r,t,s);o!==null&&(Qn(o,r,s),Xl(o,r,s)),r={cache:Jh()},t.payload=r;return}r=r.return}}function Mb(t,r,s){var o=Gn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},$u(t)?Mg(r,s):(s=qh(t,r,s,o),s!==null&&(Qn(s,t,o),Lg(s,r,o)))}function Vg(t,r,s){var o=Gn();no(t,r,s,o)}function no(t,r,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(t))Mg(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,s);if(h.hasEagerState=!0,h.eagerState=b,jn(b,_))return Ou(t,r,h,0),bt===null&&Nu(),!1}catch{}finally{}if(s=qh(t,r,h,o),s!==null)return Qn(s,t,o),Lg(s,r,o),!0}return!1}function wf(t,r,s,o){if(o={lane:2,revertLane:rd(),action:o,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(r)throw Error(a(479))}else r=qh(t,s,o,2),r!==null&&Qn(r,t,2)}function $u(t){var r=t.alternate;return t===Fe||r!==null&&r===Fe}function Mg(t,r){Hs=qu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Lg(t,r,s){if((s&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Nr(t,s)}}var Xu={readContext:vn,use:Gu,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},Pg={readContext:vn,use:Gu,useCallback:function(t,r){return On().memoizedState=[t,r===void 0?null:r],t},useContext:vn,useEffect:_g,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Ku(4194308,4,Ag.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Ku(4194308,4,t,r)},useInsertionEffect:function(t,r){Ku(4,2,t,r)},useMemo:function(t,r){var s=On();r=r===void 0?null:r;var o=t();if(Ja){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[o,r],o},useReducer:function(t,r,s){var o=On();if(s!==void 0){var h=s(r);if(Ja){gn(!0);try{s(r)}finally{gn(!1)}}}else h=r;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Mb.bind(null,Fe,t),[o.memoizedState,t]},useRef:function(t){var r=On();return t={current:t},r.memoizedState=t},useState:function(t){t=_f(t);var r=t.queue,s=Vg.bind(null,Fe,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(t,r){var s=On();return bf(s,t,r)},useTransition:function(){var t=_f(!1);return t=Cg.bind(null,Fe,t.queue,!0,!1),On().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var o=Fe,h=On();if(ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),bt===null)throw Error(a(349));(rt&124)!==0||rg(o,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,_g(ag.bind(null,o,d,t),[t]),o.flags|=2048,Fs(9,Yu(),ig.bind(null,o,d,s,r),null),s},useId:function(){var t=On(),r=bt.identifierPrefix;if(ut){var s=vi,o=yi;s=(o&~(1<<32-kt(o)-1)).toString(32)+s,r="«"+r+"R"+s,s=Fu++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=Cb++,r="«"+r+"r"+s.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Sf,useFormState:mg,useActionState:mg,useOptimistic:function(t){var r=On();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=wf.bind(null,Fe,!0,s),s.dispatch=r,[t,r]},useMemoCache:gf,useCacheRefresh:function(){return On().memoizedState=Vb.bind(null,Fe)}},Ug={readContext:vn,use:Gu,useCallback:wg,useContext:vn,useEffect:Eg,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Qu,useRef:vg,useState:function(){return Qu(Ti)},useDebugValue:Tf,useDeferredValue:function(t,r){var s=Ht();return Dg(s,yt.memoizedState,t,r)},useTransition:function(){var t=Qu(Ti)[0],r=Ht().memoizedState;return[typeof t=="boolean"?t:eo(t),r]},useSyncExternalStore:ng,useId:Ng,useHostTransitionStatus:Sf,useFormState:pg,useActionState:pg,useOptimistic:function(t,r){var s=Ht();return og(s,yt,t,r)},useMemoCache:gf,useCacheRefresh:Og},Lb={readContext:vn,use:Gu,useCallback:wg,useContext:vn,useEffect:Eg,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:vf,useRef:vg,useState:function(){return vf(Ti)},useDebugValue:Tf,useDeferredValue:function(t,r){var s=Ht();return yt===null?bf(s,t,r):Dg(s,yt.memoizedState,t,r)},useTransition:function(){var t=vf(Ti)[0],r=Ht().memoizedState;return[typeof t=="boolean"?t:eo(t),r]},useSyncExternalStore:ng,useId:Ng,useHostTransitionStatus:Sf,useFormState:yg,useActionState:yg,useOptimistic:function(t,r){var s=Ht();return yt!==null?og(s,yt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Og},Gs=null,ro=0;function Zu(t){var r=ro;return ro+=1,Gs===null&&(Gs=[]),Kp(Gs,t,r)}function io(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Wu(t,r){throw r.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function kg(t){var r=t._init;return r(t._payload)}function zg(t){function r(j,L){if(t){var F=j.deletions;F===null?(j.deletions=[L],j.flags|=16):F.push(L)}}function s(j,L){if(!t)return null;for(;L!==null;)r(j,L),L=L.sibling;return null}function o(j){for(var L=new Map;j!==null;)j.key!==null?L.set(j.key,j):L.set(j.index,j),j=j.sibling;return L}function h(j,L){return j=gi(j,L),j.index=0,j.sibling=null,j}function d(j,L,F){return j.index=F,t?(F=j.alternate,F!==null?(F=F.index,F<L?(j.flags|=67108866,L):F):(j.flags|=67108866,L)):(j.flags|=1048576,L)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,L,F,ie){return L===null||L.tag!==6?(L=Gh(F,j.mode,ie),L.return=j,L):(L=h(L,F),L.return=j,L)}function x(j,L,F,ie){var Te=F.type;return Te===N?ne(j,L,F.props.children,ie,F.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===w&&kg(Te)===L.type)?(L=h(L,F.props),io(L,F),L.return=j,L):(L=Mu(F.type,F.key,F.props,null,j.mode,ie),io(L,F),L.return=j,L)}function Y(j,L,F,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Qh(F,j.mode,ie),L.return=j,L):(L=h(L,F.children||[]),L.return=j,L)}function ne(j,L,F,ie,Te){return L===null||L.tag!==7?(L=Ga(F,j.mode,ie,Te),L.return=j,L):(L=h(L,F),L.return=j,L)}function se(j,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Gh(""+L,j.mode,F),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return F=Mu(L.type,L.key,L.props,null,j.mode,F),io(F,L),F.return=j,F;case D:return L=Qh(L,j.mode,F),L.return=j,L;case w:var ie=L._init;return L=ie(L._payload),se(j,L,F)}if(Je(L)||k(L))return L=Ga(L,j.mode,F,null),L.return=j,L;if(typeof L.then=="function")return se(j,Zu(L),F);if(L.$$typeof===ee)return se(j,ku(j,L),F);Wu(j,L)}return null}function X(j,L,F,ie){var Te=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Te!==null?null:b(j,L,""+F,ie);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===Te?x(j,L,F,ie):null;case D:return F.key===Te?Y(j,L,F,ie):null;case w:return Te=F._init,F=Te(F._payload),X(j,L,F,ie)}if(Je(F)||k(F))return Te!==null?null:ne(j,L,F,ie,null);if(typeof F.then=="function")return X(j,L,Zu(F),ie);if(F.$$typeof===ee)return X(j,L,ku(j,F),ie);Wu(j,F)}return null}function Z(j,L,F,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return j=j.get(F)||null,b(L,j,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:return j=j.get(ie.key===null?F:ie.key)||null,x(L,j,ie,Te);case D:return j=j.get(ie.key===null?F:ie.key)||null,Y(L,j,ie,Te);case w:var Ye=ie._init;return ie=Ye(ie._payload),Z(j,L,F,ie,Te)}if(Je(ie)||k(ie))return j=j.get(F)||null,ne(L,j,ie,Te,null);if(typeof ie.then=="function")return Z(j,L,F,Zu(ie),Te);if(ie.$$typeof===ee)return Z(j,L,F,ku(L,ie),Te);Wu(L,ie)}return null}function Le(j,L,F,ie){for(var Te=null,Ye=null,we=L,Oe=L=0,rn=null;we!==null&&Oe<F.length;Oe++){we.index>Oe?(rn=we,we=null):rn=we.sibling;var lt=X(j,we,F[Oe],ie);if(lt===null){we===null&&(we=rn);break}t&&we&&lt.alternate===null&&r(j,we),L=d(lt,L,Oe),Ye===null?Te=lt:Ye.sibling=lt,Ye=lt,we=rn}if(Oe===F.length)return s(j,we),ut&&Ya(j,Oe),Te;if(we===null){for(;Oe<F.length;Oe++)we=se(j,F[Oe],ie),we!==null&&(L=d(we,L,Oe),Ye===null?Te=we:Ye.sibling=we,Ye=we);return ut&&Ya(j,Oe),Te}for(we=o(we);Oe<F.length;Oe++)rn=Z(we,j,Oe,F[Oe],ie),rn!==null&&(t&&rn.alternate!==null&&we.delete(rn.key===null?Oe:rn.key),L=d(rn,L,Oe),Ye===null?Te=rn:Ye.sibling=rn,Ye=rn);return t&&we.forEach(function(ca){return r(j,ca)}),ut&&Ya(j,Oe),Te}function Ie(j,L,F,ie){if(F==null)throw Error(a(151));for(var Te=null,Ye=null,we=L,Oe=L=0,rn=null,lt=F.next();we!==null&&!lt.done;Oe++,lt=F.next()){we.index>Oe?(rn=we,we=null):rn=we.sibling;var ca=X(j,we,lt.value,ie);if(ca===null){we===null&&(we=rn);break}t&&we&&ca.alternate===null&&r(j,we),L=d(ca,L,Oe),Ye===null?Te=ca:Ye.sibling=ca,Ye=ca,we=rn}if(lt.done)return s(j,we),ut&&Ya(j,Oe),Te;if(we===null){for(;!lt.done;Oe++,lt=F.next())lt=se(j,lt.value,ie),lt!==null&&(L=d(lt,L,Oe),Ye===null?Te=lt:Ye.sibling=lt,Ye=lt);return ut&&Ya(j,Oe),Te}for(we=o(we);!lt.done;Oe++,lt=F.next())lt=Z(we,j,Oe,lt.value,ie),lt!==null&&(t&&lt.alternate!==null&&we.delete(lt.key===null?Oe:lt.key),L=d(lt,L,Oe),Ye===null?Te=lt:Ye.sibling=lt,Ye=lt);return t&&we.forEach(function(P1){return r(j,P1)}),ut&&Ya(j,Oe),Te}function _t(j,L,F,ie){if(typeof F=="object"&&F!==null&&F.type===N&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:e:{for(var Te=F.key;L!==null;){if(L.key===Te){if(Te=F.type,Te===N){if(L.tag===7){s(j,L.sibling),ie=h(L,F.props.children),ie.return=j,j=ie;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===w&&kg(Te)===L.type){s(j,L.sibling),ie=h(L,F.props),io(ie,F),ie.return=j,j=ie;break e}s(j,L);break}else r(j,L);L=L.sibling}F.type===N?(ie=Ga(F.props.children,j.mode,ie,F.key),ie.return=j,j=ie):(ie=Mu(F.type,F.key,F.props,null,j.mode,ie),io(ie,F),ie.return=j,j=ie)}return _(j);case D:e:{for(Te=F.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){s(j,L.sibling),ie=h(L,F.children||[]),ie.return=j,j=ie;break e}else{s(j,L);break}else r(j,L);L=L.sibling}ie=Qh(F,j.mode,ie),ie.return=j,j=ie}return _(j);case w:return Te=F._init,F=Te(F._payload),_t(j,L,F,ie)}if(Je(F))return Le(j,L,F,ie);if(k(F)){if(Te=k(F),typeof Te!="function")throw Error(a(150));return F=Te.call(F),Ie(j,L,F,ie)}if(typeof F.then=="function")return _t(j,L,Zu(F),ie);if(F.$$typeof===ee)return _t(j,L,ku(j,F),ie);Wu(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(s(j,L.sibling),ie=h(L,F),ie.return=j,j=ie):(s(j,L),ie=Gh(F,j.mode,ie),ie.return=j,j=ie),_(j)):s(j,L)}return function(j,L,F,ie){try{ro=0;var Te=_t(j,L,F,ie);return Gs=null,Te}catch(we){if(we===Kl||we===ju)throw we;var Ye=Bn(29,we,null,j.mode);return Ye.lanes=ie,Ye.return=j,Ye}finally{}}}var Qs=zg(!0),jg=zg(!1),hr=re(null),qr=null;function $i(t){var r=t.alternate;ce(Zt,Zt.current&1),ce(hr,t),qr===null&&(r===null||Bs.current!==null||r.memoizedState!==null)&&(qr=t)}function Bg(t){if(t.tag===22){if(ce(Zt,Zt.current),ce(hr,t),qr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(qr=t)}}else Xi()}function Xi(){ce(Zt,Zt.current),ce(hr,hr.current)}function bi(t){me(hr),qr===t&&(qr=null),me(Zt)}var Zt=re(0);function Ju(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||pd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Rf(t,r,s,o){r=t.memoizedState,s=s(o,r),s=s==null?r:E({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Df={enqueueSetState:function(t,r,s){t=t._reactInternals;var o=Gn(),h=Qi(o);h.payload=r,s!=null&&(h.callback=s),r=Yi(t,h,o),r!==null&&(Qn(r,t,o),Xl(r,t,o))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var o=Gn(),h=Qi(o);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Yi(t,h,o),r!==null&&(Qn(r,t,o),Xl(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Gn(),o=Qi(s);o.tag=2,r!=null&&(o.callback=r),r=Yi(t,o,s),r!==null&&(Qn(r,t,s),Xl(r,t,s))}};function Hg(t,r,s,o,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,_):r.prototype&&r.prototype.isPureReactComponent?!jl(s,o)||!jl(h,d):!0}function qg(t,r,s,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==t&&Df.enqueueReplaceState(r,r.state,null)}function es(t,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(t=t.defaultProps){s===r&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fg(t){ec(t)}function Gg(t){console.error(t)}function Qg(t){ec(t)}function tc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function Yg(t,r,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(t,r,s){return s=Qi(s),s.tag=3,s.payload={element:null},s.callback=function(){tc(t,r)},s}function Kg(t){return t=Qi(t),t.tag=3,t}function $g(t,r,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Yg(r,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Yg(r,s,o),typeof h!="function"&&(na===null?na=new Set([this]):na.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function Pb(t,r,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&Gl(r,s,h,!0),s=hr.current,s!==null){switch(s.tag){case 13:return qr===null?Wf():s.alternate===null&&It===0&&(It=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===nf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),ed(t,o,h)),!1;case 22:return s.flags|=65536,o===nf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),ed(t,o,h)),!1}throw Error(a(435,s.tag))}return ed(t,o,h),Wf(),!1}if(ut)return r=hr.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,o!==$h&&(t=Error(a(422),{cause:o}),Fl(lr(t,s)))):(o!==$h&&(r=Error(a(423),{cause:o}),Fl(lr(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=lr(o,s),h=Cf(t.stateNode,o,h),sf(t,h),It!==4&&(It=2)),!1;var d=Error(a(520),{cause:o});if(d=lr(d,s),ho===null?ho=[d]:ho.push(d),It!==4&&(It=2),r===null)return!0;o=lr(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Cf(s.stateNode,o,t),sf(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(na===null||!na.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Kg(h),$g(h,t,s,o),sf(s,h),!1}s=s.return}while(s!==null);return!1}var Xg=Error(a(461)),tn=!1;function un(t,r,s,o){r.child=t===null?jg(r,null,s,o):Qs(r,t.child,s,o)}function Zg(t,r,s,o,h){s=s.render;var d=r.ref;if("ref"in o){var _={};for(var b in o)b!=="ref"&&(_[b]=o[b])}else _=o;return Za(r),o=hf(t,r,s,_,d,h),b=ff(),t!==null&&!tn?(df(t,r,h),Ai(t,r,h)):(ut&&b&&Yh(r),r.flags|=1,un(t,r,o,h),r.child)}function Wg(t,r,s,o,h){if(t===null){var d=s.type;return typeof d=="function"&&!Fh(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Jg(t,r,d,o,h)):(t=Mu(s.type,null,o,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Pf(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:jl,s(_,o)&&t.ref===r.ref)return Ai(t,r,h)}return r.flags|=1,t=gi(d,o),t.ref=r.ref,t.return=r,r.child=t}function Jg(t,r,s,o,h){if(t!==null){var d=t.memoizedProps;if(jl(d,o)&&t.ref===r.ref)if(tn=!1,r.pendingProps=o=d,Pf(t,h))(t.flags&131072)!==0&&(tn=!0);else return r.lanes=t.lanes,Ai(t,r,h)}return xf(t,r,s,o,h)}function ey(t,r,s){var o=r.pendingProps,h=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~o}else r.childLanes=0,r.child=null;return ty(t,r,o,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(r,d!==null?d.cachePool:null),d!==null?Jp(r,d):of(),Bg(r);else return r.lanes=r.childLanes=536870912,ty(t,r,d!==null?d.baseLanes|s:s,s)}else d!==null?(zu(r,d.cachePool),Jp(r,d),Xi(),r.memoizedState=null):(t!==null&&zu(r,null),of(),Xi());return un(t,r,h,s),r.child}function ty(t,r,s,o){var h=tf();return h=h===null?null:{parent:Xt._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&zu(r,null),of(),Bg(r),t!==null&&Gl(t,r,o,!0),null}function nc(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function xf(t,r,s,o,h){return Za(r),s=hf(t,r,s,o,void 0,h),o=ff(),t!==null&&!tn?(df(t,r,h),Ai(t,r,h)):(ut&&o&&Yh(r),r.flags|=1,un(t,r,s,h),r.child)}function ny(t,r,s,o,h,d){return Za(r),r.updateQueue=null,s=tg(r,o,s,h),eg(t),o=ff(),t!==null&&!tn?(df(t,r,d),Ai(t,r,d)):(ut&&o&&Yh(r),r.flags|=1,un(t,r,s,d),r.child)}function ry(t,r,s,o,h){if(Za(r),r.stateNode===null){var d=Ps,_=s.contextType;typeof _=="object"&&_!==null&&(d=vn(_)),d=new s(o,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Df,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=o,d.state=r.memoizedState,d.refs={},rf(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?vn(_):Ps,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Rf(r,s,_,o),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Df.enqueueReplaceState(d,d.state,null),Wl(r,o,d,h),Zl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,x=es(s,b);d.props=x;var Y=d.context,ne=s.contextType;_=Ps,typeof ne=="object"&&ne!==null&&(_=vn(ne));var se=s.getDerivedStateFromProps;ne=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||Y!==_)&&qg(r,d,o,_),Gi=!1;var X=r.memoizedState;d.state=X,Wl(r,o,d,h),Zl(),Y=r.memoizedState,b||X!==Y||Gi?(typeof se=="function"&&(Rf(r,s,se,o),Y=r.memoizedState),(x=Gi||Hg(r,s,x,o,X,Y,_))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=Y),d.props=o,d.state=Y,d.context=_,o=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{d=r.stateNode,af(t,r),_=r.memoizedProps,ne=es(s,_),d.props=ne,se=r.pendingProps,X=d.context,Y=s.contextType,x=Ps,typeof Y=="object"&&Y!==null&&(x=vn(Y)),b=s.getDerivedStateFromProps,(Y=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==se||X!==x)&&qg(r,d,o,x),Gi=!1,X=r.memoizedState,d.state=X,Wl(r,o,d,h),Zl();var Z=r.memoizedState;_!==se||X!==Z||Gi||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof b=="function"&&(Rf(r,s,b,o),Z=r.memoizedState),(ne=Gi||Hg(r,s,ne,o,X,Z,x)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Z,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Z,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=Z),d.props=o,d.state=Z,d.context=x,o=ne):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),o=!1)}return d=o,nc(t,r),o=(r.flags&128)!==0,d||o?(d=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&o?(r.child=Qs(r,t.child,null,h),r.child=Qs(r,null,s,h)):un(t,r,s,h),r.memoizedState=d.state,t=r.child):t=Ai(t,r,h),t}function iy(t,r,s,o){return ql(),r.flags|=256,un(t,r,s,o),r.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(t){return{baseLanes:t,cachePool:Gp()}}function Of(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=fr),t}function ay(t,r,s){var o=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Zt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(ut){if(h?$i(r):Xi(),ut){var b=xt,x;if(x=b){e:{for(x=b,b=Hr;x.nodeType!==8;){if(!b){b=null;break e}if(x=Ar(x.nextSibling),x===null){b=null;break e}}b=x}b!==null?(r.memoizedState={dehydrated:b,treeContext:Qa!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},x=Bn(18,null,null,0),x.stateNode=b,x.return=r,r.child=x,xn=r,xt=null,x=!0):x=!1}x||$a(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return pd(b)?r.lanes=32:r.lanes=536870912,null;bi(r)}return b=o.children,o=o.fallback,h?(Xi(),h=r.mode,b=rc({mode:"hidden",children:b},h),o=Ga(o,h,s,null),b.return=r,o.return=r,b.sibling=o,r.child=b,h=r.child,h.memoizedState=Nf(s),h.childLanes=Of(t,_,s),r.memoizedState=If,o):($i(r),Vf(r,b))}if(x=t.memoizedState,x!==null&&(b=x.dehydrated,b!==null)){if(d)r.flags&256?($i(r),r.flags&=-257,r=Mf(t,r,s)):r.memoizedState!==null?(Xi(),r.child=t.child,r.flags|=128,r=null):(Xi(),h=o.fallback,b=r.mode,o=rc({mode:"visible",children:o.children},b),h=Ga(h,b,s,null),h.flags|=2,o.return=r,h.return=r,o.sibling=h,r.child=o,Qs(r,t.child,null,s),o=r.child,o.memoizedState=Nf(s),o.childLanes=Of(t,_,s),r.memoizedState=If,r=h);else if($i(r),pd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var Y=_.dgst;_=Y,o=Error(a(419)),o.stack="",o.digest=_,Fl({value:o,source:null,stack:null}),r=Mf(t,r,s)}else if(tn||Gl(t,r,s,!1),_=(s&t.childLanes)!==0,tn||_){if(_=bt,_!==null&&(o=s&-s,o=(o&42)!==0?1:Or(o),o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==x.retryLane))throw x.retryLane=o,Ls(t,o),Qn(_,t,o),Xg;b.data==="$?"||Wf(),r=Mf(t,r,s)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=x.treeContext,xt=Ar(b.nextSibling),xn=r,ut=!0,Ka=null,Hr=!1,t!==null&&(ur[cr++]=yi,ur[cr++]=vi,ur[cr++]=Qa,yi=t.id,vi=t.overflow,Qa=r),r=Vf(r,o.children),r.flags|=4096);return r}return h?(Xi(),h=o.fallback,b=r.mode,x=t.child,Y=x.sibling,o=gi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,Y!==null?h=gi(Y,h):(h=Ga(h,b,s,null),h.flags|=2),h.return=r,o.return=r,o.sibling=h,r.child=o,o=h,h=r.child,b=t.child.memoizedState,b===null?b=Nf(s):(x=b.cachePool,x!==null?(Y=Xt._currentValue,x=x.parent!==Y?{parent:Y,pool:Y}:x):x=Gp(),b={baseLanes:b.baseLanes|s,cachePool:x}),h.memoizedState=b,h.childLanes=Of(t,_,s),r.memoizedState=If,o):($i(r),s=t.child,t=s.sibling,s=gi(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function Vf(t,r){return r=rc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function rc(t,r){return t=Bn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mf(t,r,s){return Qs(r,t.child,null,s),t=Vf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function sy(t,r,s){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Zh(t.return,r,s)}function Lf(t,r,s,o,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=h)}function ly(t,r,s){var o=r.pendingProps,h=o.revealOrder,d=o.tail;if(un(t,r,o.children,s),o=Zt.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,s,r);else if(t.tag===19)sy(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(ce(Zt,o),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&Ju(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Lf(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ju(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Lf(r,!0,s,null,d);break;case"together":Lf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ai(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),ta|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Gl(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=gi(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=gi(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Pf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function Ub(t,r,s){switch(r.tag){case 3:pt(r,r.stateNode.containerInfo),Fi(r,Xt,t.memoizedState.cache),ql();break;case 27:case 5:wt(r);break;case 4:pt(r,r.stateNode.containerInfo);break;case 10:Fi(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?($i(r),r.flags|=128,null):(s&r.child.childLanes)!==0?ay(t,r,s):($i(r),t=Ai(t,r,s),t!==null?t.sibling:null);$i(r);break;case 19:var h=(t.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(Gl(t,r,s,!1),o=(s&r.childLanes)!==0),h){if(o)return ly(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Zt,Zt.current),o)break;return null;case 22:case 23:return r.lanes=0,ey(t,r,s);case 24:Fi(r,Xt,t.memoizedState.cache)}return Ai(t,r,s)}function oy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)tn=!0;else{if(!Pf(t,s)&&(r.flags&128)===0)return tn=!1,Ub(t,r,s);tn=(t.flags&131072)!==0}else tn=!1,ut&&(r.flags&1048576)!==0&&kp(r,Pu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,h=o._init;if(o=h(o._payload),r.type=o,typeof o=="function")Fh(o)?(t=es(o,t),r.tag=1,r=ry(null,r,o,t,s)):(r.tag=0,r=xf(null,r,o,t,s));else{if(o!=null){if(h=o.$$typeof,h===he){r.tag=11,r=Zg(null,r,o,t,s);break e}else if(h===I){r.tag=14,r=Wg(null,r,o,t,s);break e}}throw r=ke(o)||o,Error(a(306,r,""))}}return r;case 0:return xf(t,r,r.type,r.pendingProps,s);case 1:return o=r.type,h=es(o,r.pendingProps),ry(t,r,o,h,s);case 3:e:{if(pt(r,r.stateNode.containerInfo),t===null)throw Error(a(387));o=r.pendingProps;var d=r.memoizedState;h=d.element,af(t,r),Wl(r,o,null,s);var _=r.memoizedState;if(o=_.cache,Fi(r,Xt,o),o!==d.cache&&Wh(r,[Xt],s,!0),Zl(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=iy(t,r,o,s);break e}else if(o!==h){h=lr(Error(a(424)),r),Fl(h),r=iy(t,r,o,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(xt=Ar(t.firstChild),xn=r,ut=!0,Ka=null,Hr=!0,s=jg(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ql(),o===h){r=Ai(t,r,s);break e}un(t,r,o,s)}r=r.child}return r;case 26:return nc(t,r),t===null?(s=fv(r.type,null,r.pendingProps,null))?r.memoizedState=s:ut||(s=r.type,t=r.pendingProps,o=yc(xe.current).createElement(s),o[le]=r,o[fe]=t,hn(o,s,t),et(o),r.stateNode=o):r.memoizedState=fv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return wt(r),t===null&&ut&&(o=r.stateNode=uv(r.type,r.pendingProps,xe.current),xn=r,Hr=!0,h=xt,aa(r.type)?(gd=h,xt=Ar(o.firstChild)):xt=h),un(t,r,r.pendingProps.children,s),nc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ut&&((h=o=xt)&&(o=h1(o,r.type,r.pendingProps,Hr),o!==null?(r.stateNode=o,xn=r,xt=Ar(o.firstChild),Hr=!1,h=!0):h=!1),h||$a(r)),wt(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,o=d.children,fd(h,d)?o=null:_!==null&&fd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=hf(t,r,xb,null,null,s),To._currentValue=h),nc(t,r),un(t,r,o,s),r.child;case 6:return t===null&&ut&&((t=s=xt)&&(s=f1(s,r.pendingProps,Hr),s!==null?(r.stateNode=s,xn=r,xt=null,t=!0):t=!1),t||$a(r)),null;case 13:return ay(t,r,s);case 4:return pt(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Qs(r,null,o,s):un(t,r,o,s),r.child;case 11:return Zg(t,r,r.type,r.pendingProps,s);case 7:return un(t,r,r.pendingProps,s),r.child;case 8:return un(t,r,r.pendingProps.children,s),r.child;case 12:return un(t,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,Fi(r,r.type,o.value),un(t,r,o.children,s),r.child;case 9:return h=r.type._context,o=r.pendingProps.children,Za(r),h=vn(h),o=o(h),r.flags|=1,un(t,r,o,s),r.child;case 14:return Wg(t,r,r.type,r.pendingProps,s);case 15:return Jg(t,r,r.type,r.pendingProps,s);case 19:return ly(t,r,s);case 31:return o=r.pendingProps,s=r.mode,o={mode:o.mode,children:o.children},t===null?(s=rc(o,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=gi(t.child,o),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return ey(t,r,s);case 24:return Za(r),o=vn(Xt),t===null?(h=tf(),h===null&&(h=bt,d=Jh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:o,cache:h},rf(r),Fi(r,Xt,h)):((t.lanes&s)!==0&&(af(t,r),Wl(r,null,null,s),Zl()),h=t.memoizedState,d=r.memoizedState,h.parent!==o?(h={parent:o,cache:o},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Fi(r,Xt,o)):(o=d.cache,Fi(r,Xt,o),o!==h.cache&&Wh(r,[Xt],s,!0))),un(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Si(t){t.flags|=4}function uy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yv(r)){if(r=hr.current,r!==null&&((rt&4194048)===rt?qr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||r!==qr))throw $l=nf,Qp;t.flags|=8192}}function ic(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Na():536870912,t.lanes|=r,Xs|=r)}function ao(t,r){if(!ut)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,r}function kb(t,r,s){var o=r.pendingProps;switch(Kh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return Dt(r),null;case 3:return s=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ei(Xt),Xn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Hl(r)?Si(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bp())),Dt(r),null;case 26:return s=r.memoizedState,t===null?(Si(r),s!==null?(Dt(r),uy(r,s)):(Dt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Si(r),Dt(r),uy(r,s)):(Dt(r),r.flags&=-16777217):(t.memoizedProps!==o&&Si(r),Dt(r),r.flags&=-16777217),null;case 27:pn(r),s=xe.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Si(r);else{if(!o){if(r.stateNode===null)throw Error(a(166));return Dt(r),null}t=Se.current,Hl(r)?zp(r):(t=uv(h,o,s),r.stateNode=t,Si(r))}return Dt(r),null;case 5:if(pn(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Si(r);else{if(!o){if(r.stateNode===null)throw Error(a(166));return Dt(r),null}if(t=Se.current,Hl(r))zp(r);else{switch(h=yc(xe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}t[le]=r,t[fe]=o;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(hn(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Si(r)}}return Dt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Si(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(a(166));if(t=xe.current,Hl(r)){if(t=r.stateNode,s=r.memoizedProps,o=null,h=xn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[le]=r,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||nv(t.nodeValue,s)),t||$a(r)}else t=yc(t).createTextNode(o),t[le]=r,r.stateNode=t}return Dt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Hl(r),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[le]=r}else ql(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Dt(r),h=!1}else h=Bp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(bi(r),r):(bi(r),null)}if(bi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=r.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),ic(r,r.updateQueue),Dt(r),null;case 4:return Xn(),t===null&&ld(r.stateNode.containerInfo),Dt(r),null;case 10:return Ei(r.type),Dt(r),null;case 19:if(me(Zt),h=r.memoizedState,h===null)return Dt(r),null;if(o=(r.flags&128)!==0,d=h.rendering,d===null)if(o)ao(h,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Ju(t),d!==null){for(r.flags|=128,ao(h,!1),t=d.updateQueue,r.updateQueue=t,ic(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Up(s,t),s=s.sibling;return ce(Zt,Zt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Sn()>lc&&(r.flags|=128,o=!0,ao(h,!1),r.lanes=4194304)}else{if(!o)if(t=Ju(d),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,ic(r,t),ao(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ut)return Dt(r),null}else 2*Sn()-h.renderingStartTime>lc&&s!==536870912&&(r.flags|=128,o=!0,ao(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Sn(),r.sibling=null,t=Zt.current,ce(Zt,o?t&1|2:t&1),r):(Dt(r),null);case 22:case 23:return bi(r),uf(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),s=r.updateQueue,s!==null&&ic(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),t!==null&&me(Wa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Ei(Xt),Dt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function zb(t,r){switch(Kh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ei(Xt),Xn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return pn(r),null;case 13:if(bi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));ql()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return me(Zt),null;case 4:return Xn(),null;case 10:return Ei(r.type),null;case 22:case 23:return bi(r),uf(),t!==null&&me(Wa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ei(Xt),null;case 25:return null;default:return null}}function cy(t,r){switch(Kh(r),r.tag){case 3:Ei(Xt),Xn();break;case 26:case 27:case 5:pn(r);break;case 4:Xn();break;case 13:bi(r);break;case 19:me(Zt);break;case 10:Ei(r.type);break;case 22:case 23:bi(r),uf(),t!==null&&me(Wa);break;case 24:Ei(Xt)}}function so(t,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var d=s.create,_=s.inst;o=d(),_.destroy=o}s=s.next}while(s!==h)}}catch(b){Tt(r,r.return,b)}}function Zi(t,r,s){try{var o=r.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var _=o.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=r;var x=s,Y=b;try{Y()}catch(ne){Tt(h,x,ne)}}}o=o.next}while(o!==d)}}catch(ne){Tt(r,r.return,ne)}}function hy(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Wp(r,s)}catch(o){Tt(t,t.return,o)}}}function fy(t,r,s){s.props=es(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Tt(t,r,o)}}function lo(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){Tt(t,r,h)}}function Fr(t,r){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Tt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Tt(t,r,h)}else s.current=null}function dy(t){var r=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Tt(t,t.return,h)}}function Uf(t,r,s){try{var o=t.stateNode;s1(o,t.type,s,r),o[fe]=r}catch(h){Tt(t,t.return,h)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&aa(t.type)||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&aa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=gc));else if(o!==4&&(o===27&&aa(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(zf(t,r,s),t=t.sibling;t!==null;)zf(t,r,s),t=t.sibling}function ac(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(o!==4&&(o===27&&aa(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ac(t,r,s),t=t.sibling;t!==null;)ac(t,r,s),t=t.sibling}function py(t){var r=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);hn(r,o,s),r[le]=t,r[fe]=s}catch(d){Tt(t,t.return,d)}}var wi=!1,Mt=!1,jf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,nn=null;function jb(t,r){if(t=t.containerInfo,cd=Ac,t=Dp(t),Uh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,b=-1,x=-1,Y=0,ne=0,se=t,X=null;t:for(;;){for(var Z;se!==s||h!==0&&se.nodeType!==3||(b=_+h),se!==d||o!==0&&se.nodeType!==3||(x=_+o),se.nodeType===3&&(_+=se.nodeValue.length),(Z=se.firstChild)!==null;)X=se,se=Z;for(;;){if(se===t)break t;if(X===s&&++Y===h&&(b=_),X===d&&++ne===o&&(x=_),(Z=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=Z}s=b===-1||x===-1?null:{start:b,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:t,selectionRange:s},Ac=!1,nn=r;nn!==null;)if(r=nn,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,nn=t;else for(;nn!==null;){switch(r=nn,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Le=es(s.type,h,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Le,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ie){Tt(s,s.return,Ie)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)md(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,nn=t;break}nn=r.return}}function yy(t,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(t,s),o&4&&so(5,s);break;case 1:if(Wi(t,s),o&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){Tt(s,s.return,_)}else{var h=es(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Tt(s,s.return,_)}}o&64&&hy(s),o&512&&lo(s,s.return);break;case 3:if(Wi(t,s),o&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Wp(t,r)}catch(_){Tt(s,s.return,_)}}break;case 27:r===null&&o&4&&py(s);case 26:case 5:Wi(t,s),r===null&&o&4&&dy(s),o&512&&lo(s,s.return);break;case 12:Wi(t,s);break;case 13:Wi(t,s),o&4&&Ey(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=$b.bind(null,s),d1(t,s))));break;case 22:if(o=s.memoizedState!==null||wi,!o){r=r!==null&&r.memoizedState!==null||Mt,h=wi;var d=Mt;wi=o,(Mt=r)&&!d?Ji(t,s,(s.subtreeFlags&8772)!==0):Wi(t,s),wi=h,Mt=d}break;case 30:break;default:Wi(t,s)}}function vy(t){var r=t.alternate;r!==null&&(t.alternate=null,vy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ce(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Vn=!1;function Ri(t,r,s){for(s=s.child;s!==null;)_y(t,r,s),s=s.sibling}function _y(t,r,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(ot,s)}catch{}switch(s.tag){case 26:Mt||Fr(s,r),Ri(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Mt||Fr(s,r);var o=Rt,h=Vn;aa(s.type)&&(Rt=s.stateNode,Vn=!1),Ri(t,r,s),yo(s.stateNode),Rt=o,Vn=h;break;case 5:Mt||Fr(s,r);case 6:if(o=Rt,h=Vn,Rt=null,Ri(t,r,s),Rt=o,Vn=h,Rt!==null)if(Vn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(d){Tt(s,r,d)}else try{Rt.removeChild(s.stateNode)}catch(d){Tt(s,r,d)}break;case 18:Rt!==null&&(Vn?(t=Rt,lv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),wo(t)):lv(Rt,s.stateNode));break;case 4:o=Rt,h=Vn,Rt=s.stateNode.containerInfo,Vn=!0,Ri(t,r,s),Rt=o,Vn=h;break;case 0:case 11:case 14:case 15:Mt||Zi(2,s,r),Mt||Zi(4,s,r),Ri(t,r,s);break;case 1:Mt||(Fr(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&fy(s,r,o)),Ri(t,r,s);break;case 21:Ri(t,r,s);break;case 22:Mt=(o=Mt)||s.memoizedState!==null,Ri(t,r,s),Mt=o;break;default:Ri(t,r,s)}}function Ey(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wo(t)}catch(s){Tt(r,r.return,s)}}function Bb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new gy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new gy),r;default:throw Error(a(435,t.tag))}}function Bf(t,r){var s=Bb(t);r.forEach(function(o){var h=Xb.bind(null,t,o);s.has(o)||(s.add(o),o.then(h,h))})}function Hn(t,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(aa(b.type)){Rt=b.stateNode,Vn=!1;break e}break;case 5:Rt=b.stateNode,Vn=!1;break e;case 3:case 4:Rt=b.stateNode.containerInfo,Vn=!0;break e}b=b.return}if(Rt===null)throw Error(a(160));_y(d,_,h),Rt=null,Vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ty(r,t),r=r.sibling}var br=null;function Ty(t,r){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Hn(r,t),qn(t),o&4&&(Zi(3,t,t.return),so(3,t),Zi(5,t,t.return));break;case 1:Hn(r,t),qn(t),o&512&&(Mt||s===null||Fr(s,s.return)),o&64&&wi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=br;if(Hn(r,t),qn(t),o&512&&(Mt||s===null||Fr(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ne]||d[le]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),hn(d,o,s),d[le]=t,et(d),o=d;break e;case"link":var _=pv("link","href",h).get(o+(s.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(o),hn(d,o,s),h.head.appendChild(d);break;case"meta":if(_=pv("meta","content",h).get(o+(s.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(b,1);break t}}d=h.createElement(o),hn(d,o,s),h.head.appendChild(d);break;default:throw Error(a(468,o))}d[le]=t,et(d),o=d}t.stateNode=o}else gv(h,t.type,t.stateNode);else t.stateNode=mv(h,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?gv(h,t.type,t.stateNode):mv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Uf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Hn(r,t),qn(t),o&512&&(Mt||s===null||Fr(s,s.return)),s!==null&&o&4&&Uf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Hn(r,t),qn(t),o&512&&(Mt||s===null||Fr(s,s.return)),t.flags&32){h=t.stateNode;try{rr(h,"")}catch(Z){Tt(t,t.return,Z)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Uf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(jf=!0);break;case 6:if(Hn(r,t),qn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(Z){Tt(t,t.return,Z)}}break;case 3:if(Ec=null,h=br,br=vc(r.containerInfo),Hn(r,t),br=h,qn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{wo(r.containerInfo)}catch(Z){Tt(t,t.return,Z)}jf&&(jf=!1,by(t));break;case 4:o=br,br=vc(t.stateNode.containerInfo),Hn(r,t),qn(t),br=o;break;case 12:Hn(r,t),qn(t);break;case 13:Hn(r,t),qn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yf=Sn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Bf(t,o)));break;case 22:h=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,Y=wi,ne=Mt;if(wi=Y||h,Mt=ne||x,Hn(r,t),Mt=ne,wi=Y,qn(t),o&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||x||wi||Mt||ts(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){x=s=r;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=x.stateNode;var se=x.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;b.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){Tt(x,x.return,Z)}}}else if(r.tag===6){if(s===null){x=r;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(Z){Tt(x,x.return,Z)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Bf(t,s))));break;case 19:Hn(r,t),qn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Bf(t,o)));break;case 30:break;case 21:break;default:Hn(r,t),qn(t)}}function qn(t){var r=t.flags;if(r&2){try{for(var s,o=t.return;o!==null;){if(my(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=kf(t);ac(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(rr(_,""),s.flags&=-33);var b=kf(t);ac(t,b,_);break;case 3:case 4:var x=s.stateNode.containerInfo,Y=kf(t);zf(t,Y,x);break;default:throw Error(a(161))}}catch(ne){Tt(t,t.return,ne)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function by(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;by(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Wi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)yy(t,r.alternate,r),r=r.sibling}function ts(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Zi(4,r,r.return),ts(r);break;case 1:Fr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&fy(r,r.return,s),ts(r);break;case 27:yo(r.stateNode);case 26:case 5:Fr(r,r.return),ts(r);break;case 22:r.memoizedState===null&&ts(r);break;case 30:ts(r);break;default:ts(r)}t=t.sibling}}function Ji(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ji(h,d,s),so(4,d);break;case 1:if(Ji(h,d,s),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){Tt(o,o.return,Y)}if(o=d,h=o.updateQueue,h!==null){var b=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Zp(x[h],b)}catch(Y){Tt(o,o.return,Y)}}s&&_&64&&hy(d),lo(d,d.return);break;case 27:py(d);case 26:case 5:Ji(h,d,s),s&&o===null&&_&4&&dy(d),lo(d,d.return);break;case 12:Ji(h,d,s);break;case 13:Ji(h,d,s),s&&_&4&&Ey(h,d);break;case 22:d.memoizedState===null&&Ji(h,d,s),lo(d,d.return);break;case 30:break;default:Ji(h,d,s)}r=r.sibling}}function Hf(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ql(s))}function qf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ql(t))}function Gr(t,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ay(t,r,s,o),r=r.sibling}function Ay(t,r,s,o){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Gr(t,r,s,o),h&2048&&so(9,r);break;case 1:Gr(t,r,s,o);break;case 3:Gr(t,r,s,o),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ql(t)));break;case 12:if(h&2048){Gr(t,r,s,o),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Tt(r,r.return,x)}}else Gr(t,r,s,o);break;case 13:Gr(t,r,s,o);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Gr(t,r,s,o):oo(t,r):d._visibility&2?Gr(t,r,s,o):(d._visibility|=2,Ys(t,r,s,o,(r.subtreeFlags&10256)!==0)),h&2048&&Hf(_,r);break;case 24:Gr(t,r,s,o),h&2048&&qf(r.alternate,r);break;default:Gr(t,r,s,o)}}function Ys(t,r,s,o,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,b=s,x=o,Y=_.flags;switch(_.tag){case 0:case 11:case 15:Ys(d,_,b,x,h),so(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?Ys(d,_,b,x,h):oo(d,_):(ne._visibility|=2,Ys(d,_,b,x,h)),h&&Y&2048&&Hf(_.alternate,_);break;case 24:Ys(d,_,b,x,h),h&&Y&2048&&qf(_.alternate,_);break;default:Ys(d,_,b,x,h)}r=r.sibling}}function oo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,o=r,h=o.flags;switch(o.tag){case 22:oo(s,o),h&2048&&Hf(o.alternate,o);break;case 24:oo(s,o),h&2048&&qf(o.alternate,o);break;default:oo(s,o)}r=r.sibling}}var uo=8192;function Ks(t){if(t.subtreeFlags&uo)for(t=t.child;t!==null;)Sy(t),t=t.sibling}function Sy(t){switch(t.tag){case 26:Ks(t),t.flags&uo&&t.memoizedState!==null&&R1(br,t.memoizedState,t.memoizedProps);break;case 5:Ks(t);break;case 3:case 4:var r=br;br=vc(t.stateNode.containerInfo),Ks(t),br=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=uo,uo=16777216,Ks(t),uo=r):Ks(t));break;default:Ks(t)}}function wy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function co(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];nn=o,Dy(o,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 0:case 11:case 15:co(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:co(t);break;case 12:co(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,sc(t)):co(t);break;default:co(t)}}function sc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];nn=o,Dy(o,t)}wy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Zi(8,r,r.return),sc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,sc(r));break;default:sc(r)}t=t.sibling}}function Dy(t,r){for(;nn!==null;){var s=nn;switch(s.tag){case 0:case 11:case 15:Zi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ql(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,nn=o;else e:for(s=t;nn!==null;){o=nn;var h=o.sibling,d=o.return;if(vy(o),o===s){nn=null;break e}if(h!==null){h.return=d,nn=h;break e}nn=d}}}var Hb={getCacheForType:function(t){var r=vn(Xt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},qb=typeof WeakMap=="function"?WeakMap:Map,dt=0,bt=null,$e=null,rt=0,mt=0,Fn=null,ea=!1,$s=!1,Ff=!1,Di=0,It=0,ta=0,ns=0,Gf=0,fr=0,Xs=0,ho=null,Mn=null,Qf=!1,Yf=0,lc=1/0,oc=null,na=null,cn=0,ra=null,Zs=null,Ws=0,Kf=0,$f=null,Cy=null,fo=0,Xf=null;function Gn(){if((dt&2)!==0&&rt!==0)return rt&-rt;if($.T!==null){var t=zs;return t!==0?t:rd()}return V()}function xy(){fr===0&&(fr=(rt&536870912)===0||ut?li():536870912);var t=hr.current;return t!==null&&(t.flags|=32),fr}function Qn(t,r,s){(t===bt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(Js(t,0),ia(t,rt,fr,!1)),_r(t,s),((dt&2)===0||t!==bt)&&(t===bt&&((dt&2)===0&&(ns|=s),It===4&&ia(t,rt,fr,!1)),Qr(t))}function Iy(t,r,s){if((dt&6)!==0)throw Error(a(327));var o=!s&&(r&124)===0&&(r&t.expiredLanes)===0||Jn(t,r),h=o?Qb(t,r):Jf(t,r,!0),d=o;do{if(h===0){$s&&!o&&ia(t,r,0,!1);break}else{if(s=t.current.alternate,d&&!Fb(s)){h=Jf(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;h=ho;var x=b.current.memoizedState.isDehydrated;if(x&&(Js(b,_).flags|=256),_=Jf(b,_,!1),_!==2){if(Ff&&!x){b.errorRecoveryDisabledLanes|=d,ns|=d,h=4;break e}d=Mn,Mn=h,d!==null&&(Mn===null?Mn=d:Mn.push.apply(Mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Js(t,0),ia(t,r,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:ia(o,r,fr,!ea);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=Yf+300-Sn(),10<h)){if(ia(o,r,fr,!ea),si(o,0,!0)!==0)break e;o.timeoutHandle=av(Ny.bind(null,o,s,Mn,oc,Qf,r,fr,ns,Xs,ea,d,2,-0,0),h);break e}Ny(o,s,Mn,oc,Qf,r,fr,ns,Xs,ea,d,0,-0,0)}}break}while(!0);Qr(t)}function Ny(t,r,s,o,h,d,_,b,x,Y,ne,se,X,Z){if(t.timeoutHandle=-1,se=r.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Eo={stylesheets:null,count:0,unsuspend:w1},Sy(r),se=D1(),se!==null)){t.cancelPendingCommit=se(ky.bind(null,t,r,d,s,o,h,_,b,x,ne,1,X,Z)),ia(t,d,_,!Y);return}ky(t,r,d,s,o,h,_,b,x)}function Fb(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],d=h.getSnapshot;h=h.value;try{if(!jn(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ia(t,r,s,o){r&=~Gf,r&=~ns,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var h=r;0<h;){var d=31-kt(h),_=1<<d;o[d]=-1,h&=~_}s!==0&&wn(t,s,r)}function uc(){return(dt&6)===0?(mo(0),!1):!0}function Zf(){if($e!==null){if(mt===0)var t=$e.return;else t=$e,_i=Xa=null,mf(t),Gs=null,ro=0,t=$e;for(;t!==null;)cy(t.alternate,t),t=t.return;$e=null}}function Js(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,o1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Zf(),bt=t,$e=s=gi(t.current,null),rt=r,mt=0,Fn=null,ea=!1,$s=Jn(t,r),Ff=!1,Xs=fr=Gf=ns=ta=It=0,Mn=ho=null,Qf=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var h=31-kt(o),d=1<<h;r|=t[h],o&=~d}return Di=r,Nu(),s}function Oy(t,r){Fe=null,$.H=Xu,r===Kl||r===ju?(r=$p(),mt=3):r===Qp?(r=$p(),mt=4):mt=r===Xg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fn=r,$e===null&&(It=1,tc(t,lr(r,t.current)))}function Vy(){var t=$.H;return $.H=Xu,t===null?Xu:t}function My(){var t=$.A;return $.A=Hb,t}function Wf(){It=4,ea||(rt&4194048)!==rt&&hr.current!==null||($s=!0),(ta&134217727)===0&&(ns&134217727)===0||bt===null||ia(bt,rt,fr,!1)}function Jf(t,r,s){var o=dt;dt|=2;var h=Vy(),d=My();(bt!==t||rt!==r)&&(oc=null,Js(t,r)),r=!1;var _=It;e:do try{if(mt!==0&&$e!==null){var b=$e,x=Fn;switch(mt){case 8:Zf(),_=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(r=!0);var Y=mt;if(mt=0,Fn=null,el(t,b,x,Y),s&&$s){_=0;break e}break;default:Y=mt,mt=0,Fn=null,el(t,b,x,Y)}}Gb(),_=It;break}catch(ne){Oy(t,ne)}while(!0);return r&&t.shellSuspendCounter++,_i=Xa=null,dt=o,$.H=h,$.A=d,$e===null&&(bt=null,rt=0,Nu()),_}function Gb(){for(;$e!==null;)Ly($e)}function Qb(t,r){var s=dt;dt|=2;var o=Vy(),h=My();bt!==t||rt!==r?(oc=null,lc=Sn()+500,Js(t,r)):$s=Jn(t,r);e:do try{if(mt!==0&&$e!==null){r=$e;var d=Fn;t:switch(mt){case 1:mt=0,Fn=null,el(t,r,d,1);break;case 2:case 9:if(Yp(d)){mt=0,Fn=null,Py(r);break}r=function(){mt!==2&&mt!==9||bt!==t||(mt=7),Qr(t)},d.then(r,r);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Yp(d)?(mt=0,Fn=null,Py(r)):(mt=0,Fn=null,el(t,r,d,7));break;case 5:var _=null;switch($e.tag){case 26:_=$e.memoizedState;case 5:case 27:var b=$e;if(!_||yv(_)){mt=0,Fn=null;var x=b.sibling;if(x!==null)$e=x;else{var Y=b.return;Y!==null?($e=Y,cc(Y)):$e=null}break t}}mt=0,Fn=null,el(t,r,d,5);break;case 6:mt=0,Fn=null,el(t,r,d,6);break;case 8:Zf(),It=6;break e;default:throw Error(a(462))}}Yb();break}catch(ne){Oy(t,ne)}while(!0);return _i=Xa=null,$.H=o,$.A=h,dt=s,$e!==null?0:(bt=null,rt=0,Nu(),It)}function Yb(){for(;$e!==null&&!xa();)Ly($e)}function Ly(t){var r=oy(t.alternate,t,Di);t.memoizedProps=t.pendingProps,r===null?cc(t):$e=r}function Py(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=ny(s,r,r.pendingProps,r.type,void 0,rt);break;case 11:r=ny(s,r,r.pendingProps,r.type.render,r.ref,rt);break;case 5:mf(r);default:cy(s,r),r=$e=Up(r,Di),r=oy(s,r,Di)}t.memoizedProps=t.pendingProps,r===null?cc(t):$e=r}function el(t,r,s,o){_i=Xa=null,mf(r),Gs=null,ro=0;var h=r.return;try{if(Pb(t,h,r,s,rt)){It=1,tc(t,lr(s,t.current)),$e=null;return}}catch(d){if(h!==null)throw $e=h,d;It=1,tc(t,lr(s,t.current)),$e=null;return}r.flags&32768?(ut||o===1?t=!0:$s||(rt&536870912)!==0?t=!1:(ea=t=!0,(o===2||o===9||o===3||o===6)&&(o=hr.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(r,t)):cc(r)}function cc(t){var r=t;do{if((r.flags&32768)!==0){Uy(r,ea);return}t=r.return;var s=kb(r.alternate,r,Di);if(s!==null){$e=s;return}if(r=r.sibling,r!==null){$e=r;return}$e=r=t}while(r!==null);It===0&&(It=5)}function Uy(t,r){do{var s=zb(t.alternate,t);if(s!==null){s.flags&=32767,$e=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){$e=t;return}$e=t=s}while(t!==null);It=6,$e=null}function ky(t,r,s,o,h,d,_,b,x){t.cancelPendingCommit=null;do hc();while(cn!==0);if((dt&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(d=r.lanes|r.childLanes,d|=Hh,zi(t,s,d,_,b,x),t===bt&&($e=bt=null,rt=0),Zs=r,ra=t,Ws=s,Kf=d,$f=h,Cy=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Zb(ai,function(){return qy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,h=de.p,de.p=2,_=dt,dt|=4;try{jb(t,r,s)}finally{dt=_,de.p=h,$.T=o}}cn=1,zy(),jy(),By()}}function zy(){if(cn===1){cn=0;var t=ra,r=Zs,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var o=de.p;de.p=2;var h=dt;dt|=4;try{Ty(r,t);var d=hd,_=Dp(t.containerInfo),b=d.focusedElem,x=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Rp(b.ownerDocument.documentElement,b)){if(x!==null&&Uh(b)){var Y=x.start,ne=x.end;if(ne===void 0&&(ne=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(ne,b.value.length);else{var se=b.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var Z=X.getSelection(),Le=b.textContent.length,Ie=Math.min(x.start,Le),_t=x.end===void 0?Ie:Math.min(x.end,Le);!Z.extend&&Ie>_t&&(_=_t,_t=Ie,Ie=_);var j=wp(b,Ie),L=wp(b,_t);if(j&&L&&(Z.rangeCount!==1||Z.anchorNode!==j.node||Z.anchorOffset!==j.offset||Z.focusNode!==L.node||Z.focusOffset!==L.offset)){var F=se.createRange();F.setStart(j.node,j.offset),Z.removeAllRanges(),Ie>_t?(Z.addRange(F),Z.extend(L.node,L.offset)):(F.setEnd(L.node,L.offset),Z.addRange(F))}}}}for(se=[],Z=b;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<se.length;b++){var ie=se[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Ac=!!cd,hd=cd=null}finally{dt=h,de.p=o,$.T=s}}t.current=r,cn=2}}function jy(){if(cn===2){cn=0;var t=ra,r=Zs,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var o=de.p;de.p=2;var h=dt;dt|=4;try{yy(t,r.alternate,r)}finally{dt=h,de.p=o,$.T=s}}cn=3}}function By(){if(cn===4||cn===3){cn=0,Es();var t=ra,r=Zs,s=Ws,o=Cy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?cn=5:(cn=0,Zs=ra=null,Hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(na=null),ji(s),r=r.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(ot,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=$.T,h=de.p,de.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<o.length;_++){var b=o[_];d(b.value,{componentStack:b.stack})}}finally{$.T=r,de.p=h}}(Ws&3)!==0&&hc(),Qr(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Xf?fo++:(fo=0,Xf=t):fo=0,mo(0)}}function Hy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Ql(r)))}function hc(t){return zy(),jy(),By(),qy()}function qy(){if(cn!==5)return!1;var t=ra,r=Kf;Kf=0;var s=ji(Ws),o=$.T,h=de.p;try{de.p=32>s?32:s,$.T=null,s=$f,$f=null;var d=ra,_=Ws;if(cn=0,Zs=ra=null,Ws=0,(dt&6)!==0)throw Error(a(331));var b=dt;if(dt|=4,Ry(d.current),Ay(d,d.current,_,s),dt=b,mo(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{de.p=h,$.T=o,Hy(t,r)}}function Fy(t,r,s){r=lr(s,r),r=Cf(t.stateNode,r,2),t=Yi(t,r,2),t!==null&&(_r(t,2),Qr(t))}function Tt(t,r,s){if(t.tag===3)Fy(t,t,s);else for(;r!==null;){if(r.tag===3){Fy(r,t,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(na===null||!na.has(o))){t=lr(s,t),s=Kg(2),o=Yi(r,s,2),o!==null&&($g(s,o,r,t),_r(o,2),Qr(o));break}}r=r.return}}function ed(t,r,s){var o=t.pingCache;if(o===null){o=t.pingCache=new qb;var h=new Set;o.set(r,h)}else h=o.get(r),h===void 0&&(h=new Set,o.set(r,h));h.has(s)||(Ff=!0,h.add(s),t=Kb.bind(null,t,r,s),r.then(t,t))}function Kb(t,r,s){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,bt===t&&(rt&s)===s&&(It===4||It===3&&(rt&62914560)===rt&&300>Sn()-Yf?(dt&2)===0&&Js(t,0):Gf|=s,Xs===rt&&(Xs=0)),Qr(t)}function Gy(t,r){r===0&&(r=Na()),t=Ls(t,r),t!==null&&(_r(t,r),Qr(t))}function $b(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Gy(t,s)}function Xb(t,r){var s=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(r),Gy(t,s)}function Zb(t,r){return ii(t,r)}var fc=null,tl=null,td=!1,dc=!1,nd=!1,rs=0;function Qr(t){t!==tl&&t.next===null&&(tl===null?fc=tl=t:tl=tl.next=t),dc=!0,td||(td=!0,Jb())}function mo(t,r){if(!nd&&dc){nd=!0;do for(var s=!1,o=fc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,b=o.pingedLanes;d=(1<<31-kt(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,$y(o,d))}else d=rt,d=si(o,o===bt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Jn(o,d)||(s=!0,$y(o,d));o=o.next}while(s);nd=!1}}function Wb(){Qy()}function Qy(){dc=td=!1;var t=0;rs!==0&&(l1()&&(t=rs),rs=0);for(var r=Sn(),s=null,o=fc;o!==null;){var h=o.next,d=Yy(o,r);d===0?(o.next=null,s===null?fc=h:s.next=h,h===null&&(tl=s)):(s=o,(t!==0||(d&3)!==0)&&(dc=!0)),o=h}mo(t)}function Yy(t,r){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-kt(d),b=1<<_,x=h[_];x===-1?((b&s)===0||(b&o)!==0)&&(h[_]=ki(b,r)):x<=r&&(t.expiredLanes|=b),d&=~b}if(r=bt,s=rt,s=si(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===r&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&An(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Jn(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(o!==null&&An(o),ji(s)){case 2:case 8:s=Li;break;case 32:s=ai;break;case 268435456:s=Zn;break;default:s=ai}return o=Ky.bind(null,t),s=ii(s,o),t.callbackPriority=r,t.callbackNode=s,r}return o!==null&&o!==null&&An(o),t.callbackPriority=2,t.callbackNode=null,2}function Ky(t,r){if(cn!==0&&cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(hc()&&t.callbackNode!==s)return null;var o=rt;return o=si(t,t===bt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Iy(t,o,r),Yy(t,Sn()),t.callbackNode!=null&&t.callbackNode===s?Ky.bind(null,t):null)}function $y(t,r){if(hc())return null;Iy(t,r,!0)}function Jb(){u1(function(){(dt&6)!==0?ii(Ia,Wb):Qy()})}function rd(){return rs===0&&(rs=li()),rs}function Xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:As(""+t)}function Zy(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function e1(t,r,s,o,h){if(r==="submit"&&s&&s.stateNode===h){var d=Xy((h[fe]||null).action),_=o.submitter;_&&(r=(r=_[fe]||null)?Xy(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new Ss("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(rs!==0){var x=_?Zy(h,_):new FormData(h);Af(s,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=_?Zy(h,_):new FormData(h),Af(s,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var id=0;id<Bh.length;id++){var ad=Bh[id],t1=ad.toLowerCase(),n1=ad[0].toUpperCase()+ad.slice(1);Tr(t1,"on"+n1)}Tr(Ip,"onAnimationEnd"),Tr(Np,"onAnimationIteration"),Tr(Op,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(_b,"onTransitionRun"),Tr(Eb,"onTransitionStart"),Tr(Tb,"onTransitionCancel"),Tr(Vp,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function Wy(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var d=void 0;if(r)for(var _=o.length-1;0<=_;_--){var b=o[_],x=b.instance,Y=b.currentTarget;if(b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Y;try{d(h)}catch(ne){ec(ne)}h.currentTarget=null,d=x}else for(_=0;_<o.length;_++){if(b=o[_],x=b.instance,Y=b.currentTarget,b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Y;try{d(h)}catch(ne){ec(ne)}h.currentTarget=null,d=x}}}}function Xe(t,r){var s=r[De];s===void 0&&(s=r[De]=new Set);var o=t+"__bubble";s.has(o)||(Jy(r,t,2,!1),s.add(o))}function sd(t,r,s){var o=0;r&&(o|=4),Jy(s,t,o,r)}var mc="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[mc]){t[mc]=!0,Qe.forEach(function(s){s!=="selectionchange"&&(r1.has(s)||sd(s,!1,t),sd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[mc]||(r[mc]=!0,sd("selectionchange",!1,r))}}function Jy(t,r,s,o){switch(Av(r)){case 2:var h=I1;break;case 8:h=N1;break;default:h=Td}s=h.bind(null,r,s,t),h=void 0,!ar||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function od(t,r,s,o,h){var d=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var b=o.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=o.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Me(b),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){o=d=_;continue e}b=b.parentNode}}o=o.return}gu(function(){var Y=d,ne=ir(s),se=[];e:{var X=Mp.get(t);if(X!==void 0){var Z=Ss,Le=t;switch(t){case"keypress":if(Ur(s)===0)break e;case"keydown":case"keyup":Z=Is;break;case"focusin":Le="focus",Z=Ds;break;case"focusout":Le="blur",Z=Ds;break;case"beforeblur":case"afterblur":Z=Ds;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Su;break;case Ip:case Np:case Op:Z=Cs;break;case Vp:Z=Ru;break;case"scroll":case"scrollend":Z=yu;break;case"wheel":Z=Ns;break;case"copy":case"cut":case"paste":Z=xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=kl;break;case"toggle":case"beforetoggle":Z=Cu}var Ie=(r&4)!==0,_t=!Ie&&(t==="scroll"||t==="scrollend"),j=Ie?X!==null?X+"Capture":null:X;Ie=[];for(var L=Y,F;L!==null;){var ie=L;if(F=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||F===null||j===null||(ie=Pa(L,j),ie!=null&&Ie.push(go(L,ie,F))),_t)break;L=L.return}0<Ie.length&&(X=new Z(X,Le,null,s,ne),se.push({event:X,listeners:Ie}))}}if((r&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",X&&s!==ci&&(Le=s.relatedTarget||s.fromElement)&&(Me(Le)||Le[_e]))break e;if((Z||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(Le=s.relatedTarget||s.toElement,Z=Y,Le=Le?Me(Le):null,Le!==null&&(_t=u(Le),Ie=Le.tag,Le!==_t||Ie!==5&&Ie!==27&&Ie!==6)&&(Le=null)):(Z=null,Le=Y),Z!==Le)){if(Ie=sr,ie="onMouseLeave",j="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ie=kl,ie="onPointerLeave",j="onPointerEnter",L="pointer"),_t=Z==null?X:ct(Z),F=Le==null?X:ct(Le),X=new Ie(ie,L+"leave",Z,s,ne),X.target=_t,X.relatedTarget=F,ie=null,Me(ne)===Y&&(Ie=new Ie(j,L+"enter",Le,s,ne),Ie.target=F,Ie.relatedTarget=_t,ie=Ie),_t=ie,Z&&Le)t:{for(Ie=Z,j=Le,L=0,F=Ie;F;F=nl(F))L++;for(F=0,ie=j;ie;ie=nl(ie))F++;for(;0<L-F;)Ie=nl(Ie),L--;for(;0<F-L;)j=nl(j),F--;for(;L--;){if(Ie===j||j!==null&&Ie===j.alternate)break t;Ie=nl(Ie),j=nl(j)}Ie=null}else Ie=null;Z!==null&&ev(se,X,Z,Ie,!1),Le!==null&&_t!==null&&ev(se,_t,Le,Ie,!0)}}e:{if(X=Y?ct(Y):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var Te=_p;else if($t(X))if(Ep)Te=gb;else{Te=mb;var Ye=db}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Nl(Y.elementType)&&(Te=_p):Te=pb;if(Te&&(Te=Te(t,Y))){pi(se,Te,s,ne);break e}Ye&&Ye(t,X,Y),t==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Hi(X,"number",X.value)}switch(Ye=Y?ct(Y):window,t){case"focusin":($t(Ye)||Ye.contentEditable==="true")&&(Os=Ye,kh=Y,Bl=null);break;case"focusout":Bl=kh=Os=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Cp(se,s,ne);break;case"selectionchange":if(vb)break;case"keydown":case"keyup":Cp(se,s,ne)}var we;if(jr)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else tt?J(t,s)&&(Oe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Oe="onCompositionStart");Oe&&(v&&s.locale!=="ko"&&(tt||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&tt&&(we=Vl()):(Pr=ne,qi="value"in Pr?Pr.value:Pr.textContent,tt=!0)),Ye=pc(Y,Oe),0<Ye.length&&(Oe=new Pl(Oe,t,null,s,ne),se.push({event:Oe,listeners:Ye}),we?Oe.data=we:(we=pe(s),we!==null&&(Oe.data=we)))),(we=y?Kt(t,s):nt(t,s))&&(Oe=pc(Y,"onBeforeInput"),0<Oe.length&&(Ye=new Pl("onBeforeInput","beforeinput",null,s,ne),se.push({event:Ye,listeners:Oe}),Ye.data=we)),e1(se,t,Y,s,ne)}Wy(se,r)})}function go(t,r,s){return{instance:t,listener:r,currentTarget:s}}function pc(t,r){for(var s=r+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Pa(t,s),h!=null&&o.unshift(go(t,h,d)),h=Pa(t,r),h!=null&&o.push(go(t,h,d))),t.tag===3)return o;t=t.return}return[]}function nl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ev(t,r,s,o,h){for(var d=r._reactName,_=[];s!==null&&s!==o;){var b=s,x=b.alternate,Y=b.stateNode;if(b=b.tag,x!==null&&x===o)break;b!==5&&b!==26&&b!==27||Y===null||(x=Y,h?(Y=Pa(s,d),Y!=null&&_.unshift(go(s,Y,x))):h||(Y=Pa(s,d),Y!=null&&_.push(go(s,Y,x)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var i1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function tv(t){return(typeof t=="string"?t:""+t).replace(i1,`
`).replace(a1,"")}function nv(t,r){return r=tv(r),tv(t)===r}function gc(){}function vt(t,r,s,o,h,d){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||rr(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&rr(t,""+o);break;case"className":Dn(t,"class",o);break;case"tabIndex":Dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,s,o);break;case"style":Il(t,o,d);break;case"data":if(r!=="object"){Dn(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=As(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&vt(t,r,"name",h.name,h,null),vt(t,r,"formEncType",h.formEncType,h,null),vt(t,r,"formMethod",h.formMethod,h,null),vt(t,r,"formTarget",h.formTarget,h,null)):(vt(t,r,"encType",h.encType,h,null),vt(t,r,"method",h.method,h,null),vt(t,r,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=As(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=gc);break;case"onScroll":o!=null&&Xe("scroll",t);break;case"onScrollEnd":o!=null&&Xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=As(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Xe("beforetoggle",t),Xe("toggle",t),yn(t,"popover",o);break;case"xlinkActuate":Pe(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":yn(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Nh.get(s)||s,yn(t,s,o))}}function ud(t,r,s,o,h,d){switch(s){case"style":Il(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?rr(t,o):(typeof o=="number"||typeof o=="bigint")&&rr(t,""+o);break;case"onScroll":o!=null&&Xe("scroll",t);break;case"onScrollEnd":o!=null&&Xe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[fe]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):yn(t,s,o)}}}function hn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",t),Xe("load",t);var o=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:vt(t,r,d,_,s,null)}}h&&vt(t,r,"srcSet",s.srcSet,s,null),o&&vt(t,r,"src",s.src,s,null);return;case"input":Xe("invalid",t);var b=d=_=h=null,x=null,Y=null;for(o in s)if(s.hasOwnProperty(o)){var ne=s[o];if(ne!=null)switch(o){case"name":h=ne;break;case"type":_=ne;break;case"checked":x=ne;break;case"defaultChecked":Y=ne;break;case"value":d=ne;break;case"defaultValue":b=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,r));break;default:vt(t,r,o,ne,s,null)}}Va(t,d,b,x,Y,_,h,!1),bs(t);return;case"select":Xe("invalid",t),o=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(b=s[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":o=b;default:vt(t,r,h,b,s,null)}r=d,s=_,t.multiple=!!o,r!=null?ui(t,!!o,r,!1):s!=null&&ui(t,!!o,s,!0);return;case"textarea":Xe("invalid",t),d=h=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(b=s[_],b!=null))switch(_){case"value":o=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:vt(t,r,_,b,s,null)}Ma(t,o,h,d),bs(t);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(o=s[x],o!=null))switch(x){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:vt(t,r,x,o,s,null)}return;case"dialog":Xe("beforetoggle",t),Xe("toggle",t),Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":Xe("load",t);break;case"video":case"audio":for(o=0;o<po.length;o++)Xe(po[o],t);break;case"image":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"embed":case"source":case"link":Xe("error",t),Xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in s)if(s.hasOwnProperty(Y)&&(o=s[Y],o!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:vt(t,r,Y,o,s,null)}return;default:if(Nl(r)){for(ne in s)s.hasOwnProperty(ne)&&(o=s[ne],o!==void 0&&ud(t,r,ne,o,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(o=s[b],o!=null&&vt(t,r,b,o,s,null))}function s1(t,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,x=null,Y=null,ne=null;for(Z in s){var se=s[Z];if(s.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":x=se;default:o.hasOwnProperty(Z)||vt(t,r,Z,null,o,se)}}for(var X in o){var Z=o[X];if(se=s[X],o.hasOwnProperty(X)&&(Z!=null||se!=null))switch(X){case"type":d=Z;break;case"name":h=Z;break;case"checked":Y=Z;break;case"defaultChecked":ne=Z;break;case"value":_=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:Z!==se&&vt(t,r,X,Z,o,se)}}zn(t,_,b,x,Y,ne,d,h);return;case"select":Z=_=b=X=null;for(d in s)if(x=s[d],s.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Z=x;default:o.hasOwnProperty(d)||vt(t,r,d,null,o,x)}for(h in o)if(d=o[h],x=s[h],o.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":X=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==x&&vt(t,r,h,d,o,x)}r=b,s=_,o=Z,X!=null?ui(t,!!s,X,!1):!!o!=!!s&&(r!=null?ui(t,!!s,r,!0):ui(t,!!s,s?[]:"",!1));return;case"textarea":Z=X=null;for(b in s)if(h=s[b],s.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:vt(t,r,b,null,o,h)}for(_ in o)if(h=o[_],d=s[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":X=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&vt(t,r,_,h,o,d)}gt(t,X,Z);return;case"option":for(var Le in s)if(X=s[Le],s.hasOwnProperty(Le)&&X!=null&&!o.hasOwnProperty(Le))switch(Le){case"selected":t.selected=!1;break;default:vt(t,r,Le,null,o,X)}for(x in o)if(X=o[x],Z=s[x],o.hasOwnProperty(x)&&X!==Z&&(X!=null||Z!=null))switch(x){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:vt(t,r,x,X,o,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in s)X=s[Ie],s.hasOwnProperty(Ie)&&X!=null&&!o.hasOwnProperty(Ie)&&vt(t,r,Ie,null,o,X);for(Y in o)if(X=o[Y],Z=s[Y],o.hasOwnProperty(Y)&&X!==Z&&(X!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,r));break;default:vt(t,r,Y,X,o,Z)}return;default:if(Nl(r)){for(var _t in s)X=s[_t],s.hasOwnProperty(_t)&&X!==void 0&&!o.hasOwnProperty(_t)&&ud(t,r,_t,void 0,o,X);for(ne in o)X=o[ne],Z=s[ne],!o.hasOwnProperty(ne)||X===Z||X===void 0&&Z===void 0||ud(t,r,ne,X,o,Z);return}}for(var j in s)X=s[j],s.hasOwnProperty(j)&&X!=null&&!o.hasOwnProperty(j)&&vt(t,r,j,null,o,X);for(se in o)X=o[se],Z=s[se],!o.hasOwnProperty(se)||X===Z||X==null&&Z==null||vt(t,r,se,X,o,Z)}var cd=null,hd=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function fd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var dd=null;function l1(){var t=window.event;return t&&t.type==="popstate"?t===dd?!1:(dd=t,!0):(dd=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(c1)}:av;function c1(t){setTimeout(function(){throw t})}function aa(t){return t==="head"}function lv(t,r){var s=r,o=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var _=t.ownerDocument;if(s&1&&yo(_.documentElement),s&2&&yo(_.body),s&4)for(s=_.head,yo(s),_=s.firstChild;_;){var b=_.nextSibling,x=_.nodeName;_[Ne]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=b}}if(h===0){t.removeChild(d),wo(r);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);wo(r)}function md(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),Ce(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function h1(t,r,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ne])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ar(t.nextSibling),t===null)break}return null}function f1(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ar(t.nextSibling),t===null))return null;return t}function pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function d1(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ar(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var gd=null;function ov(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function uv(t,r,s){switch(r=yc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function yo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ce(t)}var dr=new Map,cv=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=de.d;de.d={f:m1,r:p1,D:g1,C:y1,L:v1,m:_1,X:T1,S:E1,M:b1};function m1(){var t=Ci.f(),r=uc();return t||r}function p1(t){var r=Ke(t);r!==null&&r.tag===5&&r.type==="form"?Ig(r):Ci.r(t)}var rl=typeof document>"u"?null:document;function hv(t,r,s){var o=rl;if(o&&typeof r=="string"&&r){var h=jt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),cv.has(h)||(cv.add(h),t={rel:t,crossOrigin:s,href:r},o.querySelector(h)===null&&(r=o.createElement("link"),hn(r,"link",t),et(r),o.head.appendChild(r)))}}function g1(t){Ci.D(t),hv("dns-prefetch",t,null)}function y1(t,r){Ci.C(t,r),hv("preconnect",t,r)}function v1(t,r,s){Ci.L(t,r,s);var o=rl;if(o&&t&&r){var h='link[rel="preload"][as="'+jt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+jt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+jt(s.imageSizes)+'"]')):h+='[href="'+jt(t)+'"]';var d=h;switch(r){case"style":d=il(t);break;case"script":d=al(t)}dr.has(d)||(t=E({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),dr.set(d,t),o.querySelector(h)!==null||r==="style"&&o.querySelector(vo(d))||r==="script"&&o.querySelector(_o(d))||(r=o.createElement("link"),hn(r,"link",t),et(r),o.head.appendChild(r)))}}function _1(t,r){Ci.m(t,r);var s=rl;if(s&&t){var o=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+jt(o)+'"][href="'+jt(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=al(t)}if(!dr.has(d)&&(t=E({rel:"modulepreload",href:t},r),dr.set(d,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(_o(d)))return}o=s.createElement("link"),hn(o,"link",t),et(o),s.head.appendChild(o)}}}function E1(t,r,s){Ci.S(t,r,s);var o=rl;if(o&&t){var h=st(o).hoistableStyles,d=il(t);r=r||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=o.querySelector(vo(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},s),(s=dr.get(d))&&yd(t,s);var x=_=o.createElement("link");et(x),hn(x,"link",t),x._p=new Promise(function(Y,ne){x.onload=Y,x.onerror=ne}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,_c(_,r,o)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function T1(t,r){Ci.X(t,r);var s=rl;if(s&&t){var o=st(s).hoistableScripts,h=al(t),d=o.get(h);d||(d=s.querySelector(_o(h)),d||(t=E({src:t,async:!0},r),(r=dr.get(h))&&vd(t,r),d=s.createElement("script"),et(d),hn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function b1(t,r){Ci.M(t,r);var s=rl;if(s&&t){var o=st(s).hoistableScripts,h=al(t),d=o.get(h);d||(d=s.querySelector(_o(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=dr.get(h))&&vd(t,r),d=s.createElement("script"),et(d),hn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function fv(t,r,s,o){var h=(h=xe.current)?vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=il(s.href),s=st(h).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=il(s.href);var d=st(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(vo(t)))&&!d._p&&(_.instance=d,_.state.loading=5),dr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},dr.set(t,s),d||A1(h,t,s,_.state))),r&&o===null)throw Error(a(528,""));return _}if(r&&o!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=al(s),s=st(h).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function il(t){return'href="'+jt(t)+'"'}function vo(t){return'link[rel="stylesheet"]['+t+"]"}function dv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function A1(t,r,s,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),hn(r,"link",s),et(r),t.head.appendChild(r))}function al(t){return'[src="'+jt(t)+'"]'}function _o(t){return"script[async]"+t}function mv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+jt(s.href)+'"]');if(o)return r.instance=o,et(o),o;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),et(o),hn(o,"style",h),_c(o,s.precedence,t),r.instance=o;case"stylesheet":h=il(s.href);var d=t.querySelector(vo(h));if(d)return r.state.loading|=4,r.instance=d,et(d),d;o=dv(s),(h=dr.get(h))&&yd(o,h),d=(t.ownerDocument||t).createElement("link"),et(d);var _=d;return _._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),hn(d,"link",o),r.state.loading|=4,_c(d,s.precedence,t),r.instance=d;case"script":return d=al(s.src),(h=t.querySelector(_o(d)))?(r.instance=h,et(h),h):(o=s,(h=dr.get(d))&&(o=E({},s),vd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),et(h),hn(h,"link",o),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,_c(o,s.precedence,t));return r.instance}function _c(t,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var b=o[_];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function yd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function vd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ec=null;function pv(t,r,s){if(Ec===null){var o=new Map,h=Ec=new Map;h.set(s,o)}else h=Ec,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Ne]||d[le]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=o.get(_);b?b.push(d):o.set(_,[d])}}return o}function gv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function S1(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function yv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Eo=null;function w1(){}function R1(t,r,s){if(Eo===null)throw Error(a(475));var o=Eo;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=il(s.href),d=t.querySelector(vo(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Tc.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=d,et(d);return}d=t.ownerDocument||t,s=dv(s),(h=dr.get(h))&&yd(s,h),d=d.createElement("link"),et(d);var _=d;_._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),hn(d,"link",s),r.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Tc.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function D1(){if(Eo===null)throw Error(a(475));var t=Eo;return t.stylesheets&&t.count===0&&_d(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&_d(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Tc(){if(this.count--,this.count===0){if(this.stylesheets)_d(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function _d(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,r.forEach(C1,t),bc=null,Tc.call(t))}function C1(t,r){if(!(r.state.loading&4)){var s=bc.get(t);if(s)var o=s.get(null);else{s=new Map,bc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||o,d===o&&s.set(null,h),s.set(_,h),this.count++,o=Tc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var To={$$typeof:ee,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function x1(t,r,s,o,h,d,_,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function vv(t,r,s,o,h,d,_,b,x,Y,ne,se){return t=new x1(t,r,s,_,b,x,Y,se),r=1,d===!0&&(r|=24),d=Bn(3,null,null,r),t.current=d,d.stateNode=t,r=Jh(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:r},rf(d),t}function _v(t){return t?(t=Ps,t):Ps}function Ev(t,r,s,o,h,d){h=_v(h),o.context===null?o.context=h:o.pendingContext=h,o=Qi(r),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Yi(t,o,r),s!==null&&(Qn(s,t,r),Xl(s,t,r))}function Tv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Ed(t,r){Tv(t,r),(t=t.alternate)&&Tv(t,r)}function bv(t){if(t.tag===13){var r=Ls(t,67108864);r!==null&&Qn(r,t,67108864),Ed(t,67108864)}}var Ac=!0;function I1(t,r,s,o){var h=$.T;$.T=null;var d=de.p;try{de.p=2,Td(t,r,s,o)}finally{de.p=d,$.T=h}}function N1(t,r,s,o){var h=$.T;$.T=null;var d=de.p;try{de.p=8,Td(t,r,s,o)}finally{de.p=d,$.T=h}}function Td(t,r,s,o){if(Ac){var h=bd(o);if(h===null)od(t,r,o,Sc,s),Sv(t,o);else if(V1(h,t,r,s,o))o.stopPropagation();else if(Sv(t,o),r&4&&-1<O1.indexOf(t)){for(;h!==null;){var d=Ke(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Pn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var x=1<<31-kt(_);b.entanglements[1]|=x,_&=~x}Qr(d),(dt&6)===0&&(lc=Sn()+500,mo(0))}}break;case 13:b=Ls(d,2),b!==null&&Qn(b,d,2),uc(),Ed(d,2)}if(d=bd(o),d===null&&od(t,r,o,Sc,s),d===h)break;h=d}h!==null&&o.stopPropagation()}else od(t,r,o,null,s)}}function bd(t){return t=ir(t),Ad(t)}var Sc=null;function Ad(t){if(Sc=null,t=Me(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Sc=t,null}function Av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dl()){case Ia:return 2;case Li:return 8;case ai:case vr:return 32;case Zn:return 268435456;default:return 32}default:return 32}}var Sd=!1,sa=null,la=null,oa=null,bo=new Map,Ao=new Map,ua=[],O1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(t,r){switch(t){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":bo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(r.pointerId)}}function So(t,r,s,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Ke(r),r!==null&&bv(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function V1(t,r,s,o,h){switch(r){case"focusin":return sa=So(sa,t,r,s,o,h),!0;case"dragenter":return la=So(la,t,r,s,o,h),!0;case"mouseover":return oa=So(oa,t,r,s,o,h),!0;case"pointerover":var d=h.pointerId;return bo.set(d,So(bo.get(d)||null,t,r,s,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Ao.set(d,So(Ao.get(d)||null,t,r,s,o,h)),!0}return!1}function wv(t){var r=Me(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,H(t.priority,function(){if(s.tag===13){var o=Gn();o=Or(o);var h=Ls(s,o);h!==null&&Qn(h,s,o),Ed(s,o)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=bd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);ci=o,s.target.dispatchEvent(o),ci=null}else return r=Ke(s),r!==null&&bv(r),t.blockedOn=s,!1;r.shift()}return!0}function Rv(t,r,s){wc(t)&&s.delete(r)}function M1(){Sd=!1,sa!==null&&wc(sa)&&(sa=null),la!==null&&wc(la)&&(la=null),oa!==null&&wc(oa)&&(oa=null),bo.forEach(Rv),Ao.forEach(Rv)}function Rc(t,r){t.blockedOn===r&&(t.blockedOn=null,Sd||(Sd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,M1)))}var Dc=null;function Dv(t){Dc!==t&&(Dc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var r=0;r<t.length;r+=3){var s=t[r],o=t[r+1],h=t[r+2];if(typeof o!="function"){if(Ad(o||s)===null)continue;break}var d=Ke(s);d!==null&&(t.splice(r,3),r-=3,Af(d,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function wo(t){function r(x){return Rc(x,t)}sa!==null&&Rc(sa,t),la!==null&&Rc(la,t),oa!==null&&Rc(oa,t),bo.forEach(r),Ao.forEach(r);for(var s=0;s<ua.length;s++){var o=ua[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ua.length&&(s=ua[0],s.blockedOn===null);)wv(s),s.blockedOn===null&&ua.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],d=s[o+1],_=h[fe]||null;if(typeof d=="function")_||Dv(s);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[fe]||null)b=_.formAction;else if(Ad(h)!==null)continue}else b=_.action;typeof b=="function"?s[o+1]=b:(s.splice(o,3),o-=3),Dv(s)}}}function wd(t){this._internalRoot=t}Cc.prototype.render=wd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,o=Gn();Ev(s,o,t,r,null,null)},Cc.prototype.unmount=wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ev(t.current,2,null,t,null,null),uc(),r[_e]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var r=V();t={blockedOn:null,target:t,priority:r};for(var s=0;s<ua.length&&r!==0&&r<ua[s].priority;s++);ua.splice(s,0,t),s===0&&wv(t)}};var Cv=e.version;if(Cv!=="19.1.0")throw Error(a(527,Cv,"19.1.0"));de.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var L1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{ot=xc.inject(L1),qe=xc}catch{}}return Do.createRoot=function(t,r){if(!l(t))throw Error(a(299));var s=!1,o="",h=Fg,d=Gg,_=Qg,b=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=vv(t,1,!1,null,null,s,o,h,d,_,b,null),t[_e]=r.current,ld(t),new wd(r)},Do.hydrateRoot=function(t,r,s){if(!l(t))throw Error(a(299));var o=!1,h="",d=Fg,_=Gg,b=Qg,x=null,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks),s.formState!==void 0&&(Y=s.formState)),r=vv(t,1,!0,r,s??null,o,h,d,_,b,x,Y),r.context=_v(null),s=r.current,o=Gn(),o=Or(o),h=Qi(o),h.callback=null,Yi(s,h,o),s=o,r.current.lanes=s,_r(r,s),Qr(r),t[_e]=r.current,ld(t),new Cc(r)},Do.version="19.1.0",Do}var kv;function F1(){if(kv)return Cd.exports;kv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cd.exports=q1(),Cd.exports}var G1=F1(),Co={},zv;function Q1(){if(zv)return Co;zv=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.parse=f,Co.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function f(T,D){const N=new u,K=T.length;if(K<2)return N;const B=D?.decode||E;let U=0;do{const te=T.indexOf("=",U);if(te===-1)break;const ee=T.indexOf(";",U),he=ee===-1?K:ee;if(te>he){U=T.lastIndexOf(";",te-1)+1;continue}const ue=m(T,U,te),z=p(T,te,ue),I=T.slice(ue,z);if(N[I]===void 0){let w=m(T,te+1,he),R=p(T,he,w);const M=B(T.slice(w,R));N[I]=M}U=he+1}while(U<K);return N}function m(T,D,N){do{const K=T.charCodeAt(D);if(K!==32&&K!==9)return D}while(++D<N);return N}function p(T,D,N){for(;D>N;){const K=T.charCodeAt(--D);if(K!==32&&K!==9)return D+1}return N}function g(T,D,N){const K=N?.encode||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const B=K(D);if(!e.test(B))throw new TypeError(`argument val is invalid: ${D}`);let U=T+"="+B;if(!N)return U;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);U+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);U+="; Domain="+N.domain}if(N.path){if(!a.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);U+="; Path="+N.path}if(N.expires){if(!A(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);U+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(U+="; HttpOnly"),N.secure&&(U+="; Secure"),N.partitioned&&(U+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return U}function E(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function A(T){return l.call(T)==="[object Date]"}return Co}Q1();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w0=i=>{throw TypeError(i)},Y1=(i,e,n)=>e.has(i)||w0("Cannot "+n),Od=(i,e,n)=>(Y1(i,e,"read from private field"),n?n.call(i):e.get(i)),K1=(i,e,n)=>e.has(i)?w0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,n),jv="popstate";function $1(i={}){function e(l,u){let{pathname:f="/",search:m="",hash:p=""}=Vi(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Ko("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=l.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Ea(u))}function a(l,u){Pt(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Z1(e,n,a,i)}function Ze(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Pt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X1(){return Math.random().toString(36).substring(2,10)}function Bv(i,e){return{usr:i.state,key:i.key,idx:e}}function Ko(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Vi(e):e,state:n,key:e&&e.key||a||X1()}}function Ea({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Vi(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function Z1(i,e,n,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,f=l.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let B=E(),U=B==null?null:B-g;g=B,p&&p({action:m,location:K.location,delta:U})}function T(B,U){m="PUSH";let te=Ko(K.location,B,U);n&&n(te,B),g=E()+1;let ee=Bv(te,g),he=K.createHref(te);try{f.pushState(ee,"",he)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;l.location.assign(he)}u&&p&&p({action:m,location:K.location,delta:1})}function D(B,U){m="REPLACE";let te=Ko(K.location,B,U);n&&n(te,B),g=E();let ee=Bv(te,g),he=K.createHref(te);f.replaceState(ee,"",he),u&&p&&p({action:m,location:K.location,delta:0})}function N(B){return R0(B)}let K={get action(){return m},get location(){return i(l,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(jv,A),p=B,()=>{l.removeEventListener(jv,A),p=null}},createHref(B){return e(l,B)},createURL:N,encodeLocation(B){let U=N(B);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:T,replace:D,go(B){return f.go(B)}};return K}function R0(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:Ea(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var Vo,Hv=class{constructor(i){if(K1(this,Vo,new Map),i)for(let[e,n]of i)this.set(e,n)}get(i){if(Od(this,Vo).has(i))return Od(this,Vo).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){Od(this,Vo).set(i,e)}};Vo=new WeakMap;var W1=new Set(["lazy","caseSensitive","path","id","index","children"]);function J1(i){return W1.has(i)}var eA=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function tA(i){return eA.has(i)}function nA(i){return i.index===!0}function Kc(i,e,n=[],a={}){return i.map((l,u)=>{let f=[...n,String(u)],m=typeof l.id=="string"?l.id:f.join("-");if(Ze(l.index!==!0||!l.children,"Cannot specify children on an index route"),Ze(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),nA(l)){let p={...l,...e(l),id:m};return a[m]=p,p}else{let p={...l,...e(l),id:m,children:void 0};return a[m]=p,l.children&&(p.children=Kc(l.children,e,f,a)),p}})}function fa(i,e,n="/"){return zc(i,e,n,!1)}function zc(i,e,n,a){let l=typeof e=="string"?Vi(e):e,u=yr(l.pathname||"/",n);if(u==null)return null;let f=D0(i);iA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=pA(u);m=dA(f[p],g,a)}return m}function rA(i,e){let{route:n,pathname:a,params:l}=i;return{id:n.id,pathname:a,params:l,data:e[n.id],handle:n.handle}}function D0(i,e=[],n=[],a=""){let l=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Ze(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=$r([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(Ze(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),D0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:hA(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of C0(u.path))l(u,f,m)}),e}function C0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let f=C0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function iA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:fA(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var aA=/^:[\w-]+$/,sA=3,lA=2,oA=1,uA=10,cA=-2,qv=i=>i==="*";function hA(i,e){let n=i.split("/"),a=n.length;return n.some(qv)&&(a+=cA),e&&(a+=lA),n.filter(l=>!qv(l)).reduce((l,u)=>l+(aA.test(u)?sA:u===""?oA:uA),a)}function fA(i,e){return i.length===e.length&&i.slice(0,-1).every((a,l)=>a===e[l])?i[i.length-1]-e[e.length-1]:0}function dA(i,e,n=!1){let{routesMeta:a}=i,l={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=$c({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),T=p.route;if(!A&&g&&n&&!a[a.length-1].route.index&&(A=$c({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(l,A.params),f.push({params:l,pathname:$r([u,A.pathname]),pathnameBase:vA($r([u,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(u=$r([u,A.pathnameBase]))}return f}function $c(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=mA(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:A},T)=>{if(E==="*"){let N=m[T]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const D=m[T];return A&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function mA(i,e=!1,n=!0){Pt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function pA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function gA(i,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof i=="string"?Vi(i):i;return{pathname:n?n.startsWith("/")?n:yA(n,e):e,search:_A(a),hash:EA(l)}}function yA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Vd(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Am(i){let e=x0(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Sm(i,e,n,a=!1){let l;typeof i=="string"?l=Vi(i):(l={...i},Ze(!l.pathname||!l.pathname.includes("?"),Vd("?","pathname","search",l)),Ze(!l.pathname||!l.pathname.includes("#"),Vd("#","pathname","hash",l)),Ze(!l.search||!l.search.includes("#"),Vd("#","search","hash",l)));let u=i===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!a&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),A-=1;l.pathname=T.join("/")}m=A>=0?e[A]:"/"}let p=gA(l,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var $r=i=>i.join("/").replace(/\/\/+/g,"/"),vA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),_A=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,EA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Xc=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function $o(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var I0=["POST","PUT","PATCH","DELETE"],TA=new Set(I0),bA=["GET",...I0],AA=new Set(bA),SA=new Set([301,302,303,307,308]),wA=new Set([307,308]),Md={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},RA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DA=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),N0="remix-router-transitions",O0=Symbol("ResetLoaderData");function CA(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ze(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=i.hydrationRouteProperties||[],l=i.mapRouteProperties||DA,u={},f=Kc(i.routes,l,void 0,u),m,p=i.basename||"/",g=i.dataStrategy||VA,E={unstable_middleware:!1,...i.future},A=null,T=new Set,D=null,N=null,K=null,B=i.hydrationData!=null,U=fa(f,i.history.location,p),te=!1,ee=null,he;if(U==null&&!i.patchRoutesOnNavigation){let V=mr(404,{pathname:i.history.location.pathname}),{matches:H,route:Q}=t_(f);he=!0,U=H,ee={[Q.id]:V}}else if(U&&!i.hydrationData&&wn(U,f,i.history.location.pathname).active&&(U=null),U)if(U.some(V=>V.route.lazy))he=!1;else if(!U.some(V=>V.route.loader))he=!0;else{let V=i.hydrationData?i.hydrationData.loaderData:null,H=i.hydrationData?i.hydrationData.errors:null;if(H){let Q=U.findIndex(le=>H[le.route.id]!==void 0);he=U.slice(0,Q+1).every(le=>!Xd(le.route,V,H))}else he=U.every(Q=>!Xd(Q.route,V,H))}else{he=!1,U=[];let V=wn(null,f,i.history.location.pathname);V.active&&V.matches&&(te=!0,U=V.matches)}let ue,z={historyAction:i.history.action,location:i.history.location,matches:U,initialized:he,navigation:Md,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},I="POP",w=!1,R,M=!1,P=new Map,k=null,C=!1,ke=!1,Je=new Set,$=new Map,de=0,ge=-1,je=new Map,O=new Set,re=new Map,me=new Map,ce=new Set,Se=new Map,Be,xe=null;function Ut(){if(A=i.history.listen(({action:V,location:H,delta:Q})=>{if(Be){Be(),Be=void 0;return}Pt(Se.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=ki({currentLocation:z.location,nextLocation:H,historyAction:V});if(le&&Q!=null){let fe=new Promise(_e=>{Be=_e});i.history.go(Q*-1),Jn(le,{state:"blocked",location:H,proceed(){Jn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),fe.then(()=>i.history.go(Q))},reset(){let _e=new Map(z.blockers);_e.set(le,xo),wt({blockers:_e})}});return}return An(V,H)}),n){FA(e,P);let V=()=>GA(e,P);e.addEventListener("pagehide",V),k=()=>e.removeEventListener("pagehide",V)}return z.initialized||An("POP",z.location,{initialHydration:!0}),ue}function pt(){A&&A(),k&&k(),T.clear(),R&&R.abort(),z.fetchers.forEach((V,H)=>kt(H)),z.blockers.forEach((V,H)=>si(H))}function Xn(V){return T.add(V),()=>T.delete(V)}function wt(V,H={}){z={...z,...V};let Q=[],le=[];z.fetchers.forEach((fe,_e)=>{fe.state==="idle"&&(ce.has(_e)?Q.push(_e):le.push(_e))}),ce.forEach(fe=>{!z.fetchers.has(fe)&&!$.has(fe)&&Q.push(fe)}),[...T].forEach(fe=>fe(z,{deletedFetchers:Q,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),Q.forEach(fe=>kt(fe)),le.forEach(fe=>z.fetchers.delete(fe))}function pn(V,H,{flushSync:Q}={}){let le=z.actionData!=null&&z.navigation.formMethod!=null&&Kn(z.navigation.formMethod)&&z.navigation.state==="loading"&&V.state?._isRedirect!==!0,fe;H.actionData?Object.keys(H.actionData).length>0?fe=H.actionData:fe=null:le?fe=z.actionData:fe=null;let _e=H.loaderData?Jv(z.loaderData,H.loaderData,H.matches||[],H.errors):z.loaderData,De=z.blockers;De.size>0&&(De=new Map(De),De.forEach((be,Ne)=>De.set(Ne,xo)));let Ee=w===!0||z.navigation.formMethod!=null&&Kn(z.navigation.formMethod)&&V.state?._isRedirect!==!0;m&&(f=m,m=void 0),C||I==="POP"||(I==="PUSH"?i.history.push(V,V.state):I==="REPLACE"&&i.history.replace(V,V.state));let Ae;if(I==="POP"){let be=P.get(z.location.pathname);be&&be.has(V.pathname)?Ae={currentLocation:z.location,nextLocation:V}:P.has(V.pathname)&&(Ae={currentLocation:V,nextLocation:z.location})}else if(M){let be=P.get(z.location.pathname);be?be.add(V.pathname):(be=new Set([V.pathname]),P.set(z.location.pathname,be)),Ae={currentLocation:z.location,nextLocation:V}}wt({...H,actionData:fe,loaderData:_e,historyAction:I,location:V,initialized:!0,navigation:Md,revalidation:"idle",restoreScrollPosition:zi(V,H.matches||z.matches),preventScrollReset:Ee,blockers:De},{viewTransitionOpts:Ae,flushSync:Q===!0}),I="POP",w=!1,M=!1,C=!1,ke=!1,xe?.resolve(),xe=null}async function Dr(V,H){if(typeof V=="number"){i.history.go(V);return}let Q=$d(z.location,z.matches,p,V,H?.fromRouteId,H?.relative),{path:le,submission:fe,error:_e}=Fv(!1,Q,H),De=z.location,Ee=Ko(z.location,le,H&&H.state);Ee={...Ee,...i.history.encodeLocation(Ee)};let Ae=H&&H.replace!=null?H.replace:void 0,be="PUSH";Ae===!0?be="REPLACE":Ae===!1||fe!=null&&Kn(fe.formMethod)&&fe.formAction===z.location.pathname+z.location.search&&(be="REPLACE");let Ne=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Ce=(H&&H.flushSync)===!0,Me=ki({currentLocation:De,nextLocation:Ee,historyAction:be});if(Me){Jn(Me,{state:"blocked",location:Ee,proceed(){Jn(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Dr(V,H)},reset(){let Ke=new Map(z.blockers);Ke.set(Me,xo),wt({blockers:Ke})}});return}await An(be,Ee,{submission:fe,pendingError:_e,preventScrollReset:Ne,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Ce})}function ii(){xe||(xe=QA()),Ui(),wt({revalidation:"loading"});let V=xe.promise;return z.navigation.state==="submitting"?V:z.navigation.state==="idle"?(An(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),V):(An(I||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:M===!0}),V)}async function An(V,H,Q){R&&R.abort(),R=null,I=V,C=(Q&&Q.startUninterruptedRevalidation)===!0,_r(z.location,z.matches),w=(Q&&Q.preventScrollReset)===!0,M=(Q&&Q.enableViewTransition)===!0;let le=m||f,fe=Q&&Q.overrideNavigation,_e=Q?.initialHydration&&z.matches&&z.matches.length>0&&!te?z.matches:fa(le,H,p),De=(Q&&Q.flushSync)===!0;if(_e&&z.initialized&&!ke&&zA(z.location,H)&&!(Q&&Q.submission&&Kn(Q.submission.formMethod))){pn(H,{matches:_e},{flushSync:De});return}let Ee=wn(_e,le,H.pathname);if(Ee.active&&Ee.matches&&(_e=Ee.matches),!_e){let{error:st,notFoundMatches:et,route:Qe}=li(H.pathname);pn(H,{matches:et,loaderData:{},errors:{[Qe.id]:st}},{flushSync:De});return}R=new AbortController;let Ae=ll(i.history,H,R.signal,Q&&Q.submission),be=new Hv(i.unstable_getContext?await i.unstable_getContext():void 0),Ne;if(Q&&Q.pendingError)Ne=[as(_e).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&Kn(Q.submission.formMethod)){let st=await xa(Ae,H,Q.submission,_e,be,Ee.active,Q&&Q.initialHydration===!0,{replace:Q.replace,flushSync:De});if(st.shortCircuited)return;if(st.pendingActionResult){let[et,Qe]=st.pendingActionResult;if(Yn(Qe)&&$o(Qe.error)&&Qe.error.status===404){R=null,pn(H,{matches:st.matches,loaderData:{},errors:{[et]:Qe.error}});return}}_e=st.matches||_e,Ne=st.pendingActionResult,fe=Ld(H,Q.submission),De=!1,Ee.active=!1,Ae=ll(i.history,Ae.url,Ae.signal)}let{shortCircuited:Ce,matches:Me,loaderData:Ke,errors:ct}=await Es(Ae,H,_e,be,Ee.active,fe,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,De,Ne);Ce||(R=null,pn(H,{matches:Me||_e,...e_(Ne),loaderData:Ke,errors:ct}))}async function xa(V,H,Q,le,fe,_e,De,Ee={}){Ui();let Ae=HA(H,Q);if(wt({navigation:Ae},{flushSync:Ee.flushSync===!0}),_e){let Ce=await Nr(le,H.pathname,V.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let Me=as(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[Me,{type:"error",error:Ce.error}]}}else if(Ce.matches)le=Ce.matches;else{let{notFoundMatches:Me,error:Ke,route:ct}=li(H.pathname);return{matches:Me,pendingActionResult:[ct.id,{type:"error",error:Ke}]}}}let be,Ne=Mo(le,H);if(!Ne.route.action&&!Ne.route.lazy)be={type:"error",error:mr(405,{method:V.method,pathname:H.pathname,routeId:Ne.route.id})};else{let Ce=fl(l,u,V,le,Ne,De?[]:a,fe),Me=await Zn(V,Ce,fe,null);if(be=Me[Ne.route.id],!be){for(let Ke of le)if(Me[Ke.route.id]){be=Me[Ke.route.id];break}}if(V.signal.aborted)return{shortCircuited:!0}}if(ss(be)){let Ce;return Ee&&Ee.replace!=null?Ce=Ee.replace:Ce=Xv(be.response.headers.get("Location"),new URL(V.url),p)===z.location.pathname+z.location.search,await vr(V,be,!0,{submission:Q,replace:Ce}),{shortCircuited:!0}}if(Yn(be)){let Ce=as(le,Ne.route.id);return(Ee&&Ee.replace)!==!0&&(I="PUSH"),{matches:le,pendingActionResult:[Ce.route.id,be,Ne.route.id]}}return{matches:le,pendingActionResult:[Ne.route.id,be]}}async function Es(V,H,Q,le,fe,_e,De,Ee,Ae,be,Ne,Ce){let Me=_e||Ld(H,De),Ke=De||Ee||r_(Me),ct=!C&&!be;if(fe){if(ct){let zt=Sn(Ce);wt({navigation:Me,...zt!==void 0?{actionData:zt}:{}},{flushSync:Ne})}let Pe=await Nr(Q,H.pathname,V.signal);if(Pe.type==="aborted")return{shortCircuited:!0};if(Pe.type==="error"){let zt=as(Pe.partialMatches).route.id;return{matches:Pe.partialMatches,loaderData:{},errors:{[zt]:Pe.error}}}else if(Pe.matches)Q=Pe.matches;else{let{error:zt,notFoundMatches:kn,route:Nn}=li(H.pathname);return{matches:kn,loaderData:{},errors:{[Nn.id]:zt}}}}let st=m||f,{dsMatches:et,revalidatingFetchers:Qe}=Gv(V,le,l,u,i.history,z,Q,Ke,H,be?[]:a,be===!0,ke,Je,ce,re,O,st,p,i.patchRoutesOnNavigation!=null,Ce);if(ge=++de,!i.dataStrategy&&!et.some(Pe=>Pe.shouldLoad)&&Qe.length===0){let Pe=xr();return pn(H,{matches:Q,loaderData:{},errors:Ce&&Yn(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...e_(Ce),...Pe?{fetchers:new Map(z.fetchers)}:{}},{flushSync:Ne}),{shortCircuited:!0}}if(ct){let Pe={};if(!fe){Pe.navigation=Me;let zt=Sn(Ce);zt!==void 0&&(Pe.actionData=zt)}Qe.length>0&&(Pe.fetchers=Dl(Qe)),wt(Pe,{flushSync:Ne})}Qe.forEach(Pe=>{Wn(Pe.key),Pe.controller&&$.set(Pe.key,Pe.controller)});let tr=()=>Qe.forEach(Pe=>Wn(Pe.key));R&&R.signal.addEventListener("abort",tr);let{loaderResults:Yt,fetcherResults:Rn}=await Pi(et,Qe,V,le);if(V.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",tr),Qe.forEach(Pe=>$.delete(Pe.key));let sn=Ic(Yt);if(sn)return await vr(V,sn.result,!0,{replace:Ae}),{shortCircuited:!0};if(sn=Ic(Rn),sn)return O.add(sn.key),await vr(V,sn.result,!0,{replace:Ae}),{shortCircuited:!0};let{loaderData:Vr,errors:Un}=Wv(z,Q,Yt,Ce,Qe,Rn);be&&z.errors&&(Un={...z.errors,...Un});let Bi=xr(),yn=Ir(ge),Dn=Bi||yn||Qe.length>0;return{matches:Q,loaderData:Vr,errors:Un,...Dn?{fetchers:new Map(z.fetchers)}:{}}}function Sn(V){if(V&&!Yn(V[1]))return{[V[0]]:V[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function Dl(V){return V.forEach(H=>{let Q=z.fetchers.get(H.key),le=Io(void 0,Q?Q.data:void 0);z.fetchers.set(H.key,le)}),new Map(z.fetchers)}async function Ia(V,H,Q,le){Wn(V);let fe=(le&&le.flushSync)===!0,_e=m||f,De=$d(z.location,z.matches,p,Q,H,le?.relative),Ee=fa(_e,De,p),Ae=wn(Ee,_e,De);if(Ae.active&&Ae.matches&&(Ee=Ae.matches),!Ee){qe(V,H,mr(404,{pathname:De}),{flushSync:fe});return}let{path:be,submission:Ne,error:Ce}=Fv(!0,De,le);if(Ce){qe(V,H,Ce,{flushSync:fe});return}let Me=Mo(Ee,be),Ke=new Hv(i.unstable_getContext?await i.unstable_getContext():void 0),ct=(le&&le.preventScrollReset)===!0;if(Ne&&Kn(Ne.formMethod)){await Li(V,H,be,Me,Ee,Ke,Ae.active,fe,ct,Ne);return}re.set(V,{routeId:H,path:be}),await ai(V,H,be,Me,Ee,Ke,Ae.active,fe,ct,Ne)}async function Li(V,H,Q,le,fe,_e,De,Ee,Ae,be){Ui(),re.delete(V);function Ne(Et){if(!Et.route.action&&!Et.route.lazy){let nr=mr(405,{method:be.formMethod,pathname:Q,routeId:H});return qe(V,H,nr,{flushSync:Ee}),!0}return!1}if(!De&&Ne(le))return;let Ce=z.fetchers.get(V);ot(V,qA(be,Ce),{flushSync:Ee});let Me=new AbortController,Ke=ll(i.history,Q,Me.signal,be);if(De){let Et=await Nr(fe,Q,Ke.signal,V);if(Et.type==="aborted")return;if(Et.type==="error"){qe(V,H,Et.error,{flushSync:Ee});return}else if(Et.matches){if(fe=Et.matches,le=Mo(fe,Q),Ne(le))return}else{qe(V,H,mr(404,{pathname:Q}),{flushSync:Ee});return}}$.set(V,Me);let ct=de,st=fl(l,u,Ke,fe,le,a,_e),Qe=(await Zn(Ke,st,_e,V))[le.route.id];if(Ke.signal.aborted){$.get(V)===Me&&$.delete(V);return}if(ce.has(V)){if(ss(Qe)||Yn(Qe)){ot(V,ha(void 0));return}}else{if(ss(Qe))if($.delete(V),ge>ct){ot(V,ha(void 0));return}else return O.add(V),ot(V,Io(be)),vr(Ke,Qe,!1,{fetcherSubmission:be,preventScrollReset:Ae});if(Yn(Qe)){qe(V,H,Qe.error);return}}let tr=z.navigation.location||z.location,Yt=ll(i.history,tr,Me.signal),Rn=m||f,sn=z.navigation.state!=="idle"?fa(Rn,z.navigation.location,p):z.matches;Ze(sn,"Didn't find any matches after fetcher action");let Vr=++de;je.set(V,Vr);let Un=Io(be,Qe.data);z.fetchers.set(V,Un);let{dsMatches:Bi,revalidatingFetchers:yn}=Gv(Yt,_e,l,u,i.history,z,sn,be,tr,a,!1,ke,Je,ce,re,O,Rn,p,i.patchRoutesOnNavigation!=null,[le.route.id,Qe]);yn.filter(Et=>Et.key!==V).forEach(Et=>{let nr=Et.key,oi=z.fetchers.get(nr),ln=Io(void 0,oi?oi.data:void 0);z.fetchers.set(nr,ln),Wn(nr),Et.controller&&$.set(nr,Et.controller)}),wt({fetchers:new Map(z.fetchers)});let Dn=()=>yn.forEach(Et=>Wn(Et.key));Me.signal.addEventListener("abort",Dn);let{loaderResults:Pe,fetcherResults:zt}=await Pi(Bi,yn,Yt,_e);if(Me.signal.aborted)return;if(Me.signal.removeEventListener("abort",Dn),je.delete(V),$.delete(V),yn.forEach(Et=>$.delete(Et.key)),z.fetchers.has(V)){let Et=ha(Qe.data);z.fetchers.set(V,Et)}let kn=Ic(Pe);if(kn)return vr(Yt,kn.result,!1,{preventScrollReset:Ae});if(kn=Ic(zt),kn)return O.add(kn.key),vr(Yt,kn.result,!1,{preventScrollReset:Ae});let{loaderData:Nn,errors:Mr}=Wv(z,sn,Pe,void 0,yn,zt);Ir(Vr),z.navigation.state==="loading"&&Vr>ge?(Ze(I,"Expected pending action"),R&&R.abort(),pn(z.navigation.location,{matches:sn,loaderData:Nn,errors:Mr,fetchers:new Map(z.fetchers)})):(wt({errors:Mr,loaderData:Jv(z.loaderData,Nn,sn,Mr),fetchers:new Map(z.fetchers)}),ke=!1)}async function ai(V,H,Q,le,fe,_e,De,Ee,Ae,be){let Ne=z.fetchers.get(V);ot(V,Io(be,Ne?Ne.data:void 0),{flushSync:Ee});let Ce=new AbortController,Me=ll(i.history,Q,Ce.signal);if(De){let Qe=await Nr(fe,Q,Me.signal,V);if(Qe.type==="aborted")return;if(Qe.type==="error"){qe(V,H,Qe.error,{flushSync:Ee});return}else if(Qe.matches)fe=Qe.matches,le=Mo(fe,Q);else{qe(V,H,mr(404,{pathname:Q}),{flushSync:Ee});return}}$.set(V,Ce);let Ke=de,ct=fl(l,u,Me,fe,le,a,_e),et=(await Zn(Me,ct,_e,V))[le.route.id];if($.get(V)===Ce&&$.delete(V),!Me.signal.aborted){if(ce.has(V)){ot(V,ha(void 0));return}if(ss(et))if(ge>Ke){ot(V,ha(void 0));return}else{O.add(V),await vr(Me,et,!1,{preventScrollReset:Ae});return}if(Yn(et)){qe(V,H,et.error);return}ot(V,ha(et.data))}}async function vr(V,H,Q,{submission:le,fetcherSubmission:fe,preventScrollReset:_e,replace:De}={}){H.response.headers.has("X-Remix-Revalidate")&&(ke=!0);let Ee=H.response.headers.get("Location");Ze(Ee,"Expected a Location header on the redirect Response"),Ee=Xv(Ee,new URL(V.url),p);let Ae=Ko(z.location,Ee,{_isRedirect:!0});if(n){let ct=!1;if(H.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(wm.test(Ee)){const st=R0(Ee,!0);ct=st.origin!==e.location.origin||yr(st.pathname,p)==null}if(ct){De?e.location.replace(Ee):e.location.assign(Ee);return}}R=null;let be=De===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Ce,formEncType:Me}=z.navigation;!le&&!fe&&Ne&&Ce&&Me&&(le=r_(z.navigation));let Ke=le||fe;if(wA.has(H.response.status)&&Ke&&Kn(Ke.formMethod))await An(be,Ae,{submission:{...Ke,formAction:Ee},preventScrollReset:_e||w,enableViewTransition:Q?M:void 0});else{let ct=Ld(Ae,le);await An(be,Ae,{overrideNavigation:ct,fetcherSubmission:fe,preventScrollReset:_e||w,enableViewTransition:Q?M:void 0})}}async function Zn(V,H,Q,le){let fe,_e={};try{fe=await MA(g,V,H,le,Q,!1)}catch(De){return H.filter(Ee=>Ee.shouldLoad).forEach(Ee=>{_e[Ee.route.id]={type:"error",error:De}}),_e}if(V.signal.aborted)return _e;for(let[De,Ee]of Object.entries(fe))if(jA(Ee)){let Ae=Ee.result;_e[De]={type:"redirect",response:UA(Ae,V,De,H,p)}}else _e[De]=await PA(Ee);return _e}async function Pi(V,H,Q,le){let fe=Zn(Q,V,le,null),_e=Promise.all(H.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.request&&Ae.controller){let Ne=(await Zn(Ae.request,Ae.matches,le,Ae.key))[Ae.match.route.id];return{[Ae.key]:Ne}}else return Promise.resolve({[Ae.key]:{type:"error",error:mr(404,{pathname:Ae.path})}})})),De=await fe,Ee=(await _e).reduce((Ae,be)=>Object.assign(Ae,be),{});return{loaderResults:De,fetcherResults:Ee}}function Ui(){ke=!0,re.forEach((V,H)=>{$.has(H)&&Je.add(H),Wn(H)})}function ot(V,H,Q={}){z.fetchers.set(V,H),wt({fetchers:new Map(z.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function qe(V,H,Q,le={}){let fe=as(z.matches,H);kt(V),wt({errors:{[fe.route.id]:Q},fetchers:new Map(z.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function gn(V){return me.set(V,(me.get(V)||0)+1),ce.has(V)&&ce.delete(V),z.fetchers.get(V)||RA}function kt(V){let H=z.fetchers.get(V);$.has(V)&&!(H&&H.state==="loading"&&je.has(V))&&Wn(V),re.delete(V),je.delete(V),O.delete(V),ce.delete(V),Je.delete(V),z.fetchers.delete(V)}function Ts(V){let H=(me.get(V)||0)-1;H<=0?(me.delete(V),ce.add(V)):me.set(V,H),wt({fetchers:new Map(z.fetchers)})}function Wn(V){let H=$.get(V);H&&(H.abort(),$.delete(V))}function Cr(V){for(let H of V){let Q=gn(H),le=ha(Q.data);z.fetchers.set(H,le)}}function xr(){let V=[],H=!1;for(let Q of O){let le=z.fetchers.get(Q);Ze(le,`Expected fetcher: ${Q}`),le.state==="loading"&&(O.delete(Q),V.push(Q),H=!0)}return Cr(V),H}function Ir(V){let H=[];for(let[Q,le]of je)if(le<V){let fe=z.fetchers.get(Q);Ze(fe,`Expected fetcher: ${Q}`),fe.state==="loading"&&(Wn(Q),je.delete(Q),H.push(Q))}return Cr(H),H.length>0}function Pn(V,H){let Q=z.blockers.get(V)||xo;return Se.get(V)!==H&&Se.set(V,H),Q}function si(V){z.blockers.delete(V),Se.delete(V)}function Jn(V,H){let Q=z.blockers.get(V)||xo;Ze(Q.state==="unblocked"&&H.state==="blocked"||Q.state==="blocked"&&H.state==="blocked"||Q.state==="blocked"&&H.state==="proceeding"||Q.state==="blocked"&&H.state==="unblocked"||Q.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${H.state}`);let le=new Map(z.blockers);le.set(V,H),wt({blockers:le})}function ki({currentLocation:V,nextLocation:H,historyAction:Q}){if(Se.size===0)return;Se.size>1&&Pt(!1,"A router only supports one blocker at a time");let le=Array.from(Se.entries()),[fe,_e]=le[le.length-1],De=z.blockers.get(fe);if(!(De&&De.state==="proceeding")&&_e({currentLocation:V,nextLocation:H,historyAction:Q}))return fe}function li(V){let H=mr(404,{pathname:V}),Q=m||f,{matches:le,route:fe}=t_(Q);return{notFoundMatches:le,route:fe,error:H}}function Na(V,H,Q){if(D=V,K=H,N=Q||null,!B&&z.navigation===Md){B=!0;let le=zi(z.location,z.matches);le!=null&&wt({restoreScrollPosition:le})}return()=>{D=null,K=null,N=null}}function er(V,H){return N&&N(V,H.map(le=>rA(le,z.loaderData)))||V.key}function _r(V,H){if(D&&K){let Q=er(V,H);D[Q]=K()}}function zi(V,H){if(D){let Q=er(V,H),le=D[Q];if(typeof le=="number")return le}return null}function wn(V,H,Q){if(i.patchRoutesOnNavigation)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:zc(H,Q,p,!0)}}else return{active:!0,matches:zc(H,Q,p,!0)||[]};return{active:!1,matches:null}}async function Nr(V,H,Q,le){if(!i.patchRoutesOnNavigation)return{type:"success",matches:V};let fe=V;for(;;){let _e=m==null,De=m||f,Ee=u;try{await i.patchRoutesOnNavigation({signal:Q,path:H,matches:fe,fetcherKey:le,patch:(Ne,Ce)=>{Q.aborted||Qv(Ne,Ce,De,Ee,l)}})}catch(Ne){return{type:"error",error:Ne,partialMatches:fe}}finally{_e&&!Q.aborted&&(f=[...f])}if(Q.aborted)return{type:"aborted"};let Ae=fa(De,H,p);if(Ae)return{type:"success",matches:Ae};let be=zc(De,H,p,!0);if(!be||fe.length===be.length&&fe.every((Ne,Ce)=>Ne.route.id===be[Ce].route.id))return{type:"success",matches:null};fe=be}}function Or(V){u={},m=Kc(V,l,void 0,u)}function ji(V,H){let Q=m==null;Qv(V,H,m||f,u,l),Q&&(f=[...f],wt({}))}return ue={get basename(){return p},get future(){return E},get state(){return z},get routes(){return f},get window(){return e},initialize:Ut,subscribe:Xn,enableScrollRestoration:Na,navigate:Dr,fetch:Ia,revalidate:ii,createHref:V=>i.history.createHref(V),encodeLocation:V=>i.history.encodeLocation(V),getFetcher:gn,deleteFetcher:Ts,dispose:pt,getBlocker:Pn,deleteBlocker:si,patchRoutes:ji,_internalFetchControllers:$,_internalSetRoutes:Or},ue}function xA(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function $d(i,e,n,a,l,u){let f,m;if(l){f=[];for(let g of e)if(f.push(g),g.route.id===l){m=g;break}}else f=e,m=e[e.length-1];let p=Sm(a||".",Am(f),yr(i.pathname,n)||i.pathname,u==="path");if(a==null&&(p.search=i.search,p.hash=i.hash),(a==null||a===""||a===".")&&m){let g=Rm(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let E=new URLSearchParams(p.search),A=E.getAll("index");E.delete("index"),A.filter(D=>D).forEach(D=>E.append("index",D));let T=E.toString();p.search=T?`?${T}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:$r([n,p.pathname])),Ea(p)}function Fv(i,e,n){if(!n||!xA(n))return{path:e};if(n.formMethod&&!BA(n.formMethod))return{path:e,error:mr(405,{method:n.formMethod})};let a=()=>({path:e,error:mr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=k0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Kn(u))return a();let A=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((T,[D,N])=>`${T}${D}=${N}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:A}}}else if(n.formEncType==="application/json"){if(!Kn(u))return a();try{let A=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:A,text:void 0}}}catch{return a()}}}Ze(typeof FormData=="function","FormData is not available in this environment");let m,p;if(n.formData)m=Wd(n.formData),p=n.formData;else if(n.body instanceof FormData)m=Wd(n.body),p=n.body;else if(n.body instanceof URLSearchParams)m=n.body,p=Zv(m);else if(n.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(n.body),p=Zv(m)}catch{return a()}let g={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Kn(g.formMethod))return{path:e,submission:g};let E=Vi(e);return i&&E.search&&Rm(E.search)&&m.append("index",""),E.search=`?${m}`,{path:Ea(E),submission:g}}function Gv(i,e,n,a,l,u,f,m,p,g,E,A,T,D,N,K,B,U,te,ee){let he=ee?Yn(ee[1])?ee[1].error:ee[1].data:void 0,ue=l.createURL(u.location),z=l.createURL(p),I;if(E&&u.errors){let C=Object.keys(u.errors)[0];I=f.findIndex(ke=>ke.route.id===C)}else if(ee&&Yn(ee[1])){let C=ee[0];I=f.findIndex(ke=>ke.route.id===C)-1}let w=ee?ee[1].statusCode:void 0,R=w&&w>=400,M={currentUrl:ue,currentParams:u.matches[0]?.params||{},nextUrl:z,nextParams:f[0].params,...m,actionResult:he,actionStatus:w},P=f.map((C,ke)=>{let{route:Je}=C,$=null;if(I!=null&&ke>I?$=!1:Je.lazy?$=!0:Je.loader==null?$=!1:E?$=Xd(Je,u.loaderData,u.errors):IA(u.loaderData,u.matches[ke],C)&&($=!0),$!==null)return Zd(n,a,i,C,g,e,$);let de=R?!1:A||ue.pathname+ue.search===z.pathname+z.search||ue.search!==z.search||NA(u.matches[ke],C),ge={...M,defaultShouldRevalidate:de},je=Zc(C,ge);return Zd(n,a,i,C,g,e,je,ge)}),k=[];return N.forEach((C,ke)=>{if(E||!f.some(me=>me.route.id===C.routeId)||D.has(ke))return;let Je=u.fetchers.get(ke),$=Je&&Je.state!=="idle"&&Je.data===void 0,de=fa(B,C.path,U);if(!de){if(te&&$)return;k.push({key:ke,routeId:C.routeId,path:C.path,matches:null,match:null,request:null,controller:null});return}if(K.has(ke))return;let ge=Mo(de,C.path),je=new AbortController,O=ll(l,C.path,je.signal),re=null;if(T.has(ke))T.delete(ke),re=fl(n,a,O,de,ge,g,e);else if($)A&&(re=fl(n,a,O,de,ge,g,e));else{let me={...M,defaultShouldRevalidate:R?!1:A};Zc(ge,me)&&(re=fl(n,a,O,de,ge,g,e,me))}re&&k.push({key:ke,routeId:C.routeId,path:C.path,matches:re,match:ge,request:O,controller:je})}),{dsMatches:P,revalidatingFetchers:k}}function Xd(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let a=e!=null&&i.id in e,l=n!=null&&n[i.id]!==void 0;return!a&&l?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!a&&!l}function IA(i,e,n){let a=!e||n.route.id!==e.route.id,l=!i.hasOwnProperty(n.route.id);return a||l}function NA(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function Zc(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Qv(i,e,n,a,l){let u;if(i){let p=a[i];Ze(p,`No route found to patch children into: routeId = ${i}`),p.children||(p.children=[]),u=p.children}else u=n;let f=e.filter(p=>!u.some(g=>V0(p,g))),m=Kc(f,l,[i||"_","patch",String(u?.length||"0")],a);u.push(...m)}function V0(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,a)=>e.children?.some(l=>V0(n,l))):!1}var Yv=new WeakMap,M0=({key:i,route:e,manifest:n,mapRouteProperties:a})=>{let l=n[e.id];if(Ze(l,"No route found in manifest"),!l.lazy||typeof l.lazy!="object")return;let u=l.lazy[i];if(!u)return;let f=Yv.get(l);f||(f={},Yv.set(l,f));let m=f[i];if(m)return m;let p=(async()=>{let g=J1(i),A=l[i]!==void 0&&i!=="hasErrorBoundary";if(g)Pt(!g,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),f[i]=Promise.resolve();else if(A)Pt(!1,`Route "${l.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let T=await u();T!=null&&(Object.assign(l,{[i]:T}),Object.assign(l,a(l)))}typeof l.lazy=="object"&&(l.lazy[i]=void 0,Object.values(l.lazy).every(T=>T===void 0)&&(l.lazy=void 0))})();return f[i]=p,p},Kv=new WeakMap;function OA(i,e,n,a,l){let u=n[i.id];if(Ze(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=Kv.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let A=(async()=>{Ze(typeof i.lazy=="function","No lazy route function found");let T=await i.lazy(),D={};for(let N in T){let K=T[N];if(K===void 0)continue;let B=tA(N),te=u[N]!==void 0&&N!=="hasErrorBoundary";B?Pt(!B,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):te?Pt(!te,`Route "${u.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):D[N]=K}Object.assign(u,D),Object.assign(u,{...a(u),lazy:void 0})})();return Kv.set(u,A),A.catch(()=>{}),{lazyRoutePromise:A,lazyHandlerPromise:A}}let f=Object.keys(i.lazy),m=[],p;for(let E of f){if(l&&l.includes(E))continue;let A=M0({key:E,route:i,manifest:n,mapRouteProperties:a});A&&(m.push(A),E===e&&(p=A))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function $v(i){let e=i.matches.filter(l=>l.shouldLoad),n={};return(await Promise.all(e.map(l=>l.resolve()))).forEach((l,u)=>{n[e[u].route.id]=l}),n}async function VA(i){return i.matches.some(e=>e.route.unstable_middleware)?L0(i,!1,()=>$v(i),(e,n)=>({[n]:{type:"error",result:e}})):$v(i)}async function L0(i,e,n,a){let{matches:l,request:u,params:f,context:m}=i,p={handlerResult:void 0};try{let g=l.flatMap(A=>A.route.unstable_middleware?A.route.unstable_middleware.map(T=>[A.route.id,T]):[]),E=await P0({request:u,params:f,context:m},g,e,p,n);return e?E:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let E=await a(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,E):E}}async function P0(i,e,n,a,l,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let m=e[u];if(!m)return a.handlerResult=await l(),a.handlerResult;let[p,g]=m,E=!1,A,T=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await P0(i,e,n,a,l,u+1)};try{let D=await g({request:i.request,params:i.params,context:i.context},T);return E?D===void 0?A:D:T()}catch(D){throw a.middlewareError?a.middlewareError.error!==D&&(a.middlewareError={routeId:p,error:D}):a.middlewareError={routeId:p,error:D},D}}function U0(i,e,n,a,l){let u=M0({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:i}),f=OA(a.route,Kn(n.method)?"action":"loader",e,i,l);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Zd(i,e,n,a,l,u,f,m=null){let p=!1,g=U0(i,e,n,a,l);return{...a,_lazyPromises:g,shouldLoad:f,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(E){return p=!0,m?typeof E=="boolean"?Zc(a,{...m,defaultShouldRevalidate:E}):Zc(a,m):f},resolve(E){return p||f||E&&n.method==="GET"&&(a.route.lazy||a.route.loader)?LA({request:n,match:a,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function fl(i,e,n,a,l,u,f,m=null){return a.map(p=>p.route.id!==l.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:U0(i,e,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Zd(i,e,n,p,u,f,!0,m))}async function MA(i,e,n,a,l,u){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let f={request:e,params:n[0].params,context:l,matches:n},p=await i({...f,fetcherKey:a,unstable_runClientMiddleware:g=>{let E=f;return L0(E,!1,()=>g({...E,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(A,T)=>({[T]:{type:"error",result:A}}))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function LA({request:i,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:l,scopedContext:u}){let f,m,p=Kn(i.method),g=p?"action":"loader",E=A=>{let T,D=new Promise((B,U)=>T=U);m=()=>T(),i.signal.addEventListener("abort",m);let N=B=>typeof A!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):A({request:i,params:e.params,context:u},...B!==void 0?[B]:[]),K=(async()=>{try{return{type:"data",result:await(l?l(U=>N(U)):N())}}catch(B){return{type:"error",result:B}}})();return Promise.race([K,D])};try{let A=p?e.route.action:e.route.loader;if(n||a)if(A){let T,[D]=await Promise.all([E(A).catch(N=>{T=N}),n,a]);if(T!==void 0)throw T;f=D}else{await n;let T=p?e.route.action:e.route.loader;if(T)[f]=await Promise.all([E(T),a]);else if(g==="action"){let D=new URL(i.url),N=D.pathname+D.search;throw mr(405,{method:i.method,pathname:N,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(A)f=await E(A);else{let T=new URL(i.url),D=T.pathname+T.search;throw mr(404,{pathname:D})}}catch(A){return{type:"error",result:A}}finally{m&&i.signal.removeEventListener("abort",m)}return f}async function PA(i){let{result:e,type:n}=i;if(z0(e)){let a;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(l){return{type:"error",error:l}}return n==="error"?{type:"error",error:new Xc(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?n_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Xc(e.init?.status||500,void 0,e.data),statusCode:$o(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:$o(e)?e.status:void 0}:n_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function UA(i,e,n,a,l){let u=i.headers.get("Location");if(Ze(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!wm.test(u)){let f=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=$d(new URL(e.url),f,l,u),i.headers.set("Location",u)}return i}function Xv(i,e,n){if(wm.test(i)){let a=i,l=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=yr(l.pathname,n)!=null;if(l.origin===e.origin&&u)return l.pathname+l.search+l.hash}return i}function ll(i,e,n,a){let l=i.createURL(k0(e)).toString(),u={signal:n};if(a&&Kn(a.formMethod)){let{formMethod:f,formEncType:m}=a;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=Wd(a.formData):u.body=a.formData}return new Request(l,u)}function Wd(i){let e=new URLSearchParams;for(let[n,a]of i.entries())e.append(n,typeof a=="string"?a:a.name);return e}function Zv(i){let e=new FormData;for(let[n,a]of i.entries())e.append(n,a);return e}function kA(i,e,n,a=!1,l=!1){let u={},f=null,m,p=!1,g={},E=n&&Yn(n[1])?n[1].error:void 0;return i.forEach(A=>{if(!(A.route.id in e))return;let T=A.route.id,D=e[T];if(Ze(!ss(D),"Cannot handle redirect results in processLoaderData"),Yn(D)){let N=D.error;if(E!==void 0&&(N=E,E=void 0),f=f||{},l)f[T]=N;else{let K=as(i,T);f[K.route.id]==null&&(f[K.route.id]=N)}a||(u[T]=O0),p||(p=!0,m=$o(D.error)?D.error.status:500),D.headers&&(g[T]=D.headers)}else u[T]=D.data,D.statusCode&&D.statusCode!==200&&!p&&(m=D.statusCode),D.headers&&(g[T]=D.headers)}),E!==void 0&&n&&(f={[n[0]]:E},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:g}}function Wv(i,e,n,a,l,u){let{loaderData:f,errors:m}=kA(e,n,a);return l.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:E,controller:A}=p,T=u[g];if(Ze(T,"Did not find corresponding fetcher result"),!(A&&A.signal.aborted))if(Yn(T)){let D=as(i.matches,E?.route.id);m&&m[D.route.id]||(m={...m,[D.route.id]:T.error}),i.fetchers.delete(g)}else if(ss(T))Ze(!1,"Unhandled fetcher revalidation redirect");else{let D=ha(T.data);i.fetchers.set(g,D)}}),{loaderData:f,errors:m}}function Jv(i,e,n,a){let l=Object.entries(e).filter(([,u])=>u!==O0).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(l[f]=i[f]),a&&a.hasOwnProperty(f))break}return l}function e_(i){return i?Yn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function as(i,e){return(e?i.slice(0,i.findIndex(a=>a.route.id===e)+1):[...i]).reverse().find(a=>a.route.hasErrorBoundary===!0)||i[0]}function t_(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function mr(i,{pathname:e,routeId:n,method:a,type:l,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:l==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m=`Route "${n}" does not match URL "${e}"`):i===404?(f="Not Found",m=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new Xc(i||500,f,new Error(m),!0)}function Ic(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[a,l]=e[n];if(ss(l))return{key:a,result:l}}}function k0(i){let e=typeof i=="string"?Vi(i):i;return Ea({...e,hash:""})}function zA(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function jA(i){return z0(i.result)&&SA.has(i.result.status)}function Yn(i){return i.type==="error"}function ss(i){return(i&&i.type)==="redirect"}function n_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function z0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function BA(i){return AA.has(i.toUpperCase())}function Kn(i){return TA.has(i.toUpperCase())}function Rm(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Mo(i,e){let n=typeof e=="string"?Vi(e).search:e.search;if(i[i.length-1].route.index&&Rm(n||""))return i[i.length-1];let a=x0(i);return a[a.length-1]}function r_(i){let{formMethod:e,formAction:n,formEncType:a,text:l,formData:u,json:f}=i;if(!(!e||!n||!a)){if(l!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:l};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function Ld(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HA(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Io(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qA(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ha(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function FA(i,e){try{let n=i.sessionStorage.getItem(N0);if(n){let a=JSON.parse(n);for(let[l,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(l,new Set(u||[]))}}catch{}}function GA(i,e){if(e.size>0){let n={};for(let[a,l]of e)n[a]=[...l];try{i.sessionStorage.setItem(N0,JSON.stringify(n))}catch(a){Pt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function QA(){let i,e,n=new Promise((a,l)=>{i=async u=>{a(u);try{await n}catch{}},e=async u=>{l(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var ds=W.createContext(null);ds.displayName="DataRouter";var iu=W.createContext(null);iu.displayName="DataRouterState";var Dm=W.createContext({isTransitioning:!1});Dm.displayName="ViewTransition";var j0=W.createContext(new Map);j0.displayName="Fetchers";var YA=W.createContext(null);YA.displayName="Await";var ri=W.createContext(null);ri.displayName="Navigation";var dh=W.createContext(null);dh.displayName="Location";var Mi=W.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var Cm=W.createContext(null);Cm.displayName="RouteError";function KA(i,{relative:e}={}){Ze(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=W.useContext(ri),{hash:l,pathname:u,search:f}=su(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:$r([n,u])),a.createHref({pathname:m,search:f,hash:l})}function au(){return W.useContext(dh)!=null}function ms(){return Ze(au(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(dh).location}var B0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H0(i){W.useContext(ri).static||W.useLayoutEffect(i)}function $A(){let{isDataRoute:i}=W.useContext(Mi);return i?oS():XA()}function XA(){Ze(au(),"useNavigate() may be used only in the context of a <Router> component.");let i=W.useContext(ds),{basename:e,navigator:n}=W.useContext(ri),{matches:a}=W.useContext(Mi),{pathname:l}=ms(),u=JSON.stringify(Am(a)),f=W.useRef(!1);return H0(()=>{f.current=!0}),W.useCallback((p,g={})=>{if(Pt(f.current,B0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Sm(p,JSON.parse(u),l,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$r([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,l,i])}W.createContext(null);function su(i,{relative:e}={}){let{matches:n}=W.useContext(Mi),{pathname:a}=ms(),l=JSON.stringify(Am(n));return W.useMemo(()=>Sm(i,JSON.parse(l),a,e==="path"),[i,l,a,e])}function ZA(i,e,n,a){Ze(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=W.useContext(ri),{matches:u}=W.useContext(Mi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let U=E&&E.path||"";q0(p,!E||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let A=ms(),T;T=A;let D=T.pathname||"/",N=D;if(g!=="/"){let U=g.replace(/^\//,"").split("/");N="/"+D.replace(/^\//,"").split("/").slice(U.length).join("/")}let K=fa(i,{pathname:N});return Pt(E||K!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Pt(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nS(K&&K.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:$r([g,l.encodeLocation?l.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:$r([g,l.encodeLocation?l.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,n,a)}function WA(){let i=lS(),e=$o(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:l},n):null,f)}var JA=W.createElement(WA,null),eS=class extends W.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?W.createElement(Mi.Provider,{value:this.props.routeContext},W.createElement(Cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tS({routeContext:i,match:e,children:n}){let a=W.useContext(ds);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Mi.Provider,{value:i},n)}function nS(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let l=i,u=n?.errors;if(u!=null){let p=l.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Ze(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,T=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||T){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,g,E)=>{let A,T=!1,D=null,N=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||JA,f&&(m<0&&E===0?(q0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):m===E&&(T=!0,N=g.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,E+1)),B=()=>{let U;return A?U=D:T?U=N:g.route.Component?U=W.createElement(g.route.Component,null):g.route.element?U=g.route.element:U=p,W.createElement(tS,{match:g,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:U})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?W.createElement(eS,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:B(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):B()},null)}function xm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rS(i){let e=W.useContext(ds);return Ze(e,xm(i)),e}function iS(i){let e=W.useContext(iu);return Ze(e,xm(i)),e}function aS(i){let e=W.useContext(Mi);return Ze(e,xm(i)),e}function Im(i){let e=aS(i),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function sS(){return Im("useRouteId")}function lS(){let i=W.useContext(Cm),e=iS("useRouteError"),n=Im("useRouteError");return i!==void 0?i:e.errors?.[n]}function oS(){let{router:i}=rS("useNavigate"),e=Im("useNavigate"),n=W.useRef(!1);return H0(()=>{n.current=!0}),W.useCallback(async(l,u={})=>{Pt(n.current,B0),n.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:e,...u}))},[i,e])}var i_={};function q0(i,e,n){!e&&!i_[i]&&(i_[i]=!0,Pt(!1,n))}var a_={};function s_(i,e){!i&&!a_[e]&&(a_[e]=!0,console.warn(e))}function uS(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Pt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:W.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Pt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:W.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Pt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:W.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var cS=["HydrateFallback","hydrateFallbackElement"],hS=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function fS({router:i,flushSync:e}){let[n,a]=W.useState(i.state),[l,u]=W.useState(),[f,m]=W.useState({isTransitioning:!1}),[p,g]=W.useState(),[E,A]=W.useState(),[T,D]=W.useState(),N=W.useRef(new Map),K=W.useCallback((ee,{deletedFetchers:he,flushSync:ue,viewTransitionOpts:z})=>{ee.fetchers.forEach((w,R)=>{w.data!==void 0&&N.current.set(R,w.data)}),he.forEach(w=>N.current.delete(w)),s_(ue===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(s_(z==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!z||!I){e&&ue?e(()=>a(ee)):W.startTransition(()=>a(ee));return}if(e&&ue){e(()=>{E&&(p&&p.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let w=i.window.document.startViewTransition(()=>{e(()=>a(ee))});w.finished.finally(()=>{e(()=>{g(void 0),A(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>A(w));return}E?(p&&p.resolve(),E.skipTransition(),D({state:ee,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(u(ee),m({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[i.window,e,E,p]);W.useLayoutEffect(()=>i.subscribe(K),[i,K]),W.useEffect(()=>{f.isTransitioning&&!f.flushSync&&g(new hS)},[f]),W.useEffect(()=>{if(p&&l&&i.window){let ee=l,he=p.promise,ue=i.window.document.startViewTransition(async()=>{W.startTransition(()=>a(ee)),await he});ue.finished.finally(()=>{g(void 0),A(void 0),u(void 0),m({isTransitioning:!1})}),A(ue)}},[l,p,i.window]),W.useEffect(()=>{p&&l&&n.location.key===l.location.key&&p.resolve()},[p,E,n.location,l]),W.useEffect(()=>{!f.isTransitioning&&T&&(u(T.state),m({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),D(void 0))},[f.isTransitioning,T]);let B=W.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:ee=>i.navigate(ee),push:(ee,he,ue)=>i.navigate(ee,{state:he,preventScrollReset:ue?.preventScrollReset}),replace:(ee,he,ue)=>i.navigate(ee,{replace:!0,state:he,preventScrollReset:ue?.preventScrollReset})}),[i]),U=i.basename||"/",te=W.useMemo(()=>({router:i,navigator:B,static:!1,basename:U}),[i,B,U]);return W.createElement(W.Fragment,null,W.createElement(ds.Provider,{value:te},W.createElement(iu.Provider,{value:n},W.createElement(j0.Provider,{value:N.current},W.createElement(Dm.Provider,{value:f},W.createElement(pS,{basename:U,location:n.location,navigationType:n.historyAction,navigator:B},W.createElement(dS,{routes:i.routes,future:i.future,state:n})))))),null)}var dS=W.memo(mS);function mS({routes:i,future:e,state:n}){return ZA(i,void 0,n,e)}function pS({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:u=!1}){Ze(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=W.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=Vi(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:T="default"}=n,D=W.useMemo(()=>{let N=yr(p,f);return N==null?null:{location:{pathname:N,search:g,hash:E,state:A,key:T},navigationType:a}},[f,p,g,E,A,T,a]);return Pt(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:W.createElement(ri.Provider,{value:m},W.createElement(dh.Provider,{children:e,value:D}))}var jc="get",Bc="application/x-www-form-urlencoded";function mh(i){return i!=null&&typeof i.tagName=="string"}function gS(i){return mh(i)&&i.tagName.toLowerCase()==="button"}function yS(i){return mh(i)&&i.tagName.toLowerCase()==="form"}function vS(i){return mh(i)&&i.tagName.toLowerCase()==="input"}function _S(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ES(i,e){return i.button===0&&(!e||e==="_self")&&!_S(i)}var Nc=null;function TS(){if(Nc===null)try{new FormData(document.createElement("form"),0),Nc=!1}catch{Nc=!0}return Nc}var bS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pd(i){return i!=null&&!bS.has(i)?(Pt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):i}function AS(i,e){let n,a,l,u,f;if(yS(i)){let m=i.getAttribute("action");a=m?yr(m,e):null,n=i.getAttribute("method")||jc,l=Pd(i.getAttribute("enctype"))||Bc,u=new FormData(i)}else if(gS(i)||vS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(a=p?yr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||jc,l=Pd(i.getAttribute("formenctype"))||Pd(m.getAttribute("enctype"))||Bc,u=new FormData(m,i),!TS()){let{name:g,type:E,value:A}=i;if(E==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,A)}}else{if(mh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jc,a=null,l=Bc,f=i}return u&&l==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:u,body:f}}function Nm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function SS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function RS(i,e,n){let a=await Promise.all(i.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await SS(u,n);return f.links?f.links():[]}return[]}));return IS(a.flat(1).filter(wS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function l_(i,e,n,a,l,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function DS(i,e,{includeHydrateFallback:n}={}){return CS(i.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function CS(i){return[...new Set(i)]}function xS(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function IS(i,e){let n=new Set;return new Set(e),i.reduce((a,l)=>{let u=JSON.stringify(xS(l));return n.has(u)||(n.add(u),a.push({key:u,link:l})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NS=new Set([100,101,204,205]);function OS(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&yr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function F0(){let i=W.useContext(ds);return Nm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function VS(){let i=W.useContext(iu);return Nm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Om=W.createContext(void 0);Om.displayName="FrameworkContext";function G0(){let i=W.useContext(Om);return Nm(i,"You must render this element inside a <HydratedRouter> element"),i}function MS(i,e){let n=W.useContext(Om),[a,l]=W.useState(!1),[u,f]=W.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,T=W.useRef(null);W.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let K=U=>{U.forEach(te=>{f(te.isIntersecting)})},B=new IntersectionObserver(K,{threshold:.5});return T.current&&B.observe(T.current),()=>{B.disconnect()}}},[i]),W.useEffect(()=>{if(a){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[a]);let D=()=>{l(!0)},N=()=>{l(!1),f(!1)};return n?i!=="intent"?[u,T,{}]:[u,T,{onFocus:No(m,D),onBlur:No(p,N),onMouseEnter:No(g,D),onMouseLeave:No(E,N),onTouchStart:No(A,D)}]:[!1,T,{}]}function No(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function LS({page:i,...e}){let{router:n}=F0(),a=W.useMemo(()=>fa(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?W.createElement(US,{page:i,matches:a,...e}):null}function PS(i){let{manifest:e,routeModules:n}=G0(),[a,l]=W.useState([]);return W.useEffect(()=>{let u=!1;return RS(i,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[i,e,n]),a}function US({page:i,matches:e,...n}){let a=ms(),{manifest:l,routeModules:u}=G0(),{basename:f}=F0(),{loaderData:m,matches:p}=VS(),g=W.useMemo(()=>l_(i,e,p,l,a,"data"),[i,e,p,l,a]),E=W.useMemo(()=>l_(i,e,p,l,a,"assets"),[i,e,p,l,a]),A=W.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let N=new Set,K=!1;if(e.forEach(U=>{let te=l.routes[U.route.id];!te||!te.hasLoader||(!g.some(ee=>ee.route.id===U.route.id)&&U.route.id in m&&u[U.route.id]?.shouldRevalidate||te.hasClientLoader?K=!0:N.add(U.route.id))}),N.size===0)return[];let B=OS(i,f);return K&&N.size>0&&B.searchParams.set("_routes",e.filter(U=>N.has(U.route.id)).map(U=>U.route.id).join(",")),[B.pathname+B.search]},[f,m,a,l,g,e,i,u]),T=W.useMemo(()=>DS(E,l),[E,l]),D=PS(E);return W.createElement(W.Fragment,null,A.map(N=>W.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),T.map(N=>W.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),D.map(({key:N,link:K})=>W.createElement("link",{key:N,...K})))}function kS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Q0&&(window.__reactRouterVersion="7.6.3")}catch{}function zS(i,e){return CA({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:$1({window:e?.window}),hydrationData:jS(),routes:i,mapRouteProperties:uS,hydrationRouteProperties:cS,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function jS(){let i=window?.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:BS(i.errors)}),i}function BS(i){if(!i)return null;let e=Object.entries(i),n={};for(let[a,l]of e)if(l&&l.__type==="RouteErrorResponse")n[a]=new Xc(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let u=window[l.__subType];if(typeof u=="function")try{let f=new u(l.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(l.message);u.stack="",n[a]=u}}else n[a]=l;return n}var Y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K0=W.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...T},D){let{basename:N}=W.useContext(ri),K=typeof g=="string"&&Y0.test(g),B,U=!1;if(typeof g=="string"&&K&&(B=g,Q0))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=yr(M.pathname,N);M.origin===R.origin&&P!=null?g=P+M.search+M.hash:U=!0}catch{Pt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=KA(g,{relative:l}),[ee,he,ue]=MS(a,T),z=GS(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:A});function I(R){e&&e(R),R.defaultPrevented||z(R)}let w=W.createElement("a",{...T,...ue,href:B||te,onClick:U||u?e:I,ref:kS(D,he),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ee&&!K?W.createElement(W.Fragment,null,w,W.createElement(LS,{page:te})):w});K0.displayName="Link";var HS=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=su(f,{relative:g.relative}),T=ms(),D=W.useContext(iu),{navigator:N,basename:K}=W.useContext(ri),B=D!=null&&XS(A)&&m===!0,U=N.encodeLocation?N.encodeLocation(A).pathname:A.pathname,te=T.pathname,ee=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(te=te.toLowerCase(),ee=ee?ee.toLowerCase():null,U=U.toLowerCase()),ee&&K&&(ee=yr(ee,K)||ee);const he=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ue=te===U||!l&&te.startsWith(U)&&te.charAt(he)==="/",z=ee!=null&&(ee===U||!l&&ee.startsWith(U)&&ee.charAt(U.length)==="/"),I={isActive:ue,isPending:z,isTransitioning:B},w=ue?e:void 0,R;typeof a=="function"?R=a(I):R=[a,ue?"active":null,z?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return W.createElement(K0,{...g,"aria-current":w,className:R,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(I):p)});HS.displayName="NavLink";var qS=W.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:u,method:f=jc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...T},D)=>{let N=KS(),K=$S(m,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",U=typeof m=="string"&&Y0.test(m),te=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let he=ee.nativeEvent.submitter,ue=he?.getAttribute("formmethod")||f;N(he||ee.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:l,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return W.createElement("form",{ref:D,method:B,action:K,onSubmit:a?p:te,...T,"data-discover":!U&&i==="render"?"true":void 0})});qS.displayName="Form";function FS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $0(i){let e=W.useContext(ds);return Ze(e,FS(i)),e}function GS(i,{target:e,replace:n,state:a,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=$A(),p=ms(),g=su(i,{relative:u});return W.useCallback(E=>{if(ES(E,e)){E.preventDefault();let A=n!==void 0?n:Ea(p)===Ea(g);m(i,{replace:A,state:a,preventScrollReset:l,relative:u,viewTransition:f})}},[p,m,g,n,a,e,i,l,u,f])}var QS=0,YS=()=>`__${String(++QS)}__`;function KS(){let{router:i}=$0("useSubmit"),{basename:e}=W.useContext(ri),n=sS();return W.useCallback(async(a,l={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=AS(a,e);if(l.navigate===!1){let E=l.fetcherKey||YS();await i.fetch(E,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,e,n])}function $S(i,{relative:e}={}){let{basename:n}=W.useContext(ri),a=W.useContext(Mi);Ze(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...su(i||".",{relative:e})},f=ms();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:$r([n,u.pathname])),Ea(u)}function XS(i,e={}){let n=W.useContext(Dm);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=$0("useViewTransitionState"),l=su(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=yr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=yr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return $c(l.pathname,f)!=null||$c(l.pathname,u)!=null}[...NS];var ZS=S0();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function WS(i){return W.createElement(fS,{flushSync:ZS.flushSync,...i})}const JS=()=>G.jsxs("main",{children:[G.jsxs("div",{className:"home-topnav",style:{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[G.jsx("div",{className:"home-league-name-section",style:{marginLeft:32},children:G.jsx("h1",{className:"home-logo",children:"Saint Mark Leagues"})}),G.jsxs("div",{className:"home-tabs desktop-tabs",style:{display:"flex",flexDirection:"row",gap:"20px",color:"black",fontWeight:"bold",cursor:"pointer",marginRight:"50px",marginTop:"10px"},children:[G.jsx("a",{href:"/saint-mark-leagues/#/dashboard",style:{color:"black",textDecoration:"none"},children:G.jsx("div",{className:"home-tab",children:"Dashboard"})}),G.jsx("div",{className:"home-tab",children:"2025"}),G.jsx("div",{className:"home-tab",children:"History"})]})]}),G.jsxs("div",{className:"home-tabs mobile-tabs",style:{display:"none",flexDirection:"row",gap:"20px",color:"black",fontWeight:"bold",cursor:"pointer",margin:"10px auto",justifyContent:"center",width:"100%"},children:[G.jsx("a",{href:"/saint-mark-leagues/#/dashboard",style:{color:"black",textDecoration:"none"},children:G.jsx("div",{className:"home-tab",children:"Dashboard"})}),G.jsx("div",{className:"home-tab",children:"2025"}),G.jsx("div",{className:"home-tab",children:"History"})]}),G.jsx("div",{className:"home-section1",children:G.jsxs("div",{className:"home-section1-left",children:[G.jsxs("h1",{className:"home-welcome",style:{color:"white",textAlign:"center",marginRight:"60px"},children:["Yalla Nel3ab ",G.jsx("br",{})," ",G.jsxs("span",{style:{display:"inline-block",width:"100%",textAlign:"center"},children:["K",G.jsx("span",{className:"home-span-not-mobile",children:"OOOOO"}),"ORA!!"]})]}),G.jsx("p",{children:"Welcome to Saint Mark Leagues, your hub for football excitement! Explore the latest league, check out the history, and get ready for the 2025 Summer season."}),G.jsx("button",{className:"home-button",children:"Yalla Nel3ab"})]})})]}),ew=()=>{};var o_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},tw=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const l=i[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],f=i[n++],m=i[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const u=i[l],f=l+1<i.length,m=f?i[l+1]:0,p=l+2<i.length,g=p?i[l+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let T=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(T=64)),a.push(n[E],n[A],n[T],n[D])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(X0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):tw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],m=l<i.length?n[i.charAt(l)]:0;++l;const g=l<i.length?n[i.charAt(l)]:64;++l;const A=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||m==null||g==null||A==null)throw new nw;const T=u<<2|m>>4;if(a.push(T),g!==64){const D=m<<4&240|g>>2;if(a.push(D),A!==64){const N=g<<6&192|A;a.push(N)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class nw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rw=function(i){const e=X0(i);return Z0.encodeByteArray(e,!0)},Wc=function(i){return rw(i).replace(/\./g,"")},iw=function(i){try{return Z0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=()=>aw().__FIREBASE_DEFAULTS__,lw=()=>{if(typeof process>"u"||typeof o_>"u")return;const i=o_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ow=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&iw(i[1]);return e&&JSON.parse(e)},Vm=()=>{try{return ew()||sw()||lw()||ow()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},uw=i=>{var e,n;return(n=(e=Vm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},W0=i=>{const e=uw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},J0=()=>{var i;return(i=Vm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Wc(JSON.stringify(n)),Wc(JSON.stringify(f)),""].join(".")}const zo={};function hw(){const i={prod:[],emulator:[]};for(const e of Object.keys(zo))zo[e]?i.emulator.push(e):i.prod.push(e);return i}function fw(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let u_=!1;function nE(i,e){if(typeof window>"u"||typeof document>"u"||!lu(window.location.host)||zo[i]===e||zo[i]||u_)return;zo[i]=e;function n(T){return`__firebase__banner__${T}`}const a="__firebase__banner",u=hw().prod.length>0;function f(){const T=document.getElementById(a);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,D){T.setAttribute("width","24"),T.setAttribute("id",D),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{u_=!0,f()},T}function E(T,D){T.setAttribute("id",D),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function A(){const T=fw(a),D=n("text"),N=document.getElementById(D)||document.createElement("span"),K=n("learnmore"),B=document.getElementById(K)||document.createElement("a"),U=n("preprendIcon"),te=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ee=T.element;m(ee),E(B,K);const he=g();p(te,U),ee.append(te,N,B,he),document.body.appendChild(ee)}u?(N.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mw(){var i;const e=(i=Vm())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pw(){return!mw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gw(){try{return typeof indexedDB=="object"}catch{return!1}}function yw(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="FirebaseError";class ps extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=vw,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rE.prototype.create)}}class rE{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?_w(u,a):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new ps(l,m,a)}}function _w(i,e){return i.replace(Ew,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const Ew=/\{\$([^}]+)}/g;function Jc(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const u=i[l],f=e[l];if(c_(u)&&c_(f)){if(!Jc(u,f))return!1}else if(u!==f)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function c_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(i){return i&&i._delegate?i._delegate:i}class gl{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new cw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),l=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Aw(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(l)}return l}onInit(e,n){var a;const l=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:bw(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bw(i){return i===is?void 0:i}function Aw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(at||(at={}));const ww={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},Rw=at.INFO,Dw={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},Cw=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),l=Dw[e];if(l)console[l](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iE{constructor(e){this.name=e,this._logLevel=Rw,this._logHandler=Cw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ww[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const xw=(i,e)=>e.some(n=>i instanceof n);let h_,f_;function Iw(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nw(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aE=new WeakMap,Jd=new WeakMap,sE=new WeakMap,Ud=new WeakMap,Mm=new WeakMap;function Ow(i){const e=new Promise((n,a)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(pa(i.result)),l()},f=()=>{a(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&aE.set(n,i)}).catch(()=>{}),Mm.set(e,i),e}function Vw(i){if(Jd.has(i))return;const e=new Promise((n,a)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Jd.set(i,e)}let em={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Jd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||sE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pa(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Mw(i){em=i(em)}function Lw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(kd(this),e,...n);return sE.set(a,e.sort?e.sort():[e]),pa(a)}:Nw().includes(i)?function(...e){return i.apply(kd(this),e),pa(aE.get(this))}:function(...e){return pa(i.apply(kd(this),e))}}function Pw(i){return typeof i=="function"?Lw(i):(i instanceof IDBTransaction&&Vw(i),xw(i,Iw())?new Proxy(i,em):i)}function pa(i){if(i instanceof IDBRequest)return Ow(i);if(Ud.has(i))return Ud.get(i);const e=Pw(i);return e!==i&&(Ud.set(i,e),Mm.set(e,i)),e}const kd=i=>Mm.get(i);function Uw(i,e,{blocked:n,upgrade:a,blocking:l,terminated:u}={}){const f=indexedDB.open(i,e),m=pa(f);return a&&f.addEventListener("upgradeneeded",p=>{a(pa(f.result),p.oldVersion,p.newVersion,pa(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const kw=["get","getKey","getAll","getAllKeys","count"],zw=["put","add","delete","clear"],zd=new Map;function d_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=zw.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||kw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),l&&p.done]))[0]};return zd.set(e,u),u}Mw(i=>({...i,get:(e,n,a)=>d_(e,n)||i.get(e,n,a),has:(e,n)=>!!d_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bw(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Bw(i){const e=i.getComponent();return e?.type==="VERSION"}const tm="@firebase/app",m_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new iE("@firebase/app"),Hw="@firebase/app-compat",qw="@firebase/analytics-compat",Fw="@firebase/analytics",Gw="@firebase/app-check-compat",Qw="@firebase/app-check",Yw="@firebase/auth",Kw="@firebase/auth-compat",$w="@firebase/database",Xw="@firebase/data-connect",Zw="@firebase/database-compat",Ww="@firebase/functions",Jw="@firebase/functions-compat",eR="@firebase/installations",tR="@firebase/installations-compat",nR="@firebase/messaging",rR="@firebase/messaging-compat",iR="@firebase/performance",aR="@firebase/performance-compat",sR="@firebase/remote-config",lR="@firebase/remote-config-compat",oR="@firebase/storage",uR="@firebase/storage-compat",cR="@firebase/firestore",hR="@firebase/ai",fR="@firebase/firestore-compat",dR="firebase",mR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="[DEFAULT]",pR={[tm]:"fire-core",[Hw]:"fire-core-compat",[Fw]:"fire-analytics",[qw]:"fire-analytics-compat",[Qw]:"fire-app-check",[Gw]:"fire-app-check-compat",[Yw]:"fire-auth",[Kw]:"fire-auth-compat",[$w]:"fire-rtdb",[Xw]:"fire-data-connect",[Zw]:"fire-rtdb-compat",[Ww]:"fire-fn",[Jw]:"fire-fn-compat",[eR]:"fire-iid",[tR]:"fire-iid-compat",[nR]:"fire-fcm",[rR]:"fire-fcm-compat",[iR]:"fire-perf",[aR]:"fire-perf-compat",[sR]:"fire-rc",[lR]:"fire-rc-compat",[oR]:"fire-gcs",[uR]:"fire-gcs-compat",[cR]:"fire-fst",[fR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,gR=new Map,rm=new Map;function p_(i,e){try{i.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Xo(i){const e=i.name;if(rm.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,i);for(const n of eh.values())p_(n,i);for(const n of gR.values())p_(n,i);return!0}function lE(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function oE(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ga=new rE("app","Firebase",yR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=mR;function cE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:nm,automaticDataCollectionEnabled:!0},e),l=a.name;if(typeof l!="string"||!l)throw ga.create("bad-app-name",{appName:String(l)});if(n||(n=J0()),!n)throw ga.create("no-options");const u=eh.get(l);if(u){if(Jc(n,u.options)&&Jc(a,u.config))return u;throw ga.create("duplicate-app",{appName:l})}const f=new Sw(l);for(const p of rm.values())f.addComponent(p);const m=new vR(n,a,f);return eh.set(l,m),m}function hE(i=nm){const e=eh.get(i);if(!e&&i===nm&&J0())return cE();if(!e)throw ga.create("no-app",{appName:i});return e}function ya(i,e,n){var a;let l=(a=pR[i])!==null&&a!==void 0?a:i;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${e}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(m.join(" "));return}Xo(new gl(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebase-heartbeat-database",ER=1,Zo="firebase-heartbeat-store";let jd=null;function fE(){return jd||(jd=Uw(_R,ER,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(i=>{throw ga.create("idb-open",{originalErrorMessage:i.message})})),jd}async function TR(i){try{const n=(await fE()).transaction(Zo),a=await n.objectStore(Zo).get(dE(i));return await n.done,a}catch(e){if(e instanceof ps)Ii.warn(e.message);else{const n=ga.create("idb-get",{originalErrorMessage:e?.message});Ii.warn(n.message)}}}async function g_(i,e){try{const a=(await fE()).transaction(Zo,"readwrite");await a.objectStore(Zo).put(e,dE(i)),await a.done}catch(n){if(n instanceof ps)Ii.warn(n.message);else{const a=ga.create("idb-set",{originalErrorMessage:n?.message});Ii.warn(a.message)}}}function dE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1024,AR=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=y_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>AR){const f=DR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ii.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y_(),{heartbeatsToSend:a,unsentEntries:l}=wR(this._heartbeatsCache.heartbeats),u=Wc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ii.warn(n),""}}}function y_(){return new Date().toISOString().substring(0,10)}function wR(i,e=bR){const n=[];let a=i.slice();for(const l of i){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),v_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),v_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class RR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gw()?yw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return g_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return g_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function v_(i){return Wc(JSON.stringify({version:2,heartbeats:i})).length}function DR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(i){Xo(new gl("platform-logger",e=>new jw(e),"PRIVATE")),Xo(new gl("heartbeat",e=>new SR(e),"PRIVATE")),ya(tm,m_,i),ya(tm,m_,"esm2017"),ya("fire-js","")}CR("");var xR="firebase",IR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ya(xR,IR,"app");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var va,mE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function R(){}R.prototype=w.prototype,I.D=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(M,P,k){for(var C=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)C[ke-2]=arguments[ke];return w.prototype[P].apply(M,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,R){R||(R=0);var M=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)M[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],P=I.g[2];var k=I.g[3],C=w+(k^R&(P^k))+M[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=k+(P^w&(R^P))+M[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=P+(R^k&(w^R))+M[2]+606105819&4294967295,P=k+(C<<17&4294967295|C>>>15),C=R+(w^P&(k^w))+M[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=w+(k^R&(P^k))+M[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(P^w&(R^P))+M[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=P+(R^k&(w^R))+M[6]+2821735955&4294967295,P=k+(C<<17&4294967295|C>>>15),C=R+(w^P&(k^w))+M[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=w+(k^R&(P^k))+M[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(P^w&(R^P))+M[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=P+(R^k&(w^R))+M[10]+4294925233&4294967295,P=k+(C<<17&4294967295|C>>>15),C=R+(w^P&(k^w))+M[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=w+(k^R&(P^k))+M[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=k+(P^w&(R^P))+M[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=P+(R^k&(w^R))+M[14]+2792965006&4294967295,P=k+(C<<17&4294967295|C>>>15),C=R+(w^P&(k^w))+M[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=w+(P^k&(R^P))+M[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^P&(w^R))+M[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=P+(w^R&(k^w))+M[11]+643717713&4294967295,P=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(P^k))+M[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=w+(P^k&(R^P))+M[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^P&(w^R))+M[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=P+(w^R&(k^w))+M[15]+3634488961&4294967295,P=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(P^k))+M[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=w+(P^k&(R^P))+M[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^P&(w^R))+M[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=P+(w^R&(k^w))+M[3]+4107603335&4294967295,P=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(P^k))+M[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=w+(P^k&(R^P))+M[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=k+(R^P&(w^R))+M[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=P+(w^R&(k^w))+M[7]+1735328473&4294967295,P=k+(C<<14&4294967295|C>>>18),C=R+(k^w&(P^k))+M[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=w+(R^P^k)+M[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^P)+M[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=P+(k^w^R)+M[11]+1839030562&4294967295,P=k+(C<<16&4294967295|C>>>16),C=R+(P^k^w)+M[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=w+(R^P^k)+M[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^P)+M[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=P+(k^w^R)+M[7]+4139469664&4294967295,P=k+(C<<16&4294967295|C>>>16),C=R+(P^k^w)+M[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=w+(R^P^k)+M[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^P)+M[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=P+(k^w^R)+M[3]+3572445317&4294967295,P=k+(C<<16&4294967295|C>>>16),C=R+(P^k^w)+M[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=w+(R^P^k)+M[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=k+(w^R^P)+M[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=P+(k^w^R)+M[15]+530742520&4294967295,P=k+(C<<16&4294967295|C>>>16),C=R+(P^k^w)+M[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=w+(P^(R|~k))+M[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~P))+M[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=P+(w^(k|~R))+M[14]+2878612391&4294967295,P=k+(C<<15&4294967295|C>>>17),C=R+(k^(P|~w))+M[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=w+(P^(R|~k))+M[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~P))+M[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=P+(w^(k|~R))+M[10]+4293915773&4294967295,P=k+(C<<15&4294967295|C>>>17),C=R+(k^(P|~w))+M[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=w+(P^(R|~k))+M[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~P))+M[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=P+(w^(k|~R))+M[6]+2734768916&4294967295,P=k+(C<<15&4294967295|C>>>17),C=R+(k^(P|~w))+M[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=w+(P^(R|~k))+M[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=k+(R^(w|~P))+M[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=P+(w^(k|~R))+M[2]+718787259&4294967295,P=k+(C<<15&4294967295|C>>>17),C=R+(k^(P|~w))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var R=w-this.blockSize,M=this.B,P=this.h,k=0;k<w;){if(P==0)for(;k<=R;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(M[P++]=I.charCodeAt(k++),P==this.blockSize){l(this,M),P=0;break}}else for(;k<w;)if(M[P++]=I[k++],P==this.blockSize){l(this,M),P=0;break}}this.h=P,this.o+=w},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var R=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=R&255,R/=256;for(this.u(I),I=Array(16),w=R=0;4>w;++w)for(var M=0;32>M;M+=8)I[R++]=this.g[w]>>>M&255;return I};function u(I,w){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function f(I,w){this.h=w;for(var R=[],M=!0,P=I.length-1;0<=P;P--){var k=I[P]|0;M&&k==w||(R[P]=k,M=!1)}this.g=R}var m={};function p(I){return-128<=I&&128>I?u(I,function(w){return new f([w|0],0>w?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return A;if(0>I)return B(g(-I));for(var w=[],R=1,M=0;I>=R;M++)w[M]=I/R|0,R*=4294967296;return new f(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return B(E(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),M=A,P=0;P<I.length;P+=8){var k=Math.min(8,I.length-P),C=parseInt(I.substring(P,P+k),w);8>k?(k=g(Math.pow(w,k)),M=M.j(k).add(g(C))):(M=M.j(R),M=M.add(g(C)))}return M}var A=p(0),T=p(1),D=p(16777216);i=f.prototype,i.m=function(){if(K(this))return-B(this).m();for(var I=0,w=1,R=0;R<this.g.length;R++){var M=this.i(R);I+=(0<=M?M:4294967296+M)*w,w*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N(this))return"0";if(K(this))return"-"+B(this).toString(I);for(var w=g(Math.pow(I,6)),R=this,M="";;){var P=he(R,w).g;R=U(R,P.j(w));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=P,N(R))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function N(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function K(I){return I.h==-1}i.l=function(I){return I=U(this,I),K(I)?-1:N(I)?0:1};function B(I){for(var w=I.g.length,R=[],M=0;M<w;M++)R[M]=~I.g[M];return new f(R,~I.h).add(T)}i.abs=function(){return K(this)?B(this):this},i.add=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],M=0,P=0;P<=w;P++){var k=M+(this.i(P)&65535)+(I.i(P)&65535),C=(k>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);M=C>>>16,k&=65535,C&=65535,R[P]=C<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function U(I,w){return I.add(B(w))}i.j=function(I){if(N(this)||N(I))return A;if(K(this))return K(I)?B(this).j(B(I)):B(B(this).j(I));if(K(I))return B(this.j(B(I)));if(0>this.l(D)&&0>I.l(D))return g(this.m()*I.m());for(var w=this.g.length+I.g.length,R=[],M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<I.g.length;P++){var k=this.i(M)>>>16,C=this.i(M)&65535,ke=I.i(P)>>>16,Je=I.i(P)&65535;R[2*M+2*P]+=C*Je,te(R,2*M+2*P),R[2*M+2*P+1]+=k*Je,te(R,2*M+2*P+1),R[2*M+2*P+1]+=C*ke,te(R,2*M+2*P+1),R[2*M+2*P+2]+=k*ke,te(R,2*M+2*P+2)}for(M=0;M<w;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=w;M<2*w;M++)R[M]=0;return new f(R,0)};function te(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ee(I,w){this.g=I,this.h=w}function he(I,w){if(N(w))throw Error("division by zero");if(N(I))return new ee(A,A);if(K(I))return w=he(B(I),w),new ee(B(w.g),B(w.h));if(K(w))return w=he(I,B(w)),new ee(B(w.g),w.h);if(30<I.g.length){if(K(I)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var R=T,M=w;0>=M.l(I);)R=ue(R),M=ue(M);var P=z(R,1),k=z(M,1);for(M=z(M,2),R=z(R,2);!N(M);){var C=k.add(M);0>=C.l(I)&&(P=P.add(R),k=C),M=z(M,1),R=z(R,1)}return w=U(I,P.j(w)),new ee(P,w)}for(P=A;0<=I.l(w);){for(R=Math.max(1,Math.floor(I.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=g(R),C=k.j(w);K(C)||0<C.l(I);)R-=M,k=g(R),C=k.j(w);N(k)&&(k=T),P=P.add(k),I=U(I,C)}return new ee(P,I)}i.A=function(I){return he(this,I).h},i.and=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)&I.i(M);return new f(R,this.h&I.h)},i.or=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)|I.i(M);return new f(R,this.h|I.h)},i.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],M=0;M<w;M++)R[M]=this.i(M)^I.i(M);return new f(R,this.h^I.h)};function ue(I){for(var w=I.g.length+1,R=[],M=0;M<w;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new f(R,I.h)}function z(I,w){var R=w>>5;w%=32;for(var M=I.g.length-R,P=[],k=0;k<M;k++)P[k]=0<w?I.i(k+R)>>>w|I.i(k+R+1)<<32-w:I.i(k+R);return new f(P,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,mE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,va=f}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pE,Lo,gE,Hc,im,yE,vE,_E;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function l(c,y){if(y)e:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break e;v=v[q]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,q={next:function(){if(!S&&v<c.length){var J=v++;return{value:y(J,c[J]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}l("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function A(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function T(c,y,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,T.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,q,J){for(var pe=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)pe[tt-2]=arguments[tt];return y.prototype[q].apply(S,pe)}}function K(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function B(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const q=c.length||0,J=S.length||0;c.length=q+J;for(let pe=0;pe<J;pe++)c[q+pe]=S[pe]}else c.push(S)}}class U{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ue=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function z(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function I(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function w(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let J=0;J<R.length;J++)v=R[J],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function k(c){m.setTimeout(()=>{throw c},0)}function C(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ke{constructor(){this.h=this.g=null}add(y,v){const S=Je.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Je=new U(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,je=new ke,O=()=>{const c=m.Promise.resolve(void 0);de=()=>{c.then(re)}};var re=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){k(v)}var y=Je;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Be(c,y){if(ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{he(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Be.aa.h.call(this)}}N(Be,ce);var xe={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),pt=0;function Xn(c,y,v,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=q,this.key=++pt,this.da=this.fa=!1}function wt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pn(c){this.src=c,this.g={},this.h=0}pn.prototype.add=function(c,y,v,S,q){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var pe=ii(c,y,S,q);return-1<pe?(y=c[pe],v||(y.fa=!1)):(y=new Xn(y,this.src,J,!!S,q),y.fa=v,c.push(y)),y};function Dr(c,y){var v=y.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,y,void 0),J;(J=0<=q)&&Array.prototype.splice.call(S,q,1),J&&(wt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ii(c,y,v,S){for(var q=0;q<c.length;++q){var J=c[q];if(!J.da&&J.listener==y&&J.capture==!!v&&J.ha==S)return q}return-1}var An="closure_lm_"+(1e6*Math.random()|0),xa={};function Es(c,y,v,S,q){if(Array.isArray(y)){for(var J=0;J<y.length;J++)Es(c,y[J],v,S,q);return null}return v=Ui(v),c&&c[Ut]?c.K(y,v,g(S)?!!S.capture:!1,q):Sn(c,y,v,!1,S,q)}function Sn(c,y,v,S,q,J){if(!y)throw Error("Invalid event type");var pe=g(q)?!!q.capture:!!q,tt=Zn(c);if(tt||(c[An]=tt=new pn(c)),v=tt.add(y,v,S,pe,J),v.proxy)return v;if(S=Dl(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)Se||(q=pe),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(ai(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Dl(){function c(v){return y.call(c.src,c.listener,v)}const y=vr;return c}function Ia(c,y,v,S,q){if(Array.isArray(y))for(var J=0;J<y.length;J++)Ia(c,y[J],v,S,q);else S=g(S)?!!S.capture:!!S,v=Ui(v),c&&c[Ut]?(c=c.i,y=String(y).toString(),y in c.g&&(J=c.g[y],v=ii(J,v,S,q),-1<v&&(wt(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete c.g[y],c.h--)))):c&&(c=Zn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ii(y,v,S,q)),(v=-1<c?y[c]:null)&&Li(v))}function Li(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ut])Dr(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ai(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Zn(y))?(Dr(v,c),v.h==0&&(v.src=null,y[An]=null)):wt(c)}}}function ai(c){return c in xa?xa[c]:xa[c]="on"+c}function vr(c,y){if(c.da)c=!0;else{y=new Be(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&Li(c),c=v.call(S,y)}return c}function Zn(c){return c=c[An],c instanceof pn?c:null}var Pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(c){return typeof c=="function"?c:(c[Pi]||(c[Pi]=function(y){return c.handleEvent(y)}),c[Pi])}function ot(){me.call(this),this.i=new pn(this),this.M=this,this.F=null}N(ot,me),ot.prototype[Ut]=!0,ot.prototype.removeEventListener=function(c,y,v,S){Ia(this,c,y,v,S)};function qe(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ce(y,c);else if(y instanceof ce)y.target=y.target||c;else{var q=y;y=new ce(S,c),M(y,q)}if(q=!0,v)for(var J=v.length-1;0<=J;J--){var pe=y.g=v[J];q=gn(pe,S,!0,y)&&q}if(pe=y.g=c,q=gn(pe,S,!0,y)&&q,q=gn(pe,S,!1,y)&&q,v)for(J=0;J<v.length;J++)pe=y.g=v[J],q=gn(pe,S,!1,y)&&q}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)wt(v[S]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},ot.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function gn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,J=0;J<y.length;++J){var pe=y[J];if(pe&&!pe.da&&pe.capture==v){var tt=pe.listener,Kt=pe.ha||pe.src;pe.fa&&Dr(c.i,pe),q=tt.call(Kt,S)!==!1&&q}}return q&&!S.defaultPrevented}function kt(c,y,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ts(c){c.g=kt(()=>{c.g=null,c.i&&(c.i=!1,Ts(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Wn extends me{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ts(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(c){me.call(this),this.h=c,this.g={}}N(Cr,me);var xr=[];function Ir(c){z(c.g,function(y,v){this.g.hasOwnProperty(v)&&Li(y)},c),c.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Ir(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=m.JSON.stringify,si=m.JSON.parse,Jn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ki(){}ki.prototype.h=null;function li(c){return c.h||(c.h=c.i())}function Na(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){ce.call(this,"d")}N(_r,ce);function zi(){ce.call(this,"c")}N(zi,ce);var wn={},Nr=null;function Or(){return Nr=Nr||new ot}wn.La="serverreachability";function ji(c){ce.call(this,wn.La,c)}N(ji,ce);function V(c){const y=Or();qe(y,new ji(y))}wn.STAT_EVENT="statevent";function H(c,y){ce.call(this,wn.STAT_EVENT,c),this.stat=y}N(H,ce);function Q(c){const y=Or();qe(y,new H(y,c))}wn.Ma="timingevent";function le(c,y){ce.call(this,wn.Ma,c),this.size=y}N(le,ce);function fe(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function _e(){this.g=!0}_e.prototype.xa=function(){this.g=!1};function De(c,y,v,S,q,J){c.info(function(){if(c.g)if(J)for(var pe="",tt=J.split("&"),Kt=0;Kt<tt.length;Kt++){var nt=tt[Kt].split("=");if(1<nt.length){var en=nt[0];nt=nt[1];var $t=en.split("_");pe=2<=$t.length&&$t[1]=="type"?pe+(en+"="+nt+"&"):pe+(en+"=redacted&")}}else pe=null;else pe=J;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+v+`
`+pe})}function Ee(c,y,v,S,q,J,pe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+v+`
`+J+" "+pe})}function Ae(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ne(c,v)+(S?" "+S:"")})}function be(c,y){c.info(function(){return"TIMEOUT: "+y})}_e.prototype.info=function(){};function Ne(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var pe=1;pe<q.length;pe++)q[pe]=""}}}}return Pn(v)}catch{return y}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Me={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ke;function ct(){}N(ct,ki),ct.prototype.g=function(){return new XMLHttpRequest},ct.prototype.i=function(){return{}},Ke=new ct;function st(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}var Qe={},tr={};function Yt(c,y,v){c.L=1,c.v=Ma(zn(y)),c.m=v,c.P=!0,Rn(c,null)}function Rn(c,y){c.F=Date.now(),Un(c),c.A=zn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ol(v.i,"t",S),c.C=0,v=c.j.J,c.h=new et,c.g=Ru(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Wn(T(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(xr[0]=q.toString()),q=xr);for(var J=0;J<q.length;J++){var pe=Es(v,q[J],S||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),V(),De(c.i,c.u,c.A,c.l,c.R,c.m)}st.prototype.ca=function(c){c=c.target;const y=this.M;y&&sr(c)==3?y.j():this.Y(c)},st.prototype.Y=function(c){try{if(c==this.g)e:{const $t=sr(this.g);var y=this.g.Ba();const pi=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||$t!=4||y==7||(y==8||0>=pi?V(3):V(2)),yn(this);var v=this.g.Z();this.X=v;t:if(sn(this)){var S=vu(this.g);c="";var q=S.length,J=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Dn(this);var pe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(J&&y==q-1)});S.length=0,this.h.g+=c,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=v==200,Ee(this.i,this.u,this.A,this.l,this.R,$t,v),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Kt=this.g;if((tt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(tt)){var nt=tt;break t}}nt=null}if(v=nt)Ae(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zt(this,v);else{this.o=!1,this.s=3,Q(12),Pe(this),Dn(this);break e}}if(this.P){v=!0;let on;for(;!this.J&&this.C<pe.length;)if(on=Vr(this,pe),on==tr){$t==4&&(this.s=4,Q(14),v=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Qe){this.s=4,Q(15),Ae(this.i,this.l,pe,"[Invalid Chunk]"),v=!1;break}else Ae(this.i,this.l,on,null),zt(this,on);if(sn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||pe.length!=0||this.h.h||(this.s=1,Q(16),v=!1),this.o=this.o&&v,!v)Ae(this.i,this.l,pe,"[Invalid Chunked Response]"),Pe(this),Dn(this);else if(0<pe.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Ha(en),en.M=!0,Q(11))}}else Ae(this.i,this.l,pe,null),zt(this,pe);$t==4&&Pe(this),this.o&&!this.J&&($t==4?Au(this.j,this):(this.o=!1,Un(this)))}else Vh(this.g),v==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Q(12)):(this.s=0,Q(13)),Pe(this),Dn(this)}}}catch{}finally{}};function sn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vr(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?tr:(v=Number(y.substring(v,S)),isNaN(v)?Qe:(S+=1,S+v>y.length?tr:(y=y.slice(S,S+v),c.C=S+v,y)))}st.prototype.cancel=function(){this.J=!0,Pe(this)};function Un(c){c.S=Date.now()+c.I,Bi(c,c.I)}function Bi(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=fe(T(c.ba,c),y)}function yn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}st.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(be(this.i,this.A),this.L!=2&&(V(),Q(17)),Pe(this),this.s=2,Dn(this)):Bi(this,this.S-c)};function Dn(c){c.j.G==0||c.J||Au(c.j,c)}function Pe(c){yn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ir(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function zt(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||nr(v.h,c))){if(!c.K&&nr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Is(v),Cs(v);else break e;Ul(v),Q(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=fe(T(v.Za,v),6e3));if(1>=Et(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else mi(v,11)}else if((c.K||v.g==c)&&Is(v),!te(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let nt=q[y];if(v.T=nt[0],nt=nt[1],v.G==2)if(nt[0]=="c"){v.K=nt[1],v.ia=nt[2];const en=nt[3];en!=null&&(v.la=en,v.j.info("VER="+v.la));const $t=nt[4];$t!=null&&(v.Aa=$t,v.j.info("SVER="+v.Aa));const pi=nt[5];pi!=null&&typeof pi=="number"&&0<pi&&(S=1.5*pi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const on=c.g;if(on){const Br=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var J=S.h;J.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(oi(J,J.h),J.h=null))}if(S.D){const zl=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(S.ya=zl,gt(S.I,S.D,zl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var pe=c;if(S.qa=wu(S,S.J?S.ia:null,S.W),pe.K){ln(S.h,pe);var tt=pe,Kt=S.L;Kt&&(tt.I=Kt),tt.B&&(yn(tt),Un(tt)),S.g=pe}else Tu(S);0<v.i.length&&xs(v)}else nt[0]!="stop"&&nt[0]!="close"||mi(v,7);else v.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?mi(v,7):Ll(v):nt[0]!="noop"&&v.l&&v.l.ta(nt),v.v=0)}}V(4)}catch{}}var kn=class{constructor(c,y){this.g=c,this.map=y}};function Nn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Et(c){return c.h?1:c.g?c.g.size:0}function nr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function oi(c,y){c.g?c.g.add(y):c.h=y}function ln(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Nn.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Cl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return K(c.i)}function xh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function bs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function xl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=bs(c),S=xh(c),q=S.length,J=0;J<q;J++)y.call(void 0,S[J],v&&v[J],c)}var Oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ih(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),q=null;if(0<=S){var J=c[v].substring(0,S);q=c[v].substring(S+1)}else J=c[v];y(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function jt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof jt){this.h=c.h,Va(this,c.j),this.o=c.o,this.g=c.g,Hi(this,c.s),this.l=c.l;var y=c.i,v=new ci;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ui(this,v),this.m=c.m}else c&&(y=String(c).match(Oa))?(this.h=!1,Va(this,y[1]||"",!0),this.o=rr(y[2]||""),this.g=rr(y[3]||"",!0),Hi(this,y[4]),this.l=rr(y[5]||"",!0),ui(this,y[6]||"",!0),this.m=rr(y[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}jt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(La(y,Il,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(La(y,Il,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(La(v,v.charAt(0)=="/"?Nh:Nl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",La(v,As)),c.join("")};function zn(c){return new jt(c)}function Va(c,y,v){c.j=v?rr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Hi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ui(c,y,v){y instanceof ci?(c.i=y,gu(c.i,c.h)):(v||(y=La(y,Oh)),c.i=new ci(y,c.h))}function gt(c,y,v){c.i.set(y,v)}function Ma(c){return gt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function rr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function La(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,pu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Il=/[#\/\?@]/g,Nl=/[#\?:]/g,Nh=/[#\?]/g,Oh=/[#\?@]/g,As=/#/g;function ci(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ir(c){c.g||(c.g=new Map,c.h=0,c.i&&Ih(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=ci.prototype,i.add=function(c,y){ir(this),this.i=null,c=Lr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function hi(c,y){ir(c),y=Lr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function fi(c,y){return ir(c),y=Lr(c,y),c.g.has(y)}i.forEach=function(c,y){ir(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(y,q,S,this)},this)},this)},i.na=function(){ir(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const q=c[S];for(let J=0;J<q.length;J++)v.push(y[S])}return v},i.V=function(c){ir(this);let y=[];if(typeof c=="string")fi(this,c)&&(y=y.concat(this.g.get(Lr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return ir(this),this.i=null,c=Lr(this,c),fi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ol(c,y,v){hi(c,y),0<v.length&&(c.i=null,c.g.set(Lr(c,y),K(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const J=encodeURIComponent(String(S)),pe=this.V(S);for(S=0;S<pe.length;S++){var q=J;pe[S]!==""&&(q+="="+encodeURIComponent(String(pe[S]))),c.push(q)}}return this.i=c.join("&")};function Lr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function gu(c,y){y&&!c.j&&(ir(c),c.i=null,c.g.forEach(function(v,S){var q=S.toLowerCase();S!=q&&(hi(this,S),Ol(this,q,v))},c)),c.j=y}function Pa(c,y){const v=new _e;if(m.Image){const S=new Image;S.onload=D(ar,v,"TestLoadImage: loaded",!0,y,S),S.onerror=D(ar,v,"TestLoadImage: error",!1,y,S),S.onabort=D(ar,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=D(ar,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Er(c,y){const v=new _e,S=new AbortController,q=setTimeout(()=>{S.abort(),ar(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(J=>{clearTimeout(q),J.ok?ar(v,"TestPingServer: ok",!0,y):ar(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),ar(v,"TestPingServer: error",!1,y)})}function ar(c,y,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function Ua(){this.g=new Jn}function Pr(c,y,v){const S=v||"";try{xl(c,function(q,J){let pe=q;g(q)&&(pe=Pn(q)),y.push(S+J+"="+encodeURIComponent(pe))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function qi(c){this.l=c.Ub||null,this.j=c.eb||!1}N(qi,ki),qi.prototype.g=function(){return new di(this.l,this.j)},qi.prototype.i=function(c){return function(){return c}}({});function di(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(di,ot),i=di.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,kr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,kr(this)),this.g&&(this.readyState=3,kr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ur(this):kr(this),this.readyState==3&&Vl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ur(this))},i.Qa=function(c){this.g&&(this.response=c,Ur(this))},i.ga=function(){this.g&&Ur(this)};function Ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,kr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function kr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ml(c){let y="";return z(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Jt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Ml(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):gt(c,y,v))}function ht(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(ht,ot);var Ss=/^https?$/i,ka=["POST","PUT"];i=ht.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ke.g(),this.v=this.o?li(this.o):li(Ke),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(J){yu(this,J);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const J of S.keys())v.set(J,S.get(J));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ka,y,void 0))||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,pe]of v)this.g.setRequestHeader(J,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{za(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){yu(this,J)}};function yu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ws(c),zr(c)}function ws(c){c.A||(c.A=!0,qe(c,"complete"),qe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qe(this,"complete"),qe(this,"abort"),zr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),ht.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Rs(this):this.bb())},i.bb=function(){Rs(this)};function Rs(c){if(c.h&&typeof f<"u"&&(!c.v[1]||sr(c)!=4||c.Z()!=2)){if(c.u&&sr(c)==4)kt(c.Ea,0,c);else if(qe(c,"readystatechange"),sr(c)==4){c.h=!1;try{const pe=c.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=pe===0){var q=String(c.D).match(Oa)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!Ss.test(q?q.toLowerCase():"")}v=S}if(v)qe(c,"complete"),qe(c,"success");else{c.m=6;try{var J=2<sr(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",ws(c)}}finally{zr(c)}}}}function zr(c,y){if(c.g){za(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||qe(c,"ready");try{v.onreadystatechange=S}catch{}}}function za(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function sr(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),si(y)}};function vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vh(c){const y={};c=(c.g&&2<=sr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(te(c[S]))continue;var v=P(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=y[q]||[];y[q]=J,J.push(v)}I(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ds(c){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,c),this.cb=ja("retryDelaySeedMs",1e4,c),this.Wa=ja("forwardChannelMaxRetries",2,c),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Nn(c&&c.concurrentRequestLimit),this.Da=new Ua,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ds.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,S){Q(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=wu(this,null,this.W),xs(this)};function Ll(c){if(_u(c),c.G==3){var y=c.U++,v=zn(c.I);if(gt(v,"SID",c.K),gt(v,"RID",y),gt(v,"TYPE","terminate"),Ba(c,v),y=new st(c,c.j,y),y.L=2,y.v=Ma(zn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Ru(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Un(y)}Su(c)}function Cs(c){c.g&&(Ha(c),c.g.cancel(),c.g=null)}function _u(c){Cs(c),c.u&&(m.clearTimeout(c.u),c.u=null),Is(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function xs(c){if(!Mr(c.h)&&!c.s){c.s=!0;var y=c.Ga;de||O(),ge||(de(),ge=!0),je.add(y,c),c.B=0}}function Mh(c,y){return Et(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=fe(T(c.Ga,c,y),kl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new st(this,this.j,c);let J=this.o;if(this.S&&(J?(J=w(J),M(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Eu(this,q,y),v=zn(this.I),gt(v,"RID",c),gt(v,"CVER",22),this.D&&gt(v,"X-HTTP-Session-Id",this.D),Ba(this,v),J&&(this.O?y="headers="+encodeURIComponent(String(Ml(J)))+"&"+y:this.m&&Jt(v,this.m,J)),oi(this.h,q),this.Ua&&gt(v,"TYPE","init"),this.P?(gt(v,"$req",y),gt(v,"SID","null"),q.T=!0,Yt(q,v,null)):Yt(q,v,y),this.G=2}}else this.G==3&&(c?Pl(this,c):this.i.length==0||Mr(this.h)||Pl(this))};function Pl(c,y){var v;y?v=y.l:v=c.U++;const S=zn(c.I);gt(S,"SID",c.K),gt(S,"RID",v),gt(S,"AID",c.T),Ba(c,S),c.m&&c.o&&Jt(S,c.m,c.o),v=new st(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Eu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),oi(c.h,v),Yt(v,S,y)}function Ba(c,y){c.H&&z(c.H,function(v,S){gt(y,S,v)}),c.l&&xl({},function(v,S){gt(y,S,v)})}function Eu(c,y,v){v=Math.min(c.i.length,v);var S=c.l?T(c.l.Na,c.l,c):null;e:{var q=c.i;let J=-1;for(;;){const pe=["count="+v];J==-1?0<v?(J=q[0].g,pe.push("ofs="+J)):J=0:pe.push("ofs="+J);let tt=!0;for(let Kt=0;Kt<v;Kt++){let nt=q[Kt].g;const en=q[Kt].map;if(nt-=J,0>nt)J=Math.max(0,q[Kt].g-100),tt=!1;else try{Pr(en,pe,"req"+nt+"_")}catch{S&&S(en)}}if(tt){S=pe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function Tu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;de||O(),ge||(de(),ge=!0),je.add(y,c),c.v=0}}function Ul(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=fe(T(c.Fa,c),kl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=fe(T(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Q(10),Cs(this),bu(this))};function Ha(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function bu(c){c.g=new st(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=zn(c.qa);gt(y,"RID","rpc"),gt(y,"SID",c.K),gt(y,"AID",c.T),gt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&gt(y,"TO",c.ja),gt(y,"TYPE","xmlhttp"),Ba(c,y),c.m&&c.o&&Jt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ma(zn(y)),v.m=null,v.P=!0,Rn(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Cs(this),Ul(this),Q(19))};function Is(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Au(c,y){var v=null;if(c.g==y){Is(c),Ha(c),c.g=null;var S=2}else if(nr(c.h,y))v=y.D,ln(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;S=Or(),qe(S,new le(S,v)),xs(c)}else Tu(c);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&Mh(c,y)||S==2&&Ul(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),q){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function kl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function mi(c,y){if(c.j.info("Error code "+y),y==2){var v=T(c.fb,c),S=c.Xa;const q=!S;S=new jt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Va(S,"https"),Ma(S),q?Pa(S.toString(),v):Er(S.toString(),v)}else Q(2);c.G=0,c.l&&c.l.sa(y),Su(c),_u(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Q(2)):(this.j.info("Failed to ping google.com"),Q(1))};function Su(c){if(c.G=0,c.ka=[],c.l){const y=Cl(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function wu(c,y,v){var S=v instanceof jt?zn(v):new jt(v);if(S.g!="")y&&(S.g=y+"."+S.g),Hi(S,S.s);else{var q=m.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var J=new jt(null);S&&Va(J,S),y&&(J.g=y),q&&Hi(J,q),v&&(J.l=v),S=J}return v=c.D,y=c.ya,v&&y&&gt(S,v,y),gt(S,"VER",c.la),Ba(c,S),S}function Ru(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ht(new qi({eb:v})):new ht(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}i=Du.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ns(){}Ns.prototype.g=function(c,y){return new Cn(c,y)};function Cn(c,y){ot.call(this),this.g=new Ds(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!te(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new jr(this)}N(Cn,ot),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Ll(this.g)},Cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Pn(c),c=v);y.i.push(new kn(y.Ya++,c)),y.G==3&&xs(y)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,Cn.aa.N.call(this)};function Cu(c){_r.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(Cu,_r);function xu(){zi.call(this),this.status=1}N(xu,zi);function jr(c){this.g=c}N(jr,Du),jr.prototype.ua=function(){qe(this.g,"a")},jr.prototype.ta=function(c){qe(this.g,new Cu(c))},jr.prototype.sa=function(c){qe(this.g,new xu)},jr.prototype.ra=function(){qe(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,_E=function(){return new Ns},vE=function(){return Or()},yE=wn,im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,Hc=Ce,Me.COMPLETE="complete",gE=Me,Na.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Lo=Na,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,pE=ht}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const E_="@firebase/firestore",T_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new iE("@firebase/firestore");function ol(){return cs.logLevel}function ve(i,...e){if(cs.logLevel<=at.DEBUG){const n=e.map(Lm);cs.debug(`Firestore (${bl}): ${i}`,...n)}}function Ni(i,...e){if(cs.logLevel<=at.ERROR){const n=e.map(Lm);cs.error(`Firestore (${bl}): ${i}`,...n)}}function Ta(i,...e){if(cs.logLevel<=at.WARN){const n=e.map(Lm);cs.warn(`Firestore (${bl}): ${i}`,...n)}}function Lm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,EE(i,a,n)}function EE(i,e,n){let a=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ni(a),new Error(a)}function ft(i,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,i||EE(e,l,a)}function ze(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class OR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VR{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xi,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ft(typeof a.accessToken=="string",31837,{l:a}),new TE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class MR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new MR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const a=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const l=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=UR(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<n&&(a+=e.charAt(l[u]%62))}return a}}function Ge(i,e){return i<e?-1:i>e?1:0}function am(i,e){let n=0;for(;n<i.length&&n<e.length;){const a=i.codePointAt(n),l=e.codePointAt(n);if(a!==l){if(a<128&&l<128)return Ge(a,l);{const u=bE(),f=kR(u.encode(A_(i,n)),u.encode(A_(e,n)));return f!==0?f:Ge(a,l)}}n+=a>65535?2:1}return Ge(i.length,e.length)}function A_(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function kR(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ge(i[n],e[n]);return Ge(i.length,e.length)}function yl(i,e,n){return i.length===e.length&&i.every((a,l)=>n(a,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="__name__";class Yr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ve(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const u=Yr.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const a=Yr.isNumericId(e),l=Yr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Yr.extractNumericId(e).compare(Yr.extractNumericId(n)):am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return va.fromString(e.substring(4,e.length-2))}}class At extends Yr{construct(e,n,a){return new At(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ye(ae.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(l=>l.length>0))}return new At(n)}static emptyPath(){return new At([])}}const zR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Yr{construct(e,n,a){return new dn(e,n,a)}static isValidIdentifier(e){return zR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S_}static keyField(){return new dn([S_])}static fromServerFormat(e){const n=[];let a="",l=0;const u=()=>{if(a.length===0)throw new ye(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new ye(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(a+=m,l++):(u(),l++)}if(u(),f)throw new ye(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(At.fromString(e))}static fromName(e){return new Re(At.fromString(e).popFirst(5))}static empty(){return new Re(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(i,e,n){if(!n)throw new ye(ae.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jR(i,e,n,a){if(e===!0&&a===!0)throw new ye(ae.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function w_(i){if(!Re.isDocumentKey(i))throw new ye(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function R_(i){if(Re.isDocumentKey(i))throw new ye(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function SE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ph(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ve(12329,{type:typeof i})}function ba(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ph(i);throw new ye(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(i,e){const n={typeString:i};return e&&(n.value=e),n}function ou(i,e){if(!SE(i))throw new ye(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const f=i[a];if(l&&typeof f!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new ye(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=-62135596800,C_=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*C_);return new St(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<D_)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Gt("string",St._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new St(0,0))}static max(){return new Ue(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=-1;function BR(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=Ue.fromTimestamp(a===1e9?new St(n+1,0):new St(n,a));return new Aa(l,Re.empty(),e)}function HR(i){return new Aa(i.readTime,i.key,Wo)}class Aa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Aa(Ue.min(),Re.empty(),Wo)}static max(){return new Aa(Ue.max(),Re.empty(),Wo)}}function qR(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(i.documentKey,e.documentKey),n!==0?n:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(i){if(i.code!==ae.FAILED_PRECONDITION||i.message!==FR)throw i;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,a)=>{n(e)})}static reject(e){return new oe((n,a)=>{a(e)})}static waitFor(e){return new oe((n,a)=>{let l=0,u=0,f=!1;e.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&n()},p=>a(p))}),f=!0,u===l&&n()})}static or(e){let n=oe.resolve(!1);for(const a of e)n=n.next(l=>l?oe.resolve(l):a());return n}static forEach(e,n){const a=[];return e.forEach((l,u)=>{a.push(n.call(this,l,u))}),this.waitFor(a)}static mapArray(e,n){return new oe((a,l)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&a(f)},E=>l(E))}})}static doWhile(e,n){return new oe((a,l)=>{const u=()=>{e()===!0?n().next(()=>{u()},l):a()};u()})}}function QR(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this._e(a),this.ae=a=>n.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}gh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=-1;function yh(i){return i==null}function th(i){return i===0&&1/i==-1/0}function YR(i){return typeof i=="number"&&Number.isInteger(i)&&!th(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="";function KR(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=x_(e)),e=$R(i.get(n),e);return x_(e)}function $R(i,e){let n=e;const a=i.length;for(let l=0;l<a;l++){const u=i.charAt(l);switch(u){case"\0":n+="";break;case wE:n+="";break;default:n+=u}}return n}function x_(i){return i+wE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function gs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function RE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,a,l,u){this.key=e,this.value=n,this.color=a??fn.RED,this.left=l??fn.EMPTY,this.right=u??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,u){return new fn(e??this.key,n??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,a),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return fn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,a,l,u){return this}insert(e,n,a){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(e){return new N_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class N_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new wr([])}unionWith(e){let n=new Wt(dn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new DE("Invalid base64 string: "+u):u}}(e);return new mn(n)}static fromUint8Array(e){const n=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(i){if(ft(!!i,39018),typeof i=="string"){let e=0;const n=XR.exec(i);if(ft(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Lt(i.seconds),nanos:Lt(i.nanos)}}function Lt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function wa(i){return typeof i=="string"?mn.fromBase64String(i):mn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="server_timestamp",xE="__type__",IE="__previous_value__",NE="__local_write_time__";function km(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[xE])===null||n===void 0?void 0:n.stringValue)===CE}function vh(i){const e=i.mapValue.fields[IE];return km(e)?vh(e):e}function Jo(i){const e=Sa(i.mapValue.fields[NE].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,a,l,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const nh="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||nh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="__type__",WR="__max__",Mc={mapValue:{}},VE="__vector__",rh="value";function Ra(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?km(i)?4:e2(i)?9007199254740991:JR(i)?10:11:Ve(28295,{value:i})}function ni(i,e){if(i===e)return!0;const n=Ra(i);if(n!==Ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jo(i).isEqual(Jo(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Sa(l.timestampValue),m=Sa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(l,u){return wa(l.bytesValue).isEqual(wa(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,u){return Lt(l.geoPointValue.latitude)===Lt(u.geoPointValue.latitude)&&Lt(l.geoPointValue.longitude)===Lt(u.geoPointValue.longitude)}(i,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Lt(l.integerValue)===Lt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Lt(l.doubleValue),m=Lt(u.doubleValue);return f===m?th(f)===th(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return yl(i.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(I_(f)!==I_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ni(f[p],m[p])))return!1;return!0}(i,e);default:return Ve(52216,{left:i})}}function tu(i,e){return(i.values||[]).find(n=>ni(n,e))!==void 0}function vl(i,e){if(i===e)return 0;const n=Ra(i),a=Ra(e);if(n!==a)return Ge(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Lt(u.integerValue||u.doubleValue),p=Lt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return O_(i.timestampValue,e.timestampValue);case 4:return O_(Jo(i),Jo(e));case 5:return am(i.stringValue,e.stringValue);case 6:return function(u,f){const m=wa(u),p=wa(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ge(m[g],p[g]);if(E!==0)return E}return Ge(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ge(Lt(u.latitude),Lt(f.latitude));return m!==0?m:Ge(Lt(u.longitude),Lt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return V_(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},T=f.fields||{},D=(m=A[rh])===null||m===void 0?void 0:m.arrayValue,N=(p=T[rh])===null||p===void 0?void 0:p.arrayValue,K=Ge(((g=D?.values)===null||g===void 0?void 0:g.length)||0,((E=N?.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:V_(D,N)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Mc.mapValue&&f===Mc.mapValue)return 0;if(u===Mc.mapValue)return 1;if(f===Mc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const T=am(p[A],E[A]);if(T!==0)return T;const D=vl(m[p[A]],g[E[A]]);if(D!==0)return D}return Ge(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ve(23264,{le:n})}}function O_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const n=Sa(i),a=Sa(e),l=Ge(n.seconds,a.seconds);return l!==0?l:Ge(n.nanos,a.nanos)}function V_(i,e){const n=i.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const u=vl(n[l],a[l]);if(u)return u}return Ge(n.length,a.length)}function _l(i){return sm(i)}function sm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Sa(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return wa(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Re.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",l=!0;for(const u of n.values||[])l?l=!1:a+=",",a+=sm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of a)u?u=!1:l+=",",l+=`${f}:${sm(n.fields[f])}`;return l+"}"}(i.mapValue):Ve(61005,{value:i})}function qc(i){switch(Ra(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(i);return e?16+qc(e):16;case 5:return 2*i.stringValue.length;case 6:return wa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,u)=>l+qc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let l=0;return gs(a.fields,(u,f)=>{l+=u.length+qc(f)}),l}(i.mapValue);default:throw Ve(13486,{value:i})}}function M_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function lm(i){return!!i&&"integerValue"in i}function zm(i){return!!i&&"arrayValue"in i}function L_(i){return!!i&&"nullValue"in i}function P_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fc(i){return!!i&&"mapValue"in i}function JR(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[OE])===null||n===void 0?void 0:n.stringValue)===VE}function jo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return gs(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=jo(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function e2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===WR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jo(n)}setAll(e){let n=dn.emptyPath(),a={},l=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,l),a={},l=[],n=m.popLast()}f?a[m.lastSegment()]=jo(f):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,l)}delete(e){const n=this.field(e.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){gs(n,(l,u)=>e[l]=u);for(const l of a)delete e[l]}clone(){return new pr(jo(this.value))}}function ME(i){const e=[];return gs(i.fields,(n,a)=>{const l=new dn([n]);if(Fc(a)){const u=ME(a.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)}),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,a,l,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new bn(e,0,Ue.min(),Ue.min(),Ue.min(),pr.empty(),0)}static newFoundDocument(e,n,a,l){return new bn(e,1,n,Ue.min(),a,l,0)}static newNoDocument(e,n){return new bn(e,2,n,Ue.min(),Ue.min(),pr.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Ue.min(),Ue.min(),pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.position=e,this.inclusive=n}}function U_(i,e,n){let a=0;for(let l=0;l<i.position.length;l++){const u=e[l],f=i.position[l];if(u.field.isKeyField()?a=Re.comparator(Re.fromName(f.referenceValue),n.key):a=vl(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function k_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ni(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function t2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{}class Ft extends LE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new r2(e,n,a):n==="array-contains"?new s2(e,a):n==="in"?new l2(e,a):n==="not-in"?new o2(e,a):n==="array-contains-any"?new u2(e,a):new Ft(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new i2(e,a):new a2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vl(n,this.value)):n!==null&&Ra(this.value)===Ra(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends LE{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Rr(e,n)}matches(e){return PE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function PE(i){return i.op==="and"}function UE(i){return n2(i)&&PE(i)}function n2(i){for(const e of i.filters)if(e instanceof Rr)return!1;return!0}function om(i){if(i instanceof Ft)return i.field.canonicalString()+i.op.toString()+_l(i.value);if(UE(i))return i.filters.map(e=>om(e)).join(",");{const e=i.filters.map(n=>om(n)).join(",");return`${i.op}(${e})`}}function kE(i,e){return i instanceof Ft?function(a,l){return l instanceof Ft&&a.op===l.op&&a.field.isEqual(l.field)&&ni(a.value,l.value)}(i,e):i instanceof Rr?function(a,l){return l instanceof Rr&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((u,f,m)=>u&&kE(f,l.filters[m]),!0):!1}(i,e):void Ve(19439)}function zE(i){return i instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`}(i):i instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(zE).join(" ,")+"}"}(i):"Filter"}class r2 extends Ft{constructor(e,n,a){super(e,n,a),this.key=Re.fromName(a.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class i2 extends Ft{constructor(e,n){super(e,"in",n),this.keys=jE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class a2 extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=jE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jE(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Re.fromName(a.referenceValue))}class s2 extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zm(n)&&tu(n.arrayValue,this.value)}}class l2 extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class o2 extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class u2 extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>tu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n=null,a=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function z_(i,e=null,n=[],a=[],l=null,u=null,f=null){return new c2(i,e,n,a,l,u,f)}function jm(i){const e=ze(i);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>om(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>_l(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>_l(a)).join(",")),e.Pe=n}return e.Pe}function Bm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!t2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!kE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!k_(i.startAt,e.startAt)&&k_(i.endAt,e.endAt)}function um(i){return Re.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n=null,a=[],l=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function h2(i,e,n,a,l,u,f,m){return new uu(i,e,n,a,l,u,f,m)}function Hm(i){return new uu(i)}function j_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function BE(i){return i.collectionGroup!==null}function Bo(i){const e=ze(i);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Wt(dn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new ah(u,a))}),n.has(dn.keyField().canonicalString())||e.Te.push(new ah(dn.keyField(),a))}return e.Te}function Xr(i){const e=ze(i);return e.Ie||(e.Ie=f2(e,Bo(i))),e.Ie}function f2(i,e){if(i.limitType==="F")return z_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new ah(l.field,u)});const n=i.endAt?new ih(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new ih(i.startAt.position,i.startAt.inclusive):null;return z_(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function cm(i,e){const n=i.filters.concat([e]);return new uu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function hm(i,e,n){return new uu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function _h(i,e){return Bm(Xr(i),Xr(e))&&i.limitType===e.limitType}function HE(i){return`${jm(Xr(i))}|lt:${i.limitType}`}function ul(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(l=>zE(l)).join(", ")}]`),yh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(l=>_l(l)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(l=>_l(l)).join(",")),`Target(${a})`}(Xr(i))}; limitType=${i.limitType})`}function Eh(i,e){return e.isFoundDocument()&&function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Re.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,l){for(const u of Bo(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0}(i,e)&&function(a,l){return!(a.startAt&&!function(f,m,p){const g=U_(f,m,p);return f.inclusive?g<=0:g<0}(a.startAt,Bo(a),l)||a.endAt&&!function(f,m,p){const g=U_(f,m,p);return f.inclusive?g>=0:g>0}(a.endAt,Bo(a),l))}(i,e)}function d2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qE(i){return(e,n)=>{let a=!1;for(const l of Bo(i)){const u=m2(l,e,n);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function m2(i,e,n){const a=i.field.isKeyField()?Re.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vl(p,g):Ve(42886)}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ve(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(n,a)=>{for(const[l,u]of a)e(l,u)})}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Ct(Re.comparator);function Oi(){return p2}const FE=new Ct(Re.comparator);function Po(...i){let e=FE;for(const n of i)e=e.insert(n.key,n);return e}function GE(i){let e=FE;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function ls(){return Ho()}function QE(){return Ho()}function Ho(){return new ys(i=>i.toString(),(i,e)=>i.isEqual(e))}const g2=new Ct(Re.comparator),y2=new Wt(Re.comparator);function We(...i){let e=y2;for(const n of i)e=e.add(n);return e}const v2=new Wt(Ge);function _2(){return v2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function YE(i){return{integerValue:""+i}}function E2(i,e){return YR(e)?YE(e):qm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function T2(i,e,n){return i instanceof sh?function(l,u){const f={fields:{[xE]:{stringValue:CE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&km(u)&&(u=vh(u)),u&&(f.fields[IE]=u),{mapValue:f}}(n,e):i instanceof nu?$E(i,e):i instanceof ru?XE(i,e):function(l,u){const f=KE(l,u),m=B_(f)+B_(l.Ee);return lm(f)&&lm(l.Ee)?YE(m):qm(l.serializer,m)}(i,e)}function b2(i,e,n){return i instanceof nu?$E(i,e):i instanceof ru?XE(i,e):n}function KE(i,e){return i instanceof lh?function(a){return lm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class sh extends Th{}class nu extends Th{constructor(e){super(),this.elements=e}}function $E(i,e){const n=ZE(e);for(const a of i.elements)n.some(l=>ni(l,a))||n.push(a);return{arrayValue:{values:n}}}class ru extends Th{constructor(e){super(),this.elements=e}}function XE(i,e){let n=ZE(e);for(const a of i.elements)n=n.filter(l=>!ni(l,a));return{arrayValue:{values:n}}}class lh extends Th{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function B_(i){return Lt(i.integerValue||i.doubleValue)}function ZE(i){return zm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function A2(i,e){return i.field.isEqual(e.field)&&function(a,l){return a instanceof nu&&l instanceof nu||a instanceof ru&&l instanceof ru?yl(a.elements,l.elements,ni):a instanceof lh&&l instanceof lh?ni(a.Ee,l.Ee):a instanceof sh&&l instanceof sh}(i.transform,e.transform)}class S2{constructor(e,n){this.version=e,this.transformResults=n}}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class bh{}function WE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Fm(i.key,Zr.none()):new cu(i.key,i.data,Zr.none());{const n=i.data,a=pr.empty();let l=new Wt(dn.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),l=l.add(u)}return new vs(i.key,a,new wr(l.toArray()),Zr.none())}}function w2(i,e,n){i instanceof cu?function(l,u,f){const m=l.value.clone(),p=q_(l.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof vs?function(l,u,f){if(!Gc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=q_(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(JE(l)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function qo(i,e,n,a){return i instanceof cu?function(u,f,m,p){if(!Gc(u.precondition,f))return m;const g=u.value.clone(),E=F_(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,a):i instanceof vs?function(u,f,m,p){if(!Gc(u.precondition,f))return m;const g=F_(u.fieldTransforms,p,f),E=f.data;return E.setAll(JE(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,a):function(u,f,m){return Gc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function R2(i,e){let n=null;for(const a of i.fieldTransforms){const l=e.data.field(a.field),u=KE(a.transform,l||null);u!=null&&(n===null&&(n=pr.empty()),n.set(a.field,u))}return n||null}function H_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&yl(a,l,(u,f)=>A2(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class cu extends bh{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vs extends bh{constructor(e,n,a,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function JE(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function q_(i,e,n){const a=new Map;ft(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let l=0;l<n.length;l++){const u=i[l],f=u.transform,m=e.data.field(u.field);a.set(u.field,b2(f,m,n[l]))}return a}function F_(i,e,n){const a=new Map;for(const l of i){const u=l.transform,f=n.data.field(l.field);a.set(l.field,T2(u,f,e))}return a}class Fm extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D2 extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&w2(u,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=qo(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=qo(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=QE();return this.mutations.forEach(l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const p=WE(f,m);p!==null&&a.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Ue.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,(n,a)=>H_(n,a))&&yl(this.baseMutations,e.baseMutations,(n,a)=>H_(n,a))}}class Gm{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){ft(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let l=function(){return g2}();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,a[f].version);return new Gm(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,it;function N2(i){switch(i){case ae.OK:return Ve(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ve(15467,{code:i})}}function eT(i){if(i===void 0)return Ni("GRPC error has no .code"),ae.UNKNOWN;switch(i){case qt.OK:return ae.OK;case qt.CANCELLED:return ae.CANCELLED;case qt.UNKNOWN:return ae.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ae.INTERNAL;case qt.UNAVAILABLE:return ae.UNAVAILABLE;case qt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case qt.NOT_FOUND:return ae.NOT_FOUND;case qt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case qt.ABORTED:return ae.ABORTED;case qt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case qt.DATA_LOSS:return ae.DATA_LOSS;default:return Ve(39323,{code:i})}}(it=qt||(qt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new va([4294967295,4294967295],0);function G_(i){const e=bE().encode(i),n=new mE;return n.update(e),new Uint8Array(n.digest())}function Q_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new va([n,a],0),new va([l,u],0)]}class Qm{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(a<0)throw new Uo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=va.fromNumber(this.fe)}pe(e,n,a){let l=e.add(n.multiply(va.fromNumber(a)));return l.compare(O2)===1&&(l=new va([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=G_(e),[a,l]=Q_(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(a,l,u);if(!this.ye(f))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Qm(u,l,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const n=G_(e),[a,l]=Q_(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(a,l,u);this.we(f)}}we(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,a,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Ah(Ue.min(),l,new Ct(Ge),Oi(),We())}}class hu{constructor(e,n,a,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new hu(a,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,a,l){this.Se=e,this.removedTargetIds=n,this.key=a,this.be=l}}class tT{constructor(e,n){this.targetId=e,this.De=n}}class nT{constructor(e,n,a=mn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class Y_{constructor(){this.ve=0,this.Ce=K_(),this.Fe=mn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=We(),n=We(),a=We();return this.Ce.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Ve(38017,{changeType:u})}}),new hu(this.Fe,this.Me,e,n,a)}ke(){this.xe=!1,this.Ce=K_()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class V2{constructor(e){this.We=e,this.Ge=new Map,this.ze=Oi(),this.je=Lc(),this.Je=Lc(),this.He=new Ct(Ge)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const a=this.tt(n);switch(e.state){case 0:this.nt(n)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),a.Be(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((a,l)=>{this.nt(l)&&n(l)})}it(e){const n=e.targetId,a=e.De.count,l=this.st(n);if(l){const u=l.target;if(um(u))if(a===0){const f=new Re(u.path);this.Xe(n,f,bn.newNoDocument(f,Ue.min()))}else ft(a===1,20013,{expectedCount:a});else{const f=this.ot(n);if(f!==a){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=wa(a).toUint8Array()}catch(p){if(p instanceof DE)return Ta("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Qm(f,l,u)}catch(p){return Ta(p instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,a){return n.De.count===a-this.ht(e,n.targetId)?0:2}ht(e,n){const a=this.We.getRemoteKeysForTarget(n);let l=0;return a.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),l++)}),l}Pt(e){const n=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&um(m.target)){const p=new Re(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,bn.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let a=We();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const l=new Ah(e,n,this.He,this.ze,a);return this.ze=Oi(),this.je=Lc(),this.Je=Lc(),this.He=new Ct(Ge),l}Ze(e,n){if(!this.nt(e))return;const a=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,a),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,a){if(!this.nt(e))return;const l=this.tt(e);this.It(e,n)?l.qe(n,1):l.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),a&&(this.ze=this.ze.insert(n,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Y_,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Wt(Ge),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Wt(Ge),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Y_),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Lc(){return new Ct(Re.comparator)}function K_(){return new Ct(Re.comparator)}const M2={asc:"ASCENDING",desc:"DESCENDING"},L2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P2={and:"AND",or:"OR"};class U2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fm(i,e){return i.useProto3Json||yh(e)?e:{value:e}}function oh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function k2(i,e){return oh(i,e.toTimestamp())}function Wr(i){return ft(!!i,49232),Ue.fromTimestamp(function(n){const a=Sa(n);return new St(a.seconds,a.nanos)}(i))}function Ym(i,e){return dm(i,e).canonicalString()}function dm(i,e){const n=function(l){return new At(["projects",l.projectId,"databases",l.database])}(i).child("documents");return e===void 0?n:n.child(e)}function iT(i){const e=At.fromString(i);return ft(uT(e),10190,{key:e.toString()}),e}function mm(i,e){return Ym(i.databaseId,e.path)}function Bd(i,e){const n=iT(e);if(n.get(1)!==i.databaseId.projectId)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Re(sT(n))}function aT(i,e){return Ym(i.databaseId,e)}function z2(i){const e=iT(i);return e.length===4?At.emptyPath():sT(e)}function pm(i){return new At(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sT(i){return ft(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function $_(i,e,n){return{name:mm(i,e),fields:n.value.mapValue.fields}}function j2(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ve(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(ft(E===void 0||typeof E=="string",58123),mn.fromBase64String(E||"")):(ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),mn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ae.UNKNOWN:eT(g.code);return new ye(E,g.message||"")}(f);n=new nT(a,l,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(i,a.document.name),u=Wr(a.document.updateTime),f=a.document.createTime?Wr(a.document.createTime):Ue.min(),m=new pr({mapValue:{fields:a.document.fields}}),p=bn.newFoundDocument(l,u,f,m),g=a.targetIds||[],E=a.removedTargetIds||[];n=new Qc(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Bd(i,a.document),u=a.readTime?Wr(a.readTime):Ue.min(),f=bn.newNoDocument(l,u),m=a.removedTargetIds||[];n=new Qc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Bd(i,a.document),u=a.removedTargetIds||[];n=new Qc([],u,l,null)}else{if(!("filter"in e))return Ve(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,f=new I2(l,u),m=a.targetId;n=new tT(m,f)}}return n}function B2(i,e){let n;if(e instanceof cu)n={update:$_(i,e.key,e.value)};else if(e instanceof Fm)n={delete:mm(i,e.key)};else if(e instanceof vs)n={update:$_(i,e.key,e.data),updateMask:X2(e.fieldMask)};else{if(!(e instanceof D2))return Ve(16599,{Rt:e.type});n={verify:mm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Ve(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:k2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ve(27497)}(i,e.precondition)),n}function H2(i,e){return i&&i.length>0?(ft(e!==void 0,14353),i.map(n=>function(l,u){let f=l.updateTime?Wr(l.updateTime):Wr(u);return f.isEqual(Ue.min())&&(f=Wr(u)),new S2(f,l.transformResults||[])}(n,e))):[]}function q2(i,e){return{documents:[aT(i,e.path)]}}function F2(i,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=aT(i,l);const u=function(g){if(g.length!==0)return oT(Rr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(T){return{field:cl(T.field),direction:Y2(T.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=fm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:n,parent:l}}function G2(i){let e=z2(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){ft(a===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const T=lT(A);return T instanceof Rr&&UE(T)?T.getFilters():[T]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(T=>function(N){return new ah(hl(N.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(A){let T;return T=typeof A=="object"?A.value:A,yh(T)?null:T}(n.limit));let p=null;n.startAt&&(p=function(A){const T=!!A.before,D=A.values||[];return new ih(D,T)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const T=!A.before,D=A.values||[];return new ih(D,T)}(n.endAt)),h2(e,l,f,u,m,"F",p,g)}function Q2(i,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:l})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=hl(n.unaryFilter.field);return Ft.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=hl(n.unaryFilter.field);return Ft.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=hl(n.unaryFilter.field);return Ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=hl(n.unaryFilter.field);return Ft.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(i):i.fieldFilter!==void 0?function(n){return Ft.create(hl(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(a=>lT(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(n.compositeFilter.op))}(i):Ve(30097,{filter:i})}function Y2(i){return M2[i]}function K2(i){return L2[i]}function $2(i){return P2[i]}function cl(i){return{fieldPath:i.canonicalString()}}function hl(i){return dn.fromServerFormat(i.fieldPath)}function oT(i){return i instanceof Ft?function(n){if(n.op==="=="){if(P_(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NAN"}};if(L_(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P_(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NAN"}};if(L_(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(n.field),op:K2(n.op),value:n.value}}}(i):i instanceof Rr?function(n){const a=n.getFilters().map(l=>oT(l));return a.length===1?a[0]:{compositeFilter:{op:$2(n.op),filters:a}}}(i):Ve(54877,{filter:i})}function X2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,a,l,u=Ue.min(),f=Ue.min(),m=mn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.gt=e}}function W2(i){const e=G2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Dn=new eD}addToCollectionParentIndex(e,n){return this.Dn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Aa.min())}updateCollectionGroup(e,n,a){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class eD{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new Wt(At.comparator),u=!l.has(a);return this.index[n]=l.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Wt(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(cT,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new El(0)}static ur(){return new El(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="LruGarbageCollector",tD=1048576;function W_([i,e],[n,a]){const l=Ge(i,n);return l===0?Ge(e,a):l}class nD{constructor(e){this.Tr=e,this.buffer=new Wt(W_),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();W_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(Z_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sl(n)?ve(Z_,"Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.Rr(3e5)})}}class iD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(gh.ue);const a=new nD(n);return this.Vr.forEachTarget(e,l=>a.Er(l.sequenceNumber)).next(()=>this.Vr.gr(e,l=>a.Er(l))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(X_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let a,l,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,f=Date.now(),this.nthSequenceNumber(e,l))).next(A=>(a=A,m=Date.now(),this.removeTargets(e,a,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(A=>(g=Date.now(),ol()<=at.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A})))}}function aD(i,e){return new iD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.changes=new ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?oe.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(a=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(a!==null&&qo(a.mutation,l,wr.empty(),St.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,We()).next(()=>a))}getLocalViewOfDocuments(e,n,a=We()){const l=ls();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,a).next(u=>{let f=Po();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=ls();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,We()))}populateOverlays(e,n,a){const l=[];return a.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,l){let u=Oi();const f=Ho(),m=function(){return Ho()}();return n.forEach((p,g)=>{const E=a.get(g.key);l.has(g.key)&&(E===void 0||E.mutation instanceof vs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),qo(E.mutation,g,E.mutation.getFieldMask(),St.now())):f.set(g.key,wr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new lD(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Ho();let l=new Ct((f,m)=>f-m),u=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=a.get(p)||wr.empty();E=m.applyToLocalView(g,E),a.set(p,E);const A=(l.get(m.batchId)||We()).add(p);l=l.insert(m.batchId,A)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=QE();E.forEach(T=>{if(!u.has(T)){const D=WE(n.get(T),a.get(T));D!==null&&A.set(T,D),u=u.add(T)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return oe.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,l){return function(f){return Re.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-u.size):oe.resolve(ls());let m=Wo,p=u;return f.next(g=>oe.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?oe.resolve():this.remoteDocumentCache.getEntry(e,E).next(T=>{p=p.insert(E,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,We())).next(E=>({batchId:m,changes:GE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(a=>{let l=Po();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const u=n.collectionGroup;let f=Po();return this.indexManager.getCollectionParents(e,u).next(m=>oe.forEach(m,p=>{const g=function(A,T){return new uu(T,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,l).next(E=>{E.forEach((A,T)=>{f=f.insert(A,T)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,l))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,bn.newInvalidDocument(E)))});let m=Po();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&qo(E.mutation,g,wr.empty(),St.now()),Eh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Wr(l.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(l){return{name:l.name,query:W2(l.bundledQuery),readTime:Wr(l.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.overlays=new Ct(Re.comparator),this.kr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ls();return oe.forEach(n,l=>this.getOverlay(e,l).next(u=>{u!==null&&a.set(l,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((l,u)=>{this.wt(e,n,u)}),oe.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.kr.get(a);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(a)),oe.resolve()}getOverlaysForCollection(e,n,a){const l=ls(),u=n.length+1,f=new Re(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&l.set(p.getKey(),p)}return oe.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let u=new Ct((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=ls(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ls(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=l)););return oe.resolve(m)}wt(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const f=this.kr.get(l.largestBatchId).delete(a.key);this.kr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new x2(n,a));let u=this.kr.get(n);u===void 0&&(u=We(),this.kr.set(n,u)),this.kr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.qr=new Wt(an.Qr),this.$r=new Wt(an.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const a=new an(e,n);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Wr(new an(e,n))}Gr(e,n){e.forEach(a=>this.removeReference(a,n))}zr(e){const n=new Re(new At([])),a=new an(n,e),l=new an(n,e+1),u=[];return this.$r.forEachInRange([a,l],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Re(new At([])),a=new an(n,e),l=new an(n,e+1);let u=We();return this.$r.forEachInRange([a,l],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new an(e,0),a=this.qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class an{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Re.comparator(e.key,n.key)||Ge(e.Hr,n.Hr)}static Ur(e,n){return Ge(e.Hr,n.Hr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Wt(an.Qr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new C2(u,n,a,l);this.mutationQueue.push(f);for(const m of l)this.Yr=this.Yr.add(new an(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(f)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.Xr(a),u=l<0?0:l;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Um:this.er-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new an(n,0),l=new an(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([a,l],f=>{const m=this.Zr(f.Hr);u.push(m)}),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Wt(Ge);return n.forEach(l=>{const u=new an(l,0),f=new an(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{a=a.add(m.Hr)})}),oe.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let u=a;Re.isDocumentKey(u)||(u=u.child(""));const f=new an(new Re(u),0);let m=new Wt(Ge);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===l&&(m=m.add(p.Hr)),!0)},f),oe.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(a=>{const l=this.Zr(a);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){ft(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return oe.forEach(n.mutations,l=>{const u=new an(l.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,n){const a=new an(n,0),l=this.Yr.firstAfterOrEqual(a);return oe.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.ni=e,this.docs=function(){return new Ct(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),u=l?l.size:0,f=this.ni(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return oe.resolve(a?a.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let a=Oi();return n.forEach(l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():bn.newInvalidDocument(l))}),oe.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let u=Oi();const f=n.path,m=new Re(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||qR(HR(E),a)<=0||(l.has(E.key)||Eh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,a,l){Ve(9500)}ri(e,n){return oe.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new mD(this)}getSize(e){return oe.resolve(this.size)}}class mD extends sD{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?n.push(this.Or.addEntry(e,l)):this.Or.removeEntry(a)}),oe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.persistence=e,this.ii=new ys(n=>jm(n),Bm),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.si=0,this.oi=new Km,this.targetCount=0,this._i=El.ar()}forEachTarget(e,n){return this.ii.forEach((a,l)=>n(l)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.si&&(this.si=n),oe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new El(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.hr(n),oe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,a){let l=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),oe.waitFor(u).next(()=>l)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const a=this.ii.get(n)||null;return oe.resolve(a)}addMatchingKeys(e,n,a){return this.oi.Kr(n,a),oe.resolve()}removeMatchingKeys(e,n,a){this.oi.Gr(n,a);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(f=>{u.push(l.markPotentiallyOrphaned(e,f))}),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const a=this.oi.Jr(n);return oe.resolve(a)}containsKey(e,n){return oe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.ai={},this.overlays={},this.ui=new gh(0),this.ci=!1,this.ci=!0,this.li=new hD,this.referenceDelegate=e(this),this.hi=new pD(this),this.indexManager=new J2,this.remoteDocumentCache=function(l){return new dD(l)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new Z2(n),this.Ti=new uD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ai[e.toKey()];return a||(a=new fD(n,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,a){ve("MemoryPersistence","Starting transaction:",e);const l=new gD(this.ui.next());return this.referenceDelegate.Ii(),a(l).next(u=>this.referenceDelegate.di(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Ei(e,n){return oe.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,n)))}}class gD extends GR{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ai=new Km,this.Ri=null}static Vi(e){return new $m(e)}get mi(){if(this.Ri)return this.Ri;throw Ve(60996)}addReference(e,n,a){return this.Ai.addReference(a,n),this.mi.delete(a.toString()),oe.resolve()}removeReference(e,n,a){return this.Ai.removeReference(a,n),this.mi.add(a.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(l=>this.mi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.mi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.mi,a=>{const l=Re.fromPath(a);return this.fi(e,l).next(u=>{u||n.removeEntry(l,Ue.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(a=>{a?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return oe.or([()=>oe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class uh{constructor(e,n){this.persistence=e,this.gi=new ys(a=>KR(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=aD(this,n)}static Vi(e,n){return new uh(e,n)}Ii(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(l=>a+l))}yr(e){let n=0;return this.gr(e,a=>{n++}).next(()=>n)}gr(e,n){return oe.forEach(this.gi,(a,l)=>this.Sr(e,a,l).next(u=>u?oe.resolve():n(l)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ri(e,f=>this.Sr(e,f,n).next(m=>{m||(a++,u.removeEntry(f,Ue.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qc(e.data.value)),n}Sr(e,n,a){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.gi.get(n);return oe.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Is=a,this.ds=l}static Es(e,n){let a=We(),l=We();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Xm(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return pw()?8:QR(dw())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,a,l){const u={result:null};return this.ps(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,n,l,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new yD;return this.ws(e,n,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)})}).next(()=>u.result)}Ss(e,n,a,l){return a.documentReadCount<this.Vs?(ol()<=at.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(ol()<=at.DEBUG&&ve("QueryEngine","Query:",ul(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.fs*l?(ol()<=at.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):oe.resolve())}ps(e,n){if(j_(n))return oe.resolve(null);let a=Xr(n);return this.indexManager.getIndexType(e,a).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=hm(n,null,"F"),a=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=We(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(e,hm(n,null,"F")):this.vs(e,g,n,p)}))})))}ys(e,n,a,l){return j_(n)||l.isEqual(Ue.min())?oe.resolve(null):this.gs.getDocuments(e,a).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,a,l)?oe.resolve(null):(ol()<=at.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ul(n)),this.vs(e,f,n,BR(l,Wo)).next(m=>m))})}bs(e,n){let a=new Wt(qE(e));return n.forEach((l,u)=>{Eh(e,u)&&(a=a.add(u))}),a}Ds(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ws(e,n,a){return ol()<=at.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",ul(n)),this.gs.getDocumentsMatchingQuery(e,n,Aa.min(),a)}vs(e,n,a,l){return this.gs.getDocumentsMatchingQuery(e,a,l).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="LocalStore",_D=3e8;class ED{constructor(e,n,a,l){this.persistence=e,this.Cs=n,this.serializer=l,this.Fs=new Ct(Ge),this.Ms=new ys(u=>jm(u),Bm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function TD(i,e,n,a){return new ED(i,e,n,a)}async function fT(i,e){const n=ze(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next(u=>(l=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=We();for(const g of l){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Bs:g,removedBatchIds:f,addedBatchIds:m}))})})}function bD(i,e){const n=ze(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,T=A.keys();let D=oe.resolve();return T.forEach(N=>{D=D.next(()=>E.getEntry(p,N)).next(K=>{const B=g.docVersions.get(N);ft(B!==null,48541),K.version.compareTo(B)<0&&(A.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=We();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,l))})}function dT(i){const e=ze(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function AD(i,e){const n=ze(i),a=e.snapshotVersion;let l=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});l=n.Fs;const m=[];e.targetChanges.forEach((E,A)=>{const T=l.get(A);if(!T)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.hi.addMatchingKeys(u,E.addedDocuments,A)));let D=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?D=D.withResumeToken(mn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,a)),l=l.insert(A,D),function(K,B,U){return K.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=_D?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(T,D,E)&&m.push(n.hi.updateTargetData(u,D))});let p=Oi(),g=We();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(SD(u,f,e.documentUpdates).next(E=>{p=E.Ls,g=E.ks})),!a.isEqual(Ue.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next(A=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return oe.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Fs=l,u))}function SD(i,e,n){let a=We(),l=We();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let f=Oi();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Ue.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ve(Zm,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:f,ks:l}})}function wD(i,e){const n=ze(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Um),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function RD(i,e){const n=ze(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return n.hi.getTargetData(a,e).next(u=>u?(l=u,oe.resolve(l)):n.hi.allocateTargetId(a).next(f=>(l=new ma(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.hi.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=n.Fs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(a.targetId,a),n.Ms.set(e,a.targetId)),a})}async function gm(i,e,n){const a=ze(i),l=a.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!Sl(f))throw f;ve(Zm,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(l.target)}function J_(i,e,n){const a=ze(i);let l=Ue.min(),u=We();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=ze(p),T=A.Ms.get(E);return T!==void 0?oe.resolve(A.Fs.get(T)):A.hi.getTargetData(g,E)}(a,f,Xr(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.Cs.getDocumentsMatchingQuery(f,e,n?l:Ue.min(),n?u:We())).next(m=>(DD(a,d2(e),m),{documents:m,qs:u})))}function DD(i,e,n){let a=i.xs.get(e)||Ue.min();n.forEach((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.xs.set(e,a)}class e0{constructor(){this.activeTargetIds=_2()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CD{constructor(){this.Fo=new e0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,a){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new e0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="ConnectivityMonitor";class n0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(t0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(t0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function ym(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="RestConnection",ID={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ND{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.Ko=this.databaseId.database===nh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,n,a,l,u){const f=ym(),m=this.Go(e,n.toUriEncodedString());ve(Hd,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,l,u);const{host:g}=new URL(m),E=lu(g);return this.jo(e,m,p,a,E).then(A=>(ve(Hd,`Received RPC '${e}' ${f}: `,A),A),A=>{throw Ta(Hd,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",a),A})}Jo(e,n,a,l,u,f){return this.Wo(e,n,a,l,u)}zo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),a&&a.headers.forEach((l,u)=>e[u]=l)}Go(e,n){const a=ID[e];return`${this.$o}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class VD extends ND{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,a,l,u){const f=ym();return new Promise((m,p)=>{const g=new pE;g.setWithCredentials(!0),g.listenOnce(gE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Hc.NO_ERROR:const A=g.getResponseJson();ve(En,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Hc.TIMEOUT:ve(En,`RPC '${e}' ${f} timed out`),p(new ye(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const T=g.getStatus();if(ve(En,`RPC '${e}' ${f} failed with status:`,T,"response text:",g.getResponseText()),T>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D?.error;if(N&&N.status&&N.message){const K=function(U){const te=U.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(te)>=0?te:ae.UNKNOWN}(N.status);p(new ye(K,N.message))}else p(new ye(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(ae.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ve(En,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(l);ve(En,`RPC '${e}' ${f} sending request:`,l),g.send(n,"POST",E,a,15)})}P_(e,n,a){const l=ym(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_E(),m=vE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");ve(En,`Creating RPC '${e}' stream ${l}: ${E}`,p);const A=f.createWebChannel(E,p);this.T_(A);let T=!1,D=!1;const N=new OD({Ho:B=>{D?ve(En,`Not sending because RPC '${e}' stream ${l} is closed:`,B):(T||(ve(En,`Opening RPC '${e}' stream ${l} transport.`),A.open(),T=!0),ve(En,`RPC '${e}' stream ${l} sending:`,B),A.send(B))},Yo:()=>A.close()}),K=(B,U,te)=>{B.listen(U,ee=>{try{te(ee)}catch(he){setTimeout(()=>{throw he},0)}})};return K(A,Lo.EventType.OPEN,()=>{D||(ve(En,`RPC '${e}' stream ${l} transport opened.`),N.s_())}),K(A,Lo.EventType.CLOSE,()=>{D||(D=!0,ve(En,`RPC '${e}' stream ${l} transport closed`),N.__(),this.I_(A))}),K(A,Lo.EventType.ERROR,B=>{D||(D=!0,Ta(En,`RPC '${e}' stream ${l} transport errored. Name:`,B.name,"Message:",B.message),N.__(new ye(ae.UNAVAILABLE,"The operation could not be completed")))}),K(A,Lo.EventType.MESSAGE,B=>{var U;if(!D){const te=B.data[0];ft(!!te,16349);const ee=te,he=ee?.error||((U=ee[0])===null||U===void 0?void 0:U.error);if(he){ve(En,`RPC '${e}' stream ${l} received error:`,he);const ue=he.status;let z=function(R){const M=qt[R];if(M!==void 0)return eT(M)}(ue),I=he.message;z===void 0&&(z=ae.INTERNAL,I="Unknown error status: "+ue+" with message "+he.message),D=!0,N.__(new ye(z,I)),A.close()}else ve(En,`RPC '${e}' stream ${l} received:`,te),N.a_(te)}}),K(m,yE.STAT_EVENT,B=>{B.stat===im.PROXY?ve(En,`RPC '${e}' stream ${l} detected buffering proxy`):B.stat===im.NOPROXY&&ve(En,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(i){return new U2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,a=1e3,l=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=a,this.E_=l,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),l=Math.max(0,n-a);l>0&&ve("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="PersistentStream";class pT{constructor(e,n,a,l,u,f,m,p){this.Fi=e,this.w_=a,this.S_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new mT(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Ni(n.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.b_===n&&this.W_(a,l)},a=>{e(()=>{const l=new ye(ae.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(l)})})}W_(e,n){const a=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{a(()=>this.G_(l))}),this.stream.onMessage(l=>{a(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ve(r0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ve(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MD extends pT{constructor(e,n,a,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=j2(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ue.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ue.min():f.readTime?Wr(f.readTime):Ue.min()}(e);return this.listener.J_(n,a)}H_(e){const n={};n.database=pm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=um(p)?{documents:q2(u,p)}:{query:F2(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=rT(u,f.resumeToken);const g=fm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ue.min())>0){m.readTime=oh(u,f.snapshotVersion.toTimestamp());const g=fm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=Q2(this.serializer,e);a&&(n.labels=a),this.k_(n)}Y_(e){const n={};n.database=pm(this.serializer),n.removeTarget=e,this.k_(n)}}class LD extends pT{constructor(e,n,a,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=H2(e.writeResults,e.commitTime),a=Wr(e.commitTime);return this.listener.ta(a,n)}na(){const e={};e.database=pm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>B2(this.serializer,a))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{}class UD extends PD{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,dm(n,a),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ae.UNKNOWN,u.toString())})}Jo(e,n,a,l,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,dm(n,a),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(ae.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class kD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ni(n),this._a=!1):ve("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="RemoteStore";class zD{constructor(e,n,a,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{a.enqueueAndForget(async()=>{_s(this)&&(ve(hs,"Restarting streams for network reachability change."),await async function(p){const g=ze(p);g.Ia.add(4),await fu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await wh(g)}(this))})}),this.Aa=new kD(a,l)}}async function wh(i){if(_s(i))for(const e of i.da)await e(!0)}async function fu(i){for(const e of i.da)await e(!1)}function gT(i,e){const n=ze(i);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),tp(n)?ep(n):wl(n).x_()&&Jm(n,e))}function Wm(i,e){const n=ze(i),a=wl(n);n.Ta.delete(e),a.x_()&&yT(n,e),n.Ta.size===0&&(a.x_()?a.B_():_s(n)&&n.Aa.set("Unknown"))}function Jm(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wl(i).H_(e)}function yT(i,e){i.Ra.$e(e),wl(i).Y_(e)}function ep(i){i.Ra=new V2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),wl(i).start(),i.Aa.aa()}function tp(i){return _s(i)&&!wl(i).M_()&&i.Ta.size>0}function _s(i){return ze(i).Ia.size===0}function vT(i){i.Ra=void 0}async function jD(i){i.Aa.set("Online")}async function BD(i){i.Ta.forEach((e,n)=>{Jm(i,e)})}async function HD(i,e){vT(i),tp(i)?(i.Aa.la(e),ep(i)):i.Aa.set("Unknown")}async function qD(i,e,n){if(i.Aa.set("Online"),e instanceof nT&&e.state===2&&e.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l.Ta.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ta.delete(m),l.Ra.removeTarget(m))}(i,e)}catch(a){ve(hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ch(i,a)}else if(e instanceof Qc?i.Ra.Ye(e):e instanceof tT?i.Ra.it(e):i.Ra.et(e),!n.isEqual(Ue.min()))try{const a=await dT(i.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(mn.EMPTY_BYTE_STRING,E.snapshotVersion)),yT(u,p);const A=new ma(E.target,p,g,E.sequenceNumber);Jm(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){ve(hs,"Failed to raise snapshot:",a),await ch(i,a)}}async function ch(i,e,n){if(!Sl(e))throw e;i.Ia.add(1),await fu(i),i.Aa.set("Offline"),n||(n=()=>dT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ve(hs,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await wh(i)})}function _T(i,e){return e().catch(n=>ch(i,n,e))}async function Rh(i){const e=ze(i),n=Da(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Um;for(;FD(e);)try{const l=await wD(e.localStore,a);if(l===null){e.Pa.length===0&&n.B_();break}a=l.batchId,GD(e,l)}catch(l){await ch(e,l)}ET(e)&&TT(e)}function FD(i){return _s(i)&&i.Pa.length<10}function GD(i,e){i.Pa.push(e);const n=Da(i);n.x_()&&n.Z_&&n.X_(e.mutations)}function ET(i){return _s(i)&&!Da(i).M_()&&i.Pa.length>0}function TT(i){Da(i).start()}async function QD(i){Da(i).na()}async function YD(i){const e=Da(i);for(const n of i.Pa)e.X_(n.mutations)}async function KD(i,e,n){const a=i.Pa.shift(),l=Gm.from(a,e,n);await _T(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await Rh(i)}async function $D(i,e){e&&Da(i).Z_&&await async function(a,l){if(function(f){return N2(f)&&f!==ae.ABORTED}(l.code)){const u=a.Pa.shift();Da(a).N_(),await _T(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Rh(a)}}(i,e),ET(i)&&TT(i)}async function i0(i,e){const n=ze(i);n.asyncQueue.verifyOperationInProgress(),ve(hs,"RemoteStore received new credentials");const a=_s(n);n.Ia.add(3),await fu(n),a&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await wh(n)}async function XD(i,e){const n=ze(i);e?(n.Ia.delete(2),await wh(n)):e||(n.Ia.add(2),await fu(n),n.Aa.set("Unknown"))}function wl(i){return i.Va||(i.Va=function(n,a,l){const u=ze(n);return u.ia(),new MD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{Zo:jD.bind(null,i),e_:BD.bind(null,i),n_:HD.bind(null,i),J_:qD.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),tp(i)?ep(i):i.Aa.set("Unknown")):(await i.Va.stop(),vT(i))})),i.Va}function Da(i){return i.ma||(i.ma=function(n,a,l){const u=ze(n);return u.ia(),new LD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:QD.bind(null,i),n_:$D.bind(null,i),ea:YD.bind(null,i),ta:KD.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await Rh(i)):(await i.ma.stop(),i.Pa.length>0&&(ve(hs,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,a,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,u){const f=Date.now()+a,m=new np(e,n,f,l,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(i,e){if(Ni("AsyncQueue",`${e}: ${i}`),Sl(i))return new ye(ae.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Re.comparator(n.key,a.key):(n,a)=>Re.comparator(n.key,a.key),this.keyedMap=Po(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new dl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.fa=new Ct(Re.comparator)}track(e){const n=e.doc.key,a=this.fa.get(n);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(n,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(n):e.type===1&&a.type===2?this.fa=this.fa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ve(63341,{At:e,ga:a}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,a)=>{e.push(a)}),e}}class Tl{constructor(e,n,a,l,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,l,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Tl(e,n,dl.emptySet(n),f,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class WD{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,a){const l=ze(n),u=l.queries;l.queries=s0(),u.forEach((f,m)=>{for(const p of m.wa)p.onError(a)})})(this,new ye(ae.ABORTED,"Firestore shutting down"))}}function s0(){return new ys(i=>HE(i),_h)}async function bT(i,e){const n=ze(i);let a=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.ba()&&(a=2):(u=new ZD,a=e.ba()?0:1);try{switch(a){case 0:u.ya=await n.onListen(l,!0);break;case 1:u.ya=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=rp(f,`Initialization of query '${ul(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&ip(n)}async function AT(i,e){const n=ze(i),a=e.query;let l=3;const u=n.queries.get(a);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?l=e.ba()?0:1:!u.Sa()&&e.ba()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function JD(i,e){const n=ze(i);let a=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(l)&&(a=!0);f.ya=l}}a&&ip(n)}function eC(i,e,n){const a=ze(i),l=a.queries.get(e);if(l)for(const u of l.wa)u.onError(n);a.queries.delete(e)}function ip(i){i.Da.forEach(e=>{e.next()})}var vm,l0;(l0=vm||(vm={})).Fa="default",l0.Cache="cache";class ST{constructor(e,n,a){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Tl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const a=n!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.key=e}}class RT{constructor(e){this.key=e}}class tC{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=We(),this.mutatedKeys=We(),this.Xa=qE(e),this.eu=new dl(this.Xa)}get tu(){return this.Ha}nu(e,n){const a=n?n.ru:new a0,l=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,A)=>{const T=l.get(E),D=Eh(this.query,A)?A:null,N=!!T&&this.mutatedKeys.has(T.key),K=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let B=!1;T&&D?T.data.isEqual(D.data)?N!==K&&(a.track({type:3,doc:D}),B=!0):this.iu(T,D)||(a.track({type:2,doc:D}),B=!0,(p&&this.Xa(D,p)>0||g&&this.Xa(D,g)<0)&&(m=!0)):!T&&D?(a.track({type:0,doc:D}),B=!0):T&&!D&&(a.track({type:1,doc:T}),B=!0,(p||g)&&(m=!0)),B&&(D?(f=f.add(D),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{eu:f,ru:a,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((E,A)=>function(D,N){const K=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{At:B})}};return K(D)-K(N)}(E.type,A.type)||this.Xa(E.doc,A.doc)),this.su(a),l=l!=null&&l;const m=n&&!l?this.ou():[],p=this.Za.size===0&&this.current&&!l?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new Tl(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new a0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=We(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const n=[];return e.forEach(a=>{this.Za.has(a)||n.push(new RT(a))}),this.Za.forEach(a=>{e.has(a)||n.push(new wT(a))}),n}uu(e){this.Ha=e.qs,this.Za=We();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Tl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ap="SyncEngine";class nC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class rC{constructor(e){this.key=e,this.lu=!1}}class iC{constructor(e,n,a,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ys(m=>HE(m),_h),this.Tu=new Map,this.Iu=new Set,this.du=new Ct(Re.comparator),this.Eu=new Map,this.Au=new Km,this.Ru={},this.Vu=new Map,this.mu=El.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function aC(i,e,n=!0){const a=OT(i);let l;const u=a.Pu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.cu()):l=await DT(a,e,n,!0),l}async function sC(i,e){const n=OT(i);await DT(n,e,!0,!1)}async function DT(i,e,n,a){const l=await RD(i.localStore,Xr(e)),u=l.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await lC(i,e,u,f==="current",l.resumeToken)),i.isPrimaryClient&&n&&gT(i.remoteStore,l),m}async function lC(i,e,n,a,l){i.gu=(A,T,D)=>async function(K,B,U,te){let ee=B.view.nu(U);ee.Ds&&(ee=await J_(K.localStore,B.query,!1).then(({documents:I})=>B.view.nu(I,ee)));const he=te&&te.targetChanges.get(B.targetId),ue=te&&te.targetMismatches.get(B.targetId)!=null,z=B.view.applyChanges(ee,K.isPrimaryClient,he,ue);return u0(K,B.targetId,z._u),z.snapshot}(i,A,T,D);const u=await J_(i.localStore,e,!0),f=new tC(e,u.qs),m=f.nu(u.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",l),g=f.applyChanges(m,i.isPrimaryClient,p);u0(i,n,g._u);const E=new nC(e,n,f);return i.Pu.set(e,E),i.Tu.has(n)?i.Tu.get(n).push(e):i.Tu.set(n,[e]),g.snapshot}async function oC(i,e,n){const a=ze(i),l=a.Pu.get(e),u=a.Tu.get(l.targetId);if(u.length>1)return a.Tu.set(l.targetId,u.filter(f=>!_h(f,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Wm(a.remoteStore,l.targetId),_m(a,l.targetId)}).catch(Al)):(_m(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function uC(i,e){const n=ze(i),a=n.Pu.get(e),l=n.Tu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Wm(n.remoteStore,a.targetId))}async function cC(i,e,n){const a=yC(i);try{const l=await function(f,m){const p=ze(f),g=St.now(),E=m.reduce((D,N)=>D.add(N.key),We());let A,T;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=Oi(),K=We();return p.Os.getEntries(D,E).next(B=>{N=B,N.forEach((U,te)=>{te.isValidDocument()||(K=K.add(U))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,N)).next(B=>{A=B;const U=[];for(const te of m){const ee=R2(te,A.get(te.key).overlayedDocument);ee!=null&&U.push(new vs(te.key,ee,ME(ee.value.mapValue),Zr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,U,m)}).next(B=>{T=B;const U=B.applyToLocalDocumentSet(A,K);return p.documentOverlayCache.saveOverlays(D,B.batchId,U)})}).then(()=>({batchId:T.batchId,changes:GE(A)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new Ct(Ge)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g}(a,l.batchId,n),await du(a,l.changes),await Rh(a.remoteStore)}catch(l){const u=rp(l,"Failed to persist write");n.reject(u)}}async function CT(i,e){const n=ze(i);try{const a=await AD(n.localStore,e);e.targetChanges.forEach((l,u)=>{const f=n.Eu.get(u);f&&(ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.lu=!0:l.modifiedDocuments.size>0?ft(f.lu,14607):l.removedDocuments.size>0&&(ft(f.lu,42227),f.lu=!1))}),await du(n,a,e)}catch(a){await Al(a)}}function o0(i,e,n){const a=ze(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&l.push(m.snapshot)}),function(f,m){const p=ze(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const T of A.wa)T.va(m)&&(g=!0)}),g&&ip(p)}(a.eventManager,e),l.length&&a.hu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function hC(i,e,n){const a=ze(i);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Eu.get(e),u=l&&l.key;if(u){let f=new Ct(Re.comparator);f=f.insert(u,bn.newNoDocument(u,Ue.min()));const m=We().add(u),p=new Ah(Ue.min(),new Map,new Ct(Ge),f,m);await CT(a,p),a.du=a.du.remove(u),a.Eu.delete(e),sp(a)}else await gm(a.localStore,e,!1).then(()=>_m(a,e,n)).catch(Al)}async function fC(i,e){const n=ze(i),a=e.batch.batchId;try{const l=await bD(n.localStore,e);IT(n,a,null),xT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await du(n,l)}catch(l){await Al(l)}}async function dC(i,e,n){const a=ze(i);try{const l=await function(f,m){const p=ze(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(ft(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(a.localStore,e);IT(a,e,n),xT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await du(a,l)}catch(l){await Al(l)}}function xT(i,e){(i.Vu.get(e)||[]).forEach(n=>{n.resolve()}),i.Vu.delete(e)}function IT(i,e,n){const a=ze(i);let l=a.Ru[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),a.Ru[a.currentUser.toKey()]=l}}function _m(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Tu.get(e))i.Pu.delete(a),n&&i.hu.pu(a,n);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(a=>{i.Au.containsKey(a)||NT(i,a)})}function NT(i,e){i.Iu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Wm(i.remoteStore,n),i.du=i.du.remove(e),i.Eu.delete(n),sp(i))}function u0(i,e,n){for(const a of n)a instanceof wT?(i.Au.addReference(a.key,e),mC(i,a)):a instanceof RT?(ve(ap,"Document no longer in limbo: "+a.key),i.Au.removeReference(a.key,e),i.Au.containsKey(a.key)||NT(i,a.key)):Ve(19791,{yu:a})}function mC(i,e){const n=e.key,a=n.path.canonicalString();i.du.get(n)||i.Iu.has(a)||(ve(ap,"New document in limbo: "+n),i.Iu.add(a),sp(i))}function sp(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const n=new Re(At.fromString(e)),a=i.mu.next();i.Eu.set(a,new rC(n)),i.du=i.du.insert(n,a),gT(i.remoteStore,new ma(Xr(Hm(n.path)),a,"TargetPurposeLimboResolution",gh.ue))}}async function du(i,e,n){const a=ze(i),l=[],u=[],f=[];a.Pu.isEmpty()||(a.Pu.forEach((m,p)=>{f.push(a.gu(p,e,n).then(g=>{var E;if((g||n)&&a.isPrimaryClient){const A=g?!g.fromCache:(E=n?.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){l.push(g);const A=Xm.Es(p.targetId,g);u.push(A)}}))}),await Promise.all(f),a.hu.J_(l),await async function(p,g){const E=ze(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>oe.forEach(g,T=>oe.forEach(T.Is,D=>E.persistence.referenceDelegate.addReference(A,T.targetId,D)).next(()=>oe.forEach(T.ds,D=>E.persistence.referenceDelegate.removeReference(A,T.targetId,D)))))}catch(A){if(!Sl(A))throw A;ve(Zm,"Failed to update sequence numbers: "+A)}for(const A of g){const T=A.targetId;if(!A.fromCache){const D=E.Fs.get(T),N=D.snapshotVersion,K=D.withLastLimboFreeSnapshotVersion(N);E.Fs=E.Fs.insert(T,K)}}}(a.localStore,u))}async function pC(i,e){const n=ze(i);if(!n.currentUser.isEqual(e)){ve(ap,"User change. New user:",e.toKey());const a=await fT(n.localStore,e);n.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new ye(ae.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await du(n,a.Bs)}}function gC(i,e){const n=ze(i),a=n.Eu.get(e);if(a&&a.lu)return We().add(a.key);{let l=We();const u=n.Tu.get(e);if(!u)return l;for(const f of u){const m=n.Pu.get(f);l=l.unionWith(m.view.tu)}return l}}function OT(i){const e=ze(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hC.bind(null,e),e.hu.J_=JD.bind(null,e.eventManager),e.hu.pu=eC.bind(null,e.eventManager),e}function yC(i){const e=ze(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dC.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return TD(this.persistence,new vD,e.initialUser,this.serializer)}Du(e){return new hT($m.Vi,this.serializer)}bu(e){return new CD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class vC extends hh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ft(this.persistence.referenceDelegate instanceof uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new rD(a,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new hT(a=>uh.Vi(a,n),this.serializer)}}class Em{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>o0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=pC.bind(null,this.syncEngine),await XD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WD}()}createDatastore(e){const n=Sh(e.databaseInfo.databaseId),a=function(u){return new VD(u)}(e.databaseInfo);return function(u,f,m,p){return new UD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,l,u,f,m){return new zD(a,l,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>o0(this.syncEngine,n,0),function(){return n0.C()?new n0:new xD}())}createSyncEngine(e,n){return function(l,u,f,m,p,g,E){const A=new iC(l,u,f,m,p,g);return E&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const u=ze(l);ve(hs,"RemoteStore shutting down."),u.Ia.add(5),await fu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Em.provider={build:()=>new Em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="FirestoreClient";class _C{constructor(e,n,a,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=Tn.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ve(Ca,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ve(Ca,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=rp(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Fd(i,e){i.asyncQueue.verifyOperationInProgress(),ve(Ca,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async l=>{a.isEqual(l)||(await fT(e.localStore,l),a=l)}),e.persistence.setDatabaseDeletedListener(()=>{Ta("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{Ta("Terminating Firestore due to IndexedDb database deletion failed",l)})}),i._offlineComponents=e}async function c0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await EC(i);ve(Ca,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>i0(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,l)=>i0(e.remoteStore,l)),i._onlineComponents=e}async function EC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ve(Ca,"Using user provided OfflineComponentProvider");try{await Fd(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===ae.FAILED_PRECONDITION||l.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ta("Error using user provided cache. Falling back to memory cache: "+n),await Fd(i,new hh)}}else ve(Ca,"Using default OfflineComponentProvider"),await Fd(i,new vC(void 0));return i._offlineComponents}async function MT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ve(Ca,"Using user provided OnlineComponentProvider"),await c0(i,i._uninitializedComponentsProvider._online)):(ve(Ca,"Using default OnlineComponentProvider"),await c0(i,new Em))),i._onlineComponents}function TC(i){return MT(i).then(e=>e.syncEngine)}async function LT(i){const e=await MT(i),n=e.eventManager;return n.onListen=aC.bind(null,e.syncEngine),n.onUnlisten=oC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uC.bind(null,e.syncEngine),n}function bC(i,e,n={}){const a=new xi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new VT({next:T=>{E.Ou(),f.enqueueAndForget(()=>AT(u,A));const D=T.docs.has(m);!D&&T.fromCache?g.reject(new ye(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&T.fromCache&&p&&p.source==="server"?g.reject(new ye(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),A=new ST(Hm(m.path),E,{includeMetadataChanges:!0,ka:!0});return bT(u,A)}(await LT(i),i.asyncQueue,e,n,a)),a.promise}function AC(i,e,n={}){const a=new xi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new VT({next:T=>{E.Ou(),f.enqueueAndForget(()=>AT(u,A)),T.fromCache&&p.source==="server"?g.reject(new ye(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),A=new ST(m,E,{includeMetadataChanges:!0,ka:!0});return bT(u,A)}(await LT(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firestore.googleapis.com",f0=!0;class d0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UT,this.ssl=f0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:f0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tD)throw new ye(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new NR;switch(a.type){case"firstParty":return new LR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ye(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=h0.get(n);a&&(ve("ComponentProvider","Removing Datastore"),h0.delete(n),a.terminate())}(this),Promise.resolve()}}function SC(i,e,n,a={}){var l;i=ba(i,Dh);const u=lu(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(eE(`https://${p}`),nE("Firestore",!0)),f.host!==UT&&f.host!==p&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:a});if(!Jc(g,m)&&(i._setSettings(g),a.mockUserToken)){let E,A;if(typeof a.mockUserToken=="string")E=a.mockUserToken,A=Tn.MOCK_USER;else{E=tE(a.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new ye(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Tn(T)}i._authCredentials=new OR(new TE(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Rl(this.firestore,e,this._query)}}class Qt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(ou(n,Qt._jsonSchema))return new Qt(e,a||null,new Re(At.fromString(n.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Gt("string",Qt._jsonSchemaVersion),referencePath:Gt("string")};class _a extends Rl{constructor(e,n,a){super(e,n,Hm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Re(e))}withConverter(e){return new _a(this.firestore,e,this._path)}}function Fo(i,e,...n){if(i=ti(i),AE("collection","path",e),i instanceof Dh){const a=At.fromString(e,...n);return R_(a),new _a(i,null,a)}{if(!(i instanceof Qt||i instanceof _a))throw new ye(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(At.fromString(e,...n));return R_(a),new _a(i.firestore,null,a)}}function ml(i,e,...n){if(i=ti(i),arguments.length===1&&(e=Pm.newId()),AE("doc","path",e),i instanceof Dh){const a=At.fromString(e,...n);return w_(a),new Qt(i,null,new Re(a))}{if(!(i instanceof Qt||i instanceof _a))throw new ye(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(At.fromString(e,...n));return w_(a),new Qt(i.firestore,i instanceof _a?i.converter:null,new Re(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="AsyncQueue";class p0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new mT(this,"async_queue_retry"),this.oc=()=>{const a=qd();a&&ve(m0,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const n=qd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new xi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Sl(e))throw e;ve(m0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Ni("INTERNAL UNHANDLED ERROR: ",g0(a)),a}).then(a=>(this.nc=!1,a))));return this._c=n,n}enqueueAfterDelay(e,n,a){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const l=np.createAndSchedule(this,e,n,a,u=>this.lc(u));return this.ec.push(l),l}ac(){this.tc&&Ve(47125,{hc:g0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function g0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class mu extends Dh{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new p0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p0(e),this._firestoreClient=void 0,await e}}}function wC(i,e){const n=typeof i=="object"?i:hE(),a=typeof i=="string"?i:nh,l=lE(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=W0("firestore");u&&SC(l,...u)}return l}function lp(i){if(i._terminated)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||RC(i),i._firestoreClient}function RC(i){var e,n,a;const l=i._freezeSettings(),u=function(m,p,g,E){return new ZR(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,PT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new _C(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gr(mn.fromBase64String(e))}catch(n){throw new ye(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gr(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,gr._jsonSchema))return gr.fromBase64String(e.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:Gt("string",gr._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Jr._jsonSchema))return new Jr(e.latitude,e.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:Gt("string",Jr._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ei(e.vectorValues);throw new ye(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Gt("string",ei._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^__.*__$/;class CC{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}function zT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ec:i})}}class up{constructor(e,n,a,l,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Rc({path:a,mc:!1});return l.fc(e),l}gc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Rc({path:a,mc:!1});return l.Ac(),l}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return fh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(zT(this.Ec)&&DC.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class xC{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Sh(e)}Dc(e,n,a,l=!1){return new up({Ec:e,methodName:n,bc:a,path:dn.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jT(i){const e=i._freezeSettings(),n=Sh(i._databaseId);return new xC(i._databaseId,!!e.ignoreUndefinedProperties,n)}function IC(i,e,n,a,l,u={}){const f=i.Dc(u.merge||u.mergeFields?2:0,e,n,l);qT("Data must be an object, but it was:",f,a);const m=BT(a,f);let p,g;if(u.merge)p=new wr(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const T=OC(e,A,n);if(!f.contains(T))throw new ye(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);MC(E,T)||E.push(T)}p=new wr(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new CC(new pr(m),p,g)}function NC(i,e,n,a=!1){return cp(n,i.Dc(a?4:3,e))}function cp(i,e){if(HT(i=ti(i)))return qT("Unsupported field value:",e,i),BT(i,e);if(i instanceof kT)return function(a,l){if(!zT(l.Ec))throw l.wc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,l){const u=[];let f=0;for(const m of a){let p=cp(m,l.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(a,l){if((a=ti(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return E2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=St.fromDate(a);return{timestampValue:oh(l.serializer,u)}}if(a instanceof St){const u=new St(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(l.serializer,u)}}if(a instanceof Jr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof gr)return{bytesValue:rT(l.serializer,a._byteString)};if(a instanceof Qt){const u=l.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw l.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ei)return function(f,m){return{mapValue:{fields:{[OE]:{stringValue:VE},[rh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return qm(m.serializer,g)})}}}}}}(a,l);throw l.wc(`Unsupported field value: ${ph(a)}`)}(i,e)}function BT(i,e){const n={};return RE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(i,(a,l)=>{const u=cp(l,e.Vc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function HT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof St||i instanceof Jr||i instanceof gr||i instanceof Qt||i instanceof kT||i instanceof ei)}function qT(i,e,n){if(!HT(n)||!SE(n)){const a=ph(n);throw a==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+a)}}function OC(i,e,n){if((e=ti(e))instanceof op)return e._internalPath;if(typeof e=="string")return FT(i,e);throw fh("Field path arguments must be of type string or ",i,!1,void 0,n)}const VC=new RegExp("[~\\*/\\[\\]]");function FT(i,e,n){if(e.search(VC)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new op(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function fh(i,e,n,a,l){const u=a&&!a.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${l}`),p+=")"),new ye(ae.INVALID_ARGUMENT,m+i+p)}function MC(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,a,l,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LC extends GT{data(){return super.data()}}function hp(i,e){return typeof e=="string"?FT(i,e):e instanceof op?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ye(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fp{}class UC extends fp{}function Gd(i,e,...n){let a=[];e instanceof fp&&a.push(e),a=a.concat(n),function(u){const f=u.filter(p=>p instanceof dp).length,m=u.filter(p=>p instanceof Ch).length;if(f>1||f>0&&m>0)throw new ye(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)i=l._apply(i);return i}class Ch extends UC{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Ch(e,n,a)}_apply(e){const n=this._parse(e);return QT(e._query,n),new Rl(e.firestore,e.converter,cm(e._query,n))}_parse(e){const n=jT(e.firestore);return function(u,f,m,p,g,E,A){let T;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ye(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){v0(A,E);const N=[];for(const K of A)N.push(y0(p,u,K));T={arrayValue:{values:N}}}else T=y0(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||v0(A,E),T=NC(m,f,A,E==="in"||E==="not-in");return Ft.create(g,E,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qd(i,e,n){const a=e,l=hp("where",i);return Ch._create(l,a,n)}class dp extends fp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dp(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,u){let f=l;const m=u.getFlattenedFilters();for(const p of m)QT(f,p),f=cm(f,p)}(e._query,n),new Rl(e.firestore,e.converter,cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function y0(i,e,n){if(typeof(n=ti(n))=="string"){if(n==="")throw new ye(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BE(e)&&n.indexOf("/")!==-1)throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(At.fromString(n));if(!Re.isDocumentKey(a))throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return M_(i,new Re(a))}if(n instanceof Qt)return M_(i,n._key);throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(n)}.`)}function v0(i,e){if(!Array.isArray(i)||i.length===0)throw new ye(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QT(i,e){const n=function(l,u){for(const f of l)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kC{convertValue(e,n="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return gs(e,(l,u)=>{a[l]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,l;const u=(l=(a=(n=e.fields)===null||n===void 0?void 0:n[rh].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(f=>Lt(f.doubleValue));return new ei(u)}convertGeoPoint(e){return new Jr(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Jo(e));default:return null}}convertTimestamp(e){const n=Sa(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=At.fromString(e);ft(uT(a),9688,{name:e});const l=new eu(a.get(1),a.get(3)),u=new Re(a.popFirst(5));return l.isEqual(n)||Ni(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(i,e,n){let a;return a=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,a}class ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class os extends GT{constructor(e,n,a,l,u,f){super(e,n,a,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(hp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=os._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}os._jsonSchemaVersion="firestore/documentSnapshot/1.0",os._jsonSchema={type:Gt("string",os._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Yc extends os{data(e={}){return super.data(e)}}class pl{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new ko(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Yc(this._firestore,this._userDataWriter,a.key,a,new ko(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const p=new Yc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ko(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Yc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ko(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:jC(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(i){i=ba(i,Qt);const e=ba(i.firestore,mu);return bC(lp(e),i._key).then(n=>qC(e,i,n))}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:Gt("string",pl._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class YT extends kC{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function Go(i){i=ba(i,Rl);const e=ba(i.firestore,mu),n=lp(e),a=new YT(e);return PC(i._query),AC(n,i._query).then(l=>new pl(e,a,i,l))}function Qo(i,e,n){i=ba(i,Qt);const a=ba(i.firestore,mu),l=zC(i.converter,e,n);return KT(a,[IC(jT(a),"setDoc",i._key,l,i.converter!==null,n).toMutation(i._key,Zr.none())])}function HC(i){return KT(ba(i.firestore,mu),[new Fm(i._key,Zr.none())])}function KT(i,e){return function(a,l){const u=new xi;return a.asyncQueue.enqueueAndForget(async()=>cC(await TC(a),l,u)),u.promise}(lp(i),e)}function qC(i,e,n){const a=n.docs.get(e._key),l=new YT(i);return new os(i,l,e._key,a,new ko(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){bl=l})(uE),Xo(new gl("firestore",(a,{instanceIdentifier:l,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new mu(new VR(a.getProvider("auth-internal")),new PR(f,a.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(g.options.projectId,E)}(f,l),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ya(E_,T_,e),ya(E_,T_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firebasestorage.googleapis.com",XT="storageBucket",FC=2*60*1e3,GC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends ps{constructor(e,n,a=0){super(Yd(e),`Firebase Storage: ${n} (${Yd(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nt||(Nt={}));function Yd(i){return"storage/"+i}function mp(){const i="An unknown error occurred, please check the error payload for server response.";return new Ot(Nt.UNKNOWN,i)}function QC(i){return new Ot(Nt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function YC(i){return new Ot(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function KC(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(Nt.UNAUTHENTICATED,i)}function $C(){return new Ot(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function XC(i){return new Ot(Nt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function ZC(){return new Ot(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WC(){return new Ot(Nt.CANCELED,"User canceled the upload/download.")}function JC(i){return new Ot(Nt.INVALID_URL,"Invalid URL '"+i+"'.")}function ex(i){return new Ot(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function tx(){return new Ot(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XT+"' property when initializing the app?")}function nx(){return new Ot(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rx(){return new Ot(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ix(i){return new Ot(Nt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tm(i){return new Ot(Nt.INVALID_ARGUMENT,i)}function ZT(){return new Ot(Nt.APP_DELETED,"The Firebase app was deleted.")}function ax(i){return new Ot(Nt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yo(i,e){return new Ot(Nt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Oo(i){throw new Ot(Nt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=$n.makeFromUrl(e,n)}catch{return new $n(e,"")}if(a.path==="")return a;throw ex(e)}static makeFromUrl(e,n){let a=null;const l="([A-Za-z0-9.\\-_]+)";function u(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+l+f,"i"),p={bucket:1,path:3};function g(he){he.path_=decodeURIComponent(he.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",D=new RegExp(`^https?://${A}/${E}/b/${l}/o${T}`,"i"),N={bucket:1,path:3},K=n===$T?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",U=new RegExp(`^https?://${K}/${l}/${B}`,"i"),ee=[{regex:m,indices:p,postModify:u},{regex:D,indices:N,postModify:g},{regex:U,indices:{bucket:1,path:2},postModify:g}];for(let he=0;he<ee.length;he++){const ue=ee[he],z=ue.regex.exec(e);if(z){const I=z[ue.indices.bucket];let w=z[ue.indices.path];w||(w=""),a=new $n(I,w),ue.postModify(a);break}}if(a==null)throw JC(e);return a}}class sx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(i,e,n){let a=1,l=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...B){g||(g=!0,e.apply(null,B))}function A(B){l=setTimeout(()=>{l=null,i(D,p())},B)}function T(){u&&clearTimeout(u)}function D(B,...U){if(g){T();return}if(B){T(),E.call(null,B,...U);return}if(p()||f){T(),E.call(null,B,...U);return}a<64&&(a*=2);let ee;m===1?(m=2,ee=0):ee=(a+Math.random())*1e3,A(ee)}let N=!1;function K(B){N||(N=!0,T(),!g&&(l!==null?(B||(m=2),clearTimeout(l),A(0)):B||(m=1)))}return A(0),u=setTimeout(()=>{f=!0,K(!0)},n),K}function ox(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(i){return i!==void 0}function cx(i){return typeof i=="object"&&!Array.isArray(i)}function pp(i){return typeof i=="string"||i instanceof String}function _0(i){return gp()&&i instanceof Blob}function gp(){return typeof Blob<"u"}function E0(i,e,n,a){if(a<e)throw Tm(`Invalid value for '${i}'. Expected ${e} or greater.`);if(a>n)throw Tm(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(i,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${i}`}function WT(i){const e=encodeURIComponent;let n="?";for(const a in i)if(i.hasOwnProperty(a)){const l=e(a)+"="+e(i[a]);n=n+l+"&"}return n=n.slice(0,-1),n}var us;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(us||(us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(i,e){const n=i>=500&&i<600,l=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,a,l,u,f,m,p,g,E,A,T=!0,D=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=A,this.retry=T,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,K)=>{this.resolve_=N,this.reject_=K,this.start_()})}start_(){const e=(a,l)=>{if(l){a(!1,new Uc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===us.NO_ERROR,p=u.getStatus();if(!m||hx(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===us.ABORT;a(!1,new Uc(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;a(!0,new Uc(g,u))})},n=(a,l)=>{const u=this.resolve_,f=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());ux(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=mp();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(l.canceled){const p=this.appDelete_?ZT():WC();f(p)}else{const p=ZC();f(p)}};this.canceled_?n(!1,new Uc(!1,null,!0)):this.backoffId_=lx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ox(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uc{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function dx(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function mx(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function px(i,e){e&&(i["X-Firebase-GMPID"]=e)}function gx(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function yx(i,e,n,a,l,u,f=!0,m=!1){const p=WT(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return px(E,e),dx(E,n),mx(E,u),gx(E,a),new fx(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,l,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _x(...i){const e=vx();if(e!==void 0){const n=new e;for(let a=0;a<i.length;a++)n.append(i[a]);return n.getBlob()}else{if(gp())return new Blob(i);throw new Ot(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ex(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(i){if(typeof atob>"u")throw ix("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kd{constructor(e,n){this.data=e,this.contentType=n||null}}function bx(i,e){switch(i){case Kr.RAW:return new Kd(JT(e));case Kr.BASE64:case Kr.BASE64URL:return new Kd(eb(i,e));case Kr.DATA_URL:return new Kd(Sx(e),wx(e))}throw mp()}function JT(i){const e=[];for(let n=0;n<i.length;n++){let a=i.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=a,f=i.charCodeAt(++n);a=65536|(u&1023)<<10|f&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function Ax(i){let e;try{e=decodeURIComponent(i)}catch{throw Yo(Kr.DATA_URL,"Malformed data URL.")}return JT(e)}function eb(i,e){switch(i){case Kr.BASE64:{const l=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(l||u)throw Yo(i,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Kr.BASE64URL:{const l=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(l||u)throw Yo(i,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Tx(e)}catch(l){throw l.message.includes("polyfill")?l:Yo(i,"Invalid character found")}const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}class tb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Yo(Kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=Rx(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function Sx(i){const e=new tb(i);return e.base64?eb(Kr.BASE64,e.rest):Ax(e.rest)}function wx(i){return new tb(i).contentType}function Rx(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){let a=0,l="";_0(e)?(this.data_=e,a=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(_0(this.data_)){const a=this.data_,l=Ex(a,e,n);return l===null?null:new da(l)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new da(a,!0)}}static getBlob(...e){if(gp()){const n=e.map(a=>a instanceof da?a.data_:a);return new da(_x.apply(null,n))}else{const n=e.map(f=>pp(f)?bx(Kr.RAW,f).data:f.data_);let a=0;n.forEach(f=>{a+=f.byteLength});const l=new Uint8Array(a);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)l[u++]=f[m]}),new da(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(i){let e;try{e=JSON.parse(i)}catch{return null}return cx(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Cx(i,e){const n=e.split("/").filter(a=>a.length>0).join("/");return i.length===0?n:i+"/"+n}function rb(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(i,e){return e}class In{constructor(e,n,a,l){this.server=e,this.local=n||e,this.writable=!!a,this.xform=l||xx}}let kc=null;function Ix(i){return!pp(i)||i.length<2?i:rb(i)}function ib(){if(kc)return kc;const i=[];i.push(new In("bucket")),i.push(new In("generation")),i.push(new In("metageneration")),i.push(new In("name","fullPath",!0));function e(u,f){return Ix(f)}const n=new In("name");n.xform=e,i.push(n);function a(u,f){return f!==void 0?Number(f):f}const l=new In("size");return l.xform=a,i.push(l),i.push(new In("timeCreated")),i.push(new In("updated")),i.push(new In("md5Hash",null,!0)),i.push(new In("cacheControl",null,!0)),i.push(new In("contentDisposition",null,!0)),i.push(new In("contentEncoding",null,!0)),i.push(new In("contentLanguage",null,!0)),i.push(new In("contentType",null,!0)),i.push(new In("metadata","customMetadata",!0)),kc=i,kc}function Nx(i,e){function n(){const a=i.bucket,l=i.fullPath,u=new $n(a,l);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function Ox(i,e,n){const a={};a.type="file";const l=n.length;for(let u=0;u<l;u++){const f=n[u];a[f.local]=f.xform(a,e[f.server])}return Nx(a,i),a}function ab(i,e,n){const a=nb(e);return a===null?null:Ox(i,a,n)}function Vx(i,e,n,a){const l=nb(e);if(l===null||!pp(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,A=i.fullPath,T="/b/"+f(E)+"/o/"+f(A),D=yp(T,n,a),N=WT({alt:"media",token:g});return D+N})[0]}function Mx(i,e){const n={},a=e.length;for(let l=0;l<a;l++){const u=e[l];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class sb{constructor(e,n,a,l){this.url=e,this.method=n,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(i){if(!i)throw mp()}function Lx(i,e){function n(a,l){const u=ab(i,l,e);return lb(u!==null),u}return n}function Px(i,e){function n(a,l){const u=ab(i,l,e);return lb(u!==null),Vx(u,l,i.host,i._protocol)}return n}function ob(i){function e(n,a){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=$C():l=KC():n.getStatus()===402?l=YC(i.bucket):n.getStatus()===403?l=XC(i.path):l=a,l.status=n.getStatus(),l.serverResponse=a.serverResponse,l}return e}function Ux(i){const e=ob(i);function n(a,l){let u=e(a,l);return a.getStatus()===404&&(u=QC(i.path)),u.serverResponse=l.serverResponse,u}return n}function kx(i,e,n){const a=e.fullServerUrl(),l=yp(a,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new sb(l,u,Px(i,n),f);return m.errorHandler=Ux(e),m}function zx(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function jx(i,e,n){const a=Object.assign({},n);return a.fullPath=i.path,a.size=e.size(),a.contentType||(a.contentType=zx(null,e)),a}function Bx(i,e,n,a,l){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let ee="";for(let he=0;he<2;he++)ee=ee+Math.random().toString().slice(2);return ee}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const g=jx(e,a,l),E=Mx(g,n),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",D=da.getBlob(A,a,T);if(D===null)throw nx();const N={name:g.fullPath},K=yp(u,i.host,i._protocol),B="POST",U=i.maxUploadRetryTime,te=new sb(K,B,Lx(i,n),U);return te.urlParams=N,te.headers=f,te.body=D.uploadData(),te.errorHandler=ob(e),te}class Hx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,l,u){if(this.sent_)throw Oo("cannot .send() more than once");if(lu(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Oo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Oo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Oo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Oo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qx extends Hx{initXhr(){this.xhr_.responseType="text"}}function ub(){return new qx}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this._service=e,n instanceof $n?this._location=n:this._location=$n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fs(e,n)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rb(this._location.path)}get storage(){return this._service}get parent(){const e=Dx(this._location.path);if(e===null)return null;const n=new $n(this._location.bucket,e);return new fs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ax(e)}}function Fx(i,e,n){i._throwIfRoot("uploadBytes");const a=Bx(i.storage,i._location,ib(),new da(e,!0),n);return i.storage.makeRequestWithTokens(a,ub).then(l=>({metadata:l,ref:i}))}function Gx(i){i._throwIfRoot("getDownloadURL");const e=kx(i.storage,i._location,ib());return i.storage.makeRequestWithTokens(e,ub).then(n=>{if(n===null)throw rx();return n})}function Qx(i,e){const n=Cx(i._location.path,e),a=new $n(i._location.bucket,n);return new fs(i.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(i){return/^[A-Za-z]+:\/\//.test(i)}function Kx(i,e){return new fs(i,e)}function cb(i,e){if(i instanceof vp){const n=i;if(n._bucket==null)throw tx();const a=new fs(n,n._bucket);return e!=null?cb(a,e):a}else return e!==void 0?Qx(i,e):i}function $x(i,e){if(e&&Yx(e)){if(i instanceof vp)return Kx(i,e);throw Tm("To use ref(service, url), the first argument must be a Storage instance.")}else return cb(i,e)}function T0(i,e){const n=e?.[XT];return n==null?null:$n.makeFromBucketSpec(n,i)}function Xx(i,e,n,a={}){i.host=`${e}:${n}`;const l=lu(e);l&&(eE(`https://${i.host}/b`),nE("Storage",!0)),i._isUsingEmulator=!0,i._protocol=l?"https":"http";const{mockUserToken:u}=a;u&&(i._overrideAuthToken=typeof u=="string"?u:tE(u,i.app.options.projectId))}class vp{constructor(e,n,a,l,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=$T,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FC,this._maxUploadRetryTime=GC,this._requests=new Set,l!=null?this._bucket=$n.makeFromBucketSpec(l,this._host):this._bucket=T0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=T0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){E0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){E0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(oE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fs(this,e)}_makeRequest(e,n,a,l,u=!0){if(this._deleted)return new sx(ZT());{const f=yx(e,this._appId,a,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,l).getPromise()}}const b0="@firebase/storage",A0="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="storage";function Zx(i,e,n){return i=ti(i),Fx(i,e,n)}function Wx(i){return i=ti(i),Gx(i)}function Jx(i,e){return i=ti(i),$x(i,e)}function eI(i=hE(),e){i=ti(i);const a=lE(i,hb).getImmediate({identifier:e}),l=W0("storage");return l&&tI(a,...l),a}function tI(i,e,n,a={}){Xx(i,e,n,a)}function nI(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),a=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal");return new vp(n,a,l,e,uE)}function rI(){Xo(new gl(hb,nI,"PUBLIC").setMultipleInstances(!0)),ya(b0,A0,""),ya(b0,A0,"esm2017")}rI();const iI={apiKey:"AIzaSyAfEeMMgpZr8-1NGeatOe6K4NdG23HPCvI",authDomain:"saint-mark-leagues.firebaseapp.com",databaseURL:"https://saint-mark-leagues-default-rtdb.firebaseio.com",projectId:"saint-mark-leagues",storageBucket:"saint-mark-leagues.firebasestorage.app",messagingSenderId:"974377360398",appId:"1:974377360398:web:0b5865d69deff9adb6f05f"},fb=cE(iI),Sr=wC(fb),aI=eI(fb),sI=()=>{const[i,e]=W.useState(""),[n,a]=W.useState(""),[l,u]=W.useState(["","","","",""]),[f,m]=W.useState([null,null,null,null,null]),[p,g]=W.useState([]),[E,A]=W.useState({}),T=(U,te)=>{u(ee=>ee.map((he,ue)=>ue===U?te:he))},D=(U,te)=>{m(ee=>ee.map((he,ue)=>ue===U?te:he))},N=()=>{n.trim()&&(g(U=>[...U,{name:n,players:l.filter(te=>te.trim()),images:f}]),a(""),u(["","","","",""]),m([null,null,null,null,null]))},K=U=>{A(te=>({...te,[U]:!te[U]}))},B=async U=>{if(U.preventDefault(),!i.trim()||!n.trim())return alert("League and team name required!");try{const te=ml(Sr,"leagues",i),he=!(await Go(Gd(Fo(Sr,"leagues"),Qd("name","==",i)))).empty;if(!he){const R={name:i,matchMinutes:document.getElementById("matchMinutes")?.value||10,maxTeams:document.getElementById("maxTeams")?.value||6,maxPlayers:document.getElementById("maxPlayers")?.value||5,pointsWin:document.getElementById("pointsWin")?.value||3,pointsDraw:document.getElementById("pointsDraw")?.value||1,pointsLose:document.getElementById("pointsLose")?.value||0};await Qo(te,R)}const ue=i,z=ml(Sr,`leagues/${ue}/teams`,n);if(!(await Go(Gd(Fo(Sr,`leagues/${ue}/teams`),Qd("name","==",n)))).empty){alert("Team or league already exists!");return}await Qo(z,{name:n,DG:0,GA:0,Dif:0,Points:0});const w=n;await Promise.all(l.map(async(R,M)=>{if(!R.trim())return;let P="";if(f[M]){const ke=Jx(aI,`leagues/${ue}/teams/${n}/players/${R}_${Date.now()}`);await Zx(ke,f[M]),P=await Wx(ke)}const k=ml(Sr,`leagues/${ue}/teams/${w}/players`,R);(await Go(Gd(Fo(Sr,`leagues/${ue}/teams/${w}/players`),Qd("name","==",R)))).empty&&await Qo(k,{name:R,image:P,goals:0,assists:0,POTM:0})})),alert(he?`Added a new team to ${i} league!`:"League, team, and players assigned!")}catch(te){alert("Error assigning league: "+te.message)}};return G.jsxs("main",{children:[G.jsxs("header",{className:"d-top",children:[G.jsx("div",{className:"d-logo",children:G.jsx("h1",{children:"DashBoard"})}),G.jsxs("div",{className:"d-tabs",children:[G.jsx("a",{href:"",className:"d-tab",children:"2025"}),G.jsx("a",{href:"",className:"d-tab",children:"History"})]}),G.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[G.jsx("span",{className:"hamburger-bar"}),G.jsx("span",{className:"hamburger-bar"}),G.jsx("span",{className:"hamburger-bar"}),G.jsxs("div",{className:"hamburger-dropdown",children:[G.jsx("a",{href:"/saint-mark-leagues/#/dashboard",id:"active",children:"Create"}),G.jsx("a",{href:"#fixtures",children:"Fixtures"}),G.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),G.jsx("a",{href:"#scorers",children:"Top Scorers"}),G.jsx("a",{href:"#assisters",children:"Top Assisters"}),G.jsx("a",{href:"#2025",children:"2025"}),G.jsx("a",{href:"#history",children:"History"})]})]})]}),G.jsxs("div",{className:"d-container",children:[G.jsxs("div",{className:"d-nav-left",children:[G.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",id:"active",children:"Create"}),G.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Fixtures"}),G.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),G.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),G.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),G.jsxs("section",{className:"league-section default-info-section old-bw-section",style:{width:"100%",marginBottom:32},children:[G.jsx("h2",{children:"Default Information"}),G.jsxs("form",{className:"default-info-form",style:{display:"flex",flexWrap:"wrap",gap:"18px 32px",alignItems:"center"},children:[G.jsxs("div",{style:{display:"flex",flexDirection:"column",minWidth:180,width:200},children:[G.jsx("label",{htmlFor:"matchMinutes",children:G.jsx("b",{children:"Match Time (minutes):"})}),G.jsx("input",{type:"number",id:"matchMinutes",name:"matchMinutes",min:"1",max:"180",placeholder:"e.g. 90",className:"default-info-input"})]}),G.jsxs("div",{style:{display:"flex",flexDirection:"column",minWidth:180,width:200},children:[G.jsx("label",{htmlFor:"maxTeams",children:G.jsx("b",{children:"Max Teams in a Group:"})}),G.jsx("input",{type:"number",id:"maxTeams",name:"maxTeams",min:"2",max:"32",placeholder:"e.g. 6",className:"default-info-input"})]}),G.jsxs("div",{style:{display:"flex",flexDirection:"column",minWidth:180,width:200},children:[G.jsx("label",{htmlFor:"maxPlayers",children:G.jsx("b",{children:"Max player in a Team:"})}),G.jsx("input",{type:"number",id:"maxPlayers",name:"matchMinutes",min:"1",max:"180",placeholder:"e.g. 5",className:"default-info-input"})]}),G.jsxs("div",{style:{display:"flex",flexDirection:"column",minWidth:180,width:200},children:[G.jsx("label",{htmlFor:"pointsWin",children:G.jsx("b",{children:"Points per Win"})}),G.jsx("input",{type:"number",id:"pointsWin",name:"maxTeams",min:"0",max:"32",placeholder:"default",className:"default-info-input",value:3})]}),G.jsxs("div",{style:{display:"flex",flexDirection:"column",minWidth:180,width:200},children:[G.jsx("label",{htmlFor:"pointsDraw",children:G.jsx("b",{children:"Points per Draw"})}),G.jsx("input",{type:"number",id:"pointsDraw",name:"maxTeams",min:"0",max:"32",placeholder:"default",className:"default-info-input",value:1})]}),G.jsxs("div",{style:{display:"flex",flexDirection:"column",minWidth:180,width:200},children:[G.jsx("label",{htmlFor:"pointsLose",children:G.jsx("b",{children:"Points per Lose"})}),G.jsx("input",{type:"number",id:"pointsLose",name:"maxTeams",min:"0",max:"32",placeholder:"default",className:"default-info-input",value:0})]})]})]}),G.jsxs("div",{className:"d-section-main old-bw-layout",children:[G.jsxs("section",{className:"league-section league-section-name old-bw-section",style:{width:"100%",marginBottom:32},children:[G.jsx("h2",{children:"League Name"}),G.jsx("input",{type:"text",id:"leagueName",name:"leagueName",placeholder:"Enter league name",value:i,onChange:U=>e(U.target.value),required:!0,className:"league-name-input"})]})," ",G.jsx("br",{}),G.jsxs("div",{className:"old-bw-row",style:{display:"flex",width:"100%",gap:32},children:[G.jsxs("section",{className:"league-section league-section-add-team old-bw-section",style:{flex:1},children:[G.jsx("h2",{children:"Add Team"}),G.jsx("input",{type:"text",placeholder:"Team Name",className:"team-name-input",value:n,onChange:U=>a(U.target.value),required:!0}),G.jsx("div",{className:"players-list",children:l.map((U,te)=>G.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[G.jsx("input",{type:"text",placeholder:`Player ${te+1}`,className:"player-input",value:U,onChange:ee=>T(te,ee.target.value),id:"players-input",required:!0}),G.jsx("input",{type:"file",accept:"image/*",id:`player-image-input-${te}`,style:{display:"none"},onChange:ee=>{ee.target.files&&ee.target.files[0]&&D(te,ee.target.files[0])}}),f[te]?G.jsx("img",{src:URL.createObjectURL(f[te]),alt:`Player ${te+1} Preview`,style:{width:32,height:32,borderRadius:"50%",objectFit:"cover",border:"1px solid #222",cursor:"pointer",filter:"grayscale(1)"},title:"Change Player Image",onClick:()=>document.getElementById(`player-image-input-${te}`).click()}):G.jsx("button",{type:"button",className:"add-image-btn",title:"Add Player Image",style:{padding:"6px 10px",borderRadius:6,border:"1px solid #222",background:"#fff",color:"#111",cursor:"pointer",fontSize:13},onClick:()=>document.getElementById(`player-image-input-${te}`).click(),children:"📷"})]},te))}),G.jsx("button",{type:"button",className:"add-team-btn",onClick:N,children:"Add Team"})]}),G.jsxs("section",{className:"league-section league-section-teams old-bw-section",style:{flex:1},children:[G.jsx("h2",{children:"Teams Assigned"}),p.length===0&&G.jsx("div",{style:{color:"#888",fontStyle:"italic"},children:"No teams added yet."}),p.map((U,te)=>G.jsxs("div",{className:"team-card",style:{background:"#fff",border:"1.2px solid #222",color:"#111",paddingBottom:16},children:[G.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[G.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[G.jsx("span",{style:{fontWeight:700,fontSize:"1.08rem",marginBottom:6},children:U.name}),E[te]&&U.players.length>0&&G.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6,marginTop:4},children:U.players.map((ee,he)=>G.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[U.images&&U.images[he]?G.jsx("img",{src:URL.createObjectURL(U.images[he]),alt:ee,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",border:"1px solid #222",marginRight:6}}):G.jsx("span",{style:{width:28,height:28,borderRadius:"50%",background:"#eee",display:"inline-block",marginRight:6}}),G.jsx("span",{children:ee})]},he))})]}),G.jsx("button",{type:"button",className:"expand-btn",style:{color:"#111",alignSelf:"flex-start"},onClick:()=>K(te),children:E[te]?"▼":"▶"})]}),E[te]&&U.players.length===0&&G.jsx("div",{style:{color:"#888",marginTop:8},children:"No players"})]},te))]})]}),G.jsx("button",{type:"submit",className:"submit-league-btn",style:{marginTop:16,alignSelf:"flex-start"},id:"submit-league-btn",onClick:B,children:"Assign League"})]})]})]})},sl=["#f59e42","#2563eb","#10b981","#e11d48","#6366f1","#fbbf24","#14b8a6","#f43f5e","#a3e635","#f472b6"],lI=()=>{const[i,e]=W.useState([]),[n,a]=W.useState(!1),[l,u]=W.useState(6),[f,m]=W.useState(""),[p,g]=W.useState("");W.useEffect(()=>{if(!f)return;(async()=>{a(!0),g("");try{const T=ml(Sr,"leagues",f),D=await BC(T);if(!D.exists()){g("League not found."),e([]),a(!1);return}const K=D.data().maxTeams||6;u(K);const B=Fo(Sr,`leagues/${f}/teams`),U=await Go(B);let te=[];U.forEach(ue=>{const z=ue.data();te.push({name:z.name,DG:z.DG||0,GA:z.GA||0,Dif:z.Dif||0,Points:z.Points||0,group:z.group||null})});let ee={};te.forEach(ue=>{ue.group&&(ee[ue.group]||(ee[ue.group]=[]),ee[ue.group].push(ue))});let he=[];Object.keys(ee).sort().forEach(ue=>{const z=ee[ue].sort((I,w)=>w.Points!==I.Points?w.Points-I.Points:w.Dif!==I.Dif?w.Dif-I.Dif:w.GA!==I.GA?w.GA-I.GA:I.DG-w.DG);he.push(z)}),e(he)}catch{g("Error loading teams."),e([])}a(!1)})()},[f]);const E=async()=>{try{const A=Fo(Sr,`leagues/${f}/groups`),T=await Go(A);for(const D of T.docs)await HC(D.ref);for(let D=0;D<i.length;D++){const N=String.fromCharCode(65+D),K=ml(Sr,`leagues/${f}/groups`,N);await Qo(K,{teams:i[D]},{merge:!0});for(let B of i[D]){const U=ml(Sr,`leagues/${f}/teams`,B);await Qo(U,{group:N},{merge:!0})}}alert("Groups saved!")}catch(A){alert("Error saving groups: "+A.message)}};return G.jsxs("main",{children:[G.jsxs("header",{className:"d-top",children:[G.jsx("div",{className:"d-logo",children:G.jsx("h1",{children:"Groups"})}),G.jsxs("div",{className:"d-tabs",children:[G.jsx("a",{href:"",className:"d-tab",children:"2025"}),G.jsx("a",{href:"",className:"d-tab",children:"History"})]}),G.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[G.jsx("span",{className:"hamburger-bar"}),G.jsx("span",{className:"hamburger-bar"}),G.jsx("span",{className:"hamburger-bar"}),G.jsxs("div",{className:"hamburger-dropdown",children:[G.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),G.jsx("a",{href:"/saint-mark-leagues/#/groups",children:"Make Groups"}),G.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),G.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),G.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),G.jsx("a",{href:"#2025",children:"2025"}),G.jsx("a",{href:"#history",children:"History"})]})]})]}),G.jsxs("div",{className:"d-container",children:[G.jsxs("div",{className:"d-nav-left",children:[G.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),G.jsx("a",{href:"/saint-mark-leagues/#/groups",className:"d-nav-links",id:"active",children:"Make Groups"}),G.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Fixtures"}),G.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),G.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),G.jsxs("div",{className:"groups-super-page",style:{width:"100%"},children:[G.jsxs("header",{className:"groups-header",children:[G.jsx("h1",{className:"groups-title",children:"Groups Draw"}),G.jsx("div",{className:"groups-controls",children:G.jsx("input",{type:"text",className:"groups-league-input",placeholder:"Enter League Name...",value:f,onChange:A=>m(A.target.value)})})]}),p&&(!f||p!=="League not found.")&&G.jsx("div",{className:"groups-error",children:p}),n?G.jsx("div",{className:"groups-loading",children:"Loading groups..."}):G.jsx("div",{className:"groups-list-super",children:i.map((A,T)=>G.jsxs("div",{className:"groups-super-card classic-group",style:{background:sl[T%sl.length],boxShadow:"0 2px 12px #0002",borderRadius:"14px",padding:"18px 14px",margin:"18px",minWidth:220,maxWidth:340,flex:"1 1 260px",color:"#fff",border:"2px solid #fff",position:"relative",overflow:"hidden"},children:[G.jsxs("div",{className:"groups-super-label classic-group-title",style:{fontWeight:700,fontSize:"1.5rem",letterSpacing:"2px",marginBottom:12,color:"#fff",borderBottom:"2px solid #fff",paddingBottom:8},children:["Group ",String.fromCharCode(65+T)]}),G.jsxs("table",{style:{width:"100%",background:"#fff",color:sl[T%sl.length],borderRadius:"8px",boxShadow:"0 2px 8px #0001",borderCollapse:"collapse",marginBottom:"8px"},children:[G.jsx("thead",{children:G.jsxs("tr",{style:{background:sl[T%sl.length],color:"#fff"},children:[G.jsx("th",{style:{padding:"8px"},children:"Team"}),G.jsx("th",{style:{padding:"8px"},children:"DG"}),G.jsx("th",{style:{padding:"8px"},children:"GA"}),G.jsx("th",{style:{padding:"8px"},children:"Dif"}),G.jsx("th",{style:{padding:"8px"},children:"Points"})]})}),G.jsx("tbody",{children:A.map(D=>G.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[G.jsx("td",{style:{padding:"8px",fontWeight:600},children:D.name}),G.jsx("td",{style:{padding:"8px"},children:D.DG}),G.jsx("td",{style:{padding:"8px"},children:D.GA}),G.jsx("td",{style:{padding:"8px"},children:D.Dif}),G.jsx("td",{style:{padding:"8px",fontWeight:700},children:D.Points})]},D.name))})]})]},T))}),G.jsx("button",{className:"save-groups-btn",style:{margin:"32px auto 0 auto",display:"block",padding:"14px 38px",fontWeight:700,fontSize:"1.2rem",borderRadius:"8px",background:"#2563eb",color:"#fff",border:"none",boxShadow:"0 2px 8px #2563eb22",cursor:"pointer"},onClick:E,children:"Save Groups"})]})]})]})},oI=zS([{path:"/",element:G.jsx(JS,{})},{path:"/dashboard",element:G.jsx(sI,{})},{path:"/make-groups",element:G.jsx(lI,{})}]);G1.createRoot(document.getElementById("root")).render(G.jsx(W.StrictMode,{children:G.jsx(WS,{router:oI})}));
