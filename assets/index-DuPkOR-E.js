(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function W1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function Z1(){if(u_)return kl;u_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var c_;function J1(){return c_||(c_=1,Hd.exports=Z1()),Hd.exports}var E=J1(),qd={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function ew(){if(h_)return $e;h_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,G={};function q(P,Y,ae){this.props=P,this.context=Y,this.refs=G,this.updater=ae||O}q.prototype.isReactComponent={},q.prototype.setState=function(P,Y){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Y,"setState")},q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function H(){}H.prototype=q.prototype;function se(P,Y,ae){this.props=P,this.context=Y,this.refs=G,this.updater=ae||O}var B=se.prototype=new H;B.constructor=se,V(B,q.prototype),B.isPureReactComponent=!0;var oe=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function M(P,Y,ae,re,he,be){return ae=be.ref,{$$typeof:r,type:P,key:Y,ref:ae!==void 0?ae:null,props:be}}function w(P,Y){return M(P.type,Y,void 0,void 0,void 0,P.props)}function x(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function R(P){var Y={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ae){return Y[ae]})}var I=/\/+/g;function N(P,Y){return typeof P=="object"&&P!==null&&P.key!=null?R(""+P.key):Y.toString(36)}function D(){}function ue(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(Y){P.status==="pending"&&(P.status="fulfilled",P.value=Y)},function(Y){P.status==="pending"&&(P.status="rejected",P.reason=Y)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ye(P,Y,ae,re,he){var be=typeof P;(be==="undefined"||be==="boolean")&&(P=null);var Te=!1;if(P===null)Te=!0;else switch(be){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(P.$$typeof){case r:case e:Te=!0;break;case v:return Te=P._init,ye(Te(P._payload),Y,ae,re,he)}}if(Te)return he=he(P),Te=re===""?"."+N(P,0):re,oe(he)?(ae="",Te!=null&&(ae=Te.replace(I,"$&/")+"/"),ye(he,Y,ae,"",function(Et){return Et})):he!=null&&(x(he)&&(he=w(he,ae+(he.key==null||P&&P.key===he.key?"":(""+he.key).replace(I,"$&/")+"/")+Te)),Y.push(he)),1;Te=0;var rt=re===""?".":re+":";if(oe(P))for(var Ve=0;Ve<P.length;Ve++)re=P[Ve],be=rt+N(re,Ve),Te+=ye(re,Y,ae,be,he);else if(Ve=b(P),typeof Ve=="function")for(P=Ve.call(P),Ve=0;!(re=P.next()).done;)re=re.value,be=rt+N(re,Ve++),Te+=ye(re,Y,ae,be,he);else if(be==="object"){if(typeof P.then=="function")return ye(ue(P),Y,ae,re,he);throw Y=String(P),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Te}function L(P,Y,ae){if(P==null)return P;var re=[],he=0;return ye(P,re,"","",function(be){return Y.call(ae,be,he++)}),re}function ie(P){if(P._status===-1){var Y=P._result;Y=Y(),Y.then(function(ae){(P._status===0||P._status===-1)&&(P._status=1,P._result=ae)},function(ae){(P._status===0||P._status===-1)&&(P._status=2,P._result=ae)}),P._status===-1&&(P._status=0,P._result=Y)}if(P._status===1)return P._result.default;throw P._result}var $=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function ve(){}return $e.Children={map:L,forEach:function(P,Y,ae){L(P,function(){Y.apply(this,arguments)},ae)},count:function(P){var Y=0;return L(P,function(){Y++}),Y},toArray:function(P){return L(P,function(Y){return Y})||[]},only:function(P){if(!x(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},$e.Component=q,$e.Fragment=n,$e.Profiler=o,$e.PureComponent=se,$e.StrictMode=a,$e.Suspense=m,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,$e.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Z.H.useMemoCache(P)}},$e.cache=function(P){return function(){return P.apply(null,arguments)}},$e.cloneElement=function(P,Y,ae){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var re=V({},P.props),he=P.key,be=void 0;if(Y!=null)for(Te in Y.ref!==void 0&&(be=void 0),Y.key!==void 0&&(he=""+Y.key),Y)!k.call(Y,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Y.ref===void 0||(re[Te]=Y[Te]);var Te=arguments.length-2;if(Te===1)re.children=ae;else if(1<Te){for(var rt=Array(Te),Ve=0;Ve<Te;Ve++)rt[Ve]=arguments[Ve+2];re.children=rt}return M(P.type,he,void 0,void 0,be,re)},$e.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},$e.createElement=function(P,Y,ae){var re,he={},be=null;if(Y!=null)for(re in Y.key!==void 0&&(be=""+Y.key),Y)k.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(he[re]=Y[re]);var Te=arguments.length-2;if(Te===1)he.children=ae;else if(1<Te){for(var rt=Array(Te),Ve=0;Ve<Te;Ve++)rt[Ve]=arguments[Ve+2];he.children=rt}if(P&&P.defaultProps)for(re in Te=P.defaultProps,Te)he[re]===void 0&&(he[re]=Te[re]);return M(P,be,void 0,void 0,null,he)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(P){return{$$typeof:g,render:P}},$e.isValidElement=x,$e.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ie}},$e.memo=function(P,Y){return{$$typeof:p,type:P,compare:Y===void 0?null:Y}},$e.startTransition=function(P){var Y=Z.T,ae={};Z.T=ae;try{var re=P(),he=Z.S;he!==null&&he(ae,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ve,$)}catch(be){$(be)}finally{Z.T=Y}},$e.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},$e.use=function(P){return Z.H.use(P)},$e.useActionState=function(P,Y,ae){return Z.H.useActionState(P,Y,ae)},$e.useCallback=function(P,Y){return Z.H.useCallback(P,Y)},$e.useContext=function(P){return Z.H.useContext(P)},$e.useDebugValue=function(){},$e.useDeferredValue=function(P,Y){return Z.H.useDeferredValue(P,Y)},$e.useEffect=function(P,Y,ae){var re=Z.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(P,Y)},$e.useId=function(){return Z.H.useId()},$e.useImperativeHandle=function(P,Y,ae){return Z.H.useImperativeHandle(P,Y,ae)},$e.useInsertionEffect=function(P,Y){return Z.H.useInsertionEffect(P,Y)},$e.useLayoutEffect=function(P,Y){return Z.H.useLayoutEffect(P,Y)},$e.useMemo=function(P,Y){return Z.H.useMemo(P,Y)},$e.useOptimistic=function(P,Y){return Z.H.useOptimistic(P,Y)},$e.useReducer=function(P,Y,ae){return Z.H.useReducer(P,Y,ae)},$e.useRef=function(P){return Z.H.useRef(P)},$e.useState=function(P){return Z.H.useState(P)},$e.useSyncExternalStore=function(P,Y,ae){return Z.H.useSyncExternalStore(P,Y,ae)},$e.useTransition=function(){return Z.H.useTransition()},$e.version="19.1.0",$e}var f_;function Kg(){return f_||(f_=1,qd.exports=ew()),qd.exports}var z=Kg(),Fd={exports:{}},jl={},Gd={exports:{}},$d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function tw(){return d_||(d_=1,function(r){function e(L,ie){var $=L.length;L.push(ie);e:for(;0<$;){var ve=$-1>>>1,P=L[ve];if(0<o(P,ie))L[ve]=ie,L[$]=P,$=ve;else break e}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var ie=L[0],$=L.pop();if($!==ie){L[0]=$;e:for(var ve=0,P=L.length,Y=P>>>1;ve<Y;){var ae=2*(ve+1)-1,re=L[ae],he=ae+1,be=L[he];if(0>o(re,$))he<P&&0>o(be,re)?(L[ve]=be,L[he]=$,ve=he):(L[ve]=re,L[ae]=$,ve=ae);else if(he<P&&0>o(be,$))L[ve]=be,L[he]=$,ve=he;else break e}}return ie}function o(L,ie){var $=L.sortIndex-ie.sortIndex;return $!==0?$:L.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var m=[],p=[],v=1,S=null,b=3,O=!1,V=!1,G=!1,q=!1,H=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function oe(L){for(var ie=n(p);ie!==null;){if(ie.callback===null)a(p);else if(ie.startTime<=L)a(p),ie.sortIndex=ie.expirationTime,e(m,ie);else break;ie=n(p)}}function Z(L){if(G=!1,oe(L),!V)if(n(m)!==null)V=!0,k||(k=!0,N());else{var ie=n(p);ie!==null&&ye(Z,ie.startTime-L)}}var k=!1,M=-1,w=5,x=-1;function R(){return q?!0:!(r.unstable_now()-x<w)}function I(){if(q=!1,k){var L=r.unstable_now();x=L;var ie=!0;try{e:{V=!1,G&&(G=!1,se(M),M=-1),O=!0;var $=b;try{t:{for(oe(L),S=n(m);S!==null&&!(S.expirationTime>L&&R());){var ve=S.callback;if(typeof ve=="function"){S.callback=null,b=S.priorityLevel;var P=ve(S.expirationTime<=L);if(L=r.unstable_now(),typeof P=="function"){S.callback=P,oe(L),ie=!0;break t}S===n(m)&&a(m),oe(L)}else a(m);S=n(m)}if(S!==null)ie=!0;else{var Y=n(p);Y!==null&&ye(Z,Y.startTime-L),ie=!1}}break e}finally{S=null,b=$,O=!1}ie=void 0}}finally{ie?N():k=!1}}}var N;if(typeof B=="function")N=function(){B(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ue=D.port2;D.port1.onmessage=I,N=function(){ue.postMessage(null)}}else N=function(){H(I,0)};function ye(L,ie){M=H(function(){L(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(L){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var $=b;b=ie;try{return L()}finally{b=$}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(L,ie){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=b;b=L;try{return ie()}finally{b=$}},r.unstable_scheduleCallback=function(L,ie,$){var ve=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ve+$:ve):$=ve,L){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=$+P,L={id:v++,callback:ie,priorityLevel:L,startTime:$,expirationTime:P,sortIndex:-1},$>ve?(L.sortIndex=$,e(p,L),n(m)===null&&L===n(p)&&(G?(se(M),M=-1):G=!0,ye(Z,$-ve))):(L.sortIndex=P,e(m,L),V||O||(V=!0,k||(k=!0,N()))),L},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(L){var ie=b;return function(){var $=b;b=ie;try{return L.apply(this,arguments)}finally{b=$}}}}($d)),$d}var g_;function nw(){return g_||(g_=1,Gd.exports=tw()),Gd.exports}var Yd={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function rw(){if(m_)return xn;m_=1;var r=Kg();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:p,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,xn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,v)},xn.flushSync=function(m){var p=h.T,v=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=p,a.p=v,a.d.f()}},xn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},xn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},xn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,S=g(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:O}):v==="script"&&a.d.X(m,{crossOrigin:S,integrity:b,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},xn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},xn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=g(v,p.crossOrigin);a.d.L(m,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},xn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=g(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},xn.requestFormReset=function(m){a.d.r(m)},xn.unstable_batchedUpdates=function(m,p){return m(p)},xn.useFormState=function(m,p,v){return h.H.useFormState(m,p,v)},xn.useFormStatus=function(){return h.H.useHostTransitionStatus()},xn.version="19.1.0",xn}var p_;function EE(){if(p_)return Yd.exports;p_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yd.exports=rw(),Yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function iw(){if(y_)return jl;y_=1;var r=nw(),e=Kg(),n=EE();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(a(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return g(f),t;if(d===l)return g(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var T=!1,A=f.child;A;){if(A===s){T=!0,s=f,l=d;break}if(A===l){T=!0,l=f,s=d;break}A=A.sibling}if(!T){for(A=d.child;A;){if(A===s){T=!0,s=d,l=f;break}if(A===l){T=!0,l=d,s=f;break}A=A.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),B=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case q:return"Profiler";case G:return"StrictMode";case Z:return"Suspense";case k:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case B:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:ue(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return ue(t(i))}catch{}}return null}var ye=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ve=[],P=-1;function Y(t){return{current:t}}function ae(t){0>P||(t.current=ve[P],ve[P]=null,P--)}function re(t,i){P++,ve[P]=t.current,t.current=i}var he=Y(null),be=Y(null),Te=Y(null),rt=Y(null);function Ve(t,i){switch(re(Te,i),re(be,t),re(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?jv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=jv(i),t=Lv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(he),re(he,t)}function Et(){ae(he),ae(be),ae(Te)}function gt(t){t.memoizedState!==null&&re(rt,t);var i=he.current,s=Lv(i,t.type);i!==s&&(re(be,t),re(he,s))}function sn(t){be.current===t&&(ae(he),ae(be)),rt.current===t&&(ae(rt),Nl._currentValue=$)}var Ln=Object.prototype.hasOwnProperty,ar=r.unstable_scheduleCallback,In=r.unstable_cancelCallback,La=r.unstable_shouldYield,Cs=r.unstable_requestPaint,Nn=r.unstable_now,Lo=r.unstable_getCurrentPriorityLevel,Ua=r.unstable_ImmediatePriority,qi=r.unstable_UserBlockingPriority,di=r.unstable_NormalPriority,Cr=r.unstable_LowPriority,sr=r.unstable_IdlePriority,Fi=r.log,Gi=r.unstable_setDisableYieldValue,ft=null,Ye=null;function Sn(t){if(typeof Fi=="function"&&Gi(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ft,t)}catch{}}var qt=Math.clz32?Math.clz32:jr,Is=Math.log,or=Math.LN2;function jr(t){return t>>>=0,t===0?32:31-(Is(t)/or|0)|0}var Lr=256,Ur=4194304;function Fn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=Fn(l):(T&=A,T!==0?f=Fn(T):s||(s=A&~t,s!==0&&(f=Fn(s))))):(A=l&~d,A!==0?f=Fn(A):T!==0?f=Fn(T):s||(s=l&~t,s!==0&&(f=Fn(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function lr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $i(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(){var t=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),t}function Ba(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function ur(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Ir(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yi(t,i,s,l,f,d){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var A=t.entanglements,j=t.expirationTimes,ee=t.hiddenUpdates;for(s=T&~s;0<s;){var ce=31-qt(s),ge=1<<ce;A[ce]=0,j[ce]=-1;var te=ee[ce];if(te!==null)for(ee[ce]=null,ce=0;ce<te.length;ce++){var ne=te[ce];ne!==null&&(ne.lane&=-536870913)}s&=~ge}l!==0&&On(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(T&~i))}function On(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Br(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-qt(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function zr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function U(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:r_(t.type))}function K(t,i){var s=ie.p;try{return ie.p=t,i()}finally{ie.p=s}}var J=Math.random().toString(36).slice(2),me="__reactFiber$"+J,_e="__reactProps$"+J,Ae="__reactContainer$"+J,Oe="__reactEvents$"+J,xe="__reactListeners$"+J,Ce="__reactHandles$"+J,De="__reactResources$"+J,ke="__reactMarker$"+J;function Me(t){delete t[me],delete t[_e],delete t[Oe],delete t[xe],delete t[Ce]}function Ue(t){var i=t[me];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Ae]||s[me]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Hv(t);t!==null;){if(s=t[me])return s;t=Hv(t)}return i}t=s,s=t.parentNode}return null}function Ze(t){if(t=t[me]||t[Ae]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function mt(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ct(t){var i=t[De];return i||(i=t[De]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(t){t[ke]=!0}var Xe=new Set,cr={};function Zt(t,i){Mn(t,i),Mn(t+"Capture",i)}function Mn(t,i){for(cr[t]=i,t=0;t<i.length;t++)Xe.add(i[t])}var dn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Gn={};function Ki(t){return Ln.call(Gn,t)?!0:Ln.call(Hr,t)?!1:dn.test(t)?Gn[t]=!0:(Hr[t]=!0,!1)}function wn(t,i,s){if(Ki(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Pn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function ze(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var Ft,$n;function Un(t){if(Ft===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ft=i&&i[1]||"",$n=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+t+$n}var qr=!1;function At(t,i){if(!t||qr)return"";qr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ne){var te=ne}Reflect.construct(t,[],ge)}else{try{ge.call()}catch(ne){te=ne}t.call(ge.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ge=t())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],A=d[1];if(T&&A){var j=T.split(`
`),ee=A.split(`
`);for(f=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;if(l===j.length||f===ee.length)for(l=j.length-1,f=ee.length-1;1<=l&&0<=f&&j[l]!==ee[f];)f--;for(;1<=l&&0<=f;l--,f--)if(j[l]!==ee[f]){if(l!==1||f!==1)do if(l--,f--,0>f||j[l]!==ee[f]){var ce=`
`+j[l].replace(" at new "," at ");return t.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",t.displayName)),ce}while(1<=l&&0<=f);break}}}finally{qr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Un(s):""}function hr(t){switch(t.tag){case 26:case 27:case 5:return Un(t.type);case 16:return Un("Lazy");case 13:return Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return At(t.type,!1);case 11:return At(t.type.render,!1);case 1:return At(t.type,!0);case 31:return Un("Activity");default:return""}}function pi(t){try{var i="";do i+=hr(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function gn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gh(t){var i=Uo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ns(t){t._valueTracker||(t._valueTracker=Gh(t))}function Bo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Uo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $h=/[\n"\\]/g;function Gt(t){return t.replace($h,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Yn(t,i,s,l,f,d,T,A){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+gn(i)):t.value!==""+gn(i)&&(t.value=""+gn(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Xi(t,T,gn(i)):s!=null?Xi(t,T,gn(s)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+gn(A):t.removeAttribute("name")}function Ha(t,i,s,l,f,d,T,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+gn(s):"",i=i!=null?""+gn(i):s,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Xi(t,i,s){i==="number"&&za(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function yi(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+gn(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Tt(t,i,s){if(i!=null&&(i=""+gn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+gn(s):""}function qa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(ye(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=gn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function fr(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Fa.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function zo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Su(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Su(t,d,i[d])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(t){return Qh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vi=null;function dr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,Ei=null;function qo(t){var i=Ze(t);if(i&&(t=i.stateNode)){var s=t[_e]||null;e:switch(t=i.stateNode,i.type){case"input":if(Yn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Gt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[_e]||null;if(!f)throw Error(a(90));Yn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Bo(l)}break e;case"textarea":Tt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&yi(t,!!s.multiple,i,!1)}}}var Fr=!1;function wu(t,i,s){if(Fr)return t(i,s);Fr=!0;try{var l=t(i);return l}finally{if(Fr=!1,(_i!==null||Ei!==null)&&(yc(),_i&&(i=_i,t=Ei,Ei=_i=null,qo(i),t)))for(i=0;i<t.length;i++)qo(t[i])}}function Ga(t,i){var s=t.stateNode;if(s===null)return null;var l=s[_e]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(Nr)try{var $a={};Object.defineProperty($a,"passive",{get:function(){gr=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{gr=!1}var Gr=null,Wi=null,Ti=null;function Fo(){if(Ti)return Ti;var t,i=Wi,s=i.length,l,f="value"in Gr?Gr.value:Gr.textContent,d=f.length;for(t=0;t<s&&i[t]===f[t];t++);var T=s-t;for(l=1;l<=T&&i[s-l]===f[d-l];l++);return Ti=f.slice(t,1<l?1-l:void 0)}function $r(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yr(){return!0}function Go(){return!1}function on(t){function i(s,l,f,d,T){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yr:Go,this.isPropagationStopped=Go,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),i}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=on(pt),Ya=v({},pt,{view:0,detail:0}),Au=on(Ya),Ps,Vs,Qr,Qa=v({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qr&&(Qr&&t.type==="mousemove"?(Ps=t.screenX-Qr.screenX,Vs=t.screenY-Qr.screenY):Vs=Ps=0,Qr=t),Ps)},movementY:function(t){return"movementY"in t?t.movementY:Vs}}),mr=on(Qa),xu=v({},Qa,{dataTransfer:0}),Kh=on(xu),Ka=v({},Ya,{relatedTarget:0}),ks=on(Ka),$o=v({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),js=on($o),Ru=v({},pt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ls=on(Ru),Xh=v({},pt,{data:0}),Yo=on(Xh),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Cu[t])?!!i[t]:!1}function Wa(){return Qo}var Iu=v({},Ya,{key:function(t){if(t.key){var i=Xa[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(t){return t.type==="keypress"?$r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Us=on(Iu),Nu=v({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=on(Nu),bi=v({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Ou=on(bi),Mu=v({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=on(Mu),Vu=v({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bs=on(Vu),Vn=v({},pt,{newState:0,oldState:0}),ku=on(Vn),ju=[9,13,27,32],Kr=Nr&&"CompositionEvent"in window,c=null;Nr&&"documentMode"in document&&(c=document.documentMode);var y=Nr&&"TextEvent"in window&&!c,_=Nr&&(!Kr||c&&8<c&&11>=c),C=" ",X=!1;function le(t,i){switch(t){case"keyup":return ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ee(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var at=!1;function Jt(t,i){switch(t){case"compositionend":return Ee(i);case"keypress":return i.which!==32?null:(X=!0,C);case"textInput":return t=i.data,t===C&&X?null:t;default:return null}}function st(t,i){if(at)return t==="compositionend"||!Kr&&le(t,i)?(t=Fo(),Ti=Wi=Gr=null,at=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ln[t.type]:i==="textarea"}function Si(t,i,s,l){_i?Ei?Ei.push(l):Ei=[l]:_i=l,i=Sc(i,"onChange"),0<i.length&&(s=new Ms("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var mn=null,Xr=null;function Xo(t){Ov(t,0)}function Lu(t){var i=mt(t);if(Bo(i))return t}function Jm(t,i){if(t==="change")return i}var ep=!1;if(Nr){var Wh;if(Nr){var Zh="oninput"in document;if(!Zh){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),Zh=typeof tp.oninput=="function"}Wh=Zh}else Wh=!1;ep=Wh&&(!document.documentMode||9<document.documentMode)}function np(){mn&&(mn.detachEvent("onpropertychange",rp),Xr=mn=null)}function rp(t){if(t.propertyName==="value"&&Lu(Xr)){var i=[];Si(i,Xr,t,dr(t)),wu(Xo,i)}}function RS(t,i,s){t==="focusin"?(np(),mn=i,Xr=s,mn.attachEvent("onpropertychange",rp)):t==="focusout"&&np()}function DS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Xr)}function CS(t,i){if(t==="click")return Lu(i)}function IS(t,i){if(t==="input"||t==="change")return Lu(i)}function NS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Qn=typeof Object.is=="function"?Object.is:NS;function Wo(t,i){if(Qn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Ln.call(i,f)||!Qn(t[f],i[f]))return!1}return!0}function ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ap(t,i){var s=ip(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ip(s)}}function sp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?sp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function op(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=za(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=za(t.document)}return i}function Jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var OS=Nr&&"documentMode"in document&&11>=document.documentMode,zs=null,ef=null,Zo=null,tf=!1;function lp(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;tf||zs==null||zs!==za(l)||(l=zs,"selectionStart"in l&&Jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Wo(Zo,l)||(Zo=l,l=Sc(ef,"onSelect"),0<l.length&&(i=new Ms("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=zs)))}function Za(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Hs={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},nf={},up={};Nr&&(up=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Ja(t){if(nf[t])return nf[t];if(!Hs[t])return t;var i=Hs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in up)return nf[t]=i[s];return t}var cp=Ja("animationend"),hp=Ja("animationiteration"),fp=Ja("animationstart"),MS=Ja("transitionrun"),PS=Ja("transitionstart"),VS=Ja("transitioncancel"),dp=Ja("transitionend"),gp=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function Or(t,i){gp.set(t,i),Zt(i,[t])}var mp=new WeakMap;function pr(t,i){if(typeof t=="object"&&t!==null){var s=mp.get(t);return s!==void 0?s:(i={value:t,source:i,stack:pi(i)},mp.set(t,i),i)}return{value:t,source:i,stack:pi(i)}}var yr=[],qs=0,af=0;function Uu(){for(var t=qs,i=af=qs=0;i<t;){var s=yr[i];yr[i++]=null;var l=yr[i];yr[i++]=null;var f=yr[i];yr[i++]=null;var d=yr[i];if(yr[i++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}d!==0&&pp(s,f,d)}}function Bu(t,i,s,l){yr[qs++]=t,yr[qs++]=i,yr[qs++]=s,yr[qs++]=l,af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sf(t,i,s,l){return Bu(t,i,s,l),zu(t)}function Fs(t,i){return Bu(t,null,null,i),zu(t)}function pp(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-qt(s),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function zu(t){if(50<Sl)throw Sl=0,fd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Gs={};function kS(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,i,s,l){return new kS(t,i,s,l)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,i){var s=t.alternate;return s===null?(s=Kn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function yp(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Hu(t,i,s,l,f,d){var T=0;if(l=t,typeof t=="function")of(t)&&(T=1);else if(typeof t=="string")T=L1(t,s,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Kn(31,s,i,f),t.elementType=x,t.lanes=d,t;case V:return es(s.children,f,d,i);case G:T=8,f|=24;break;case q:return t=Kn(12,s,i,f|2),t.elementType=q,t.lanes=d,t;case Z:return t=Kn(13,s,i,f),t.elementType=Z,t.lanes=d,t;case k:return t=Kn(19,s,i,f),t.elementType=k,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case B:T=10;break e;case se:T=9;break e;case oe:T=11;break e;case M:T=14;break e;case w:T=16,l=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Kn(T,s,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function es(t,i,s,l){return t=Kn(7,t,l,i),t.lanes=s,t}function lf(t,i,s){return t=Kn(6,t,null,i),t.lanes=s,t}function uf(t,i,s){return i=Kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $s=[],Ys=0,qu=null,Fu=0,vr=[],_r=0,ts=null,Ai=1,xi="";function ns(t,i){$s[Ys++]=Fu,$s[Ys++]=qu,qu=t,Fu=i}function vp(t,i,s){vr[_r++]=Ai,vr[_r++]=xi,vr[_r++]=ts,ts=t;var l=Ai;t=xi;var f=32-qt(l)-1;l&=~(1<<f),s+=1;var d=32-qt(i)+f;if(30<d){var T=f-f%5;d=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Ai=1<<32-qt(i)+f|s<<f|l,xi=d+t}else Ai=1<<d|s<<f|l,xi=t}function cf(t){t.return!==null&&(ns(t,1),vp(t,1,0))}function hf(t){for(;t===qu;)qu=$s[--Ys],$s[Ys]=null,Fu=$s[--Ys],$s[Ys]=null;for(;t===ts;)ts=vr[--_r],vr[_r]=null,xi=vr[--_r],vr[_r]=null,Ai=vr[--_r],vr[_r]=null}var kn=null,Pt=null,dt=!1,rs=null,Wr=!1,ff=Error(a(519));function is(t){var i=Error(a(418,""));throw tl(pr(i,t)),ff}function _p(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[me]=t,i[_e]=l,s){case"dialog":et("cancel",i),et("close",i);break;case"iframe":case"object":case"embed":et("load",i);break;case"video":case"audio":for(s=0;s<Al.length;s++)et(Al[s],i);break;case"source":et("error",i);break;case"img":case"image":case"link":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"input":et("invalid",i),Ha(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ns(i);break;case"select":et("invalid",i);break;case"textarea":et("invalid",i),qa(i,l.value,l.defaultValue,l.children),Ns(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||kv(i.textContent,s)?(l.popover!=null&&(et("beforetoggle",i),et("toggle",i)),l.onScroll!=null&&et("scroll",i),l.onScrollEnd!=null&&et("scrollend",i),l.onClick!=null&&(i.onclick=wc),i=!0):i=!1,i||is(t)}function Ep(t){for(kn=t.return;kn;)switch(kn.tag){case 5:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:kn=kn.return}}function Jo(t){if(t!==kn)return!1;if(!dt)return Ep(t),dt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Dd(t.type,t.memoizedProps)),s=!s),s&&Pt&&is(t),Ep(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Pt=Pr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Pt=null}}else i===27?(i=Pt,da(t.type)?(t=Od,Od=null,Pt=t):Pt=i):Pt=kn?Pr(t.stateNode.nextSibling):null;return!0}function el(){Pt=kn=null,dt=!1}function Tp(){var t=rs;return t!==null&&(Hn===null?Hn=t:Hn.push.apply(Hn,t),rs=null),t}function tl(t){rs===null?rs=[t]:rs.push(t)}var df=Y(null),as=null,Ri=null;function Zi(t,i,s){re(df,i._currentValue),i._currentValue=s}function Di(t){t._currentValue=df.current,ae(df)}function gf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function mf(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var j=0;j<i.length;j++)if(A.context===i[j]){d.lanes|=s,A=d.alternate,A!==null&&(A.lanes|=s),gf(d.return,s,t),l||(T=null);break e}d=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=s,d=T.alternate,d!==null&&(d.lanes|=s),gf(T,s,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function nl(t,i,s,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var A=f.type;Qn(f.pendingProps.value,T.value)||(t!==null?t.push(A):t=[A])}}else if(f===rt.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}f=f.return}t!==null&&mf(i,t,s,l),i.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!Qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){as=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return bp(as,t)}function $u(t,i){return as===null&&ss(t),bp(t,i)}function bp(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ri===null){if(t===null)throw Error(a(308));Ri=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ri=Ri.next=i;return s}var jS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},LS=r.unstable_scheduleCallback,US=r.unstable_NormalPriority,tn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new jS,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&LS(US,function(){t.controller.abort()})}var il=null,yf=0,Qs=0,Ks=null;function BS(t,i){if(il===null){var s=il=[];yf=0,Qs=_d(),Ks={status:"pending",value:void 0,then:function(l){s.push(l)}}}return yf++,i.then(Sp,Sp),i}function Sp(){if(--yf===0&&il!==null){Ks!==null&&(Ks.status="fulfilled");var t=il;il=null,Qs=0,Ks=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function zS(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var wp=L.S;L.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&BS(t,i),wp!==null&&wp(t,i)};var os=Y(null);function vf(){var t=os.current;return t!==null?t:Rt.pooledCache}function Yu(t,i){i===null?re(os,os.current):re(os,i.pool)}function Ap(){var t=vf();return t===null?null:{parent:tn._currentValue,pool:t}}var al=Error(a(460)),xp=Error(a(474)),Qu=Error(a(542)),_f={then:function(){}};function Rp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ku(){}function Dp(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Ku,Ku),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ip(t),t;default:if(typeof i.status=="string")i.then(Ku,Ku);else{if(t=Rt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ip(t),t}throw sl=i,al}}var sl=null;function Cp(){if(sl===null)throw Error(a(459));var t=sl;return sl=null,t}function Ip(t){if(t===al||t===Qu)throw Error(a(483))}var Ji=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ta(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(vt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=zu(t),pp(t,null,s),i}return Bu(t,l,i,s),zu(t)}function ol(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Br(t,s)}}function bf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Sf=!1;function ll(){if(Sf){var t=Ks;if(t!==null)throw t}}function ul(t,i,s,l){Sf=!1;var f=t.updateQueue;Ji=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var j=A,ee=j.next;j.next=null,T===null?d=ee:T.next=ee,T=j;var ce=t.alternate;ce!==null&&(ce=ce.updateQueue,A=ce.lastBaseUpdate,A!==T&&(A===null?ce.firstBaseUpdate=ee:A.next=ee,ce.lastBaseUpdate=j))}if(d!==null){var ge=f.baseState;T=0,ce=ee=j=null,A=d;do{var te=A.lane&-536870913,ne=te!==A.lane;if(ne?(ot&te)===te:(l&te)===te){te!==0&&te===Qs&&(Sf=!0),ce!==null&&(ce=ce.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Be=t,Pe=A;te=i;var wt=s;switch(Pe.tag){case 1:if(Be=Pe.payload,typeof Be=="function"){ge=Be.call(wt,ge,te);break e}ge=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Pe.payload,te=typeof Be=="function"?Be.call(wt,ge,te):Be,te==null)break e;ge=v({},ge,te);break e;case 2:Ji=!0}}te=A.callback,te!==null&&(t.flags|=64,ne&&(t.flags|=8192),ne=f.callbacks,ne===null?f.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ce===null?(ee=ce=ne,j=ge):ce=ce.next=ne,T|=te;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);ce===null&&(j=ge),f.baseState=j,f.firstBaseUpdate=ee,f.lastBaseUpdate=ce,d===null&&(f.shared.lanes=0),ua|=T,t.lanes=T,t.memoizedState=ge}}function Np(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Op(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Np(s[t],i)}var Xs=Y(null),Xu=Y(0);function Mp(t,i){t=Vi,re(Xu,t),re(Xs,i),Vi=t|i.baseLanes}function wf(){re(Xu,Vi),re(Xs,Xs.current)}function Af(){Vi=Xu.current,ae(Xs),ae(Xu)}var na=0,Qe=null,bt=null,$t=null,Wu=!1,Ws=!1,ls=!1,Zu=0,cl=0,Zs=null,HS=0;function Lt(){throw Error(a(321))}function xf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Qn(t[s],i[s]))return!1;return!0}function Rf(t,i,s,l,f,d){return na=d,Qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=t===null||t.memoizedState===null?py:yy,ls=!1,d=s(l,f),ls=!1,Ws&&(d=Vp(i,s,l,f)),Pp(t),d}function Pp(t){L.H=ic;var i=bt!==null&&bt.next!==null;if(na=0,$t=bt=Qe=null,Wu=!1,cl=0,Zs=null,i)throw Error(a(300));t===null||un||(t=t.dependencies,t!==null&&Gu(t)&&(un=!0))}function Vp(t,i,s,l){Qe=t;var f=0;do{if(Ws&&(Zs=null),cl=0,Ws=!1,25<=f)throw Error(a(301));if(f+=1,$t=bt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=KS,d=i(s,l)}while(Ws);return d}function qS(){var t=L.H,i=t.useState()[0];return i=typeof i.then=="function"?hl(i):i,t=t.useState()[0],(bt!==null?bt.memoizedState:null)!==t&&(Qe.flags|=1024),i}function Df(){var t=Zu!==0;return Zu=0,t}function Cf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function If(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}na=0,$t=bt=Qe=null,Ws=!1,cl=Zu=0,Zs=null}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Qe.memoizedState=$t=t:$t=$t.next=t,$t}function Yt(){if(bt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var i=$t===null?Qe.memoizedState:$t.next;if(i!==null)$t=i,bt=t;else{if(t===null)throw Qe.alternate===null?Error(a(467)):Error(a(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},$t===null?Qe.memoizedState=$t=t:$t=$t.next=t}return $t}function Nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var i=cl;return cl+=1,Zs===null&&(Zs=[]),t=Dp(Zs,t,i),i=Qe,($t===null?i.memoizedState:$t.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?py:yy),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===B)return An(t)}throw Error(a(438,String(t)))}function Of(t){var i=null,s=Qe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Nf(),Qe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=R;return i.index++,s}function Ci(t,i){return typeof i=="function"?i(t):i}function ec(t){var i=Yt();return Mf(i,bt,t)}function Mf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var A=T=null,j=null,ee=i,ce=!1;do{var ge=ee.lane&-536870913;if(ge!==ee.lane?(ot&ge)===ge:(na&ge)===ge){var te=ee.revertLane;if(te===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ge===Qs&&(ce=!0);else if((na&te)===te){ee=ee.next,te===Qs&&(ce=!0);continue}else ge={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(A=j=ge,T=d):j=j.next=ge,Qe.lanes|=te,ua|=te;ge=ee.action,ls&&s(d,ge),d=ee.hasEagerState?ee.eagerState:s(d,ge)}else te={lane:ge,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(A=j=te,T=d):j=j.next=te,Qe.lanes|=ge,ua|=ge;ee=ee.next}while(ee!==null&&ee!==i);if(j===null?T=d:j.next=A,!Qn(d,t.memoizedState)&&(un=!0,ce&&(s=Ks,s!==null)))throw s;t.memoizedState=d,t.baseState=T,t.baseQueue=j,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pf(t){var i=Yt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var T=f=f.next;do d=t(d,T.action),T=T.next;while(T!==f);Qn(d,i.memoizedState)||(un=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function kp(t,i,s){var l=Qe,f=Yt(),d=dt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var T=!Qn((bt||f).memoizedState,s);T&&(f.memoizedState=s,un=!0),f=f.queue;var A=Up.bind(null,l,f,t);if(fl(2048,8,A,[t]),f.getSnapshot!==i||T||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,Js(9,tc(),Lp.bind(null,l,f,s,i),null),Rt===null)throw Error(a(349));d||(na&124)!==0||jp(l,i,s)}return s}function jp(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Qe.updateQueue,i===null?(i=Nf(),Qe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Lp(t,i,s,l){i.value=s,i.getSnapshot=l,Bp(i)&&zp(t)}function Up(t,i,s){return s(function(){Bp(i)&&zp(t)})}function Bp(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Qn(t,s)}catch{return!0}}function zp(t){var i=Fs(t,2);i!==null&&er(i,t,2)}function Vf(t){var i=Bn();if(typeof t=="function"){var s=t;if(t=s(),ls){Sn(!0);try{s()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},i}function Hp(t,i,s,l){return t.baseState=s,Mf(t,bt,typeof l=="function"?l:Ci)}function FS(t,i,s,l,f){if(rc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};L.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,qp(i,d)):(d.next=s.next,i.pending=s.next=d)}}function qp(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=L.T,T={};L.T=T;try{var A=s(f,l),j=L.S;j!==null&&j(T,A),Fp(t,i,A)}catch(ee){kf(t,i,ee)}finally{L.T=d}}else try{d=s(f,l),Fp(t,i,d)}catch(ee){kf(t,i,ee)}}function Fp(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Gp(t,i,l)},function(l){return kf(t,i,l)}):Gp(t,i,s)}function Gp(t,i,s){i.status="fulfilled",i.value=s,$p(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,qp(t,s)))}function kf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,$p(i),i=i.next;while(i!==l)}t.action=null}function $p(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Yp(t,i){return i}function Qp(t,i){if(dt){var s=Rt.formState;if(s!==null){e:{var l=Qe;if(dt){if(Pt){t:{for(var f=Pt,d=Wr;f.nodeType!==8;){if(!d){f=null;break t}if(f=Pr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Pt=Pr(f.nextSibling),l=f.data==="F!";break e}}is(l)}l=!1}l&&(i=s[0])}}return s=Bn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:i},s.queue=l,s=dy.bind(null,Qe,l),l.dispatch=s,l=Vf(!1),d=zf.bind(null,Qe,!1,l.queue),l=Bn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=FS.bind(null,Qe,f,d,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function Kp(t){var i=Yt();return Xp(i,bt,t)}function Xp(t,i,s){if(i=Mf(t,i,Yp)[0],t=ec(Ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=hl(i)}catch(T){throw T===al?Qu:T}else l=i;i=Yt();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Qe.flags|=2048,Js(9,tc(),GS.bind(null,f,s),null)),[l,d,t]}function GS(t,i){t.action=i}function Wp(t){var i=Yt(),s=bt;if(s!==null)return Xp(i,s,t);Yt(),i=i.memoizedState,s=Yt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Js(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Qe.updateQueue,i===null&&(i=Nf(),Qe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function tc(){return{destroy:void 0,resource:void 0}}function Zp(){return Yt().memoizedState}function nc(t,i,s,l){var f=Bn();l=l===void 0?null:l,Qe.flags|=t,f.memoizedState=Js(1|i,tc(),s,l)}function fl(t,i,s,l){var f=Yt();l=l===void 0?null:l;var d=f.memoizedState.inst;bt!==null&&l!==null&&xf(l,bt.memoizedState.deps)?f.memoizedState=Js(i,d,s,l):(Qe.flags|=t,f.memoizedState=Js(1|i,d,s,l))}function Jp(t,i){nc(8390656,8,t,i)}function ey(t,i){fl(2048,8,t,i)}function ty(t,i){return fl(4,2,t,i)}function ny(t,i){return fl(4,4,t,i)}function ry(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function iy(t,i,s){s=s!=null?s.concat([t]):null,fl(4,4,ry.bind(null,i,t),s)}function jf(){}function ay(t,i){var s=Yt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&xf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function sy(t,i){var s=Yt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&xf(i,l[1]))return l[0];if(l=t(),ls){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[l,i],l}function Lf(t,i,s){return s===void 0||(na&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=uv(),Qe.lanes|=t,ua|=t,s)}function oy(t,i,s,l){return Qn(s,i)?s:Xs.current!==null?(t=Lf(t,s,l),Qn(t,i)||(un=!0),t):(na&42)===0?(un=!0,t.memoizedState=s):(t=uv(),Qe.lanes|=t,ua|=t,i)}function ly(t,i,s,l,f){var d=ie.p;ie.p=d!==0&&8>d?d:8;var T=L.T,A={};L.T=A,zf(t,!1,i,s);try{var j=f(),ee=L.S;if(ee!==null&&ee(A,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ce=zS(j,l);dl(t,i,ce,Jn(t))}else dl(t,i,l,Jn(t))}catch(ge){dl(t,i,{then:function(){},status:"rejected",reason:ge},Jn())}finally{ie.p=d,L.T=T}}function $S(){}function Uf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=uy(t).queue;ly(t,f,i,$,s===null?$S:function(){return cy(t),s(l)})}function uy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:$},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function cy(t){var i=uy(t).next.queue;dl(t,i,{},Jn())}function Bf(){return An(Nl)}function hy(){return Yt().memoizedState}function fy(){return Yt().memoizedState}function YS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Jn();t=ea(s);var l=ta(i,t,s);l!==null&&(er(l,i,s),ol(l,i,s)),i={cache:pf()},t.payload=i;return}i=i.return}}function QS(t,i,s){var l=Jn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},rc(t)?gy(i,s):(s=sf(t,i,s,l),s!==null&&(er(s,t,l),my(s,i,l)))}function dy(t,i,s){var l=Jn();dl(t,i,s,l)}function dl(t,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(rc(t))gy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var T=i.lastRenderedState,A=d(T,s);if(f.hasEagerState=!0,f.eagerState=A,Qn(A,T))return Bu(t,i,f,0),Rt===null&&Uu(),!1}catch{}finally{}if(s=sf(t,i,f,l),s!==null)return er(s,t,l),my(s,i,l),!0}return!1}function zf(t,i,s,l){if(l={lane:2,revertLane:_d(),action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(a(479))}else i=sf(t,s,l,2),i!==null&&er(i,t,2)}function rc(t){var i=t.alternate;return t===Qe||i!==null&&i===Qe}function gy(t,i){Ws=Wu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function my(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Br(t,s)}}var ic={readContext:An,use:Ju,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},py={readContext:An,use:Ju,useCallback:function(t,i){return Bn().memoizedState=[t,i===void 0?null:i],t},useContext:An,useEffect:Jp,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,nc(4194308,4,ry.bind(null,i,t),s)},useLayoutEffect:function(t,i){return nc(4194308,4,t,i)},useInsertionEffect:function(t,i){nc(4,2,t,i)},useMemo:function(t,i){var s=Bn();i=i===void 0?null:i;var l=t();if(ls){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Bn();if(s!==void 0){var f=s(i);if(ls){Sn(!0);try{s(i)}finally{Sn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=QS.bind(null,Qe,t),[l.memoizedState,t]},useRef:function(t){var i=Bn();return t={current:t},i.memoizedState=t},useState:function(t){t=Vf(t);var i=t.queue,s=dy.bind(null,Qe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:jf,useDeferredValue:function(t,i){var s=Bn();return Lf(s,t,i)},useTransition:function(){var t=Vf(!1);return t=ly.bind(null,Qe,t.queue,!0,!1),Bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Qe,f=Bn();if(dt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Rt===null)throw Error(a(349));(ot&124)!==0||jp(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,Jp(Up.bind(null,l,d,t),[t]),l.flags|=2048,Js(9,tc(),Lp.bind(null,l,d,s,i),null),s},useId:function(){var t=Bn(),i=Rt.identifierPrefix;if(dt){var s=xi,l=Ai;s=(l&~(1<<32-qt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=Zu++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=HS++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Bf,useFormState:Qp,useActionState:Qp,useOptimistic:function(t){var i=Bn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=zf.bind(null,Qe,!0,s),s.dispatch=i,[t,i]},useMemoCache:Of,useCacheRefresh:function(){return Bn().memoizedState=YS.bind(null,Qe)}},yy={readContext:An,use:Ju,useCallback:ay,useContext:An,useEffect:ey,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:ec,useRef:Zp,useState:function(){return ec(Ci)},useDebugValue:jf,useDeferredValue:function(t,i){var s=Yt();return oy(s,bt.memoizedState,t,i)},useTransition:function(){var t=ec(Ci)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:kp,useId:hy,useHostTransitionStatus:Bf,useFormState:Kp,useActionState:Kp,useOptimistic:function(t,i){var s=Yt();return Hp(s,bt,t,i)},useMemoCache:Of,useCacheRefresh:fy},KS={readContext:An,use:Ju,useCallback:ay,useContext:An,useEffect:ey,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:Pf,useRef:Zp,useState:function(){return Pf(Ci)},useDebugValue:jf,useDeferredValue:function(t,i){var s=Yt();return bt===null?Lf(s,t,i):oy(s,bt.memoizedState,t,i)},useTransition:function(){var t=Pf(Ci)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:kp,useId:hy,useHostTransitionStatus:Bf,useFormState:Wp,useActionState:Wp,useOptimistic:function(t,i){var s=Yt();return bt!==null?Hp(s,bt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Of,useCacheRefresh:fy},eo=null,gl=0;function ac(t){var i=gl;return gl+=1,eo===null&&(eo=[]),Dp(eo,t,i)}function ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sc(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function vy(t){var i=t._init;return i(t._payload)}function _y(t){function i(Q,F){if(t){var W=Q.deletions;W===null?(Q.deletions=[F],Q.flags|=16):W.push(F)}}function s(Q,F){if(!t)return null;for(;F!==null;)i(Q,F),F=F.sibling;return null}function l(Q){for(var F=new Map;Q!==null;)Q.key!==null?F.set(Q.key,Q):F.set(Q.index,Q),Q=Q.sibling;return F}function f(Q,F){return Q=wi(Q,F),Q.index=0,Q.sibling=null,Q}function d(Q,F,W){return Q.index=W,t?(W=Q.alternate,W!==null?(W=W.index,W<F?(Q.flags|=67108866,F):W):(Q.flags|=67108866,F)):(Q.flags|=1048576,F)}function T(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function A(Q,F,W,fe){return F===null||F.tag!==6?(F=lf(W,Q.mode,fe),F.return=Q,F):(F=f(F,W),F.return=Q,F)}function j(Q,F,W,fe){var Re=W.type;return Re===V?ce(Q,F,W.props.children,fe,W.key):F!==null&&(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===w&&vy(Re)===F.type)?(F=f(F,W.props),ml(F,W),F.return=Q,F):(F=Hu(W.type,W.key,W.props,null,Q.mode,fe),ml(F,W),F.return=Q,F)}function ee(Q,F,W,fe){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=uf(W,Q.mode,fe),F.return=Q,F):(F=f(F,W.children||[]),F.return=Q,F)}function ce(Q,F,W,fe,Re){return F===null||F.tag!==7?(F=es(W,Q.mode,fe,Re),F.return=Q,F):(F=f(F,W),F.return=Q,F)}function ge(Q,F,W){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=lf(""+F,Q.mode,W),F.return=Q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return W=Hu(F.type,F.key,F.props,null,Q.mode,W),ml(W,F),W.return=Q,W;case O:return F=uf(F,Q.mode,W),F.return=Q,F;case w:var fe=F._init;return F=fe(F._payload),ge(Q,F,W)}if(ye(F)||N(F))return F=es(F,Q.mode,W,null),F.return=Q,F;if(typeof F.then=="function")return ge(Q,ac(F),W);if(F.$$typeof===B)return ge(Q,$u(Q,F),W);sc(Q,F)}return null}function te(Q,F,W,fe){var Re=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Re!==null?null:A(Q,F,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===Re?j(Q,F,W,fe):null;case O:return W.key===Re?ee(Q,F,W,fe):null;case w:return Re=W._init,W=Re(W._payload),te(Q,F,W,fe)}if(ye(W)||N(W))return Re!==null?null:ce(Q,F,W,fe,null);if(typeof W.then=="function")return te(Q,F,ac(W),fe);if(W.$$typeof===B)return te(Q,F,$u(Q,W),fe);sc(Q,W)}return null}function ne(Q,F,W,fe,Re){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Q=Q.get(W)||null,A(F,Q,""+fe,Re);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return Q=Q.get(fe.key===null?W:fe.key)||null,j(F,Q,fe,Re);case O:return Q=Q.get(fe.key===null?W:fe.key)||null,ee(F,Q,fe,Re);case w:var We=fe._init;return fe=We(fe._payload),ne(Q,F,W,fe,Re)}if(ye(fe)||N(fe))return Q=Q.get(W)||null,ce(F,Q,fe,Re,null);if(typeof fe.then=="function")return ne(Q,F,W,ac(fe),Re);if(fe.$$typeof===B)return ne(Q,F,W,$u(F,fe),Re);sc(F,fe)}return null}function Be(Q,F,W,fe){for(var Re=null,We=null,Ie=F,je=F=0,hn=null;Ie!==null&&je<W.length;je++){Ie.index>je?(hn=Ie,Ie=null):hn=Ie.sibling;var ht=te(Q,Ie,W[je],fe);if(ht===null){Ie===null&&(Ie=hn);break}t&&Ie&&ht.alternate===null&&i(Q,Ie),F=d(ht,F,je),We===null?Re=ht:We.sibling=ht,We=ht,Ie=hn}if(je===W.length)return s(Q,Ie),dt&&ns(Q,je),Re;if(Ie===null){for(;je<W.length;je++)Ie=ge(Q,W[je],fe),Ie!==null&&(F=d(Ie,F,je),We===null?Re=Ie:We.sibling=Ie,We=Ie);return dt&&ns(Q,je),Re}for(Ie=l(Ie);je<W.length;je++)hn=ne(Ie,Q,je,W[je],fe),hn!==null&&(t&&hn.alternate!==null&&Ie.delete(hn.key===null?je:hn.key),F=d(hn,F,je),We===null?Re=hn:We.sibling=hn,We=hn);return t&&Ie.forEach(function(va){return i(Q,va)}),dt&&ns(Q,je),Re}function Pe(Q,F,W,fe){if(W==null)throw Error(a(151));for(var Re=null,We=null,Ie=F,je=F=0,hn=null,ht=W.next();Ie!==null&&!ht.done;je++,ht=W.next()){Ie.index>je?(hn=Ie,Ie=null):hn=Ie.sibling;var va=te(Q,Ie,ht.value,fe);if(va===null){Ie===null&&(Ie=hn);break}t&&Ie&&va.alternate===null&&i(Q,Ie),F=d(va,F,je),We===null?Re=va:We.sibling=va,We=va,Ie=hn}if(ht.done)return s(Q,Ie),dt&&ns(Q,je),Re;if(Ie===null){for(;!ht.done;je++,ht=W.next())ht=ge(Q,ht.value,fe),ht!==null&&(F=d(ht,F,je),We===null?Re=ht:We.sibling=ht,We=ht);return dt&&ns(Q,je),Re}for(Ie=l(Ie);!ht.done;je++,ht=W.next())ht=ne(Ie,Q,je,ht.value,fe),ht!==null&&(t&&ht.alternate!==null&&Ie.delete(ht.key===null?je:ht.key),F=d(ht,F,je),We===null?Re=ht:We.sibling=ht,We=ht);return t&&Ie.forEach(function(X1){return i(Q,X1)}),dt&&ns(Q,je),Re}function wt(Q,F,W,fe){if(typeof W=="object"&&W!==null&&W.type===V&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var Re=W.key;F!==null;){if(F.key===Re){if(Re=W.type,Re===V){if(F.tag===7){s(Q,F.sibling),fe=f(F,W.props.children),fe.return=Q,Q=fe;break e}}else if(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===w&&vy(Re)===F.type){s(Q,F.sibling),fe=f(F,W.props),ml(fe,W),fe.return=Q,Q=fe;break e}s(Q,F);break}else i(Q,F);F=F.sibling}W.type===V?(fe=es(W.props.children,Q.mode,fe,W.key),fe.return=Q,Q=fe):(fe=Hu(W.type,W.key,W.props,null,Q.mode,fe),ml(fe,W),fe.return=Q,Q=fe)}return T(Q);case O:e:{for(Re=W.key;F!==null;){if(F.key===Re)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){s(Q,F.sibling),fe=f(F,W.children||[]),fe.return=Q,Q=fe;break e}else{s(Q,F);break}else i(Q,F);F=F.sibling}fe=uf(W,Q.mode,fe),fe.return=Q,Q=fe}return T(Q);case w:return Re=W._init,W=Re(W._payload),wt(Q,F,W,fe)}if(ye(W))return Be(Q,F,W,fe);if(N(W)){if(Re=N(W),typeof Re!="function")throw Error(a(150));return W=Re.call(W),Pe(Q,F,W,fe)}if(typeof W.then=="function")return wt(Q,F,ac(W),fe);if(W.$$typeof===B)return wt(Q,F,$u(Q,W),fe);sc(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,F!==null&&F.tag===6?(s(Q,F.sibling),fe=f(F,W),fe.return=Q,Q=fe):(s(Q,F),fe=lf(W,Q.mode,fe),fe.return=Q,Q=fe),T(Q)):s(Q,F)}return function(Q,F,W,fe){try{gl=0;var Re=wt(Q,F,W,fe);return eo=null,Re}catch(Ie){if(Ie===al||Ie===Qu)throw Ie;var We=Kn(29,Ie,null,Q.mode);return We.lanes=fe,We.return=Q,We}finally{}}}var to=_y(!0),Ey=_y(!1),Er=Y(null),Zr=null;function ra(t){var i=t.alternate;re(nn,nn.current&1),re(Er,t),Zr===null&&(i===null||Xs.current!==null||i.memoizedState!==null)&&(Zr=t)}function Ty(t){if(t.tag===22){if(re(nn,nn.current),re(Er,t),Zr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Zr=t)}}else ia()}function ia(){re(nn,nn.current),re(Er,Er.current)}function Ii(t){ae(Er),Zr===t&&(Zr=null),ae(nn)}var nn=Y(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Nd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Hf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var qf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Jn(),f=ea(l);f.payload=i,s!=null&&(f.callback=s),i=ta(t,f,l),i!==null&&(er(i,t,l),ol(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Jn(),f=ea(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=ta(t,f,l),i!==null&&(er(i,t,l),ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Jn(),l=ea(s);l.tag=2,i!=null&&(l.callback=i),i=ta(t,l,s),i!==null&&(er(i,t,s),ol(i,t,s))}};function by(t,i,s,l,f,d,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,T):i.prototype&&i.prototype.isPureReactComponent?!Wo(s,l)||!Wo(f,d):!0}function Sy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&qf.enqueueReplaceState(i,i.state,null)}function us(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wy(t){lc(t)}function Ay(t){console.error(t)}function xy(t){lc(t)}function uc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ry(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ff(t,i,s){return s=ea(s),s.tag=3,s.payload={element:null},s.callback=function(){uc(t,i)},s}function Dy(t){return t=ea(t),t.tag=3,t}function Cy(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Ry(i,s,l)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Ry(i,s,l),typeof f!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function XS(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&nl(i,s,f,!0),s=Er.current,s!==null){switch(s.tag){case 13:return Zr===null?gd():s.alternate===null&&Vt===0&&(Vt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===_f?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),pd(t,l,f)),!1;case 22:return s.flags|=65536,l===_f?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),pd(t,l,f)),!1}throw Error(a(435,s.tag))}return pd(t,l,f),gd(),!1}if(dt)return i=Er.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==ff&&(t=Error(a(422),{cause:l}),tl(pr(t,s)))):(l!==ff&&(i=Error(a(423),{cause:l}),tl(pr(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=pr(l,s),f=Ff(t.stateNode,l,f),bf(t,f),Vt!==4&&(Vt=2)),!1;var d=Error(a(520),{cause:l});if(d=pr(d,s),bl===null?bl=[d]:bl.push(d),Vt!==4&&(Vt=2),i===null)return!0;l=pr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Ff(s.stateNode,l,t),bf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ca===null||!ca.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Dy(f),Cy(f,t,s,l),bf(s,f),!1}s=s.return}while(s!==null);return!1}var Iy=Error(a(461)),un=!1;function pn(t,i,s,l){i.child=t===null?Ey(i,null,s,l):to(i,t.child,s,l)}function Ny(t,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return ss(i),l=Rf(t,i,s,T,d,f),A=Df(),t!==null&&!un?(Cf(t,i,f),Ni(t,i,f)):(dt&&A&&cf(i),i.flags|=1,pn(t,i,l,f),i.child)}function Oy(t,i,s,l,f){if(t===null){var d=s.type;return typeof d=="function"&&!of(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,My(t,i,d,l,f)):(t=Hu(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Zf(t,f)){var T=d.memoizedProps;if(s=s.compare,s=s!==null?s:Wo,s(T,l)&&t.ref===i.ref)return Ni(t,i,f)}return i.flags|=1,t=wi(d,l),t.ref=i.ref,t.return=i,i.child=t}function My(t,i,s,l,f){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(un=!1,i.pendingProps=l=d,Zf(t,f))(t.flags&131072)!==0&&(un=!0);else return i.lanes=t.lanes,Ni(t,i,f)}return Gf(t,i,s,l,f)}function Py(t,i,s){var l=i.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(f=i.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Vy(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?Mp(i,d):wf(),Ty(i);else return i.lanes=i.childLanes=536870912,Vy(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(Yu(i,d.cachePool),Mp(i,d),ia(),i.memoizedState=null):(t!==null&&Yu(i,null),wf(),ia());return pn(t,i,f,s),i.child}function Vy(t,i,s,l){var f=vf();return f=f===null?null:{parent:tn._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&Yu(i,null),wf(),Ty(i),t!==null&&nl(t,i,l,!0),null}function cc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Gf(t,i,s,l,f){return ss(i),s=Rf(t,i,s,l,void 0,f),l=Df(),t!==null&&!un?(Cf(t,i,f),Ni(t,i,f)):(dt&&l&&cf(i),i.flags|=1,pn(t,i,s,f),i.child)}function ky(t,i,s,l,f,d){return ss(i),i.updateQueue=null,s=Vp(i,l,s,f),Pp(t),l=Df(),t!==null&&!un?(Cf(t,i,d),Ni(t,i,d)):(dt&&l&&cf(i),i.flags|=1,pn(t,i,s,d),i.child)}function jy(t,i,s,l,f){if(ss(i),i.stateNode===null){var d=Gs,T=s.contextType;typeof T=="object"&&T!==null&&(d=An(T)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ef(i),T=s.contextType,d.context=typeof T=="object"&&T!==null?An(T):Gs,d.state=i.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Hf(i,s,T,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&qf.enqueueReplaceState(d,d.state,null),ul(i,l,d,f),ll(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,j=us(s,A);d.props=j;var ee=d.context,ce=s.contextType;T=Gs,typeof ce=="object"&&ce!==null&&(T=An(ce));var ge=s.getDerivedStateFromProps;ce=typeof ge=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,ce||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||ee!==T)&&Sy(i,d,l,T),Ji=!1;var te=i.memoizedState;d.state=te,ul(i,l,d,f),ll(),ee=i.memoizedState,A||te!==ee||Ji?(typeof ge=="function"&&(Hf(i,s,ge,l),ee=i.memoizedState),(j=Ji||by(i,s,j,l,te,ee,T))?(ce||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=ee),d.props=l,d.state=ee,d.context=T,l=j):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Tf(t,i),T=i.memoizedProps,ce=us(s,T),d.props=ce,ge=i.pendingProps,te=d.context,ee=s.contextType,j=Gs,typeof ee=="object"&&ee!==null&&(j=An(ee)),A=s.getDerivedStateFromProps,(ee=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==ge||te!==j)&&Sy(i,d,l,j),Ji=!1,te=i.memoizedState,d.state=te,ul(i,l,d,f),ll();var ne=i.memoizedState;T!==ge||te!==ne||Ji||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof A=="function"&&(Hf(i,s,A,l),ne=i.memoizedState),(ce=Ji||by(i,s,ce,l,te,ne,j)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(ee||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,ne,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,ne,j)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&te===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&te===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=ne),d.props=l,d.state=ne,d.context=j,l=ce):(typeof d.componentDidUpdate!="function"||T===t.memoizedProps&&te===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&te===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,cc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=to(i,t.child,null,f),i.child=to(i,null,s,f)):pn(t,i,s,f),i.memoizedState=d.state,t=i.child):t=Ni(t,i,f),t}function Ly(t,i,s,l){return el(),i.flags|=256,pn(t,i,s,l),i.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:Ap()}}function Qf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Tr),t}function Uy(t,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,T;if((T=d)||(T=t!==null&&t.memoizedState===null?!1:(nn.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(dt){if(f?ra(i):ia(),dt){var A=Pt,j;if(j=A){e:{for(j=A,A=Wr;j.nodeType!==8;){if(!A){A=null;break e}if(j=Pr(j.nextSibling),j===null){A=null;break e}}A=j}A!==null?(i.memoizedState={dehydrated:A,treeContext:ts!==null?{id:Ai,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},j=Kn(18,null,null,0),j.stateNode=A,j.return=i,i.child=j,kn=i,Pt=null,j=!0):j=!1}j||is(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Nd(A)?i.lanes=32:i.lanes=536870912,null;Ii(i)}return A=l.children,l=l.fallback,f?(ia(),f=i.mode,A=hc({mode:"hidden",children:A},f),l=es(l,f,s,null),A.return=i,l.return=i,A.sibling=l,i.child=A,f=i.child,f.memoizedState=Yf(s),f.childLanes=Qf(t,T,s),i.memoizedState=$f,l):(ra(i),Kf(i,A))}if(j=t.memoizedState,j!==null&&(A=j.dehydrated,A!==null)){if(d)i.flags&256?(ra(i),i.flags&=-257,i=Xf(t,i,s)):i.memoizedState!==null?(ia(),i.child=t.child,i.flags|=128,i=null):(ia(),f=l.fallback,A=i.mode,l=hc({mode:"visible",children:l.children},A),f=es(f,A,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,to(i,t.child,null,s),l=i.child,l.memoizedState=Yf(s),l.childLanes=Qf(t,T,s),i.memoizedState=$f,i=f);else if(ra(i),Nd(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var ee=T.dgst;T=ee,l=Error(a(419)),l.stack="",l.digest=T,tl({value:l,source:null,stack:null}),i=Xf(t,i,s)}else if(un||nl(t,i,s,!1),T=(s&t.childLanes)!==0,un||T){if(T=Rt,T!==null&&(l=s&-s,l=(l&42)!==0?1:zr(l),l=(l&(T.suspendedLanes|s))!==0?0:l,l!==0&&l!==j.retryLane))throw j.retryLane=l,Fs(t,l),er(T,t,l),Iy;A.data==="$?"||gd(),i=Xf(t,i,s)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=j.treeContext,Pt=Pr(A.nextSibling),kn=i,dt=!0,rs=null,Wr=!1,t!==null&&(vr[_r++]=Ai,vr[_r++]=xi,vr[_r++]=ts,Ai=t.id,xi=t.overflow,ts=i),i=Kf(i,l.children),i.flags|=4096);return i}return f?(ia(),f=l.fallback,A=i.mode,j=t.child,ee=j.sibling,l=wi(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,ee!==null?f=wi(ee,f):(f=es(f,A,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,A=t.child.memoizedState,A===null?A=Yf(s):(j=A.cachePool,j!==null?(ee=tn._currentValue,j=j.parent!==ee?{parent:ee,pool:ee}:j):j=Ap(),A={baseLanes:A.baseLanes|s,cachePool:j}),f.memoizedState=A,f.childLanes=Qf(t,T,s),i.memoizedState=$f,l):(ra(i),s=t.child,t=s.sibling,s=wi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=s,i.memoizedState=null,s)}function Kf(t,i){return i=hc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function hc(t,i){return t=Kn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xf(t,i,s){return to(i,t.child,null,s),t=Kf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function By(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),gf(t.return,i,s)}function Wf(t,i,s,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=f)}function zy(t,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(pn(t,i,l.children,s),l=nn.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&By(t,s,i);else if(t.tag===19)By(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(nn,l),f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&oc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Wf(i,!1,f,s,d);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&oc(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Wf(i,!0,s,null,d);break;case"together":Wf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ni(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),ua|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(nl(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=wi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=wi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function WS(t,i,s){switch(i.tag){case 3:Ve(i,i.stateNode.containerInfo),Zi(i,tn,t.memoizedState.cache),el();break;case 27:case 5:gt(i);break;case 4:Ve(i,i.stateNode.containerInfo);break;case 10:Zi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ra(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Uy(t,i,s):(ra(i),t=Ni(t,i,s),t!==null?t.sibling:null);ra(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(nl(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return zy(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(nn,nn.current),l)break;return null;case 22:case 23:return i.lanes=0,Py(t,i,s);case 24:Zi(i,tn,t.memoizedState.cache)}return Ni(t,i,s)}function Hy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)un=!0;else{if(!Zf(t,s)&&(i.flags&128)===0)return un=!1,WS(t,i,s);un=(t.flags&131072)!==0}else un=!1,dt&&(i.flags&1048576)!==0&&vp(i,Fu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")of(l)?(t=us(l,t),i.tag=1,i=jy(null,i,l,t,s)):(i.tag=0,i=Gf(null,i,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===oe){i.tag=11,i=Ny(null,i,l,t,s);break e}else if(f===M){i.tag=14,i=Oy(null,i,l,t,s);break e}}throw i=ue(l)||l,Error(a(306,i,""))}}return i;case 0:return Gf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=us(l,i.pendingProps),jy(t,i,l,f,s);case 3:e:{if(Ve(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Tf(t,i),ul(i,l,null,s);var T=i.memoizedState;if(l=T.cache,Zi(i,tn,l),l!==d.cache&&mf(i,[tn],s,!0),ll(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ly(t,i,l,s);break e}else if(l!==f){f=pr(Error(a(424)),i),tl(f),i=Ly(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pt=Pr(t.firstChild),kn=i,dt=!0,rs=null,Wr=!0,s=Ey(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(el(),l===f){i=Ni(t,i,s);break e}pn(t,i,l,s)}i=i.child}return i;case 26:return cc(t,i),t===null?(s=$v(i.type,null,i.pendingProps,null))?i.memoizedState=s:dt||(s=i.type,t=i.pendingProps,l=Ac(Te.current).createElement(s),l[me]=i,l[_e]=t,vn(l,s,t),it(l),i.stateNode=l):i.memoizedState=$v(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return gt(i),t===null&&dt&&(l=i.stateNode=qv(i.type,i.pendingProps,Te.current),kn=i,Wr=!0,f=Pt,da(i.type)?(Od=f,Pt=Pr(l.firstChild)):Pt=f),pn(t,i,i.pendingProps.children,s),cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&dt&&((f=l=Pt)&&(l=A1(l,i.type,i.pendingProps,Wr),l!==null?(i.stateNode=l,kn=i,Pt=Pr(l.firstChild),Wr=!1,f=!0):f=!1),f||is(i)),gt(i),f=i.type,d=i.pendingProps,T=t!==null?t.memoizedProps:null,l=d.children,Dd(f,d)?l=null:T!==null&&Dd(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=Rf(t,i,qS,null,null,s),Nl._currentValue=f),cc(t,i),pn(t,i,l,s),i.child;case 6:return t===null&&dt&&((t=s=Pt)&&(s=x1(s,i.pendingProps,Wr),s!==null?(i.stateNode=s,kn=i,Pt=null,t=!0):t=!1),t||is(i)),null;case 13:return Uy(t,i,s);case 4:return Ve(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=to(i,null,l,s):pn(t,i,l,s),i.child;case 11:return Ny(t,i,i.type,i.pendingProps,s);case 7:return pn(t,i,i.pendingProps,s),i.child;case 8:return pn(t,i,i.pendingProps.children,s),i.child;case 12:return pn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Zi(i,i.type,l.value),pn(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ss(i),f=An(f),l=l(f),i.flags|=1,pn(t,i,l,s),i.child;case 14:return Oy(t,i,i.type,i.pendingProps,s);case 15:return My(t,i,i.type,i.pendingProps,s);case 19:return zy(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=hc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=wi(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Py(t,i,s);case 24:return ss(i),l=An(tn),t===null?(f=vf(),f===null&&(f=Rt,d=pf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},Ef(i),Zi(i,tn,f)):((t.lanes&s)!==0&&(Tf(t,i),ul(i,null,null,s),ll()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Zi(i,tn,l)):(l=d.cache,Zi(i,tn,l),l!==f.cache&&mf(i,[tn],s,!0))),pn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Oi(t){t.flags|=4}function qy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wv(i)){if(i=Er.current,i!==null&&((ot&4194048)===ot?Zr!==null:(ot&62914560)!==ot&&(ot&536870912)===0||i!==Zr))throw sl=_f,xp;t.flags|=8192}}function fc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ba():536870912,t.lanes|=i,ao|=i)}function pl(t,i){if(!dt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function ZS(t,i,s){var l=i.pendingProps;switch(hf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Di(tn),Et(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Jo(i)?Oi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tp())),Ot(i),null;case 26:return s=i.memoizedState,t===null?(Oi(i),s!==null?(Ot(i),qy(i,s)):(Ot(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Oi(i),Ot(i),qy(i,s)):(Ot(i),i.flags&=-16777217):(t.memoizedProps!==l&&Oi(i),Ot(i),i.flags&=-16777217),null;case 27:sn(i),s=Te.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Oi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}t=he.current,Jo(i)?_p(i):(t=qv(f,l,s),i.stateNode=t,Oi(i))}return Ot(i),null;case 5:if(sn(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Oi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}if(t=he.current,Jo(i))_p(i);else{switch(f=Ac(Te.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[me]=i,t[_e]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(vn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Oi(i)}}return Ot(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Oi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Te.current,Jo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=kn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[me]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||kv(t.nodeValue,s)),t||is(i)}else t=Ac(t).createTextNode(l),t[me]=i,i.stateNode=t}return Ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Jo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[me]=i}else el(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),f=!1}else f=Tp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),fc(i,i.updateQueue),Ot(i),null;case 4:return Et(),t===null&&Sd(i.stateNode.containerInfo),Ot(i),null;case 10:return Di(i.type),Ot(i),null;case 19:if(ae(nn),f=i.memoizedState,f===null)return Ot(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)pl(f,!1);else{if(Vt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=oc(t),d!==null){for(i.flags|=128,pl(f,!1),t=d.updateQueue,i.updateQueue=t,fc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)yp(s,t),s=s.sibling;return re(nn,nn.current&1|2),i.child}t=t.sibling}f.tail!==null&&Nn()>mc&&(i.flags|=128,l=!0,pl(f,!1),i.lanes=4194304)}else{if(!l)if(t=oc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,fc(i,t),pl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!dt)return Ot(i),null}else 2*Nn()-f.renderingStartTime>mc&&s!==536870912&&(i.flags|=128,l=!0,pl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(t=f.last,t!==null?t.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Nn(),i.sibling=null,t=nn.current,re(nn,l?t&1|2:t&1),i):(Ot(i),null);case 22:case 23:return Ii(i),Af(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),s=i.updateQueue,s!==null&&fc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&ae(os),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Di(tn),Ot(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function JS(t,i){switch(hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Di(tn),Et(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sn(i),null;case 13:if(Ii(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));el()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ae(nn),null;case 4:return Et(),null;case 10:return Di(i.type),null;case 22:case 23:return Ii(i),Af(),t!==null&&ae(os),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Di(tn),null;case 25:return null;default:return null}}function Fy(t,i){switch(hf(i),i.tag){case 3:Di(tn),Et();break;case 26:case 27:case 5:sn(i);break;case 4:Et();break;case 13:Ii(i);break;case 19:ae(nn);break;case 10:Di(i.type);break;case 22:case 23:Ii(i),Af(),t!==null&&ae(os);break;case 24:Di(tn)}}function yl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var d=s.create,T=s.inst;l=d(),T.destroy=l}s=s.next}while(s!==f)}}catch(A){xt(i,i.return,A)}}function aa(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=i;var j=s,ee=A;try{ee()}catch(ce){xt(f,j,ce)}}}l=l.next}while(l!==d)}}catch(ce){xt(i,i.return,ce)}}function Gy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Op(i,s)}catch(l){xt(t,t.return,l)}}}function $y(t,i,s){s.props=us(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){xt(t,i,l)}}function vl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){xt(t,i,f)}}function Jr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){xt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){xt(t,i,f)}else s.current=null}function Yy(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){xt(t,t.return,f)}}function Jf(t,i,s){try{var l=t.stateNode;E1(l,t.type,s,i),l[_e]=i}catch(f){xt(t,t.return,f)}}function Qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&da(t.type)||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&da(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=wc));else if(l!==4&&(l===27&&da(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(td(t,i,s),t=t.sibling;t!==null;)td(t,i,s),t=t.sibling}function dc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&da(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(dc(t,i,s),t=t.sibling;t!==null;)dc(t,i,s),t=t.sibling}function Ky(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);vn(i,l,s),i[me]=t,i[_e]=s}catch(d){xt(t,t.return,d)}}var Mi=!1,Ut=!1,nd=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,cn=null;function e1(t,i){if(t=t.containerInfo,xd=Nc,t=op(t),Jh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var T=0,A=-1,j=-1,ee=0,ce=0,ge=t,te=null;t:for(;;){for(var ne;ge!==s||f!==0&&ge.nodeType!==3||(A=T+f),ge!==d||l!==0&&ge.nodeType!==3||(j=T+l),ge.nodeType===3&&(T+=ge.nodeValue.length),(ne=ge.firstChild)!==null;)te=ge,ge=ne;for(;;){if(ge===t)break t;if(te===s&&++ee===f&&(A=T),te===d&&++ce===l&&(j=T),(ne=ge.nextSibling)!==null)break;ge=te,te=ge.parentNode}ge=ne}s=A===-1||j===-1?null:{start:A,end:j}}else s=null}s=s||{start:0,end:0}}else s=null;for(Rd={focusedElem:t,selectionRange:s},Nc=!1,cn=i;cn!==null;)if(i=cn,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,cn=t;else for(;cn!==null;){switch(i=cn,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Be=us(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Pe){xt(s,s.return,Pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Id(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,cn=t;break}cn=i.return}}function Wy(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:sa(t,s),l&4&&yl(5,s);break;case 1:if(sa(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(T){xt(s,s.return,T)}else{var f=us(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){xt(s,s.return,T)}}l&64&&Gy(s),l&512&&vl(s,s.return);break;case 3:if(sa(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Op(t,i)}catch(T){xt(s,s.return,T)}}break;case 27:i===null&&l&4&&Ky(s);case 26:case 5:sa(t,s),i===null&&l&4&&Yy(s),l&512&&vl(s,s.return);break;case 12:sa(t,s);break;case 13:sa(t,s),l&4&&ev(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=u1.bind(null,s),R1(t,s))));break;case 22:if(l=s.memoizedState!==null||Mi,!l){i=i!==null&&i.memoizedState!==null||Ut,f=Mi;var d=Ut;Mi=l,(Ut=i)&&!d?oa(t,s,(s.subtreeFlags&8772)!==0):sa(t,s),Mi=f,Ut=d}break;case 30:break;default:sa(t,s)}}function Zy(t){var i=t.alternate;i!==null&&(t.alternate=null,Zy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Me(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Nt=null,zn=!1;function Pi(t,i,s){for(s=s.child;s!==null;)Jy(t,i,s),s=s.sibling}function Jy(t,i,s){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ft,s)}catch{}switch(s.tag){case 26:Ut||Jr(s,i),Pi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ut||Jr(s,i);var l=Nt,f=zn;da(s.type)&&(Nt=s.stateNode,zn=!1),Pi(t,i,s),Rl(s.stateNode),Nt=l,zn=f;break;case 5:Ut||Jr(s,i);case 6:if(l=Nt,f=zn,Nt=null,Pi(t,i,s),Nt=l,zn=f,Nt!==null)if(zn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(s.stateNode)}catch(d){xt(s,i,d)}else try{Nt.removeChild(s.stateNode)}catch(d){xt(s,i,d)}break;case 18:Nt!==null&&(zn?(t=Nt,zv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Vl(t)):zv(Nt,s.stateNode));break;case 4:l=Nt,f=zn,Nt=s.stateNode.containerInfo,zn=!0,Pi(t,i,s),Nt=l,zn=f;break;case 0:case 11:case 14:case 15:Ut||aa(2,s,i),Ut||aa(4,s,i),Pi(t,i,s);break;case 1:Ut||(Jr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&$y(s,i,l)),Pi(t,i,s);break;case 21:Pi(t,i,s);break;case 22:Ut=(l=Ut)||s.memoizedState!==null,Pi(t,i,s),Ut=l;break;default:Pi(t,i,s)}}function ev(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(s){xt(i,i.return,s)}}function t1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Xy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Xy),i;default:throw Error(a(435,t.tag))}}function rd(t,i){var s=t1(t);i.forEach(function(l){var f=c1.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function Xn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=t,T=i,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(da(A.type)){Nt=A.stateNode,zn=!1;break e}break;case 5:Nt=A.stateNode,zn=!1;break e;case 3:case 4:Nt=A.stateNode.containerInfo,zn=!0;break e}A=A.return}if(Nt===null)throw Error(a(160));Jy(d,T,f),Nt=null,zn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)tv(i,t),i=i.sibling}var Mr=null;function tv(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xn(i,t),Wn(t),l&4&&(aa(3,t,t.return),yl(3,t),aa(5,t,t.return));break;case 1:Xn(i,t),Wn(t),l&512&&(Ut||s===null||Jr(s,s.return)),l&64&&Mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Mr;if(Xn(i,t),Wn(t),l&512&&(Ut||s===null||Jr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ke]||d[me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),vn(d,l,s),d[me]=t,it(d),l=d;break e;case"link":var T=Kv("link","href",f).get(l+(s.href||""));if(T){for(var A=0;A<T.length;A++)if(d=T[A],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(A,1);break t}}d=f.createElement(l),vn(d,l,s),f.head.appendChild(d);break;case"meta":if(T=Kv("meta","content",f).get(l+(s.content||""))){for(A=0;A<T.length;A++)if(d=T[A],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(A,1);break t}}d=f.createElement(l),vn(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[me]=t,it(d),l=d}t.stateNode=l}else Xv(f,t.type,t.stateNode);else t.stateNode=Qv(f,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Xv(f,t.type,t.stateNode):Qv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Xn(i,t),Wn(t),l&512&&(Ut||s===null||Jr(s,s.return)),s!==null&&l&4&&Jf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Xn(i,t),Wn(t),l&512&&(Ut||s===null||Jr(s,s.return)),t.flags&32){f=t.stateNode;try{fr(f,"")}catch(ne){xt(t,t.return,ne)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Jf(t,f,s!==null?s.memoizedProps:f)),l&1024&&(nd=!0);break;case 6:if(Xn(i,t),Wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ne){xt(t,t.return,ne)}}break;case 3:if(Dc=null,f=Mr,Mr=xc(i.containerInfo),Xn(i,t),Mr=f,Wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Vl(i.containerInfo)}catch(ne){xt(t,t.return,ne)}nd&&(nd=!1,nv(t));break;case 4:l=Mr,Mr=xc(t.stateNode.containerInfo),Xn(i,t),Wn(t),Mr=l;break;case 12:Xn(i,t),Wn(t);break;case 13:Xn(i,t),Wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ud=Nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 22:f=t.memoizedState!==null;var j=s!==null&&s.memoizedState!==null,ee=Mi,ce=Ut;if(Mi=ee||f,Ut=ce||j,Xn(i,t),Ut=ce,Mi=ee,Wn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||j||Mi||Ut||cs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){j=s=i;try{if(d=j.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=j.stateNode;var ge=j.memoizedProps.style,te=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;A.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){xt(j,j.return,ne)}}}else if(i.tag===6){if(s===null){j=i;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(ne){xt(j,j.return,ne)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,rd(t,s))));break;case 19:Xn(i,t),Wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 30:break;case 21:break;default:Xn(i,t),Wn(t)}}function Wn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Qy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=ed(t);dc(t,d,f);break;case 5:var T=s.stateNode;s.flags&32&&(fr(T,""),s.flags&=-33);var A=ed(t);dc(t,A,T);break;case 3:case 4:var j=s.stateNode.containerInfo,ee=ed(t);td(t,ee,j);break;default:throw Error(a(161))}}catch(ce){xt(t,t.return,ce)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function nv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;nv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function sa(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Wy(t,i.alternate,i),i=i.sibling}function cs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:aa(4,i,i.return),cs(i);break;case 1:Jr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&$y(i,i.return,s),cs(i);break;case 27:Rl(i.stateNode);case 26:case 5:Jr(i,i.return),cs(i);break;case 22:i.memoizedState===null&&cs(i);break;case 30:cs(i);break;default:cs(i)}t=t.sibling}}function oa(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,T=d.flags;switch(d.tag){case 0:case 11:case 15:oa(f,d,s),yl(4,d);break;case 1:if(oa(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ee){xt(l,l.return,ee)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)Np(j[f],A)}catch(ee){xt(l,l.return,ee)}}s&&T&64&&Gy(d),vl(d,d.return);break;case 27:Ky(d);case 26:case 5:oa(f,d,s),s&&l===null&&T&4&&Yy(d),vl(d,d.return);break;case 12:oa(f,d,s);break;case 13:oa(f,d,s),s&&T&4&&ev(f,d);break;case 22:d.memoizedState===null&&oa(f,d,s),vl(d,d.return);break;case 30:break;default:oa(f,d,s)}i=i.sibling}}function id(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&rl(s))}function ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function ei(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rv(t,i,s,l),i=i.sibling}function rv(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,s,l),f&2048&&yl(9,i);break;case 1:ei(t,i,s,l);break;case 3:ei(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(f&2048){ei(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,T=d.id,A=d.onPostCommit;typeof A=="function"&&A(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){xt(i,i.return,j)}}else ei(t,i,s,l);break;case 13:ei(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,T=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,s,l):_l(t,i):d._visibility&2?ei(t,i,s,l):(d._visibility|=2,no(t,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&id(T,i);break;case 24:ei(t,i,s,l),f&2048&&ad(i.alternate,i);break;default:ei(t,i,s,l)}}function no(t,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,T=i,A=s,j=l,ee=T.flags;switch(T.tag){case 0:case 11:case 15:no(d,T,A,j,f),yl(8,T);break;case 23:break;case 22:var ce=T.stateNode;T.memoizedState!==null?ce._visibility&2?no(d,T,A,j,f):_l(d,T):(ce._visibility|=2,no(d,T,A,j,f)),f&&ee&2048&&id(T.alternate,T);break;case 24:no(d,T,A,j,f),f&&ee&2048&&ad(T.alternate,T);break;default:no(d,T,A,j,f)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:_l(s,l),f&2048&&id(l.alternate,l);break;case 24:_l(s,l),f&2048&&ad(l.alternate,l);break;default:_l(s,l)}i=i.sibling}}var El=8192;function ro(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)iv(t),t=t.sibling}function iv(t){switch(t.tag){case 26:ro(t),t.flags&El&&t.memoizedState!==null&&B1(Mr,t.memoizedState,t.memoizedProps);break;case 5:ro(t);break;case 3:case 4:var i=Mr;Mr=xc(t.stateNode.containerInfo),ro(t),Mr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=El,El=16777216,ro(t),El=i):ro(t));break;default:ro(t)}}function av(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];cn=l,ov(l,t)}av(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sv(t),t=t.sibling}function sv(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&aa(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gc(t)):Tl(t);break;default:Tl(t)}}function gc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];cn=l,ov(l,t)}av(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:aa(8,i,i.return),gc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,gc(i));break;default:gc(i)}t=t.sibling}}function ov(t,i){for(;cn!==null;){var s=cn;switch(s.tag){case 0:case 11:case 15:aa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,cn=l;else e:for(s=t;cn!==null;){l=cn;var f=l.sibling,d=l.return;if(Zy(l),l===s){cn=null;break e}if(f!==null){f.return=d,cn=f;break e}cn=d}}}var n1={getCacheForType:function(t){var i=An(tn),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},r1=typeof WeakMap=="function"?WeakMap:Map,vt=0,Rt=null,Je=null,ot=0,_t=0,Zn=null,la=!1,io=!1,sd=!1,Vi=0,Vt=0,ua=0,hs=0,od=0,Tr=0,ao=0,bl=null,Hn=null,ld=!1,ud=0,mc=1/0,pc=null,ca=null,yn=0,ha=null,so=null,oo=0,cd=0,hd=null,lv=null,Sl=0,fd=null;function Jn(){if((vt&2)!==0&&ot!==0)return ot&-ot;if(L.T!==null){var t=Qs;return t!==0?t:_d()}return U()}function uv(){Tr===0&&(Tr=(ot&536870912)===0||dt?mi():536870912);var t=Er.current;return t!==null&&(t.flags|=32),Tr}function er(t,i,s){(t===Rt&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(lo(t,0),fa(t,ot,Tr,!1)),Ir(t,s),((vt&2)===0||t!==Rt)&&(t===Rt&&((vt&2)===0&&(hs|=s),Vt===4&&fa(t,ot,Tr,!1)),ti(t))}function cv(t,i,s){if((vt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||lr(t,i),f=l?s1(t,i):md(t,i,!0),d=l;do{if(f===0){io&&!l&&fa(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!i1(s)){f=md(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var A=t;f=bl;var j=A.current.memoizedState.isDehydrated;if(j&&(lo(A,T).flags|=256),T=md(A,T,!1),T!==2){if(sd&&!j){A.errorRecoveryDisabledLanes|=d,hs|=d,f=4;break e}d=Hn,Hn=f,d!==null&&(Hn===null?Hn=d:Hn.push.apply(Hn,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){lo(t,0),fa(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:fa(l,i,Tr,!la);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=ud+300-Nn(),10<f)){if(fa(l,i,Tr,!la),gi(l,0,!0)!==0)break e;l.timeoutHandle=Uv(hv.bind(null,l,s,Hn,pc,ld,i,Tr,hs,ao,la,d,2,-0,0),f);break e}hv(l,s,Hn,pc,ld,i,Tr,hs,ao,la,d,0,-0,0)}}break}while(!0);ti(t)}function hv(t,i,s,l,f,d,T,A,j,ee,ce,ge,te,ne){if(t.timeoutHandle=-1,ge=i.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:U1},iv(i),ge=z1(),ge!==null)){t.cancelPendingCommit=ge(vv.bind(null,t,i,d,s,l,f,T,A,j,ce,1,te,ne)),fa(t,d,T,!ee);return}vv(t,i,d,s,l,f,T,A,j)}function i1(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!Qn(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fa(t,i,s,l){i&=~od,i&=~hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-qt(f),T=1<<d;l[d]=-1,f&=~T}s!==0&&On(t,s,i)}function yc(){return(vt&6)===0?(wl(0),!1):!0}function dd(){if(Je!==null){if(_t===0)var t=Je.return;else t=Je,Ri=as=null,If(t),eo=null,gl=0,t=Je;for(;t!==null;)Fy(t.alternate,t),t=t.return;Je=null}}function lo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,b1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),dd(),Rt=t,Je=s=wi(t.current,null),ot=i,_t=0,Zn=null,la=!1,io=lr(t,i),sd=!1,ao=Tr=od=hs=ua=Vt=0,Hn=bl=null,ld=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-qt(l),d=1<<f;i|=t[f],l&=~d}return Vi=i,Uu(),s}function fv(t,i){Qe=null,L.H=ic,i===al||i===Qu?(i=Cp(),_t=3):i===xp?(i=Cp(),_t=4):_t=i===Iy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zn=i,Je===null&&(Vt=1,uc(t,pr(i,t.current)))}function dv(){var t=L.H;return L.H=ic,t===null?ic:t}function gv(){var t=L.A;return L.A=n1,t}function gd(){Vt=4,la||(ot&4194048)!==ot&&Er.current!==null||(io=!0),(ua&134217727)===0&&(hs&134217727)===0||Rt===null||fa(Rt,ot,Tr,!1)}function md(t,i,s){var l=vt;vt|=2;var f=dv(),d=gv();(Rt!==t||ot!==i)&&(pc=null,lo(t,i)),i=!1;var T=Vt;e:do try{if(_t!==0&&Je!==null){var A=Je,j=Zn;switch(_t){case 8:dd(),T=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(i=!0);var ee=_t;if(_t=0,Zn=null,uo(t,A,j,ee),s&&io){T=0;break e}break;default:ee=_t,_t=0,Zn=null,uo(t,A,j,ee)}}a1(),T=Vt;break}catch(ce){fv(t,ce)}while(!0);return i&&t.shellSuspendCounter++,Ri=as=null,vt=l,L.H=f,L.A=d,Je===null&&(Rt=null,ot=0,Uu()),T}function a1(){for(;Je!==null;)mv(Je)}function s1(t,i){var s=vt;vt|=2;var l=dv(),f=gv();Rt!==t||ot!==i?(pc=null,mc=Nn()+500,lo(t,i)):io=lr(t,i);e:do try{if(_t!==0&&Je!==null){i=Je;var d=Zn;t:switch(_t){case 1:_t=0,Zn=null,uo(t,i,d,1);break;case 2:case 9:if(Rp(d)){_t=0,Zn=null,pv(i);break}i=function(){_t!==2&&_t!==9||Rt!==t||(_t=7),ti(t)},d.then(i,i);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Rp(d)?(_t=0,Zn=null,pv(i)):(_t=0,Zn=null,uo(t,i,d,7));break;case 5:var T=null;switch(Je.tag){case 26:T=Je.memoizedState;case 5:case 27:var A=Je;if(!T||Wv(T)){_t=0,Zn=null;var j=A.sibling;if(j!==null)Je=j;else{var ee=A.return;ee!==null?(Je=ee,vc(ee)):Je=null}break t}}_t=0,Zn=null,uo(t,i,d,5);break;case 6:_t=0,Zn=null,uo(t,i,d,6);break;case 8:dd(),Vt=6;break e;default:throw Error(a(462))}}o1();break}catch(ce){fv(t,ce)}while(!0);return Ri=as=null,L.H=l,L.A=f,vt=s,Je!==null?0:(Rt=null,ot=0,Uu(),Vt)}function o1(){for(;Je!==null&&!La();)mv(Je)}function mv(t){var i=Hy(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,i===null?vc(t):Je=i}function pv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=ky(s,i,i.pendingProps,i.type,void 0,ot);break;case 11:i=ky(s,i,i.pendingProps,i.type.render,i.ref,ot);break;case 5:If(i);default:Fy(s,i),i=Je=yp(i,Vi),i=Hy(s,i,Vi)}t.memoizedProps=t.pendingProps,i===null?vc(t):Je=i}function uo(t,i,s,l){Ri=as=null,If(i),eo=null,gl=0;var f=i.return;try{if(XS(t,f,i,s,ot)){Vt=1,uc(t,pr(s,t.current)),Je=null;return}}catch(d){if(f!==null)throw Je=f,d;Vt=1,uc(t,pr(s,t.current)),Je=null;return}i.flags&32768?(dt||l===1?t=!0:io||(ot&536870912)!==0?t=!1:(la=t=!0,(l===2||l===9||l===3||l===6)&&(l=Er.current,l!==null&&l.tag===13&&(l.flags|=16384))),yv(i,t)):vc(i)}function vc(t){var i=t;do{if((i.flags&32768)!==0){yv(i,la);return}t=i.return;var s=ZS(i.alternate,i,Vi);if(s!==null){Je=s;return}if(i=i.sibling,i!==null){Je=i;return}Je=i=t}while(i!==null);Vt===0&&(Vt=5)}function yv(t,i){do{var s=JS(t.alternate,t);if(s!==null){s.flags&=32767,Je=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Je=t;return}Je=t=s}while(t!==null);Vt=6,Je=null}function vv(t,i,s,l,f,d,T,A,j){t.cancelPendingCommit=null;do _c();while(yn!==0);if((vt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=af,Yi(t,s,d,T,A,j),t===Rt&&(Je=Rt=null,ot=0),so=i,ha=t,oo=s,cd=d,hd=f,lv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,h1(di,function(){return Sv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,f=ie.p,ie.p=2,T=vt,vt|=4;try{e1(t,i,s)}finally{vt=T,ie.p=f,L.T=l}}yn=1,_v(),Ev(),Tv()}}function _v(){if(yn===1){yn=0;var t=ha,i=so,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var l=ie.p;ie.p=2;var f=vt;vt|=4;try{tv(i,t);var d=Rd,T=op(t.containerInfo),A=d.focusedElem,j=d.selectionRange;if(T!==A&&A&&A.ownerDocument&&sp(A.ownerDocument.documentElement,A)){if(j!==null&&Jh(A)){var ee=j.start,ce=j.end;if(ce===void 0&&(ce=ee),"selectionStart"in A)A.selectionStart=ee,A.selectionEnd=Math.min(ce,A.value.length);else{var ge=A.ownerDocument||document,te=ge&&ge.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Be=A.textContent.length,Pe=Math.min(j.start,Be),wt=j.end===void 0?Pe:Math.min(j.end,Be);!ne.extend&&Pe>wt&&(T=wt,wt=Pe,Pe=T);var Q=ap(A,Pe),F=ap(A,wt);if(Q&&F&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==F.node||ne.focusOffset!==F.offset)){var W=ge.createRange();W.setStart(Q.node,Q.offset),ne.removeAllRanges(),Pe>wt?(ne.addRange(W),ne.extend(F.node,F.offset)):(W.setEnd(F.node,F.offset),ne.addRange(W))}}}}for(ge=[],ne=A;ne=ne.parentNode;)ne.nodeType===1&&ge.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ge.length;A++){var fe=ge[A];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Nc=!!xd,Rd=xd=null}finally{vt=f,ie.p=l,L.T=s}}t.current=i,yn=2}}function Ev(){if(yn===2){yn=0;var t=ha,i=so,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var l=ie.p;ie.p=2;var f=vt;vt|=4;try{Wy(t,i.alternate,i)}finally{vt=f,ie.p=l,L.T=s}}yn=3}}function Tv(){if(yn===4||yn===3){yn=0,Cs();var t=ha,i=so,s=oo,l=lv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?yn=5:(yn=0,so=ha=null,bv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ca=null),Qi(s),i=i.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=L.T,f=ie.p,ie.p=2,L.T=null;try{for(var d=t.onRecoverableError,T=0;T<l.length;T++){var A=l[T];d(A.value,{componentStack:A.stack})}}finally{L.T=i,ie.p=f}}(oo&3)!==0&&_c(),ti(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===fd?Sl++:(Sl=0,fd=t):Sl=0,wl(0)}}function bv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function _c(t){return _v(),Ev(),Tv(),Sv()}function Sv(){if(yn!==5)return!1;var t=ha,i=cd;cd=0;var s=Qi(oo),l=L.T,f=ie.p;try{ie.p=32>s?32:s,L.T=null,s=hd,hd=null;var d=ha,T=oo;if(yn=0,so=ha=null,oo=0,(vt&6)!==0)throw Error(a(331));var A=vt;if(vt|=4,sv(d.current),rv(d,d.current,T,s),vt=A,wl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{ie.p=f,L.T=l,bv(t,i)}}function wv(t,i,s){i=pr(s,i),i=Ff(t.stateNode,i,2),t=ta(t,i,2),t!==null&&(Ir(t,2),ti(t))}function xt(t,i,s){if(t.tag===3)wv(t,t,s);else for(;i!==null;){if(i.tag===3){wv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ca===null||!ca.has(l))){t=pr(s,t),s=Dy(2),l=ta(i,s,2),l!==null&&(Cy(s,l,i,t),Ir(l,2),ti(l));break}}i=i.return}}function pd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new r1;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(sd=!0,f.add(s),t=l1.bind(null,t,i,s),i.then(t,t))}function l1(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Rt===t&&(ot&s)===s&&(Vt===4||Vt===3&&(ot&62914560)===ot&&300>Nn()-ud?(vt&2)===0&&lo(t,0):od|=s,ao===ot&&(ao=0)),ti(t)}function Av(t,i){i===0&&(i=Ba()),t=Fs(t,i),t!==null&&(Ir(t,i),ti(t))}function u1(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Av(t,s)}function c1(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Av(t,s)}function h1(t,i){return ar(t,i)}var Ec=null,co=null,yd=!1,Tc=!1,vd=!1,fs=0;function ti(t){t!==co&&t.next===null&&(co===null?Ec=co=t:co=co.next=t),Tc=!0,yd||(yd=!0,d1())}function wl(t,i){if(!vd&&Tc){vd=!0;do for(var s=!1,l=Ec;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var T=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-qt(42|t)+1)-1,d&=f&~(T&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Cv(l,d))}else d=ot,d=gi(l,l===Rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||lr(l,d)||(s=!0,Cv(l,d));l=l.next}while(s);vd=!1}}function f1(){xv()}function xv(){Tc=yd=!1;var t=0;fs!==0&&(T1()&&(t=fs),fs=0);for(var i=Nn(),s=null,l=Ec;l!==null;){var f=l.next,d=Rv(l,i);d===0?(l.next=null,s===null?Ec=f:s.next=f,f===null&&(co=s)):(s=l,(t!==0||(d&3)!==0)&&(Tc=!0)),l=f}wl(t)}function Rv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var T=31-qt(d),A=1<<T,j=f[T];j===-1?((A&s)===0||(A&l)!==0)&&(f[T]=$i(A,i)):j<=i&&(t.expiredLanes|=A),d&=~A}if(i=Rt,s=ot,s=gi(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&In(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||lr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&In(l),Qi(s)){case 2:case 8:s=qi;break;case 32:s=di;break;case 268435456:s=sr;break;default:s=di}return l=Dv.bind(null,t),s=ar(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&In(l),t.callbackPriority=2,t.callbackNode=null,2}function Dv(t,i){if(yn!==0&&yn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(_c()&&t.callbackNode!==s)return null;var l=ot;return l=gi(t,t===Rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(cv(t,l,i),Rv(t,Nn()),t.callbackNode!=null&&t.callbackNode===s?Dv.bind(null,t):null)}function Cv(t,i){if(_c())return null;cv(t,i,!0)}function d1(){S1(function(){(vt&6)!==0?ar(Ua,f1):xv()})}function _d(){return fs===0&&(fs=mi()),fs}function Iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Os(""+t)}function Nv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function g1(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=Iv((f[_e]||null).action),T=l.submitter;T&&(i=(i=T[_e]||null)?Iv(i.formAction):T.getAttribute("formAction"),i!==null&&(d=i,T=null));var A=new Ms("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fs!==0){var j=T?Nv(f,T):new FormData(f);Uf(s,{pending:!0,data:j,method:f.method,action:d},null,j)}}else typeof d=="function"&&(A.preventDefault(),j=T?Nv(f,T):new FormData(f),Uf(s,{pending:!0,data:j,method:f.method,action:d},d,j))},currentTarget:f}]})}}for(var Ed=0;Ed<rf.length;Ed++){var Td=rf[Ed],m1=Td.toLowerCase(),p1=Td[0].toUpperCase()+Td.slice(1);Or(m1,"on"+p1)}Or(cp,"onAnimationEnd"),Or(hp,"onAnimationIteration"),Or(fp,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(MS,"onTransitionRun"),Or(PS,"onTransitionStart"),Or(VS,"onTransitionCancel"),Or(dp,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),Zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Ov(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var T=l.length-1;0<=T;T--){var A=l[T],j=A.instance,ee=A.currentTarget;if(A=A.listener,j!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=ee;try{d(f)}catch(ce){lc(ce)}f.currentTarget=null,d=j}else for(T=0;T<l.length;T++){if(A=l[T],j=A.instance,ee=A.currentTarget,A=A.listener,j!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=ee;try{d(f)}catch(ce){lc(ce)}f.currentTarget=null,d=j}}}}function et(t,i){var s=i[Oe];s===void 0&&(s=i[Oe]=new Set);var l=t+"__bubble";s.has(l)||(Mv(i,t,2,!1),s.add(l))}function bd(t,i,s){var l=0;i&&(l|=4),Mv(s,t,l,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[bc]){t[bc]=!0,Xe.forEach(function(s){s!=="selectionchange"&&(y1.has(s)||bd(s,!1,t),bd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,bd("selectionchange",!1,i))}}function Mv(t,i,s,l){switch(r_(i)){case 2:var f=F1;break;case 8:f=G1;break;default:f=jd}s=f.bind(null,i,s,t),f=void 0,!gr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function wd(t,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=l.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Ue(A),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){l=d=T;continue e}A=A.parentNode}}l=l.return}wu(function(){var ee=d,ce=dr(s),ge=[];e:{var te=gp.get(t);if(te!==void 0){var ne=Ms,Be=t;switch(t){case"keypress":if($r(s)===0)break e;case"keydown":case"keyup":ne=Us;break;case"focusin":Be="focus",ne=ks;break;case"focusout":Be="blur",ne=ks;break;case"beforeblur":case"afterblur":ne=ks;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Ou;break;case cp:case hp:case fp:ne=js;break;case dp:ne=Pu;break;case"scroll":case"scrollend":ne=Au;break;case"wheel":ne=Bs;break;case"copy":case"cut":case"paste":ne=Ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ko;break;case"toggle":case"beforetoggle":ne=ku}var Pe=(i&4)!==0,wt=!Pe&&(t==="scroll"||t==="scrollend"),Q=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var F=ee,W;F!==null;){var fe=F;if(W=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||W===null||Q===null||(fe=Ga(F,Q),fe!=null&&Pe.push(xl(F,fe,W))),wt)break;F=F.return}0<Pe.length&&(te=new ne(te,Be,null,s,ce),ge.push({event:te,listeners:Pe}))}}if((i&7)===0){e:{if(te=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",te&&s!==vi&&(Be=s.relatedTarget||s.fromElement)&&(Ue(Be)||Be[Ae]))break e;if((ne||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Be=s.relatedTarget||s.toElement,ne=ee,Be=Be?Ue(Be):null,Be!==null&&(wt=u(Be),Pe=Be.tag,Be!==wt||Pe!==5&&Pe!==27&&Pe!==6)&&(Be=null)):(ne=null,Be=ee),ne!==Be)){if(Pe=mr,fe="onMouseLeave",Q="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(Pe=Ko,fe="onPointerLeave",Q="onPointerEnter",F="pointer"),wt=ne==null?te:mt(ne),W=Be==null?te:mt(Be),te=new Pe(fe,F+"leave",ne,s,ce),te.target=wt,te.relatedTarget=W,fe=null,Ue(ce)===ee&&(Pe=new Pe(Q,F+"enter",Be,s,ce),Pe.target=W,Pe.relatedTarget=wt,fe=Pe),wt=fe,ne&&Be)t:{for(Pe=ne,Q=Be,F=0,W=Pe;W;W=ho(W))F++;for(W=0,fe=Q;fe;fe=ho(fe))W++;for(;0<F-W;)Pe=ho(Pe),F--;for(;0<W-F;)Q=ho(Q),W--;for(;F--;){if(Pe===Q||Q!==null&&Pe===Q.alternate)break t;Pe=ho(Pe),Q=ho(Q)}Pe=null}else Pe=null;ne!==null&&Pv(ge,te,ne,Pe,!1),Be!==null&&wt!==null&&Pv(ge,wt,Be,Pe,!0)}}e:{if(te=ee?mt(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Re=Jm;else if(en(te))if(ep)Re=IS;else{Re=DS;var We=RS}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Ho(ee.elementType)&&(Re=Jm):Re=CS;if(Re&&(Re=Re(t,ee))){Si(ge,Re,s,ce);break e}We&&We(t,te,ee),t==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Xi(te,"number",te.value)}switch(We=ee?mt(ee):window,t){case"focusin":(en(We)||We.contentEditable==="true")&&(zs=We,ef=ee,Zo=null);break;case"focusout":Zo=ef=zs=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,lp(ge,s,ce);break;case"selectionchange":if(OS)break;case"keydown":case"keyup":lp(ge,s,ce)}var Ie;if(Kr)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else at?le(t,s)&&(je="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(_&&s.locale!=="ko"&&(at||je!=="onCompositionStart"?je==="onCompositionEnd"&&at&&(Ie=Fo()):(Gr=ce,Wi="value"in Gr?Gr.value:Gr.textContent,at=!0)),We=Sc(ee,je),0<We.length&&(je=new Yo(je,t,null,s,ce),ge.push({event:je,listeners:We}),Ie?je.data=Ie:(Ie=Ee(s),Ie!==null&&(je.data=Ie)))),(Ie=y?Jt(t,s):st(t,s))&&(je=Sc(ee,"onBeforeInput"),0<je.length&&(We=new Yo("onBeforeInput","beforeinput",null,s,ce),ge.push({event:We,listeners:je}),We.data=Ie)),g1(ge,t,ee,s,ce)}Ov(ge,i)})}function xl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Sc(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ga(t,s),f!=null&&l.unshift(xl(t,f,d)),f=Ga(t,i),f!=null&&l.push(xl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pv(t,i,s,l,f){for(var d=i._reactName,T=[];s!==null&&s!==l;){var A=s,j=A.alternate,ee=A.stateNode;if(A=A.tag,j!==null&&j===l)break;A!==5&&A!==26&&A!==27||ee===null||(j=ee,f?(ee=Ga(s,d),ee!=null&&T.unshift(xl(s,ee,j))):f||(ee=Ga(s,d),ee!=null&&T.push(xl(s,ee,j)))),s=s.return}T.length!==0&&t.push({event:i,listeners:T})}var v1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function Vv(t){return(typeof t=="string"?t:""+t).replace(v1,`
`).replace(_1,"")}function kv(t,i){return i=Vv(i),Vv(t)===i}function wc(){}function St(t,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||fr(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&fr(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,s,l);break;case"style":zo(t,l,d);break;case"data":if(i!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Os(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&St(t,i,"name",f.name,f,null),St(t,i,"formEncType",f.formEncType,f,null),St(t,i,"formMethod",f.formMethod,f,null),St(t,i,"formTarget",f.formTarget,f,null)):(St(t,i,"encType",f.encType,f,null),St(t,i,"method",f.method,f,null),St(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Os(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=wc);break;case"onScroll":l!=null&&et("scroll",t);break;case"onScrollEnd":l!=null&&et("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Os(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":et("beforetoggle",t),et("toggle",t),wn(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Yh.get(s)||s,wn(t,s,l))}}function Ad(t,i,s,l,f,d){switch(s){case"style":zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?fr(t,l):(typeof l=="number"||typeof l=="bigint")&&fr(t,""+l);break;case"onScroll":l!=null&&et("scroll",t);break;case"onScrollEnd":l!=null&&et("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=t[_e]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):wn(t,s,l)}}}function vn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",t),et("load",t);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var T=s[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(t,i,d,T,s,null)}}f&&St(t,i,"srcSet",s.srcSet,s,null),l&&St(t,i,"src",s.src,s,null);return;case"input":et("invalid",t);var A=d=T=f=null,j=null,ee=null;for(l in s)if(s.hasOwnProperty(l)){var ce=s[l];if(ce!=null)switch(l){case"name":f=ce;break;case"type":T=ce;break;case"checked":j=ce;break;case"defaultChecked":ee=ce;break;case"value":d=ce;break;case"defaultValue":A=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(a(137,i));break;default:St(t,i,l,ce,s,null)}}Ha(t,d,A,j,ee,T,f,!1),Ns(t);return;case"select":et("invalid",t),l=T=d=null;for(f in s)if(s.hasOwnProperty(f)&&(A=s[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:St(t,i,f,A,s,null)}i=d,s=T,t.multiple=!!l,i!=null?yi(t,!!l,i,!1):s!=null&&yi(t,!!l,s,!0);return;case"textarea":et("invalid",t),d=f=l=null;for(T in s)if(s.hasOwnProperty(T)&&(A=s[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:St(t,i,T,A,s,null)}qa(t,l,f,d),Ns(t);return;case"option":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:St(t,i,j,l,s,null)}return;case"dialog":et("beforetoggle",t),et("toggle",t),et("cancel",t),et("close",t);break;case"iframe":case"object":et("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)et(Al[l],t);break;case"image":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"embed":case"source":case"link":et("error",t),et("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in s)if(s.hasOwnProperty(ee)&&(l=s[ee],l!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(t,i,ee,l,s,null)}return;default:if(Ho(i)){for(ce in s)s.hasOwnProperty(ce)&&(l=s[ce],l!==void 0&&Ad(t,i,ce,l,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(l=s[A],l!=null&&St(t,i,A,l,s,null))}function E1(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,A=null,j=null,ee=null,ce=null;for(ne in s){var ge=s[ne];if(s.hasOwnProperty(ne)&&ge!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":j=ge;default:l.hasOwnProperty(ne)||St(t,i,ne,null,l,ge)}}for(var te in l){var ne=l[te];if(ge=s[te],l.hasOwnProperty(te)&&(ne!=null||ge!=null))switch(te){case"type":d=ne;break;case"name":f=ne;break;case"checked":ee=ne;break;case"defaultChecked":ce=ne;break;case"value":T=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,i));break;default:ne!==ge&&St(t,i,te,ne,l,ge)}}Yn(t,T,A,j,ee,ce,d,f);return;case"select":ne=T=A=te=null;for(d in s)if(j=s[d],s.hasOwnProperty(d)&&j!=null)switch(d){case"value":break;case"multiple":ne=j;default:l.hasOwnProperty(d)||St(t,i,d,null,l,j)}for(f in l)if(d=l[f],j=s[f],l.hasOwnProperty(f)&&(d!=null||j!=null))switch(f){case"value":te=d;break;case"defaultValue":A=d;break;case"multiple":T=d;default:d!==j&&St(t,i,f,d,l,j)}i=A,s=T,l=ne,te!=null?yi(t,!!s,te,!1):!!l!=!!s&&(i!=null?yi(t,!!s,i,!0):yi(t,!!s,s?[]:"",!1));return;case"textarea":ne=te=null;for(A in s)if(f=s[A],s.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:St(t,i,A,null,l,f)}for(T in l)if(f=l[T],d=s[T],l.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":te=f;break;case"defaultValue":ne=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&St(t,i,T,f,l,d)}Tt(t,te,ne);return;case"option":for(var Be in s)if(te=s[Be],s.hasOwnProperty(Be)&&te!=null&&!l.hasOwnProperty(Be))switch(Be){case"selected":t.selected=!1;break;default:St(t,i,Be,null,l,te)}for(j in l)if(te=l[j],ne=s[j],l.hasOwnProperty(j)&&te!==ne&&(te!=null||ne!=null))switch(j){case"selected":t.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:St(t,i,j,te,l,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in s)te=s[Pe],s.hasOwnProperty(Pe)&&te!=null&&!l.hasOwnProperty(Pe)&&St(t,i,Pe,null,l,te);for(ee in l)if(te=l[ee],ne=s[ee],l.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,i));break;default:St(t,i,ee,te,l,ne)}return;default:if(Ho(i)){for(var wt in s)te=s[wt],s.hasOwnProperty(wt)&&te!==void 0&&!l.hasOwnProperty(wt)&&Ad(t,i,wt,void 0,l,te);for(ce in l)te=l[ce],ne=s[ce],!l.hasOwnProperty(ce)||te===ne||te===void 0&&ne===void 0||Ad(t,i,ce,te,l,ne);return}}for(var Q in s)te=s[Q],s.hasOwnProperty(Q)&&te!=null&&!l.hasOwnProperty(Q)&&St(t,i,Q,null,l,te);for(ge in l)te=l[ge],ne=s[ge],!l.hasOwnProperty(ge)||te===ne||te==null&&ne==null||St(t,i,ge,te,l,ne)}var xd=null,Rd=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function jv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Dd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cd=null;function T1(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(w1)}:Uv;function w1(t){setTimeout(function(){throw t})}function da(t){return t==="head"}function zv(t,i){var s=i,l=0,f=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var T=t.ownerDocument;if(s&1&&Rl(T.documentElement),s&2&&Rl(T.body),s&4)for(s=T.head,Rl(s),T=s.firstChild;T;){var A=T.nextSibling,j=T.nodeName;T[ke]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=A}}if(f===0){t.removeChild(d),Vl(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Vl(i)}function Id(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Id(s),Me(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function A1(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ke])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pr(t.nextSibling),t===null)break}return null}function x1(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Pr(t.nextSibling),t===null))return null;return t}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function R1(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Od=null;function Hv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function qv(t,i,s){switch(i=Ac(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Me(t)}var br=new Map,Fv=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=ie.d;ie.d={f:D1,r:C1,D:I1,C:N1,L:O1,m:M1,X:V1,S:P1,M:k1};function D1(){var t=ki.f(),i=yc();return t||i}function C1(t){var i=Ze(t);i!==null&&i.tag===5&&i.type==="form"?cy(i):ki.r(t)}var fo=typeof document>"u"?null:document;function Gv(t,i,s){var l=fo;if(l&&typeof i=="string"&&i){var f=Gt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Fv.has(f)||(Fv.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),vn(i,"link",t),it(i),l.head.appendChild(i)))}}function I1(t){ki.D(t),Gv("dns-prefetch",t,null)}function N1(t,i){ki.C(t,i),Gv("preconnect",t,i)}function O1(t,i,s){ki.L(t,i,s);var l=fo;if(l&&t&&i){var f='link[rel="preload"][as="'+Gt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Gt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Gt(s.imageSizes)+'"]')):f+='[href="'+Gt(t)+'"]';var d=f;switch(i){case"style":d=go(t);break;case"script":d=mo(t)}br.has(d)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),br.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Cl(d))||(i=l.createElement("link"),vn(i,"link",t),it(i),l.head.appendChild(i)))}}function M1(t,i){ki.m(t,i);var s=fo;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(t)}if(!br.has(d)&&(t=v({rel:"modulepreload",href:t},i),br.set(d,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Cl(d)))return}l=s.createElement("link"),vn(l,"link",t),it(l),s.head.appendChild(l)}}}function P1(t,i,s){ki.S(t,i,s);var l=fo;if(l&&t){var f=ct(l).hoistableStyles,d=go(t);i=i||"default";var T=f.get(d);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(Dl(d)))A.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=br.get(d))&&Md(t,s);var j=T=l.createElement("link");it(j),vn(j,"link",t),j._p=new Promise(function(ee,ce){j.onload=ee,j.onerror=ce}),j.addEventListener("load",function(){A.loading|=1}),j.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Rc(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(d,T)}}}function V1(t,i){ki.X(t,i);var s=fo;if(s&&t){var l=ct(s).hoistableScripts,f=mo(t),d=l.get(f);d||(d=s.querySelector(Cl(f)),d||(t=v({src:t,async:!0},i),(i=br.get(f))&&Pd(t,i),d=s.createElement("script"),it(d),vn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function k1(t,i){ki.M(t,i);var s=fo;if(s&&t){var l=ct(s).hoistableScripts,f=mo(t),d=l.get(f);d||(d=s.querySelector(Cl(f)),d||(t=v({src:t,async:!0,type:"module"},i),(i=br.get(f))&&Pd(t,i),d=s.createElement("script"),it(d),vn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function $v(t,i,s,l){var f=(f=Te.current)?xc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=go(s.href),s=ct(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=go(s.href);var d=ct(f).hoistableStyles,T=d.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,T),(d=f.querySelector(Dl(t)))&&!d._p&&(T.instance=d,T.state.loading=5),br.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},br.set(t,s),d||j1(f,t,s,T.state))),i&&l===null)throw Error(a(528,""));return T}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(s),s=ct(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function go(t){return'href="'+Gt(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Yv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function j1(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),vn(i,"link",s),it(i),t.head.appendChild(i))}function mo(t){return'[src="'+Gt(t)+'"]'}function Cl(t){return"script[async]"+t}function Qv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Gt(s.href)+'"]');if(l)return i.instance=l,it(l),l;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),it(l),vn(l,"style",f),Rc(l,s.precedence,t),i.instance=l;case"stylesheet":f=go(s.href);var d=t.querySelector(Dl(f));if(d)return i.state.loading|=4,i.instance=d,it(d),d;l=Yv(s),(f=br.get(f))&&Md(l,f),d=(t.ownerDocument||t).createElement("link"),it(d);var T=d;return T._p=new Promise(function(A,j){T.onload=A,T.onerror=j}),vn(d,"link",l),i.state.loading|=4,Rc(d,s.precedence,t),i.instance=d;case"script":return d=mo(s.src),(f=t.querySelector(Cl(d)))?(i.instance=f,it(f),f):(l=s,(f=br.get(d))&&(l=v({},s),Pd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),it(f),vn(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Rc(l,s.precedence,t));return i.instance}function Rc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===i)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Dc=null;function Kv(t,i,s){if(Dc===null){var l=new Map,f=Dc=new Map;f.set(s,l)}else f=Dc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[ke]||d[me]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(i)||"";T=t+T;var A=l.get(T);A?A.push(d):l.set(T,[d])}}return l}function Xv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function L1(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function U1(){}function B1(t,i,s){if(Il===null)throw Error(a(475));var l=Il;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=go(s.href),d=t.querySelector(Dl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,it(d);return}d=t.ownerDocument||t,s=Yv(s),(f=br.get(f))&&Md(s,f),d=d.createElement("link"),it(d);var T=d;T._p=new Promise(function(A,j){T.onload=A,T.onerror=j}),vn(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Cc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function z1(){if(Il===null)throw Error(a(475));var t=Il;return t.stylesheets&&t.count===0&&Vd(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Vd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)Vd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Vd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,i.forEach(H1,t),Ic=null,Cc.call(t))}function H1(t,i){if(!(i.state.loading&4)){var s=Ic.get(t);if(s)var l=s.get(null);else{s=new Map,Ic.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),l=T)}l&&s.set(null,l)}f=i.instance,T=f.getAttribute("data-precedence"),d=s.get(T)||l,d===l&&s.set(null,f),s.set(T,f),this.count++,l=Cc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:B,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function q1(t,i,s,l,f,d,T,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Zv(t,i,s,l,f,d,T,A,j,ee,ce,ge){return t=new q1(t,i,s,T,A,j,ee,ge),i=1,d===!0&&(i|=24),d=Kn(3,null,null,i),t.current=d,d.stateNode=t,i=pf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Ef(d),t}function Jv(t){return t?(t=Gs,t):Gs}function e_(t,i,s,l,f,d){f=Jv(f),l.context===null?l.context=f:l.pendingContext=f,l=ea(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ta(t,l,i),s!==null&&(er(s,t,i),ol(s,t,i))}function t_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function kd(t,i){t_(t,i),(t=t.alternate)&&t_(t,i)}function n_(t){if(t.tag===13){var i=Fs(t,67108864);i!==null&&er(i,t,67108864),kd(t,67108864)}}var Nc=!0;function F1(t,i,s,l){var f=L.T;L.T=null;var d=ie.p;try{ie.p=2,jd(t,i,s,l)}finally{ie.p=d,L.T=f}}function G1(t,i,s,l){var f=L.T;L.T=null;var d=ie.p;try{ie.p=8,jd(t,i,s,l)}finally{ie.p=d,L.T=f}}function jd(t,i,s,l){if(Nc){var f=Ld(l);if(f===null)wd(t,i,l,Oc,s),i_(t,l);else if(Y1(f,t,i,s,l))l.stopPropagation();else if(i_(t,l),i&4&&-1<$1.indexOf(t)){for(;f!==null;){var d=Ze(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Fn(d.pendingLanes);if(T!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var j=1<<31-qt(T);A.entanglements[1]|=j,T&=~j}ti(d),(vt&6)===0&&(mc=Nn()+500,wl(0))}}break;case 13:A=Fs(d,2),A!==null&&er(A,d,2),yc(),kd(d,2)}if(d=Ld(l),d===null&&wd(t,i,l,Oc,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else wd(t,i,l,null,s)}}function Ld(t){return t=dr(t),Ud(t)}var Oc=null;function Ud(t){if(Oc=null,t=Ue(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Oc=t,null}function r_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lo()){case Ua:return 2;case qi:return 8;case di:case Cr:return 32;case sr:return 268435456;default:return 32}default:return 32}}var Bd=!1,ga=null,ma=null,pa=null,Ol=new Map,Ml=new Map,ya=[],$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i_(t,i){switch(t){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Pl(t,i,s,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Ze(i),i!==null&&n_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Y1(t,i,s,l,f){switch(i){case"focusin":return ga=Pl(ga,t,i,s,l,f),!0;case"dragenter":return ma=Pl(ma,t,i,s,l,f),!0;case"mouseover":return pa=Pl(pa,t,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return Ol.set(d,Pl(Ol.get(d)||null,t,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ml.set(d,Pl(Ml.get(d)||null,t,i,s,l,f)),!0}return!1}function a_(t){var i=Ue(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,K(t.priority,function(){if(s.tag===13){var l=Jn();l=zr(l);var f=Fs(s,l);f!==null&&er(f,s,l),kd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Ld(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);vi=l,s.target.dispatchEvent(l),vi=null}else return i=Ze(s),i!==null&&n_(i),t.blockedOn=s,!1;i.shift()}return!0}function s_(t,i,s){Mc(t)&&s.delete(i)}function Q1(){Bd=!1,ga!==null&&Mc(ga)&&(ga=null),ma!==null&&Mc(ma)&&(ma=null),pa!==null&&Mc(pa)&&(pa=null),Ol.forEach(s_),Ml.forEach(s_)}function Pc(t,i){t.blockedOn===i&&(t.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Q1)))}var Vc=null;function o_(t){Vc!==t&&(Vc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Ud(l||s)===null)continue;break}var d=Ze(s);d!==null&&(t.splice(i,3),i-=3,Uf(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Vl(t){function i(j){return Pc(j,t)}ga!==null&&Pc(ga,t),ma!==null&&Pc(ma,t),pa!==null&&Pc(pa,t),Ol.forEach(i),Ml.forEach(i);for(var s=0;s<ya.length;s++){var l=ya[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ya.length&&(s=ya[0],s.blockedOn===null);)a_(s),s.blockedOn===null&&ya.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],T=f[_e]||null;if(typeof d=="function")T||o_(s);else if(T){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[_e]||null)A=T.formAction;else if(Ud(f)!==null)continue}else A=T.action;typeof A=="function"?s[l+1]=A:(s.splice(l,3),l-=3),o_(s)}}}function zd(t){this._internalRoot=t}kc.prototype.render=zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Jn();e_(s,l,t,i,null,null)},kc.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;e_(t.current,2,null,t,null,null),yc(),i[Ae]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=U();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ya.length&&i!==0&&i<ya[s].priority;s++);ya.splice(s,0,t),s===0&&a_(t)}};var l_=e.version;if(l_!=="19.1.0")throw Error(a(527,l_,"19.1.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var K1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{ft=jc.inject(K1),Ye=jc}catch{}}return jl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=wy,d=Ay,T=xy,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=Zv(t,1,!1,null,null,s,l,f,d,T,A,null),t[Ae]=i.current,Sd(t),new zd(i)},jl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",d=wy,T=Ay,A=xy,j=null,ee=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(j=s.unstable_transitionCallbacks),s.formState!==void 0&&(ee=s.formState)),i=Zv(t,1,!0,i,s??null,l,f,d,T,A,j,ee),i.context=Jv(null),s=i.current,l=Jn(),l=zr(l),f=ea(l),f.callback=null,ta(s,f,l),s=l,i.current.lanes=s,Ir(i,s),ti(i),t[Ae]=i.current,Sd(t),new kc(i)},jl.version="19.1.0",jl}var v_;function aw(){if(v_)return Fd.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=iw(),Fd.exports}var sw=aw(),Ll={},__;function ow(){if(__)return Ll;__=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.parse=h,Ll.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function h(b,O){const V=new u,G=b.length;if(G<2)return V;const q=O?.decode||v;let H=0;do{const se=b.indexOf("=",H);if(se===-1)break;const B=b.indexOf(";",H),oe=B===-1?G:B;if(se>oe){H=b.lastIndexOf(";",se-1)+1;continue}const Z=g(b,H,se),k=m(b,se,Z),M=b.slice(Z,k);if(V[M]===void 0){let w=g(b,se+1,oe),x=m(b,oe,w);const R=q(b.slice(w,x));V[M]=R}H=oe+1}while(H<G);return V}function g(b,O,V){do{const G=b.charCodeAt(O);if(G!==32&&G!==9)return O}while(++O<V);return V}function m(b,O,V){for(;O>V;){const G=b.charCodeAt(--O);if(G!==32&&G!==9)return O+1}return V}function p(b,O,V){const G=V?.encode||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const q=G(O);if(!e.test(q))throw new TypeError(`argument val is invalid: ${O}`);let H=b+"="+q;if(!V)return H;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);H+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);H+="; Domain="+V.domain}if(V.path){if(!a.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);H+="; Path="+V.path}if(V.expires){if(!S(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);H+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(H+="; HttpOnly"),V.secure&&(H+="; Secure"),V.partitioned&&(H+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return H}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function S(b){return o.call(b)==="[object Date]"}return Ll}ow();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TE=r=>{throw TypeError(r)},lw=(r,e,n)=>e.has(r)||TE("Cannot "+n),Qd=(r,e,n)=>(lw(r,e,"read from private field"),n?n.call(r):e.get(r)),uw=(r,e,n)=>e.has(r)?TE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),E_="popstate";function cw(r={}){function e(o,u){let{pathname:h="/",search:g="",hash:m=""}=zi(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),nu("",{pathname:h,search:g,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),g="";if(h&&h.getAttribute("href")){let m=o.location.href,p=m.indexOf("#");g=p===-1?m:m.slice(0,p)}return g+"#"+(typeof u=="string"?u:Da(u))}function a(o,u){Ht(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return fw(e,n,a,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ht(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hw(){return Math.random().toString(36).substring(2,10)}function T_(r,e){return{usr:r.state,key:r.key,idx:e}}function nu(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?zi(e):e,state:n,key:e&&e.key||a||hw()}}function Da({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function zi(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function fw(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,g="POP",m=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function S(){g="POP";let q=v(),H=q==null?null:q-p;p=q,m&&m({action:g,location:G.location,delta:H})}function b(q,H){g="PUSH";let se=nu(G.location,q,H);n&&n(se,q),p=v()+1;let B=T_(se,p),oe=G.createHref(se);try{h.pushState(B,"",oe)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(oe)}u&&m&&m({action:g,location:G.location,delta:1})}function O(q,H){g="REPLACE";let se=nu(G.location,q,H);n&&n(se,q),p=v();let B=T_(se,p),oe=G.createHref(se);h.replaceState(B,"",oe),u&&m&&m({action:g,location:G.location,delta:0})}function V(q){return bE(q)}let G={get action(){return g},get location(){return r(o,h)},listen(q){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(E_,S),m=q,()=>{o.removeEventListener(E_,S),m=null}},createHref(q){return e(o,q)},createURL:V,encodeLocation(q){let H=V(q);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:b,replace:O,go(q){return h.go(q)}};return G}function bE(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Da(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var ql,b_=class{constructor(r){if(uw(this,ql,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(Qd(this,ql).has(r))return Qd(this,ql).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Qd(this,ql).set(r,e)}};ql=new WeakMap;var dw=new Set(["lazy","caseSensitive","path","id","index","children"]);function gw(r){return dw.has(r)}var mw=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function pw(r){return mw.has(r)}function yw(r){return r.index===!0}function ah(r,e,n=[],a={}){return r.map((o,u)=>{let h=[...n,String(u)],g=typeof o.id=="string"?o.id:h.join("-");if(tt(o.index!==!0||!o.children,"Cannot specify children on an index route"),tt(!a[g],`Found a route id collision on id "${g}".  Route id's must be globally unique within Data Router usages`),yw(o)){let m={...o,...e(o),id:g};return a[g]=m,m}else{let m={...o,...e(o),id:g,children:void 0};return a[g]=m,o.children&&(m.children=ah(o.children,e,h,a)),m}})}function Ea(r,e,n="/"){return Kc(r,e,n,!1)}function Kc(r,e,n,a){let o=typeof e=="string"?zi(e):e,u=Dr(o.pathname||"/",n);if(u==null)return null;let h=SE(r);_w(h);let g=null;for(let m=0;g==null&&m<h.length;++m){let p=Iw(u);g=Dw(h[m],p,a)}return g}function vw(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function SE(r,e=[],n=[],a=""){let o=(u,h,g)=>{let m={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(tt(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let p=ii([a,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(tt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),SE(u.children,e,v,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:xw(p,u.index),routesMeta:v})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let g of wE(u.path))o(u,h,g)}),e}function wE(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=wE(a.join("/")),g=[];return g.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&g.push(...h),g.map(m=>r.startsWith("/")&&m===""?"/":m)}function _w(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Rw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Ew=/^:[\w-]+$/,Tw=3,bw=2,Sw=1,ww=10,Aw=-2,S_=r=>r==="*";function xw(r,e){let n=r.split("/"),a=n.length;return n.some(S_)&&(a+=Aw),e&&(a+=bw),n.filter(o=>!S_(o)).reduce((o,u)=>o+(Ew.test(u)?Tw:u===""?Sw:ww),a)}function Rw(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function Dw(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let g=0;g<a.length;++g){let m=a[g],p=g===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),b=m.route;if(!S&&p&&n&&!a[a.length-1].route.index&&(S=sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:ii([u,S.pathname]),pathnameBase:Mw(ii([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=ii([u,S.pathnameBase]))}return h}function sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=Cw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:S},b)=>{if(v==="*"){let V=g[b]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const O=g[b];return S&&!O?p[v]=void 0:p[v]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function Cw(r,e=!1,n=!0){Ht(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,m)=>(a.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Iw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ht(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Dr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function Nw(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?zi(r):r;return{pathname:n?n.startsWith("/")?n:Ow(n,e):e,search:Pw(a),hash:Vw(o)}}function Ow(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kd(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AE(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xg(r){let e=AE(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Wg(r,e,n,a=!1){let o;typeof r=="string"?o=zi(r):(o={...r},tt(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,g;if(h==null)g=n;else{let S=e.length-1;if(!a&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}g=S>=0?e[S]:"/"}let m=Nw(o,g),p=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ii=r=>r.join("/").replace(/\/\/+/g,"/"),Mw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Pw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Vw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,oh=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ru(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var xE=["POST","PUT","PATCH","DELETE"],kw=new Set(xE),jw=["GET",...xE],Lw=new Set(jw),Uw=new Set([301,302,303,307,308]),Bw=new Set([307,308]),Xd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Zg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hw=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),RE="remix-router-transitions",DE=Symbol("ResetLoaderData");function qw(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";tt(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||Hw,u={},h=ah(r.routes,o,void 0,u),g,m=r.basename||"/",p=r.dataStrategy||Qw,v={unstable_middleware:!1,...r.future},S=null,b=new Set,O=null,V=null,G=null,q=r.hydrationData!=null,H=Ea(h,r.history.location,m),se=!1,B=null,oe;if(H==null&&!r.patchRoutesOnNavigation){let U=wr(404,{pathname:r.history.location.pathname}),{matches:K,route:J}=V_(h);oe=!0,H=K,B={[J.id]:U}}else if(H&&!r.hydrationData&&On(H,h,r.history.location.pathname).active&&(H=null),H)if(H.some(U=>U.route.lazy))oe=!1;else if(!H.some(U=>U.route.loader))oe=!0;else{let U=r.hydrationData?r.hydrationData.loaderData:null,K=r.hydrationData?r.hydrationData.errors:null;if(K){let J=H.findIndex(me=>K[me.route.id]!==void 0);oe=H.slice(0,J+1).every(me=>!pg(me.route,U,K))}else oe=H.every(J=>!pg(J.route,U,K))}else{oe=!1,H=[];let U=On(null,h,r.history.location.pathname);U.active&&U.matches&&(se=!0,H=U.matches)}let Z,k={historyAction:r.history.action,location:r.history.location,matches:H,initialized:oe,navigation:Xd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||B,fetchers:new Map,blockers:new Map},M="POP",w=!1,x,R=!1,I=new Map,N=null,D=!1,ue=!1,ye=new Set,L=new Map,ie=0,$=-1,ve=new Map,P=new Set,Y=new Map,ae=new Map,re=new Set,he=new Map,be,Te=null;function rt(){if(S=r.history.listen(({action:U,location:K,delta:J})=>{if(be){be(),be=void 0;return}Ht(he.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=$i({currentLocation:k.location,nextLocation:K,historyAction:U});if(me&&J!=null){let _e=new Promise(Ae=>{be=Ae});r.history.go(J*-1),lr(me,{state:"blocked",location:K,proceed(){lr(me,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),_e.then(()=>r.history.go(J))},reset(){let Ae=new Map(k.blockers);Ae.set(me,Ul),gt({blockers:Ae})}});return}return In(U,K)}),n){aA(e,I);let U=()=>sA(e,I);e.addEventListener("pagehide",U),N=()=>e.removeEventListener("pagehide",U)}return k.initialized||In("POP",k.location,{initialHydration:!0}),Z}function Ve(){S&&S(),N&&N(),b.clear(),x&&x.abort(),k.fetchers.forEach((U,K)=>qt(K)),k.blockers.forEach((U,K)=>gi(K))}function Et(U){return b.add(U),()=>b.delete(U)}function gt(U,K={}){k={...k,...U};let J=[],me=[];k.fetchers.forEach((_e,Ae)=>{_e.state==="idle"&&(re.has(Ae)?J.push(Ae):me.push(Ae))}),re.forEach(_e=>{!k.fetchers.has(_e)&&!L.has(_e)&&J.push(_e)}),[...b].forEach(_e=>_e(k,{deletedFetchers:J,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),J.forEach(_e=>qt(_e)),me.forEach(_e=>k.fetchers.delete(_e))}function sn(U,K,{flushSync:J}={}){let me=k.actionData!=null&&k.navigation.formMethod!=null&&nr(k.navigation.formMethod)&&k.navigation.state==="loading"&&U.state?._isRedirect!==!0,_e;K.actionData?Object.keys(K.actionData).length>0?_e=K.actionData:_e=null:me?_e=k.actionData:_e=null;let Ae=K.loaderData?M_(k.loaderData,K.loaderData,K.matches||[],K.errors):k.loaderData,Oe=k.blockers;Oe.size>0&&(Oe=new Map(Oe),Oe.forEach((De,ke)=>Oe.set(ke,Ul)));let xe=w===!0||k.navigation.formMethod!=null&&nr(k.navigation.formMethod)&&U.state?._isRedirect!==!0;g&&(h=g,g=void 0),D||M==="POP"||(M==="PUSH"?r.history.push(U,U.state):M==="REPLACE"&&r.history.replace(U,U.state));let Ce;if(M==="POP"){let De=I.get(k.location.pathname);De&&De.has(U.pathname)?Ce={currentLocation:k.location,nextLocation:U}:I.has(U.pathname)&&(Ce={currentLocation:U,nextLocation:k.location})}else if(R){let De=I.get(k.location.pathname);De?De.add(U.pathname):(De=new Set([U.pathname]),I.set(k.location.pathname,De)),Ce={currentLocation:k.location,nextLocation:U}}gt({...K,actionData:_e,loaderData:Ae,historyAction:M,location:U,initialized:!0,navigation:Xd,revalidation:"idle",restoreScrollPosition:Yi(U,K.matches||k.matches),preventScrollReset:xe,blockers:Oe},{viewTransitionOpts:Ce,flushSync:J===!0}),M="POP",w=!1,R=!1,D=!1,ue=!1,Te?.resolve(),Te=null}async function Ln(U,K){if(typeof U=="number"){r.history.go(U);return}let J=mg(k.location,k.matches,m,U,K?.fromRouteId,K?.relative),{path:me,submission:_e,error:Ae}=w_(!1,J,K),Oe=k.location,xe=nu(k.location,me,K&&K.state);xe={...xe,...r.history.encodeLocation(xe)};let Ce=K&&K.replace!=null?K.replace:void 0,De="PUSH";Ce===!0?De="REPLACE":Ce===!1||_e!=null&&nr(_e.formMethod)&&_e.formAction===k.location.pathname+k.location.search&&(De="REPLACE");let ke=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Me=(K&&K.flushSync)===!0,Ue=$i({currentLocation:Oe,nextLocation:xe,historyAction:De});if(Ue){lr(Ue,{state:"blocked",location:xe,proceed(){lr(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),Ln(U,K)},reset(){let Ze=new Map(k.blockers);Ze.set(Ue,Ul),gt({blockers:Ze})}});return}await In(De,xe,{submission:_e,pendingError:Ae,preventScrollReset:ke,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:Me})}function ar(){Te||(Te=oA()),Gi(),gt({revalidation:"loading"});let U=Te.promise;return k.navigation.state==="submitting"?U:k.navigation.state==="idle"?(In(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),U):(In(M||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:R===!0}),U)}async function In(U,K,J){x&&x.abort(),x=null,M=U,D=(J&&J.startUninterruptedRevalidation)===!0,Ir(k.location,k.matches),w=(J&&J.preventScrollReset)===!0,R=(J&&J.enableViewTransition)===!0;let me=g||h,_e=J&&J.overrideNavigation,Ae=J?.initialHydration&&k.matches&&k.matches.length>0&&!se?k.matches:Ea(me,K,m),Oe=(J&&J.flushSync)===!0;if(Ae&&k.initialized&&!ue&&eA(k.location,K)&&!(J&&J.submission&&nr(J.submission.formMethod))){sn(K,{matches:Ae},{flushSync:Oe});return}let xe=On(Ae,me,K.pathname);if(xe.active&&xe.matches&&(Ae=xe.matches),!Ae){let{error:ct,notFoundMatches:it,route:Xe}=mi(K.pathname);sn(K,{matches:it,loaderData:{},errors:{[Xe.id]:ct}},{flushSync:Oe});return}x=new AbortController;let Ce=vo(r.history,K,x.signal,J&&J.submission),De=new b_(r.unstable_getContext?await r.unstable_getContext():void 0),ke;if(J&&J.pendingError)ke=[gs(Ae).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&nr(J.submission.formMethod)){let ct=await La(Ce,K,J.submission,Ae,De,xe.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:Oe});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[it,Xe]=ct.pendingActionResult;if(tr(Xe)&&ru(Xe.error)&&Xe.error.status===404){x=null,sn(K,{matches:ct.matches,loaderData:{},errors:{[it]:Xe.error}});return}}Ae=ct.matches||Ae,ke=ct.pendingActionResult,_e=Wd(K,J.submission),Oe=!1,xe.active=!1,Ce=vo(r.history,Ce.url,Ce.signal)}let{shortCircuited:Me,matches:Ue,loaderData:Ze,errors:mt}=await Cs(Ce,K,Ae,De,xe.active,_e,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Oe,ke);Me||(x=null,sn(K,{matches:Ue||Ae,...P_(ke),loaderData:Ze,errors:mt}))}async function La(U,K,J,me,_e,Ae,Oe,xe={}){Gi();let Ce=rA(K,J);if(gt({navigation:Ce},{flushSync:xe.flushSync===!0}),Ae){let Me=await Br(me,K.pathname,U.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){let Ue=gs(Me.partialMatches).route.id;return{matches:Me.partialMatches,pendingActionResult:[Ue,{type:"error",error:Me.error}]}}else if(Me.matches)me=Me.matches;else{let{notFoundMatches:Ue,error:Ze,route:mt}=mi(K.pathname);return{matches:Ue,pendingActionResult:[mt.id,{type:"error",error:Ze}]}}}let De,ke=Fl(me,K);if(!ke.route.action&&!ke.route.lazy)De={type:"error",error:wr(405,{method:U.method,pathname:K.pathname,routeId:ke.route.id})};else{let Me=So(o,u,U,me,ke,Oe?[]:a,_e),Ue=await sr(U,Me,_e,null);if(De=Ue[ke.route.id],!De){for(let Ze of me)if(Ue[Ze.route.id]){De=Ue[Ze.route.id];break}}if(U.signal.aborted)return{shortCircuited:!0}}if(ms(De)){let Me;return xe&&xe.replace!=null?Me=xe.replace:Me=I_(De.response.headers.get("Location"),new URL(U.url),m)===k.location.pathname+k.location.search,await Cr(U,De,!0,{submission:J,replace:Me}),{shortCircuited:!0}}if(tr(De)){let Me=gs(me,ke.route.id);return(xe&&xe.replace)!==!0&&(M="PUSH"),{matches:me,pendingActionResult:[Me.route.id,De,ke.route.id]}}return{matches:me,pendingActionResult:[ke.route.id,De]}}async function Cs(U,K,J,me,_e,Ae,Oe,xe,Ce,De,ke,Me){let Ue=Ae||Wd(K,Oe),Ze=Oe||xe||j_(Ue),mt=!D&&!De;if(_e){if(mt){let Ft=Nn(Me);gt({navigation:Ue,...Ft!==void 0?{actionData:Ft}:{}},{flushSync:ke})}let ze=await Br(J,K.pathname,U.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Ft=gs(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Ft]:ze.error}}}else if(ze.matches)J=ze.matches;else{let{error:Ft,notFoundMatches:$n,route:Un}=mi(K.pathname);return{matches:$n,loaderData:{},errors:{[Un.id]:Ft}}}}let ct=g||h,{dsMatches:it,revalidatingFetchers:Xe}=A_(U,me,o,u,r.history,k,J,Ze,K,De?[]:a,De===!0,ue,ye,re,Y,P,ct,m,r.patchRoutesOnNavigation!=null,Me);if($=++ie,!r.dataStrategy&&!it.some(ze=>ze.shouldLoad)&&Xe.length===0){let ze=Lr();return sn(K,{matches:J,loaderData:{},errors:Me&&tr(Me[1])?{[Me[0]]:Me[1].error}:null,...P_(Me),...ze?{fetchers:new Map(k.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(mt){let ze={};if(!_e){ze.navigation=Ue;let Ft=Nn(Me);Ft!==void 0&&(ze.actionData=Ft)}Xe.length>0&&(ze.fetchers=Lo(Xe)),gt(ze,{flushSync:ke})}Xe.forEach(ze=>{or(ze.key),ze.controller&&L.set(ze.key,ze.controller)});let cr=()=>Xe.forEach(ze=>or(ze.key));x&&x.signal.addEventListener("abort",cr);let{loaderResults:Zt,fetcherResults:Mn}=await Fi(it,Xe,U,me);if(U.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",cr),Xe.forEach(ze=>L.delete(ze.key));let dn=Lc(Zt);if(dn)return await Cr(U,dn.result,!0,{replace:Ce}),{shortCircuited:!0};if(dn=Lc(Mn),dn)return P.add(dn.key),await Cr(U,dn.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Hr,errors:Gn}=O_(k,J,Zt,Me,Xe,Mn);De&&k.errors&&(Gn={...k.errors,...Gn});let Ki=Lr(),wn=Ur($),Pn=Ki||wn||Xe.length>0;return{matches:J,loaderData:Hr,errors:Gn,...Pn?{fetchers:new Map(k.fetchers)}:{}}}function Nn(U){if(U&&!tr(U[1]))return{[U[0]]:U[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Lo(U){return U.forEach(K=>{let J=k.fetchers.get(K.key),me=Bl(void 0,J?J.data:void 0);k.fetchers.set(K.key,me)}),new Map(k.fetchers)}async function Ua(U,K,J,me){or(U);let _e=(me&&me.flushSync)===!0,Ae=g||h,Oe=mg(k.location,k.matches,m,J,K,me?.relative),xe=Ea(Ae,Oe,m),Ce=On(xe,Ae,Oe);if(Ce.active&&Ce.matches&&(xe=Ce.matches),!xe){Ye(U,K,wr(404,{pathname:Oe}),{flushSync:_e});return}let{path:De,submission:ke,error:Me}=w_(!0,Oe,me);if(Me){Ye(U,K,Me,{flushSync:_e});return}let Ue=Fl(xe,De),Ze=new b_(r.unstable_getContext?await r.unstable_getContext():void 0),mt=(me&&me.preventScrollReset)===!0;if(ke&&nr(ke.formMethod)){await qi(U,K,De,Ue,xe,Ze,Ce.active,_e,mt,ke);return}Y.set(U,{routeId:K,path:De}),await di(U,K,De,Ue,xe,Ze,Ce.active,_e,mt,ke)}async function qi(U,K,J,me,_e,Ae,Oe,xe,Ce,De){Gi(),Y.delete(U);function ke(At){if(!At.route.action&&!At.route.lazy){let hr=wr(405,{method:De.formMethod,pathname:J,routeId:K});return Ye(U,K,hr,{flushSync:xe}),!0}return!1}if(!Oe&&ke(me))return;let Me=k.fetchers.get(U);ft(U,iA(De,Me),{flushSync:xe});let Ue=new AbortController,Ze=vo(r.history,J,Ue.signal,De);if(Oe){let At=await Br(_e,J,Ze.signal,U);if(At.type==="aborted")return;if(At.type==="error"){Ye(U,K,At.error,{flushSync:xe});return}else if(At.matches){if(_e=At.matches,me=Fl(_e,J),ke(me))return}else{Ye(U,K,wr(404,{pathname:J}),{flushSync:xe});return}}L.set(U,Ue);let mt=ie,ct=So(o,u,Ze,_e,me,a,Ae),Xe=(await sr(Ze,ct,Ae,U))[me.route.id];if(Ze.signal.aborted){L.get(U)===Ue&&L.delete(U);return}if(re.has(U)){if(ms(Xe)||tr(Xe)){ft(U,_a(void 0));return}}else{if(ms(Xe))if(L.delete(U),$>mt){ft(U,_a(void 0));return}else return P.add(U),ft(U,Bl(De)),Cr(Ze,Xe,!1,{fetcherSubmission:De,preventScrollReset:Ce});if(tr(Xe)){Ye(U,K,Xe.error);return}}let cr=k.navigation.location||k.location,Zt=vo(r.history,cr,Ue.signal),Mn=g||h,dn=k.navigation.state!=="idle"?Ea(Mn,k.navigation.location,m):k.matches;tt(dn,"Didn't find any matches after fetcher action");let Hr=++ie;ve.set(U,Hr);let Gn=Bl(De,Xe.data);k.fetchers.set(U,Gn);let{dsMatches:Ki,revalidatingFetchers:wn}=A_(Zt,Ae,o,u,r.history,k,dn,De,cr,a,!1,ue,ye,re,Y,P,Mn,m,r.patchRoutesOnNavigation!=null,[me.route.id,Xe]);wn.filter(At=>At.key!==U).forEach(At=>{let hr=At.key,pi=k.fetchers.get(hr),gn=Bl(void 0,pi?pi.data:void 0);k.fetchers.set(hr,gn),or(hr),At.controller&&L.set(hr,At.controller)}),gt({fetchers:new Map(k.fetchers)});let Pn=()=>wn.forEach(At=>or(At.key));Ue.signal.addEventListener("abort",Pn);let{loaderResults:ze,fetcherResults:Ft}=await Fi(Ki,wn,Zt,Ae);if(Ue.signal.aborted)return;if(Ue.signal.removeEventListener("abort",Pn),ve.delete(U),L.delete(U),wn.forEach(At=>L.delete(At.key)),k.fetchers.has(U)){let At=_a(Xe.data);k.fetchers.set(U,At)}let $n=Lc(ze);if($n)return Cr(Zt,$n.result,!1,{preventScrollReset:Ce});if($n=Lc(Ft),$n)return P.add($n.key),Cr(Zt,$n.result,!1,{preventScrollReset:Ce});let{loaderData:Un,errors:qr}=O_(k,dn,ze,void 0,wn,Ft);Ur(Hr),k.navigation.state==="loading"&&Hr>$?(tt(M,"Expected pending action"),x&&x.abort(),sn(k.navigation.location,{matches:dn,loaderData:Un,errors:qr,fetchers:new Map(k.fetchers)})):(gt({errors:qr,loaderData:M_(k.loaderData,Un,dn,qr),fetchers:new Map(k.fetchers)}),ue=!1)}async function di(U,K,J,me,_e,Ae,Oe,xe,Ce,De){let ke=k.fetchers.get(U);ft(U,Bl(De,ke?ke.data:void 0),{flushSync:xe});let Me=new AbortController,Ue=vo(r.history,J,Me.signal);if(Oe){let Xe=await Br(_e,J,Ue.signal,U);if(Xe.type==="aborted")return;if(Xe.type==="error"){Ye(U,K,Xe.error,{flushSync:xe});return}else if(Xe.matches)_e=Xe.matches,me=Fl(_e,J);else{Ye(U,K,wr(404,{pathname:J}),{flushSync:xe});return}}L.set(U,Me);let Ze=ie,mt=So(o,u,Ue,_e,me,a,Ae),it=(await sr(Ue,mt,Ae,U))[me.route.id];if(L.get(U)===Me&&L.delete(U),!Ue.signal.aborted){if(re.has(U)){ft(U,_a(void 0));return}if(ms(it))if($>Ze){ft(U,_a(void 0));return}else{P.add(U),await Cr(Ue,it,!1,{preventScrollReset:Ce});return}if(tr(it)){Ye(U,K,it.error);return}ft(U,_a(it.data))}}async function Cr(U,K,J,{submission:me,fetcherSubmission:_e,preventScrollReset:Ae,replace:Oe}={}){K.response.headers.has("X-Remix-Revalidate")&&(ue=!0);let xe=K.response.headers.get("Location");tt(xe,"Expected a Location header on the redirect Response"),xe=I_(xe,new URL(U.url),m);let Ce=nu(k.location,xe,{_isRedirect:!0});if(n){let mt=!1;if(K.response.headers.has("X-Remix-Reload-Document"))mt=!0;else if(Zg.test(xe)){const ct=bE(xe,!0);mt=ct.origin!==e.location.origin||Dr(ct.pathname,m)==null}if(mt){Oe?e.location.replace(xe):e.location.assign(xe);return}}x=null;let De=Oe===!0||K.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Me,formEncType:Ue}=k.navigation;!me&&!_e&&ke&&Me&&Ue&&(me=j_(k.navigation));let Ze=me||_e;if(Bw.has(K.response.status)&&Ze&&nr(Ze.formMethod))await In(De,Ce,{submission:{...Ze,formAction:xe},preventScrollReset:Ae||w,enableViewTransition:J?R:void 0});else{let mt=Wd(Ce,me);await In(De,Ce,{overrideNavigation:mt,fetcherSubmission:_e,preventScrollReset:Ae||w,enableViewTransition:J?R:void 0})}}async function sr(U,K,J,me){let _e,Ae={};try{_e=await Kw(p,U,K,me,J,!1)}catch(Oe){return K.filter(xe=>xe.shouldLoad).forEach(xe=>{Ae[xe.route.id]={type:"error",error:Oe}}),Ae}if(U.signal.aborted)return Ae;for(let[Oe,xe]of Object.entries(_e))if(tA(xe)){let Ce=xe.result;Ae[Oe]={type:"redirect",response:Zw(Ce,U,Oe,K,m)}}else Ae[Oe]=await Ww(xe);return Ae}async function Fi(U,K,J,me){let _e=sr(J,U,me,null),Ae=Promise.all(K.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let ke=(await sr(Ce.request,Ce.matches,me,Ce.key))[Ce.match.route.id];return{[Ce.key]:ke}}else return Promise.resolve({[Ce.key]:{type:"error",error:wr(404,{pathname:Ce.path})}})})),Oe=await _e,xe=(await Ae).reduce((Ce,De)=>Object.assign(Ce,De),{});return{loaderResults:Oe,fetcherResults:xe}}function Gi(){ue=!0,Y.forEach((U,K)=>{L.has(K)&&ye.add(K),or(K)})}function ft(U,K,J={}){k.fetchers.set(U,K),gt({fetchers:new Map(k.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Ye(U,K,J,me={}){let _e=gs(k.matches,K);qt(U),gt({errors:{[_e.route.id]:J},fetchers:new Map(k.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function Sn(U){return ae.set(U,(ae.get(U)||0)+1),re.has(U)&&re.delete(U),k.fetchers.get(U)||zw}function qt(U){let K=k.fetchers.get(U);L.has(U)&&!(K&&K.state==="loading"&&ve.has(U))&&or(U),Y.delete(U),ve.delete(U),P.delete(U),re.delete(U),ye.delete(U),k.fetchers.delete(U)}function Is(U){let K=(ae.get(U)||0)-1;K<=0?(ae.delete(U),re.add(U)):ae.set(U,K),gt({fetchers:new Map(k.fetchers)})}function or(U){let K=L.get(U);K&&(K.abort(),L.delete(U))}function jr(U){for(let K of U){let J=Sn(K),me=_a(J.data);k.fetchers.set(K,me)}}function Lr(){let U=[],K=!1;for(let J of P){let me=k.fetchers.get(J);tt(me,`Expected fetcher: ${J}`),me.state==="loading"&&(P.delete(J),U.push(J),K=!0)}return jr(U),K}function Ur(U){let K=[];for(let[J,me]of ve)if(me<U){let _e=k.fetchers.get(J);tt(_e,`Expected fetcher: ${J}`),_e.state==="loading"&&(or(J),ve.delete(J),K.push(J))}return jr(K),K.length>0}function Fn(U,K){let J=k.blockers.get(U)||Ul;return he.get(U)!==K&&he.set(U,K),J}function gi(U){k.blockers.delete(U),he.delete(U)}function lr(U,K){let J=k.blockers.get(U)||Ul;tt(J.state==="unblocked"&&K.state==="blocked"||J.state==="blocked"&&K.state==="blocked"||J.state==="blocked"&&K.state==="proceeding"||J.state==="blocked"&&K.state==="unblocked"||J.state==="proceeding"&&K.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${K.state}`);let me=new Map(k.blockers);me.set(U,K),gt({blockers:me})}function $i({currentLocation:U,nextLocation:K,historyAction:J}){if(he.size===0)return;he.size>1&&Ht(!1,"A router only supports one blocker at a time");let me=Array.from(he.entries()),[_e,Ae]=me[me.length-1],Oe=k.blockers.get(_e);if(!(Oe&&Oe.state==="proceeding")&&Ae({currentLocation:U,nextLocation:K,historyAction:J}))return _e}function mi(U){let K=wr(404,{pathname:U}),J=g||h,{matches:me,route:_e}=V_(J);return{notFoundMatches:me,route:_e,error:K}}function Ba(U,K,J){if(O=U,G=K,V=J||null,!q&&k.navigation===Xd){q=!0;let me=Yi(k.location,k.matches);me!=null&&gt({restoreScrollPosition:me})}return()=>{O=null,G=null,V=null}}function ur(U,K){return V&&V(U,K.map(me=>vw(me,k.loaderData)))||U.key}function Ir(U,K){if(O&&G){let J=ur(U,K);O[J]=G()}}function Yi(U,K){if(O){let J=ur(U,K),me=O[J];if(typeof me=="number")return me}return null}function On(U,K,J){if(r.patchRoutesOnNavigation)if(U){if(Object.keys(U[0].params).length>0)return{active:!0,matches:Kc(K,J,m,!0)}}else return{active:!0,matches:Kc(K,J,m,!0)||[]};return{active:!1,matches:null}}async function Br(U,K,J,me){if(!r.patchRoutesOnNavigation)return{type:"success",matches:U};let _e=U;for(;;){let Ae=g==null,Oe=g||h,xe=u;try{await r.patchRoutesOnNavigation({signal:J,path:K,matches:_e,fetcherKey:me,patch:(ke,Me)=>{J.aborted||x_(ke,Me,Oe,xe,o)}})}catch(ke){return{type:"error",error:ke,partialMatches:_e}}finally{Ae&&!J.aborted&&(h=[...h])}if(J.aborted)return{type:"aborted"};let Ce=Ea(Oe,K,m);if(Ce)return{type:"success",matches:Ce};let De=Kc(Oe,K,m,!0);if(!De||_e.length===De.length&&_e.every((ke,Me)=>ke.route.id===De[Me].route.id))return{type:"success",matches:null};_e=De}}function zr(U){u={},g=ah(U,o,void 0,u)}function Qi(U,K){let J=g==null;x_(U,K,g||h,u,o),J&&(h=[...h],gt({}))}return Z={get basename(){return m},get future(){return v},get state(){return k},get routes(){return h},get window(){return e},initialize:rt,subscribe:Et,enableScrollRestoration:Ba,navigate:Ln,fetch:Ua,revalidate:ar,createHref:U=>r.history.createHref(U),encodeLocation:U=>r.history.encodeLocation(U),getFetcher:Sn,deleteFetcher:Is,dispose:Ve,getBlocker:Fn,deleteBlocker:gi,patchRoutes:Qi,_internalFetchControllers:L,_internalSetRoutes:zr},Z}function Fw(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function mg(r,e,n,a,o,u){let h,g;if(o){h=[];for(let p of e)if(h.push(p),p.route.id===o){g=p;break}}else h=e,g=e[e.length-1];let m=Wg(a||".",Xg(h),Dr(r.pathname,n)||r.pathname,u==="path");if(a==null&&(m.search=r.search,m.hash=r.hash),(a==null||a===""||a===".")&&g){let p=Jg(m.search);if(g.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!g.route.index&&p){let v=new URLSearchParams(m.search),S=v.getAll("index");v.delete("index"),S.filter(O=>O).forEach(O=>v.append("index",O));let b=v.toString();m.search=b?`?${b}`:""}}return n!=="/"&&(m.pathname=m.pathname==="/"?n:ii([n,m.pathname])),Da(m)}function w_(r,e,n){if(!n||!Fw(n))return{path:e};if(n.formMethod&&!nA(n.formMethod))return{path:e,error:wr(405,{method:n.formMethod})};let a=()=>({path:e,error:wr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=PE(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!nr(u))return a();let S=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[O,V])=>`${b}${O}=${V}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:S}}}else if(n.formEncType==="application/json"){if(!nr(u))return a();try{let S=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:S,text:void 0}}}catch{return a()}}}tt(typeof FormData=="function","FormData is not available in this environment");let g,m;if(n.formData)g=vg(n.formData),m=n.formData;else if(n.body instanceof FormData)g=vg(n.body),m=n.body;else if(n.body instanceof URLSearchParams)g=n.body,m=N_(g);else if(n.body==null)g=new URLSearchParams,m=new FormData;else try{g=new URLSearchParams(n.body),m=N_(g)}catch{return a()}let p={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(nr(p.formMethod))return{path:e,submission:p};let v=zi(e);return r&&v.search&&Jg(v.search)&&g.append("index",""),v.search=`?${g}`,{path:Da(v),submission:p}}function A_(r,e,n,a,o,u,h,g,m,p,v,S,b,O,V,G,q,H,se,B){let oe=B?tr(B[1])?B[1].error:B[1].data:void 0,Z=o.createURL(u.location),k=o.createURL(m),M;if(v&&u.errors){let D=Object.keys(u.errors)[0];M=h.findIndex(ue=>ue.route.id===D)}else if(B&&tr(B[1])){let D=B[0];M=h.findIndex(ue=>ue.route.id===D)-1}let w=B?B[1].statusCode:void 0,x=w&&w>=400,R={currentUrl:Z,currentParams:u.matches[0]?.params||{},nextUrl:k,nextParams:h[0].params,...g,actionResult:oe,actionStatus:w},I=h.map((D,ue)=>{let{route:ye}=D,L=null;if(M!=null&&ue>M?L=!1:ye.lazy?L=!0:ye.loader==null?L=!1:v?L=pg(ye,u.loaderData,u.errors):Gw(u.loaderData,u.matches[ue],D)&&(L=!0),L!==null)return yg(n,a,r,D,p,e,L);let ie=x?!1:S||Z.pathname+Z.search===k.pathname+k.search||Z.search!==k.search||$w(u.matches[ue],D),$={...R,defaultShouldRevalidate:ie},ve=lh(D,$);return yg(n,a,r,D,p,e,ve,$)}),N=[];return V.forEach((D,ue)=>{if(v||!h.some(ae=>ae.route.id===D.routeId)||O.has(ue))return;let ye=u.fetchers.get(ue),L=ye&&ye.state!=="idle"&&ye.data===void 0,ie=Ea(q,D.path,H);if(!ie){if(se&&L)return;N.push({key:ue,routeId:D.routeId,path:D.path,matches:null,match:null,request:null,controller:null});return}if(G.has(ue))return;let $=Fl(ie,D.path),ve=new AbortController,P=vo(o,D.path,ve.signal),Y=null;if(b.has(ue))b.delete(ue),Y=So(n,a,P,ie,$,p,e);else if(L)S&&(Y=So(n,a,P,ie,$,p,e));else{let ae={...R,defaultShouldRevalidate:x?!1:S};lh($,ae)&&(Y=So(n,a,P,ie,$,p,e,ae))}Y&&N.push({key:ue,routeId:D.routeId,path:D.path,matches:Y,match:$,request:P,controller:ve})}),{dsMatches:I,revalidatingFetchers:N}}function pg(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function Gw(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function $w(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function lh(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function x_(r,e,n,a,o){let u;if(r){let m=a[r];tt(m,`No route found to patch children into: routeId = ${r}`),m.children||(m.children=[]),u=m.children}else u=n;let h=e.filter(m=>!u.some(p=>CE(m,p))),g=ah(h,o,[r||"_","patch",String(u?.length||"0")],a);u.push(...g)}function CE(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>e.children?.some(o=>CE(n,o))):!1}var R_=new WeakMap,IE=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(tt(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let h=R_.get(o);h||(h={},R_.set(o,h));let g=h[r];if(g)return g;let m=(async()=>{let p=gw(r),S=o[r]!==void 0&&r!=="hasErrorBoundary";if(p)Ht(!p,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),h[r]=Promise.resolve();else if(S)Ht(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let b=await u();b!=null&&(Object.assign(o,{[r]:b}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))})();return h[r]=m,m},D_=new WeakMap;function Yw(r,e,n,a,o){let u=n[r.id];if(tt(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=D_.get(u);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let S=(async()=>{tt(typeof r.lazy=="function","No lazy route function found");let b=await r.lazy(),O={};for(let V in b){let G=b[V];if(G===void 0)continue;let q=pw(V),se=u[V]!==void 0&&V!=="hasErrorBoundary";q?Ht(!q,"Route property "+V+" is not a supported property to be returned from a lazy route function. This property will be ignored."):se?Ht(!se,`Route "${u.id}" has a static property "${V}" defined but its lazy function is also returning a value for this property. The lazy route property "${V}" will be ignored.`):O[V]=G}Object.assign(u,O),Object.assign(u,{...a(u),lazy:void 0})})();return D_.set(u,S),S.catch(()=>{}),{lazyRoutePromise:S,lazyHandlerPromise:S}}let h=Object.keys(r.lazy),g=[],m;for(let v of h){if(o&&o.includes(v))continue;let S=IE({key:v,route:r,manifest:n,mapRouteProperties:a});S&&(g.push(S),v===e&&(m=S))}let p=g.length>0?Promise.all(g).then(()=>{}):void 0;return p?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:m}}async function C_(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function Qw(r){return r.matches.some(e=>e.route.unstable_middleware)?NE(r,!1,()=>C_(r),(e,n)=>({[n]:{type:"error",result:e}})):C_(r)}async function NE(r,e,n,a){let{matches:o,request:u,params:h,context:g}=r,m={handlerResult:void 0};try{let p=o.flatMap(S=>S.route.unstable_middleware?S.route.unstable_middleware.map(b=>[S.route.id,b]):[]),v=await OE({request:u,params:h,context:g},p,e,m,n);return e?v:m.handlerResult}catch(p){if(!m.middlewareError)throw p;let v=await a(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,v):v}}async function OE(r,e,n,a,o,u=0){let{request:h}=r;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let g=e[u];if(!g)return a.handlerResult=await o(),a.handlerResult;let[m,p]=g,v=!1,S,b=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await OE(r,e,n,a,o,u+1)};try{let O=await p({request:r.request,params:r.params,context:r.context},b);return v?O===void 0?S:O:b()}catch(O){throw a.middlewareError?a.middlewareError.error!==O&&(a.middlewareError={routeId:m,error:O}):a.middlewareError={routeId:m,error:O},O}}function ME(r,e,n,a,o){let u=IE({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),h=Yw(a.route,nr(n.method)?"action":"loader",e,r,o);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function yg(r,e,n,a,o,u,h,g=null){let m=!1,p=ME(r,e,n,a,o);return{...a,_lazyPromises:p,shouldLoad:h,unstable_shouldRevalidateArgs:g,unstable_shouldCallHandler(v){return m=!0,g?typeof v=="boolean"?lh(a,{...g,defaultShouldRevalidate:v}):lh(a,g):h},resolve(v){return m||h||v&&n.method==="GET"&&(a.route.lazy||a.route.loader)?Xw({request:n,match:a,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:v,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function So(r,e,n,a,o,u,h,g=null){return a.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:g,unstable_shouldCallHandler:()=>!1,_lazyPromises:ME(r,e,n,m,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:yg(r,e,n,m,u,h,!0,g))}async function Kw(r,e,n,a,o,u){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let h={request:e,params:n[0].params,context:o,matches:n},m=await r({...h,fetcherKey:a,unstable_runClientMiddleware:p=>{let v=h;return NE(v,!1,()=>p({...v,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(S,b)=>({[b]:{type:"error",result:S}}))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return m}async function Xw({request:r,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let h,g,m=nr(r.method),p=m?"action":"loader",v=S=>{let b,O=new Promise((q,H)=>b=H);g=()=>b(),r.signal.addEventListener("abort",g);let V=q=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):S({request:r,params:e.params,context:u},...q!==void 0?[q]:[]),G=(async()=>{try{return{type:"data",result:await(o?o(H=>V(H)):V())}}catch(q){return{type:"error",result:q}}})();return Promise.race([G,O])};try{let S=m?e.route.action:e.route.loader;if(n||a)if(S){let b,[O]=await Promise.all([v(S).catch(V=>{b=V}),n,a]);if(b!==void 0)throw b;h=O}else{await n;let b=m?e.route.action:e.route.loader;if(b)[h]=await Promise.all([v(b),a]);else if(p==="action"){let O=new URL(r.url),V=O.pathname+O.search;throw wr(405,{method:r.method,pathname:V,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(S)h=await v(S);else{let b=new URL(r.url),O=b.pathname+b.search;throw wr(404,{pathname:O})}}catch(S){return{type:"error",result:S}}finally{g&&r.signal.removeEventListener("abort",g)}return h}async function Ww(r){let{result:e,type:n}=r;if(VE(e)){let a;try{let o=e.headers.get("Content-Type");o&&/\bapplication\/json\b/.test(o)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new oh(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?k_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new oh(e.init?.status||500,void 0,e.data),statusCode:ru(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ru(e)?e.status:void 0}:k_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Zw(r,e,n,a,o){let u=r.headers.get("Location");if(tt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Zg.test(u)){let h=a.slice(0,a.findIndex(g=>g.route.id===n)+1);u=mg(new URL(e.url),h,o,u),r.headers.set("Location",u)}return r}function I_(r,e,n){if(Zg.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=Dr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function vo(r,e,n,a){let o=r.createURL(PE(e)).toString(),u={signal:n};if(a&&nr(a.formMethod)){let{formMethod:h,formEncType:g}=a;u.method=h.toUpperCase(),g==="application/json"?(u.headers=new Headers({"Content-Type":g}),u.body=JSON.stringify(a.json)):g==="text/plain"?u.body=a.text:g==="application/x-www-form-urlencoded"&&a.formData?u.body=vg(a.formData):u.body=a.formData}return new Request(o,u)}function vg(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function N_(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function Jw(r,e,n,a=!1,o=!1){let u={},h=null,g,m=!1,p={},v=n&&tr(n[1])?n[1].error:void 0;return r.forEach(S=>{if(!(S.route.id in e))return;let b=S.route.id,O=e[b];if(tt(!ms(O),"Cannot handle redirect results in processLoaderData"),tr(O)){let V=O.error;if(v!==void 0&&(V=v,v=void 0),h=h||{},o)h[b]=V;else{let G=gs(r,b);h[G.route.id]==null&&(h[G.route.id]=V)}a||(u[b]=DE),m||(m=!0,g=ru(O.error)?O.error.status:500),O.headers&&(p[b]=O.headers)}else u[b]=O.data,O.statusCode&&O.statusCode!==200&&!m&&(g=O.statusCode),O.headers&&(p[b]=O.headers)}),v!==void 0&&n&&(h={[n[0]]:v},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:h,statusCode:g||200,loaderHeaders:p}}function O_(r,e,n,a,o,u){let{loaderData:h,errors:g}=Jw(e,n,a);return o.filter(m=>!m.matches||m.matches.some(p=>p.shouldLoad)).forEach(m=>{let{key:p,match:v,controller:S}=m,b=u[p];if(tt(b,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(tr(b)){let O=gs(r.matches,v?.route.id);g&&g[O.route.id]||(g={...g,[O.route.id]:b.error}),r.fetchers.delete(p)}else if(ms(b))tt(!1,"Unhandled fetcher revalidation redirect");else{let O=_a(b.data);r.fetchers.set(p,O)}}),{loaderData:h,errors:g}}function M_(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==DE).reduce((u,[h,g])=>(u[h]=g,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&u.route.loader&&(o[h]=r[h]),a&&a.hasOwnProperty(h))break}return o}function P_(r){return r?tr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function gs(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function V_(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function wr(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let h="Unknown Server Error",g="Unknown @remix-run/router error";return r===400?(h="Bad Request",a&&e&&n?g=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(g="Unable to encode submission body")):r===403?(h="Forbidden",g=`Route "${n}" does not match URL "${e}"`):r===404?(h="Not Found",g=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",a&&e&&n?g=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(g=`Invalid request method "${a.toUpperCase()}"`)),new oh(r||500,h,new Error(g),!0)}function Lc(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(ms(o))return{key:a,result:o}}}function PE(r){let e=typeof r=="string"?zi(r):r;return Da({...e,hash:""})}function eA(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function tA(r){return VE(r.result)&&Uw.has(r.result.status)}function tr(r){return r.type==="error"}function ms(r){return(r&&r.type)==="redirect"}function k_(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function VE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function nA(r){return Lw.has(r.toUpperCase())}function nr(r){return kw.has(r.toUpperCase())}function Jg(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Fl(r,e){let n=typeof e=="string"?zi(e).search:e.search;if(r[r.length-1].route.index&&Jg(n||""))return r[r.length-1];let a=AE(r);return a[a.length-1]}function j_(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:h}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:h,text:void 0}}}function Wd(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rA(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Bl(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function iA(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function _a(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function aA(r,e){try{let n=r.sessionStorage.getItem(RE);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function sA(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(RE,JSON.stringify(n))}catch(a){Ht(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function oA(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Ss=z.createContext(null);Ss.displayName="DataRouter";var fu=z.createContext(null);fu.displayName="DataRouterState";var em=z.createContext({isTransitioning:!1});em.displayName="ViewTransition";var kE=z.createContext(new Map);kE.displayName="Fetchers";var lA=z.createContext(null);lA.displayName="Await";var fi=z.createContext(null);fi.displayName="Navigation";var wh=z.createContext(null);wh.displayName="Location";var Hi=z.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var tm=z.createContext(null);tm.displayName="RouteError";function uA(r,{relative:e}={}){tt(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=z.useContext(fi),{hash:o,pathname:u,search:h}=gu(r,{relative:e}),g=u;return n!=="/"&&(g=u==="/"?n:ii([n,u])),a.createHref({pathname:g,search:h,hash:o})}function du(){return z.useContext(wh)!=null}function ja(){return tt(du(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(wh).location}var jE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LE(r){z.useContext(fi).static||z.useLayoutEffect(r)}function nm(){let{isDataRoute:r}=z.useContext(Hi);return r?bA():cA()}function cA(){tt(du(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Ss),{basename:e,navigator:n}=z.useContext(fi),{matches:a}=z.useContext(Hi),{pathname:o}=ja(),u=JSON.stringify(Xg(a)),h=z.useRef(!1);return LE(()=>{h.current=!0}),z.useCallback((m,p={})=>{if(Ht(h.current,jE),!h.current)return;if(typeof m=="number"){n.go(m);return}let v=Wg(m,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ii([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,u,o,r])}z.createContext(null);function gu(r,{relative:e}={}){let{matches:n}=z.useContext(Hi),{pathname:a}=ja(),o=JSON.stringify(Xg(n));return z.useMemo(()=>Wg(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function hA(r,e,n,a){tt(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(fi),{matches:u}=z.useContext(Hi),h=u[u.length-1],g=h?h.params:{},m=h?h.pathname:"/",p=h?h.pathnameBase:"/",v=h&&h.route;{let H=v&&v.path||"";UE(m,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=ja(),b;b=S;let O=b.pathname||"/",V=O;if(p!=="/"){let H=p.replace(/^\//,"").split("/");V="/"+O.replace(/^\//,"").split("/").slice(H.length).join("/")}let G=Ea(r,{pathname:V});return Ht(v||G!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ht(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),pA(G&&G.map(H=>Object.assign({},H,{params:Object.assign({},g,H.params),pathname:ii([p,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?p:ii([p,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,n,a)}function fA(){let r=TA(),e=ru(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var dA=z.createElement(fA,null),gA=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(Hi.Provider,{value:this.props.routeContext},z.createElement(tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mA({routeContext:r,match:e,children:n}){let a=z.useContext(Ss);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Hi.Provider,{value:r},n)}function pA(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);tt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,g=-1;if(n)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=m),p.route.id){let{loaderData:v,errors:S}=n,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!S||S[p.route.id]===void 0);if(p.route.lazy||b){h=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((m,p,v)=>{let S,b=!1,O=null,V=null;n&&(S=u&&p.route.id?u[p.route.id]:void 0,O=p.route.errorElement||dA,h&&(g<0&&v===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,V=null):g===v&&(b=!0,V=p.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,v+1)),q=()=>{let H;return S?H=O:b?H=V:p.route.Component?H=z.createElement(p.route.Component,null):p.route.element?H=p.route.element:H=m,z.createElement(mA,{match:p,routeContext:{outlet:m,matches:G,isDataRoute:n!=null},children:H})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?z.createElement(gA,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:q(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):q()},null)}function rm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yA(r){let e=z.useContext(Ss);return tt(e,rm(r)),e}function vA(r){let e=z.useContext(fu);return tt(e,rm(r)),e}function _A(r){let e=z.useContext(Hi);return tt(e,rm(r)),e}function im(r){let e=_A(r),n=e.matches[e.matches.length-1];return tt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function EA(){return im("useRouteId")}function TA(){let r=z.useContext(tm),e=vA("useRouteError"),n=im("useRouteError");return r!==void 0?r:e.errors?.[n]}function bA(){let{router:r}=yA("useNavigate"),e=im("useNavigate"),n=z.useRef(!1);return LE(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Ht(n.current,jE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var L_={};function UE(r,e,n){!e&&!L_[r]&&(L_[r]=!0,Ht(!1,n))}var U_={};function B_(r,e){!r&&!U_[e]&&(U_[e]=!0,console.warn(e))}function SA(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Ht(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:z.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Ht(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:z.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Ht(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:z.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var wA=["HydrateFallback","hydrateFallbackElement"],AA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function xA({router:r,flushSync:e}){let[n,a]=z.useState(r.state),[o,u]=z.useState(),[h,g]=z.useState({isTransitioning:!1}),[m,p]=z.useState(),[v,S]=z.useState(),[b,O]=z.useState(),V=z.useRef(new Map),G=z.useCallback((B,{deletedFetchers:oe,flushSync:Z,viewTransitionOpts:k})=>{B.fetchers.forEach((w,x)=>{w.data!==void 0&&V.current.set(x,w.data)}),oe.forEach(w=>V.current.delete(w)),B_(Z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(B_(k==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!M){e&&Z?e(()=>a(B)):z.startTransition(()=>a(B));return}if(e&&Z){e(()=>{v&&(m&&m.resolve(),v.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let w=r.window.document.startViewTransition(()=>{e(()=>a(B))});w.finished.finally(()=>{e(()=>{p(void 0),S(void 0),u(void 0),g({isTransitioning:!1})})}),e(()=>S(w));return}v?(m&&m.resolve(),v.skipTransition(),O({state:B,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(u(B),g({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[r.window,e,v,m]);z.useLayoutEffect(()=>r.subscribe(G),[r,G]),z.useEffect(()=>{h.isTransitioning&&!h.flushSync&&p(new AA)},[h]),z.useEffect(()=>{if(m&&o&&r.window){let B=o,oe=m.promise,Z=r.window.document.startViewTransition(async()=>{z.startTransition(()=>a(B)),await oe});Z.finished.finally(()=>{p(void 0),S(void 0),u(void 0),g({isTransitioning:!1})}),S(Z)}},[o,m,r.window]),z.useEffect(()=>{m&&o&&n.location.key===o.location.key&&m.resolve()},[m,v,n.location,o]),z.useEffect(()=>{!h.isTransitioning&&b&&(u(b.state),g({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),O(void 0))},[h.isTransitioning,b]);let q=z.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:B=>r.navigate(B),push:(B,oe,Z)=>r.navigate(B,{state:oe,preventScrollReset:Z?.preventScrollReset}),replace:(B,oe,Z)=>r.navigate(B,{replace:!0,state:oe,preventScrollReset:Z?.preventScrollReset})}),[r]),H=r.basename||"/",se=z.useMemo(()=>({router:r,navigator:q,static:!1,basename:H}),[r,q,H]);return z.createElement(z.Fragment,null,z.createElement(Ss.Provider,{value:se},z.createElement(fu.Provider,{value:n},z.createElement(kE.Provider,{value:V.current},z.createElement(em.Provider,{value:h},z.createElement(CA,{basename:H,location:n.location,navigationType:n.historyAction,navigator:q},z.createElement(RA,{routes:r.routes,future:r.future,state:n})))))),null)}var RA=z.memo(DA);function DA({routes:r,future:e,state:n}){return hA(r,void 0,n,e)}function CA({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){tt(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),g=z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=zi(n));let{pathname:m="/",search:p="",hash:v="",state:S=null,key:b="default"}=n,O=z.useMemo(()=>{let V=Dr(m,h);return V==null?null:{location:{pathname:V,search:p,hash:v,state:S,key:b},navigationType:a}},[h,m,p,v,S,b,a]);return Ht(O!=null,`<Router basename="${h}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:z.createElement(fi.Provider,{value:g},z.createElement(wh.Provider,{children:e,value:O}))}var Xc="get",Wc="application/x-www-form-urlencoded";function Ah(r){return r!=null&&typeof r.tagName=="string"}function IA(r){return Ah(r)&&r.tagName.toLowerCase()==="button"}function NA(r){return Ah(r)&&r.tagName.toLowerCase()==="form"}function OA(r){return Ah(r)&&r.tagName.toLowerCase()==="input"}function MA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function PA(r,e){return r.button===0&&(!e||e==="_self")&&!MA(r)}var Uc=null;function VA(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var kA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zd(r){return r!=null&&!kA.has(r)?(Ht(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):r}function jA(r,e){let n,a,o,u,h;if(NA(r)){let g=r.getAttribute("action");a=g?Dr(g,e):null,n=r.getAttribute("method")||Xc,o=Zd(r.getAttribute("enctype"))||Wc,u=new FormData(r)}else if(IA(r)||OA(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||g.getAttribute("action");if(a=m?Dr(m,e):null,n=r.getAttribute("formmethod")||g.getAttribute("method")||Xc,o=Zd(r.getAttribute("formenctype"))||Zd(g.getAttribute("enctype"))||Wc,u=new FormData(g,r),!VA()){let{name:p,type:v,value:S}=r;if(v==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,S)}}else{if(Ah(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,a=null,o=Wc,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}function am(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function LA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function BA(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await LA(u,n);return h.links?h.links():[]}return[]}));return FA(a.flat(1).filter(UA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function z_(r,e,n,a,o,u){let h=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,g=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,p)=>h(m,p)||g(m,p)):u==="data"?e.filter((m,p)=>{let v=a.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(h(m,p)||g(m,p))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function zA(r,e,{includeHydrateFallback:n}={}){return HA(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function HA(r){return[...new Set(r)]}function qA(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function FA(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(qA(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GA=new Set([100,101,204,205]);function $A(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Dr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function BE(){let r=z.useContext(Ss);return am(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function YA(){let r=z.useContext(fu);return am(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sm=z.createContext(void 0);sm.displayName="FrameworkContext";function zE(){let r=z.useContext(sm);return am(r,"You must render this element inside a <HydratedRouter> element"),r}function QA(r,e){let n=z.useContext(sm),[a,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:S}=e,b=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=H=>{H.forEach(se=>{h(se.isIntersecting)})},q=new IntersectionObserver(G,{threshold:.5});return b.current&&q.observe(b.current),()=>{q.disconnect()}}},[r]),z.useEffect(()=>{if(a){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[a]);let O=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:zl(g,O),onBlur:zl(m,V),onMouseEnter:zl(p,O),onMouseLeave:zl(v,V),onTouchStart:zl(S,O)}]:[!1,b,{}]}function zl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function KA({page:r,...e}){let{router:n}=BE(),a=z.useMemo(()=>Ea(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?z.createElement(WA,{page:r,matches:a,...e}):null}function XA(r){let{manifest:e,routeModules:n}=zE(),[a,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return BA(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),a}function WA({page:r,matches:e,...n}){let a=ja(),{manifest:o,routeModules:u}=zE(),{basename:h}=BE(),{loaderData:g,matches:m}=YA(),p=z.useMemo(()=>z_(r,e,m,o,a,"data"),[r,e,m,o,a]),v=z.useMemo(()=>z_(r,e,m,o,a,"assets"),[r,e,m,o,a]),S=z.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let V=new Set,G=!1;if(e.forEach(H=>{let se=o.routes[H.route.id];!se||!se.hasLoader||(!p.some(B=>B.route.id===H.route.id)&&H.route.id in g&&u[H.route.id]?.shouldRevalidate||se.hasClientLoader?G=!0:V.add(H.route.id))}),V.size===0)return[];let q=$A(r,h);return G&&V.size>0&&q.searchParams.set("_routes",e.filter(H=>V.has(H.route.id)).map(H=>H.route.id).join(",")),[q.pathname+q.search]},[h,g,a,o,p,e,r,u]),b=z.useMemo(()=>zA(v,o),[v,o]),O=XA(v);return z.createElement(z.Fragment,null,S.map(V=>z.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),b.map(V=>z.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),O.map(({key:V,link:G})=>z.createElement("link",{key:V,...G})))}function ZA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HE&&(window.__reactRouterVersion="7.6.3")}catch{}function JA(r,e){return qw({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:cw({window:e?.window}),hydrationData:ex(),routes:r,mapRouteProperties:SA,hydrationRouteProperties:wA,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function ex(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:tx(r.errors)}),r}function tx(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new oh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",n[a]=h}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FE=z.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:g,target:m,to:p,preventScrollReset:v,viewTransition:S,...b},O){let{basename:V}=z.useContext(fi),G=typeof p=="string"&&qE.test(p),q,H=!1;if(typeof p=="string"&&G&&(q=p,HE))try{let x=new URL(window.location.href),R=p.startsWith("//")?new URL(x.protocol+p):new URL(p),I=Dr(R.pathname,V);R.origin===x.origin&&I!=null?p=I+R.search+R.hash:H=!0}catch{Ht(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=uA(p,{relative:o}),[B,oe,Z]=QA(a,b),k=ax(p,{replace:h,state:g,target:m,preventScrollReset:v,relative:o,viewTransition:S});function M(x){e&&e(x),x.defaultPrevented||k(x)}let w=z.createElement("a",{...b,...Z,href:q||se,onClick:H||u?e:M,ref:ZA(O,oe),target:m,"data-discover":!G&&n==="render"?"true":void 0});return B&&!G?z.createElement(z.Fragment,null,w,z.createElement(KA,{page:se})):w});FE.displayName="Link";var nx=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:g,children:m,...p},v){let S=gu(h,{relative:p.relative}),b=ja(),O=z.useContext(fu),{navigator:V,basename:G}=z.useContext(fi),q=O!=null&&cx(S)&&g===!0,H=V.encodeLocation?V.encodeLocation(S).pathname:S.pathname,se=b.pathname,B=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(se=se.toLowerCase(),B=B?B.toLowerCase():null,H=H.toLowerCase()),B&&G&&(B=Dr(B,G)||B);const oe=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let Z=se===H||!o&&se.startsWith(H)&&se.charAt(oe)==="/",k=B!=null&&(B===H||!o&&B.startsWith(H)&&B.charAt(H.length)==="/"),M={isActive:Z,isPending:k,isTransitioning:q},w=Z?e:void 0,x;typeof a=="function"?x=a(M):x=[a,Z?"active":null,k?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let R=typeof u=="function"?u(M):u;return z.createElement(FE,{...p,"aria-current":w,className:x,ref:v,style:R,to:h,viewTransition:g},typeof m=="function"?m(M):m)});nx.displayName="NavLink";var rx=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:h=Xc,action:g,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:S,...b},O)=>{let V=lx(),G=ux(g,{relative:p}),q=h.toLowerCase()==="get"?"get":"post",H=typeof g=="string"&&qE.test(g),se=B=>{if(m&&m(B),B.defaultPrevented)return;B.preventDefault();let oe=B.nativeEvent.submitter,Z=oe?.getAttribute("formmethod")||h;V(oe||B.currentTarget,{fetcherKey:e,method:Z,navigate:n,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:S})};return z.createElement("form",{ref:O,method:q,action:G,onSubmit:a?m:se,...b,"data-discover":!H&&r==="render"?"true":void 0})});rx.displayName="Form";function ix(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GE(r){let e=z.useContext(Ss);return tt(e,ix(r)),e}function ax(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let g=nm(),m=ja(),p=gu(r,{relative:u});return z.useCallback(v=>{if(PA(v,e)){v.preventDefault();let S=n!==void 0?n:Da(m)===Da(p);g(r,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[m,g,p,n,a,e,r,o,u,h])}var sx=0,ox=()=>`__${String(++sx)}__`;function lx(){let{router:r}=GE("useSubmit"),{basename:e}=z.useContext(fi),n=EA();return z.useCallback(async(a,o={})=>{let{action:u,method:h,encType:g,formData:m,body:p}=jA(a,e);if(o.navigate===!1){let v=o.fetcherKey||ox();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||h,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||h,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function ux(r,{relative:e}={}){let{basename:n}=z.useContext(fi),a=z.useContext(Hi);tt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...gu(r||".",{relative:e})},h=ja();if(r==null){u.search=h.search;let g=new URLSearchParams(u.search),m=g.getAll("index");if(m.some(v=>v==="")){g.delete("index"),m.filter(S=>S).forEach(S=>g.append("index",S));let v=g.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ii([n,u.pathname])),Da(u)}function cx(r,e={}){let n=z.useContext(em);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=GE("useViewTransitionState"),o=gu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Dr(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=Dr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return sh(o.pathname,h)!=null||sh(o.pathname,u)!=null}[...GA];var hx=EE();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fx(r){return z.createElement(xA,{flushSync:hx.flushSync,...r})}const dx=()=>E.jsxs("main",{children:[E.jsxs("div",{className:"home-topnav",style:{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[E.jsx("div",{className:"home-league-name-section",style:{marginLeft:32},children:E.jsx("h1",{className:"home-logo",children:"Saint Mark Leagues"})}),E.jsxs("div",{className:"home-tabs desktop-tabs",style:{display:"flex",flexDirection:"row",gap:"20px",color:"black",fontWeight:"bold",cursor:"pointer",marginRight:"50px",marginTop:"10px"},children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",style:{color:"black",textDecoration:"none"},children:E.jsx("div",{className:"home-tab",children:"Dashboard"})}),E.jsx("div",{className:"home-tab",children:"2025"}),E.jsx("div",{className:"home-tab",children:"History"})]})]}),E.jsxs("div",{className:"home-tabs mobile-tabs",style:{display:"none",flexDirection:"row",gap:"20px",color:"black",fontWeight:"bold",cursor:"pointer",margin:"10px auto",justifyContent:"center",width:"100%"},children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",style:{color:"black",textDecoration:"none"},children:E.jsx("div",{className:"home-tab",children:"Dashboard"})}),E.jsx("div",{className:"home-tab",children:"2025"}),E.jsx("div",{className:"home-tab",children:"History"})]}),E.jsx("div",{className:"home-section1",children:E.jsxs("div",{className:"home-section1-left",children:[E.jsxs("h1",{className:"home-welcome",style:{color:"white",textAlign:"center",marginRight:"60px"},children:["Yalla Nel3ab ",E.jsx("br",{})," ",E.jsxs("span",{style:{display:"inline-block",width:"100%",textAlign:"center"},children:["K",E.jsx("span",{className:"home-span-not-mobile",children:"OOOOO"}),"ORA!!"]})]}),E.jsx("p",{children:"Welcome to Saint Mark Leagues, your hub for football excitement! Explore the latest league, check out the history, and get ready for the 2025 Summer season."}),E.jsx("button",{className:"home-button",children:"Yalla Nel3ab"})]})})]}),gx=()=>{};var H_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},mx=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],g=r[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],h=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,g=h?r[o+1]:0,m=o+2<r.length,p=m?r[o+2]:0,v=u>>2,S=(u&3)<<4|g>>4;let b=(g&15)<<2|p>>6,O=p&63;m||(O=64,h||(b=64)),a.push(n[v],n[S],n[b],n[O])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($E(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):mx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||g==null||p==null||S==null)throw new px;const b=u<<2|g>>4;if(a.push(b),p!==64){const O=g<<4&240|p>>2;if(a.push(O),S!==64){const V=p<<6&192|S;a.push(V)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class px extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yx=function(r){const e=$E(r);return YE.encodeByteArray(e,!0)},uh=function(r){return yx(r).replace(/\./g,"")},vx=function(r){try{return YE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=()=>_x().__FIREBASE_DEFAULTS__,Tx=()=>{if(typeof process>"u"||typeof H_>"u")return;const r=H_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&vx(r[1]);return e&&JSON.parse(e)},om=()=>{try{return gx()||Ex()||Tx()||bx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Sx=r=>{var e,n;return(n=(e=om())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},QE=r=>{const e=Sx(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},KE=()=>{var r;return(r=om())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[uh(JSON.stringify(n)),uh(JSON.stringify(h)),""].join(".")}const Kl={};function Ax(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function xx(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let q_=!1;function ZE(r,e){if(typeof window>"u"||typeof document>"u"||!mu(window.location.host)||Kl[r]===e||Kl[r]||q_)return;Kl[r]=e;function n(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=Ax().prod.length>0;function h(){const b=document.getElementById(a);b&&b.remove()}function g(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,O){b.setAttribute("width","24"),b.setAttribute("id",O),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{q_=!0,h()},b}function v(b,O){b.setAttribute("id",O),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=xx(a),O=n("text"),V=document.getElementById(O)||document.createElement("span"),G=n("learnmore"),q=document.getElementById(G)||document.createElement("a"),H=n("preprendIcon"),se=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const B=b.element;g(B),v(q,G);const oe=p();m(se,H),B.append(se,V,q,oe),document.body.appendChild(B)}u?(V.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dx(){var r;const e=(r=om())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cx(){return!Dx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ix(){try{return typeof indexedDB=="object"}catch{return!1}}function Nx(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="FirebaseError";class ws extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Ox,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,JE.prototype.create)}}class JE{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Mx(u,a):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new ws(o,g,a)}}function Mx(r,e){return r.replace(Px,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Px=/\{\$([^}]+)}/g;function ch(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],h=e[o];if(F_(u)&&F_(h)){if(!ch(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function F_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(r){return r&&r._delegate?r._delegate:r}class xo{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new wx;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jx(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&h.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:kx(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kx(r){return r===ds?void 0:r}function jx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ut||(ut={}));const Ux={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},Bx=ut.INFO,zx={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},Hx=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=zx[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eT{constructor(e){this.name=e,this._logLevel=Bx,this._logHandler=Hx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ux[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const qx=(r,e)=>e.some(n=>r instanceof n);let G_,$_;function Fx(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gx(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tT=new WeakMap,_g=new WeakMap,nT=new WeakMap,Jd=new WeakMap,lm=new WeakMap;function $x(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Sa(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&tT.set(n,r)}).catch(()=>{}),lm.set(e,r),e}function Yx(r){if(_g.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});_g.set(r,e)}let Eg={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return _g.get(r);if(e==="objectStoreNames")return r.objectStoreNames||nT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Qx(r){Eg=r(Eg)}function Kx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(eg(this),e,...n);return nT.set(a,e.sort?e.sort():[e]),Sa(a)}:Gx().includes(r)?function(...e){return r.apply(eg(this),e),Sa(tT.get(this))}:function(...e){return Sa(r.apply(eg(this),e))}}function Xx(r){return typeof r=="function"?Kx(r):(r instanceof IDBTransaction&&Yx(r),qx(r,Fx())?new Proxy(r,Eg):r)}function Sa(r){if(r instanceof IDBRequest)return $x(r);if(Jd.has(r))return Jd.get(r);const e=Xx(r);return e!==r&&(Jd.set(r,e),lm.set(e,r)),e}const eg=r=>lm.get(r);function Wx(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),g=Sa(h);return a&&h.addEventListener("upgradeneeded",m=>{a(Sa(h.result),m.oldVersion,m.newVersion,Sa(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const Zx=["get","getKey","getAll","getAllKeys","count"],Jx=["put","add","delete","clear"],tg=new Map;function Y_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Jx.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Zx.includes(n)))return;const u=async function(h,...g){const m=this.transaction(h,o?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),o&&m.done]))[0]};return tg.set(e,u),u}Qx(r=>({...r,get:(e,n,a)=>Y_(e,n)||r.get(e,n,a),has:(e,n)=>!!Y_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function tR(r){const e=r.getComponent();return e?.type==="VERSION"}const Tg="@firebase/app",Q_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new eT("@firebase/app"),nR="@firebase/app-compat",rR="@firebase/analytics-compat",iR="@firebase/analytics",aR="@firebase/app-check-compat",sR="@firebase/app-check",oR="@firebase/auth",lR="@firebase/auth-compat",uR="@firebase/database",cR="@firebase/data-connect",hR="@firebase/database-compat",fR="@firebase/functions",dR="@firebase/functions-compat",gR="@firebase/installations",mR="@firebase/installations-compat",pR="@firebase/messaging",yR="@firebase/messaging-compat",vR="@firebase/performance",_R="@firebase/performance-compat",ER="@firebase/remote-config",TR="@firebase/remote-config-compat",bR="@firebase/storage",SR="@firebase/storage-compat",wR="@firebase/firestore",AR="@firebase/ai",xR="@firebase/firestore-compat",RR="firebase",DR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="[DEFAULT]",CR={[Tg]:"fire-core",[nR]:"fire-core-compat",[iR]:"fire-analytics",[rR]:"fire-analytics-compat",[sR]:"fire-app-check",[aR]:"fire-app-check-compat",[oR]:"fire-auth",[lR]:"fire-auth-compat",[uR]:"fire-rtdb",[cR]:"fire-data-connect",[hR]:"fire-rtdb-compat",[fR]:"fire-fn",[dR]:"fire-fn-compat",[gR]:"fire-iid",[mR]:"fire-iid-compat",[pR]:"fire-fcm",[yR]:"fire-fcm-compat",[vR]:"fire-perf",[_R]:"fire-perf-compat",[ER]:"fire-rc",[TR]:"fire-rc-compat",[bR]:"fire-gcs",[SR]:"fire-gcs-compat",[wR]:"fire-fst",[xR]:"fire-fst-compat",[AR]:"fire-vertex","fire-js":"fire-js",[RR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,IR=new Map,Sg=new Map;function K_(r,e){try{r.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function iu(r){const e=r.name;if(Sg.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,r);for(const n of hh.values())K_(n,r);for(const n of IR.values())K_(n,r);return!0}function rT(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function iT(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new JE("app","Firebase",NR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=DR;function sT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:bg,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw wa.create("bad-app-name",{appName:String(o)});if(n||(n=KE()),!n)throw wa.create("no-options");const u=hh.get(o);if(u){if(ch(n,u.options)&&ch(a,u.config))return u;throw wa.create("duplicate-app",{appName:o})}const h=new Lx(o);for(const m of Sg.values())h.addComponent(m);const g=new OR(n,a,h);return hh.set(o,g),g}function oT(r=bg){const e=hh.get(r);if(!e&&r===bg&&KE())return sT();if(!e)throw wa.create("no-app",{appName:r});return e}function Aa(r,e,n){var a;let o=(a=CR[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const g=[`Unable to register library "${o}" with version "${e}":`];u&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&g.push("and"),h&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(g.join(" "));return}iu(new xo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="firebase-heartbeat-database",PR=1,au="firebase-heartbeat-store";let ng=null;function lT(){return ng||(ng=Wx(MR,PR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(r=>{throw wa.create("idb-open",{originalErrorMessage:r.message})})),ng}async function VR(r){try{const n=(await lT()).transaction(au),a=await n.objectStore(au).get(uT(r));return await n.done,a}catch(e){if(e instanceof ws)Li.warn(e.message);else{const n=wa.create("idb-get",{originalErrorMessage:e?.message});Li.warn(n.message)}}}async function X_(r,e){try{const a=(await lT()).transaction(au,"readwrite");await a.objectStore(au).put(e,uT(r)),await a.done}catch(n){if(n instanceof ws)Li.warn(n.message);else{const a=wa.create("idb-set",{originalErrorMessage:n?.message});Li.warn(a.message)}}}function uT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=1024,jR=30;class LR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=W_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>jR){const h=zR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Li.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=W_(),{heartbeatsToSend:a,unsentEntries:o}=UR(this._heartbeatsCache.heartbeats),u=uh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Li.warn(n),""}}}function W_(){return new Date().toISOString().substring(0,10)}function UR(r,e=kR){const n=[];let a=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Z_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Z_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class BR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ix()?Nx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return X_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return X_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Z_(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function zR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(r){iu(new xo("platform-logger",e=>new eR(e),"PRIVATE")),iu(new xo("heartbeat",e=>new LR(e),"PRIVATE")),Aa(Tg,Q_,r),Aa(Tg,Q_,"esm2017"),Aa("fire-js","")}HR("");var qR="firebase",FR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Aa(qR,FR,"app");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xa,cT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,w){function x(){}x.prototype=w.prototype,M.D=w.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(R,I,N){for(var D=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)D[ue-2]=arguments[ue];return w.prototype[I].apply(R,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,w,x){x||(x=0);var R=Array(16);if(typeof w=="string")for(var I=0;16>I;++I)R[I]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(I=0;16>I;++I)R[I]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=M.g[0],x=M.g[1],I=M.g[2];var N=M.g[3],D=w+(N^x&(I^N))+R[0]+3614090360&4294967295;w=x+(D<<7&4294967295|D>>>25),D=N+(I^w&(x^I))+R[1]+3905402710&4294967295,N=w+(D<<12&4294967295|D>>>20),D=I+(x^N&(w^x))+R[2]+606105819&4294967295,I=N+(D<<17&4294967295|D>>>15),D=x+(w^I&(N^w))+R[3]+3250441966&4294967295,x=I+(D<<22&4294967295|D>>>10),D=w+(N^x&(I^N))+R[4]+4118548399&4294967295,w=x+(D<<7&4294967295|D>>>25),D=N+(I^w&(x^I))+R[5]+1200080426&4294967295,N=w+(D<<12&4294967295|D>>>20),D=I+(x^N&(w^x))+R[6]+2821735955&4294967295,I=N+(D<<17&4294967295|D>>>15),D=x+(w^I&(N^w))+R[7]+4249261313&4294967295,x=I+(D<<22&4294967295|D>>>10),D=w+(N^x&(I^N))+R[8]+1770035416&4294967295,w=x+(D<<7&4294967295|D>>>25),D=N+(I^w&(x^I))+R[9]+2336552879&4294967295,N=w+(D<<12&4294967295|D>>>20),D=I+(x^N&(w^x))+R[10]+4294925233&4294967295,I=N+(D<<17&4294967295|D>>>15),D=x+(w^I&(N^w))+R[11]+2304563134&4294967295,x=I+(D<<22&4294967295|D>>>10),D=w+(N^x&(I^N))+R[12]+1804603682&4294967295,w=x+(D<<7&4294967295|D>>>25),D=N+(I^w&(x^I))+R[13]+4254626195&4294967295,N=w+(D<<12&4294967295|D>>>20),D=I+(x^N&(w^x))+R[14]+2792965006&4294967295,I=N+(D<<17&4294967295|D>>>15),D=x+(w^I&(N^w))+R[15]+1236535329&4294967295,x=I+(D<<22&4294967295|D>>>10),D=w+(I^N&(x^I))+R[1]+4129170786&4294967295,w=x+(D<<5&4294967295|D>>>27),D=N+(x^I&(w^x))+R[6]+3225465664&4294967295,N=w+(D<<9&4294967295|D>>>23),D=I+(w^x&(N^w))+R[11]+643717713&4294967295,I=N+(D<<14&4294967295|D>>>18),D=x+(N^w&(I^N))+R[0]+3921069994&4294967295,x=I+(D<<20&4294967295|D>>>12),D=w+(I^N&(x^I))+R[5]+3593408605&4294967295,w=x+(D<<5&4294967295|D>>>27),D=N+(x^I&(w^x))+R[10]+38016083&4294967295,N=w+(D<<9&4294967295|D>>>23),D=I+(w^x&(N^w))+R[15]+3634488961&4294967295,I=N+(D<<14&4294967295|D>>>18),D=x+(N^w&(I^N))+R[4]+3889429448&4294967295,x=I+(D<<20&4294967295|D>>>12),D=w+(I^N&(x^I))+R[9]+568446438&4294967295,w=x+(D<<5&4294967295|D>>>27),D=N+(x^I&(w^x))+R[14]+3275163606&4294967295,N=w+(D<<9&4294967295|D>>>23),D=I+(w^x&(N^w))+R[3]+4107603335&4294967295,I=N+(D<<14&4294967295|D>>>18),D=x+(N^w&(I^N))+R[8]+1163531501&4294967295,x=I+(D<<20&4294967295|D>>>12),D=w+(I^N&(x^I))+R[13]+2850285829&4294967295,w=x+(D<<5&4294967295|D>>>27),D=N+(x^I&(w^x))+R[2]+4243563512&4294967295,N=w+(D<<9&4294967295|D>>>23),D=I+(w^x&(N^w))+R[7]+1735328473&4294967295,I=N+(D<<14&4294967295|D>>>18),D=x+(N^w&(I^N))+R[12]+2368359562&4294967295,x=I+(D<<20&4294967295|D>>>12),D=w+(x^I^N)+R[5]+4294588738&4294967295,w=x+(D<<4&4294967295|D>>>28),D=N+(w^x^I)+R[8]+2272392833&4294967295,N=w+(D<<11&4294967295|D>>>21),D=I+(N^w^x)+R[11]+1839030562&4294967295,I=N+(D<<16&4294967295|D>>>16),D=x+(I^N^w)+R[14]+4259657740&4294967295,x=I+(D<<23&4294967295|D>>>9),D=w+(x^I^N)+R[1]+2763975236&4294967295,w=x+(D<<4&4294967295|D>>>28),D=N+(w^x^I)+R[4]+1272893353&4294967295,N=w+(D<<11&4294967295|D>>>21),D=I+(N^w^x)+R[7]+4139469664&4294967295,I=N+(D<<16&4294967295|D>>>16),D=x+(I^N^w)+R[10]+3200236656&4294967295,x=I+(D<<23&4294967295|D>>>9),D=w+(x^I^N)+R[13]+681279174&4294967295,w=x+(D<<4&4294967295|D>>>28),D=N+(w^x^I)+R[0]+3936430074&4294967295,N=w+(D<<11&4294967295|D>>>21),D=I+(N^w^x)+R[3]+3572445317&4294967295,I=N+(D<<16&4294967295|D>>>16),D=x+(I^N^w)+R[6]+76029189&4294967295,x=I+(D<<23&4294967295|D>>>9),D=w+(x^I^N)+R[9]+3654602809&4294967295,w=x+(D<<4&4294967295|D>>>28),D=N+(w^x^I)+R[12]+3873151461&4294967295,N=w+(D<<11&4294967295|D>>>21),D=I+(N^w^x)+R[15]+530742520&4294967295,I=N+(D<<16&4294967295|D>>>16),D=x+(I^N^w)+R[2]+3299628645&4294967295,x=I+(D<<23&4294967295|D>>>9),D=w+(I^(x|~N))+R[0]+4096336452&4294967295,w=x+(D<<6&4294967295|D>>>26),D=N+(x^(w|~I))+R[7]+1126891415&4294967295,N=w+(D<<10&4294967295|D>>>22),D=I+(w^(N|~x))+R[14]+2878612391&4294967295,I=N+(D<<15&4294967295|D>>>17),D=x+(N^(I|~w))+R[5]+4237533241&4294967295,x=I+(D<<21&4294967295|D>>>11),D=w+(I^(x|~N))+R[12]+1700485571&4294967295,w=x+(D<<6&4294967295|D>>>26),D=N+(x^(w|~I))+R[3]+2399980690&4294967295,N=w+(D<<10&4294967295|D>>>22),D=I+(w^(N|~x))+R[10]+4293915773&4294967295,I=N+(D<<15&4294967295|D>>>17),D=x+(N^(I|~w))+R[1]+2240044497&4294967295,x=I+(D<<21&4294967295|D>>>11),D=w+(I^(x|~N))+R[8]+1873313359&4294967295,w=x+(D<<6&4294967295|D>>>26),D=N+(x^(w|~I))+R[15]+4264355552&4294967295,N=w+(D<<10&4294967295|D>>>22),D=I+(w^(N|~x))+R[6]+2734768916&4294967295,I=N+(D<<15&4294967295|D>>>17),D=x+(N^(I|~w))+R[13]+1309151649&4294967295,x=I+(D<<21&4294967295|D>>>11),D=w+(I^(x|~N))+R[4]+4149444226&4294967295,w=x+(D<<6&4294967295|D>>>26),D=N+(x^(w|~I))+R[11]+3174756917&4294967295,N=w+(D<<10&4294967295|D>>>22),D=I+(w^(N|~x))+R[2]+718787259&4294967295,I=N+(D<<15&4294967295|D>>>17),D=x+(N^(I|~w))+R[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+I&4294967295,M.g[3]=M.g[3]+N&4294967295}a.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var x=w-this.blockSize,R=this.B,I=this.h,N=0;N<w;){if(I==0)for(;N<=x;)o(this,M,N),N+=this.blockSize;if(typeof M=="string"){for(;N<w;)if(R[I++]=M.charCodeAt(N++),I==this.blockSize){o(this,R),I=0;break}}else for(;N<w;)if(R[I++]=M[N++],I==this.blockSize){o(this,R),I=0;break}}this.h=I,this.o+=w},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var x=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=x&255,x/=256;for(this.u(M),M=Array(16),w=x=0;4>w;++w)for(var R=0;32>R;R+=8)M[x++]=this.g[w]>>>R&255;return M};function u(M,w){var x=g;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=w(M)}function h(M,w){this.h=w;for(var x=[],R=!0,I=M.length-1;0<=I;I--){var N=M[I]|0;R&&N==w||(x[I]=N,R=!1)}this.g=x}var g={};function m(M){return-128<=M&&128>M?u(M,function(w){return new h([w|0],0>w?-1:0)}):new h([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return q(p(-M));for(var w=[],x=1,R=0;M>=x;R++)w[R]=M/x|0,x*=4294967296;return new h(w,0)}function v(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return q(v(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(w,8)),R=S,I=0;I<M.length;I+=8){var N=Math.min(8,M.length-I),D=parseInt(M.substring(I,I+N),w);8>N?(N=p(Math.pow(w,N)),R=R.j(N).add(p(D))):(R=R.j(x),R=R.add(p(D)))}return R}var S=m(0),b=m(1),O=m(16777216);r=h.prototype,r.m=function(){if(G(this))return-q(this).m();for(var M=0,w=1,x=0;x<this.g.length;x++){var R=this.i(x);M+=(0<=R?R:4294967296+R)*w,w*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V(this))return"0";if(G(this))return"-"+q(this).toString(M);for(var w=p(Math.pow(M,6)),x=this,R="";;){var I=oe(x,w).g;x=H(x,I.j(w));var N=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=I,V(x))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function V(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function G(M){return M.h==-1}r.l=function(M){return M=H(this,M),G(M)?-1:V(M)?0:1};function q(M){for(var w=M.g.length,x=[],R=0;R<w;R++)x[R]=~M.g[R];return new h(x,~M.h).add(b)}r.abs=function(){return G(this)?q(this):this},r.add=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],R=0,I=0;I<=w;I++){var N=R+(this.i(I)&65535)+(M.i(I)&65535),D=(N>>>16)+(this.i(I)>>>16)+(M.i(I)>>>16);R=D>>>16,N&=65535,D&=65535,x[I]=D<<16|N}return new h(x,x[x.length-1]&-2147483648?-1:0)};function H(M,w){return M.add(q(w))}r.j=function(M){if(V(this)||V(M))return S;if(G(this))return G(M)?q(this).j(q(M)):q(q(this).j(M));if(G(M))return q(this.j(q(M)));if(0>this.l(O)&&0>M.l(O))return p(this.m()*M.m());for(var w=this.g.length+M.g.length,x=[],R=0;R<2*w;R++)x[R]=0;for(R=0;R<this.g.length;R++)for(var I=0;I<M.g.length;I++){var N=this.i(R)>>>16,D=this.i(R)&65535,ue=M.i(I)>>>16,ye=M.i(I)&65535;x[2*R+2*I]+=D*ye,se(x,2*R+2*I),x[2*R+2*I+1]+=N*ye,se(x,2*R+2*I+1),x[2*R+2*I+1]+=D*ue,se(x,2*R+2*I+1),x[2*R+2*I+2]+=N*ue,se(x,2*R+2*I+2)}for(R=0;R<w;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=w;R<2*w;R++)x[R]=0;return new h(x,0)};function se(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function B(M,w){this.g=M,this.h=w}function oe(M,w){if(V(w))throw Error("division by zero");if(V(M))return new B(S,S);if(G(M))return w=oe(q(M),w),new B(q(w.g),q(w.h));if(G(w))return w=oe(M,q(w)),new B(q(w.g),w.h);if(30<M.g.length){if(G(M)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var x=b,R=w;0>=R.l(M);)x=Z(x),R=Z(R);var I=k(x,1),N=k(R,1);for(R=k(R,2),x=k(x,2);!V(R);){var D=N.add(R);0>=D.l(M)&&(I=I.add(x),N=D),R=k(R,1),x=k(x,1)}return w=H(M,I.j(w)),new B(I,w)}for(I=S;0<=M.l(w);){for(x=Math.max(1,Math.floor(M.m()/w.m())),R=Math.ceil(Math.log(x)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=p(x),D=N.j(w);G(D)||0<D.l(M);)x-=R,N=p(x),D=N.j(w);V(N)&&(N=b),I=I.add(N),M=H(M,D)}return new B(I,M)}r.A=function(M){return oe(this,M).h},r.and=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],R=0;R<w;R++)x[R]=this.i(R)&M.i(R);return new h(x,this.h&M.h)},r.or=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],R=0;R<w;R++)x[R]=this.i(R)|M.i(R);return new h(x,this.h|M.h)},r.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],R=0;R<w;R++)x[R]=this.i(R)^M.i(R);return new h(x,this.h^M.h)};function Z(M){for(var w=M.g.length+1,x=[],R=0;R<w;R++)x[R]=M.i(R)<<1|M.i(R-1)>>>31;return new h(x,M.h)}function k(M,w){var x=w>>5;w%=32;for(var R=M.g.length-x,I=[],N=0;N<R;N++)I[N]=0<w?M.i(N+x)>>>w|M.i(N+x+1)<<32-w:M.i(N+x);return new h(I,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,cT=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=v,xa=h}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hT,Gl,fT,Zc,wg,dT,gT,mT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var C=0;C<c.length-1;C++){var X=c[C];if(!(X in _))break e;_=_[X]}c=c[c.length-1],C=_[c],y=y(C),y!=C&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,C=!1,X={next:function(){if(!C&&_<c.length){var le=_++;return{value:y(le,c[le]),done:!1}}return C=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},g=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,C),c.apply(y,X)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,b.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function V(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(C,X,le){for(var Ee=Array(arguments.length-2),at=2;at<arguments.length;at++)Ee[at-2]=arguments[at];return y.prototype[X].apply(C,Ee)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let C=0;C<y;C++)_[C]=c[C];return _}return[]}function q(c,y){for(let _=1;_<arguments.length;_++){const C=arguments[_];if(m(C)){const X=c.length||0,le=C.length||0;c.length=X+le;for(let Ee=0;Ee<le;Ee++)c[X+Ee]=C[Ee]}else c.push(C)}}class H{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var Z=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function k(c,y,_){for(const C in c)y.call(_,c[C],C,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,y){let _,C;for(let X=1;X<arguments.length;X++){C=arguments[X];for(_ in C)c[_]=C[_];for(let le=0;le<x.length;le++)_=x[le],Object.prototype.hasOwnProperty.call(C,_)&&(c[_]=C[_])}}function I(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function N(c){g.setTimeout(()=>{throw c},0)}function D(){var c=ve;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,_){const C=ye.get();C.set(y,_),this.h?this.h.next=C:this.g=C,this.h=C}}var ye=new H(()=>new L,c=>c.reset());class L{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,$=!1,ve=new ue,P=()=>{const c=g.Promise.resolve(void 0);ie=()=>{c.then(Y)}};var Y=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){N(_)}var y=ye;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}$=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};g.addEventListener("test",_,y),g.removeEventListener("test",_,y)}catch{}return c}();function be(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Z){e:{try{oe(y.nodeName);var X=!0;break e}catch{}X=!1}X||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}V(be,re);var Te={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Et(c,y,_,C,X){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!C,this.ha=X,this.key=++Ve,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function sn(c){this.src=c,this.g={},this.h=0}sn.prototype.add=function(c,y,_,C,X){var le=c.toString();c=this.g[le],c||(c=this.g[le]=[],this.h++);var Ee=ar(c,y,C,X);return-1<Ee?(y=c[Ee],_||(y.fa=!1)):(y=new Et(y,this.src,le,!!C,X),y.fa=_,c.push(y)),y};function Ln(c,y){var _=y.type;if(_ in c.g){var C=c.g[_],X=Array.prototype.indexOf.call(C,y,void 0),le;(le=0<=X)&&Array.prototype.splice.call(C,X,1),le&&(gt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ar(c,y,_,C){for(var X=0;X<c.length;++X){var le=c[X];if(!le.da&&le.listener==y&&le.capture==!!_&&le.ha==C)return X}return-1}var In="closure_lm_"+(1e6*Math.random()|0),La={};function Cs(c,y,_,C,X){if(Array.isArray(y)){for(var le=0;le<y.length;le++)Cs(c,y[le],_,C,X);return null}return _=Gi(_),c&&c[rt]?c.K(y,_,p(C)?!!C.capture:!1,X):Nn(c,y,_,!1,C,X)}function Nn(c,y,_,C,X,le){if(!y)throw Error("Invalid event type");var Ee=p(X)?!!X.capture:!!X,at=sr(c);if(at||(c[In]=at=new sn(c)),_=at.add(y,_,C,Ee,le),_.proxy)return _;if(C=Lo(),_.proxy=C,C.src=c,C.listener=_,c.addEventListener)he||(X=Ee),X===void 0&&(X=!1),c.addEventListener(y.toString(),C,X);else if(c.attachEvent)c.attachEvent(di(y.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Lo(){function c(_){return y.call(c.src,c.listener,_)}const y=Cr;return c}function Ua(c,y,_,C,X){if(Array.isArray(y))for(var le=0;le<y.length;le++)Ua(c,y[le],_,C,X);else C=p(C)?!!C.capture:!!C,_=Gi(_),c&&c[rt]?(c=c.i,y=String(y).toString(),y in c.g&&(le=c.g[y],_=ar(le,_,C,X),-1<_&&(gt(le[_]),Array.prototype.splice.call(le,_,1),le.length==0&&(delete c.g[y],c.h--)))):c&&(c=sr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ar(y,_,C,X)),(_=-1<c?y[c]:null)&&qi(_))}function qi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[rt])Ln(y.i,c);else{var _=c.type,C=c.proxy;y.removeEventListener?y.removeEventListener(_,C,c.capture):y.detachEvent?y.detachEvent(di(_),C):y.addListener&&y.removeListener&&y.removeListener(C),(_=sr(y))?(Ln(_,c),_.h==0&&(_.src=null,y[In]=null)):gt(c)}}}function di(c){return c in La?La[c]:La[c]="on"+c}function Cr(c,y){if(c.da)c=!0;else{y=new be(y,this);var _=c.listener,C=c.ha||c.src;c.fa&&qi(c),c=_.call(C,y)}return c}function sr(c){return c=c[In],c instanceof sn?c:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(c){return typeof c=="function"?c:(c[Fi]||(c[Fi]=function(y){return c.handleEvent(y)}),c[Fi])}function ft(){ae.call(this),this.i=new sn(this),this.M=this,this.F=null}V(ft,ae),ft.prototype[rt]=!0,ft.prototype.removeEventListener=function(c,y,_,C){Ua(this,c,y,_,C)};function Ye(c,y){var _,C=c.F;if(C)for(_=[];C;C=C.F)_.push(C);if(c=c.M,C=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var X=y;y=new re(C,c),R(y,X)}if(X=!0,_)for(var le=_.length-1;0<=le;le--){var Ee=y.g=_[le];X=Sn(Ee,C,!0,y)&&X}if(Ee=y.g=c,X=Sn(Ee,C,!0,y)&&X,X=Sn(Ee,C,!1,y)&&X,_)for(le=0;le<_.length;le++)Ee=y.g=_[le],X=Sn(Ee,C,!1,y)&&X}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],C=0;C<_.length;C++)gt(_[C]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,_,C){return this.i.add(String(c),y,!1,_,C)},ft.prototype.L=function(c,y,_,C){return this.i.add(String(c),y,!0,_,C)};function Sn(c,y,_,C){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var X=!0,le=0;le<y.length;++le){var Ee=y[le];if(Ee&&!Ee.da&&Ee.capture==_){var at=Ee.listener,Jt=Ee.ha||Ee.src;Ee.fa&&Ln(c.i,Ee),X=at.call(Jt,C)!==!1&&X}}return X&&!C.defaultPrevented}function qt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:g.setTimeout(c,y||0)}function Is(c){c.g=qt(()=>{c.g=null,c.i&&(c.i=!1,Is(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class or extends ae{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(c){ae.call(this),this.h=c,this.g={}}V(jr,ae);var Lr=[];function Ur(c){k(c.g,function(y,_){this.g.hasOwnProperty(_)&&qi(y)},c),c.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Ur(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=g.JSON.stringify,gi=g.JSON.parse,lr=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function $i(){}$i.prototype.h=null;function mi(c){return c.h||(c.h=c.i())}function Ba(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ir(){re.call(this,"d")}V(Ir,re);function Yi(){re.call(this,"c")}V(Yi,re);var On={},Br=null;function zr(){return Br=Br||new ft}On.La="serverreachability";function Qi(c){re.call(this,On.La,c)}V(Qi,re);function U(c){const y=zr();Ye(y,new Qi(y))}On.STAT_EVENT="statevent";function K(c,y){re.call(this,On.STAT_EVENT,c),this.stat=y}V(K,re);function J(c){const y=zr();Ye(y,new K(y,c))}On.Ma="timingevent";function me(c,y){re.call(this,On.Ma,c),this.size=y}V(me,re);function _e(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},y)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function Oe(c,y,_,C,X,le){c.info(function(){if(c.g)if(le)for(var Ee="",at=le.split("&"),Jt=0;Jt<at.length;Jt++){var st=at[Jt].split("=");if(1<st.length){var ln=st[0];st=st[1];var en=ln.split("_");Ee=2<=en.length&&en[1]=="type"?Ee+(ln+"="+st+"&"):Ee+(ln+"=redacted&")}}else Ee=null;else Ee=le;return"XMLHTTP REQ ("+C+") [attempt "+X+"]: "+y+`
`+_+`
`+Ee})}function xe(c,y,_,C,X,le,Ee){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+X+"]: "+y+`
`+_+`
`+le+" "+Ee})}function Ce(c,y,_,C){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ke(c,_)+(C?" "+C:"")})}function De(c,y){c.info(function(){return"TIMEOUT: "+y})}Ae.prototype.info=function(){};function ke(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var C=_[c];if(!(2>C.length)){var X=C[1];if(Array.isArray(X)&&!(1>X.length)){var le=X[0];if(le!="noop"&&le!="stop"&&le!="close")for(var Ee=1;Ee<X.length;Ee++)X[Ee]=""}}}}return Fn(_)}catch{return y}}var Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ze;function mt(){}V(mt,$i),mt.prototype.g=function(){return new XMLHttpRequest},mt.prototype.i=function(){return{}},Ze=new mt;function ct(c,y,_,C){this.j=c,this.i=y,this.l=_,this.R=C||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new it}function it(){this.i=null,this.g="",this.h=!1}var Xe={},cr={};function Zt(c,y,_){c.L=1,c.v=qa(Yn(y)),c.m=_,c.P=!0,Mn(c,null)}function Mn(c,y){c.F=Date.now(),Gn(c),c.A=Yn(c.v);var _=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),qo(_.i,"t",C),c.C=0,_=c.j.J,c.h=new it,c.g=Pu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new or(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,C=c.ca;var X="readystatechange";Array.isArray(X)||(X&&(Lr[0]=X.toString()),X=Lr);for(var le=0;le<X.length;le++){var Ee=Cs(_,X[le],C||y.handleEvent,!1,y.h||y);if(!Ee)break;y.g[Ee.key]=Ee}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),U(),Oe(c.i,c.u,c.A,c.l,c.R,c.m)}ct.prototype.ca=function(c){c=c.target;const y=this.M;y&&mr(c)==3?y.j():this.Y(c)},ct.prototype.Y=function(c){try{if(c==this.g)e:{const en=mr(this.g);var y=this.g.Ba();const Si=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||en!=4||y==7||(y==8||0>=Si?U(3):U(2)),wn(this);var _=this.g.Z();this.X=_;t:if(dn(this)){var C=xu(this.g);c="";var X=C.length,le=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Pn(this);var Ee="";break t}this.h.i=new g.TextDecoder}for(y=0;y<X;y++)this.h.h=!0,c+=this.h.i.decode(C[y],{stream:!(le&&y==X-1)});C.length=0,this.h.g+=c,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=_==200,xe(this.i,this.u,this.A,this.l,this.R,en,_),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Jt=this.g;if((at=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(at)){var st=at;break t}}st=null}if(_=st)Ce(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ft(this,_);else{this.o=!1,this.s=3,J(12),ze(this),Pn(this);break e}}if(this.P){_=!0;let mn;for(;!this.J&&this.C<Ee.length;)if(mn=Hr(this,Ee),mn==cr){en==4&&(this.s=4,J(14),_=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Xe){this.s=4,J(15),Ce(this.i,this.l,Ee,"[Invalid Chunk]"),_=!1;break}else Ce(this.i,this.l,mn,null),Ft(this,mn);if(dn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||Ee.length!=0||this.h.h||(this.s=1,J(16),_=!1),this.o=this.o&&_,!_)Ce(this.i,this.l,Ee,"[Invalid Chunked Response]"),ze(this),Pn(this);else if(0<Ee.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),Wa(ln),ln.M=!0,J(11))}}else Ce(this.i,this.l,Ee,null),Ft(this,Ee);en==4&&ze(this),this.o&&!this.J&&(en==4?Nu(this.j,this):(this.o=!1,Gn(this)))}else Kh(this.g),_==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),ze(this),Pn(this)}}}catch{}finally{}};function dn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hr(c,y){var _=c.C,C=y.indexOf(`
`,_);return C==-1?cr:(_=Number(y.substring(_,C)),isNaN(_)?Xe:(C+=1,C+_>y.length?cr:(y=y.slice(C,C+_),c.C=C+_,y)))}ct.prototype.cancel=function(){this.J=!0,ze(this)};function Gn(c){c.S=Date.now()+c.I,Ki(c,c.I)}function Ki(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_e(b(c.ba,c),y)}function wn(c){c.B&&(g.clearTimeout(c.B),c.B=null)}ct.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(De(this.i,this.A),this.L!=2&&(U(),J(17)),ze(this),this.s=2,Pn(this)):Ki(this,this.S-c)};function Pn(c){c.j.G==0||c.J||Nu(c.j,c)}function ze(c){wn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ur(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ft(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||hr(_.h,c))){if(!c.K&&hr(_.h,c)&&_.G==3){try{var C=_.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var X=C;if(X[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Us(_),js(_);else break e;Qo(_),J(18)}}else _.za=X[1],0<_.za-_.T&&37500>X[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(b(_.Za,_),6e3));if(1>=At(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((c.K||_.g==c)&&Us(_),!se(y))for(X=_.Da.g.parse(y),y=0;y<X.length;y++){let st=X[y];if(_.T=st[0],st=st[1],_.G==2)if(st[0]=="c"){_.K=st[1],_.ia=st[2];const ln=st[3];ln!=null&&(_.la=ln,_.j.info("VER="+_.la));const en=st[4];en!=null&&(_.Aa=en,_.j.info("SVER="+_.Aa));const Si=st[5];Si!=null&&typeof Si=="number"&&0<Si&&(C=1.5*Si,_.L=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const mn=c.g;if(mn){const Xr=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var le=C.h;le.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(pi(le,le.h),le.h=null))}if(C.D){const Xo=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(C.ya=Xo,Tt(C.I,C.D,Xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),C=_;var Ee=c;if(C.qa=Mu(C,C.J?C.ia:null,C.W),Ee.K){gn(C.h,Ee);var at=Ee,Jt=C.L;Jt&&(at.I=Jt),at.B&&(wn(at),Gn(at)),C.g=Ee}else Cu(C);0<_.i.length&&Ls(_)}else st[0]!="stop"&&st[0]!="close"||bi(_,7);else _.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?bi(_,7):$o(_):st[0]!="noop"&&_.l&&_.l.ta(st),_.v=0)}}U(4)}catch{}}var $n=class{constructor(c,y){this.g=c,this.map=y}};function Un(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function At(c){return c.h?1:c.g?c.g.size:0}function hr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function pi(c,y){c.g?c.g.add(y):c.h=y}function gn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Un.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function Gh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,C=0;C<_;C++)y.push(c[C]);return y}y=[],_=0;for(C in c)y[_++]=c[C];return y}function Ns(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const C in c)y[_++]=C;return y}}}function Bo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ns(c),C=Gh(c),X=C.length,le=0;le<X;le++)y.call(void 0,C[le],_&&_[le],c)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $h(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var C=c[_].indexOf("="),X=null;if(0<=C){var le=c[_].substring(0,C);X=c[_].substring(C+1)}else le=c[_];y(le,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gt){this.h=c.h,Ha(this,c.j),this.o=c.o,this.g=c.g,Xi(this,c.s),this.l=c.l;var y=c.i,_=new vi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),yi(this,_),this.m=c.m}else c&&(y=String(c).match(za))?(this.h=!1,Ha(this,y[1]||"",!0),this.o=fr(y[2]||""),this.g=fr(y[3]||"",!0),Xi(this,y[4]),this.l=fr(y[5]||"",!0),yi(this,y[6]||"",!0),this.m=fr(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Gt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Fa(y,zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Fa(y,zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Fa(_,_.charAt(0)=="/"?Yh:Ho,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Fa(_,Os)),c.join("")};function Yn(c){return new Gt(c)}function Ha(c,y,_){c.j=_?fr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Xi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function yi(c,y,_){y instanceof vi?(c.i=y,wu(c.i,c.h)):(_||(y=Fa(y,Qh)),c.i=new vi(y,c.h))}function Tt(c,y,_){c.i.set(y,_)}function qa(c){return Tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fa(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Su),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,Ho=/[#\?:]/g,Yh=/[#\?]/g,Qh=/[#\?@]/g,Os=/#/g;function vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function dr(c){c.g||(c.g=new Map,c.h=0,c.i&&$h(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=vi.prototype,r.add=function(c,y){dr(this),this.i=null,c=Fr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function _i(c,y){dr(c),y=Fr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ei(c,y){return dr(c),y=Fr(c,y),c.g.has(y)}r.forEach=function(c,y){dr(this),this.g.forEach(function(_,C){_.forEach(function(X){c.call(y,X,C,this)},this)},this)},r.na=function(){dr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let C=0;C<y.length;C++){const X=c[C];for(let le=0;le<X.length;le++)_.push(y[C])}return _},r.V=function(c){dr(this);let y=[];if(typeof c=="string")Ei(this,c)&&(y=y.concat(this.g.get(Fr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return dr(this),this.i=null,c=Fr(this,c),Ei(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function qo(c,y,_){_i(c,y),0<_.length&&(c.i=null,c.g.set(Fr(c,y),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var C=y[_];const le=encodeURIComponent(String(C)),Ee=this.V(C);for(C=0;C<Ee.length;C++){var X=le;Ee[C]!==""&&(X+="="+encodeURIComponent(String(Ee[C]))),c.push(X)}}return this.i=c.join("&")};function Fr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function wu(c,y){y&&!c.j&&(dr(c),c.i=null,c.g.forEach(function(_,C){var X=C.toLowerCase();C!=X&&(_i(this,C),qo(this,X,_))},c)),c.j=y}function Ga(c,y){const _=new Ae;if(g.Image){const C=new Image;C.onload=O(gr,_,"TestLoadImage: loaded",!0,y,C),C.onerror=O(gr,_,"TestLoadImage: error",!1,y,C),C.onabort=O(gr,_,"TestLoadImage: abort",!1,y,C),C.ontimeout=O(gr,_,"TestLoadImage: timeout",!1,y,C),g.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else y(!1)}function Nr(c,y){const _=new Ae,C=new AbortController,X=setTimeout(()=>{C.abort(),gr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:C.signal}).then(le=>{clearTimeout(X),le.ok?gr(_,"TestPingServer: ok",!0,y):gr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(X),gr(_,"TestPingServer: error",!1,y)})}function gr(c,y,_,C,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),C(_)}catch{}}function $a(){this.g=new lr}function Gr(c,y,_){const C=_||"";try{Bo(c,function(X,le){let Ee=X;p(X)&&(Ee=Fn(X)),y.push(C+le+"="+encodeURIComponent(Ee))})}catch(X){throw y.push(C+"type="+encodeURIComponent("_badmap")),X}}function Wi(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Wi,$i),Wi.prototype.g=function(){return new Ti(this.l,this.j)},Wi.prototype.i=function(c){return function(){return c}}({});function Ti(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ti,ft),r=Ti.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Yr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||g).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?$r(this):Yr(this),this.readyState==3&&Fo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$r(this))},r.Qa=function(c){this.g&&(this.response=c,$r(this))},r.ga=function(){this.g&&$r(this)};function $r(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Go(c){let y="";return k(c,function(_,C){y+=C,y+=":",y+=_,y+=`\r
`}),y}function on(c,y,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=Go(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Tt(c,y,_))}function pt(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(pt,ft);var Ms=/^https?$/i,Ya=["POST","PUT"];r=pt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ze.g(),this.v=this.o?mi(this.o):mi(Ze),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(le){Au(this,le);return}if(c=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var X in C)_.set(X,C[X]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const le of C.keys())_.set(le,C.get(le));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(le=>le.toLowerCase()=="content-type"),X=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ya,y,void 0))||C||X||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ee]of _)this.g.setRequestHeader(le,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qa(this),this.u=!0,this.g.send(c),this.u=!1}catch(le){Au(this,le)}};function Au(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ps(c),Qr(c)}function Ps(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),Qr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),pt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Vs(this):this.bb())},r.bb=function(){Vs(this)};function Vs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||mr(c)!=4||c.Z()!=2)){if(c.u&&mr(c)==4)qt(c.Ea,0,c);else if(Ye(c,"readystatechange"),mr(c)==4){c.h=!1;try{const Ee=c.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var C;if(C=Ee===0){var X=String(c.D).match(za)[1]||null;!X&&g.self&&g.self.location&&(X=g.self.location.protocol.slice(0,-1)),C=!Ms.test(X?X.toLowerCase():"")}_=C}if(_)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var le=2<mr(c)?c.g.statusText:""}catch{le=""}c.l=le+" ["+c.Z()+"]",Ps(c)}}finally{Qr(c)}}}}function Qr(c,y){if(c.g){Qa(c);const _=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{_.onreadystatechange=C}catch{}}}function Qa(c){c.I&&(g.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function mr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),gi(y)}};function xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Kh(c){const y={};c=(c.g&&2<=mr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(se(c[C]))continue;var _=I(c[C]);const X=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const le=y[X]||[];y[X]=le,le.push(_)}M(y,function(C){return C.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ks(c){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,c),this.cb=Ka("retryDelaySeedMs",1e4,c),this.Wa=Ka("forwardChannelMaxRetries",2,c),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Un(c&&c.concurrentRequestLimit),this.Da=new $a,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ks.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,C){J(0),this.W=c,this.H=y||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.I=Mu(this,null,this.W),Ls(this)};function $o(c){if(Ru(c),c.G==3){var y=c.U++,_=Yn(c.I);if(Tt(_,"SID",c.K),Tt(_,"RID",y),Tt(_,"TYPE","terminate"),Xa(c,_),y=new ct(c,c.j,y),y.L=2,y.v=qa(Yn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=y.v,_=!0),_||(y.g=Pu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Gn(y)}Ou(c)}function js(c){c.g&&(Wa(c),c.g.cancel(),c.g=null)}function Ru(c){js(c),c.u&&(g.clearTimeout(c.u),c.u=null),Us(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function Ls(c){if(!qr(c.h)&&!c.s){c.s=!0;var y=c.Ga;ie||P(),$||(ie(),$=!0),ve.add(y,c),c.B=0}}function Xh(c,y){return At(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_e(b(c.Ga,c,y),Ko(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const X=new ct(this,this.j,c);let le=this.o;if(this.S&&(le?(le=w(le),R(le,this.S)):le=this.S),this.m!==null||this.O||(X.H=le,le=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Du(this,X,y),_=Yn(this.I),Tt(_,"RID",c),Tt(_,"CVER",22),this.D&&Tt(_,"X-HTTP-Session-Id",this.D),Xa(this,_),le&&(this.O?y="headers="+encodeURIComponent(String(Go(le)))+"&"+y:this.m&&on(_,this.m,le)),pi(this.h,X),this.Ua&&Tt(_,"TYPE","init"),this.P?(Tt(_,"$req",y),Tt(_,"SID","null"),X.T=!0,Zt(X,_,null)):Zt(X,_,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||qr(this.h)||Yo(this))};function Yo(c,y){var _;y?_=y.l:_=c.U++;const C=Yn(c.I);Tt(C,"SID",c.K),Tt(C,"RID",_),Tt(C,"AID",c.T),Xa(c,C),c.m&&c.o&&on(C,c.m,c.o),_=new ct(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Du(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),pi(c.h,_),Zt(_,C,y)}function Xa(c,y){c.H&&k(c.H,function(_,C){Tt(y,C,_)}),c.l&&Bo({},function(_,C){Tt(y,C,_)})}function Du(c,y,_){_=Math.min(c.i.length,_);var C=c.l?b(c.l.Na,c.l,c):null;e:{var X=c.i;let le=-1;for(;;){const Ee=["count="+_];le==-1?0<_?(le=X[0].g,Ee.push("ofs="+le)):le=0:Ee.push("ofs="+le);let at=!0;for(let Jt=0;Jt<_;Jt++){let st=X[Jt].g;const ln=X[Jt].map;if(st-=le,0>st)le=Math.max(0,X[Jt].g-100),at=!1;else try{Gr(ln,Ee,"req"+st+"_")}catch{C&&C(ln)}}if(at){C=Ee.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,C}function Cu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ie||P(),$||(ie(),$=!0),ve.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_e(b(c.Fa,c),Ko(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_e(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),js(this),Iu(this))};function Wa(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new ct(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Yn(c.qa);Tt(y,"RID","rpc"),Tt(y,"SID",c.K),Tt(y,"AID",c.T),Tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Tt(y,"TO",c.ja),Tt(y,"TYPE","xmlhttp"),Xa(c,y),c.m&&c.o&&on(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=qa(Yn(y)),_.m=null,_.P=!0,Mn(_,c)}r.Za=function(){this.C!=null&&(this.C=null,js(this),Qo(this),J(19))};function Us(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function Nu(c,y){var _=null;if(c.g==y){Us(c),Wa(c),c.g=null;var C=2}else if(hr(c.h,y))_=y.D,gn(c.h,y),C=1;else return;if(c.G!=0){if(y.o)if(C==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var X=c.B;C=zr(),Ye(C,new me(C,_)),Ls(c)}else Cu(c);else if(X=y.s,X==3||X==0&&0<y.X||!(C==1&&Xh(c,y)||C==2&&Qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),X){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Ko(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function bi(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),C=c.Xa;const X=!C;C=new Gt(C||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ha(C,"https"),qa(C),X?Ga(C.toString(),_):Nr(C.toString(),_)}else J(2);c.G=0,c.l&&c.l.sa(y),Ou(c),Ru(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function Ou(c){if(c.G=0,c.ka=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Mu(c,y,_){var C=_ instanceof Gt?Yn(_):new Gt(_);if(C.g!="")y&&(C.g=y+"."+C.g),Xi(C,C.s);else{var X=g.location;C=X.protocol,y=y?y+"."+X.hostname:X.hostname,X=+X.port;var le=new Gt(null);C&&Ha(le,C),y&&(le.g=y),X&&Xi(le,X),_&&(le.l=_),C=le}return _=c.D,y=c.ya,_&&y&&Tt(C,_,y),Tt(C,"VER",c.la),Xa(c,C),C}function Pu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new pt(new Wi({eb:_})):new pt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Bs(){}Bs.prototype.g=function(c,y){return new Vn(c,y)};function Vn(c,y){ft.call(this),this.g=new ks(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Kr(this)}V(Vn,ft),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){$o(this.g)},Vn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Fn(c),c=_);y.i.push(new $n(y.Ya++,c)),y.G==3&&Ls(y)},Vn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,Vn.aa.N.call(this)};function ku(c){Ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(ku,Ir);function ju(){Yi.call(this),this.status=1}V(ju,Yi);function Kr(c){this.g=c}V(Kr,Vu),Kr.prototype.ua=function(){Ye(this.g,"a")},Kr.prototype.ta=function(c){Ye(this.g,new ku(c))},Kr.prototype.sa=function(c){Ye(this.g,new ju)},Kr.prototype.ra=function(){Ye(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,mT=function(){return new Bs},gT=function(){return zr()},dT=On,wg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,Zc=Me,Ue.COMPLETE="complete",fT=Ue,Ba.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Gl=Ba,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,hT=pt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const e0="@firebase/firestore",t0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new eT("@firebase/firestore");function _o(){return _s.logLevel}function we(r,...e){if(_s.logLevel<=ut.DEBUG){const n=e.map(um);_s.debug(`Firestore (${Oo}): ${r}`,...n)}}function Ui(r,...e){if(_s.logLevel<=ut.ERROR){const n=e.map(um);_s.error(`Firestore (${Oo}): ${r}`,...n)}}function Ca(r,...e){if(_s.logLevel<=ut.WARN){const n=e.map(um);_s.warn(`Firestore (${Oo}): ${r}`,...n)}}function um(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,pT(r,a,n)}function pT(r,e,n){let a=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ui(a),new Error(a)}function yt(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||pT(e,o,a)}function qe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class $R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YR{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let u=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ji,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},g=m=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>g(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ji)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(yt(typeof a.accessToken=="string",31837,{l:a}),new yT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class QR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new QR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,iT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yt(this.o===void 0,3512);const a=u=>{u.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,we("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new n0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=WR(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ke(r,e){return r<e?-1:r>e?1:0}function Ag(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ke(a,o);{const u=vT(),h=ZR(u.encode(r0(r,n)),u.encode(r0(e,n)));return h!==0?h:Ke(a,o)}}n+=a>65535?2:1}return Ke(r.length,e.length)}function r0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function ZR(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ke(r[n],e[n]);return Ke(r.length,e.length)}function Ro(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__name__";class ni{constructor(e,n,a){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Le(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ke(e.length,n.length)}static compareSegments(e,n){const a=ni.isNumericId(e),o=ni.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ni.extractNumericId(e).compare(ni.extractNumericId(n)):Ag(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}}class Dt extends ni{construct(e,n,a){return new Dt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const JR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends ni{construct(e,n,a){return new Tn(e,n,a)}static isValidIdentifier(e){return JR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i0}static keyField(){return new Tn([i0])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else g==="`"?(h=!h,o++):g!=="."||h?(a+=g,o++):(u(),o++)}if(u(),h)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Dt.fromString(e))}static fromName(e){return new Ne(Dt.fromString(e).popFirst(5))}static empty(){return new Ne(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(r,e,n){if(!n)throw new Se(de.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function eD(r,e,n,a){if(e===!0&&a===!0)throw new Se(de.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function a0(r){if(!Ne.isDocumentKey(r))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function s0(r){if(Ne.isDocumentKey(r))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ET(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function xh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Le(12329,{type:typeof r})}function Ia(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(r);throw new Se(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function pu(r,e){if(!ET(r))throw new Se(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const h=r[a];if(o&&typeof h!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new Se(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=-62135596800,l0=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*l0);return new It(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<o0)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l0}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Xt("string",It._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new It(0,0))}static max(){return new He(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function tD(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=He.fromTimestamp(a===1e9?new It(n+1,0):new It(n,a));return new Na(o,Ne.empty(),e)}function nD(r){return new Na(r.readTime,r.key,su)}class Na{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Na(He.min(),Ne.empty(),su)}static max(){return new Na(He.max(),Ne.empty(),su)}}function rD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(r.documentKey,e.documentKey),n!==0?n:Ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==de.FAILED_PRECONDITION||r.message!==iD)throw r;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,a)=>{n(e)})}static reject(e){return new pe((n,a)=>{a(e)})}static waitFor(e){return new pe((n,a)=>{let o=0,u=0,h=!1;e.forEach(g=>{++o,g.next(()=>{++u,h&&u===o&&n()},m=>a(m))}),h=!0,u===o&&n()})}static or(e){let n=pe.resolve(!1);for(const a of e)n=n.next(o=>o?pe.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new pe((a,o)=>{const u=e.length,h=new Array(u);let g=0;for(let m=0;m<u;m++){const p=m;n(e[p]).next(v=>{h[p]=v,++g,g===u&&a(h)},v=>o(v))}})}static doWhile(e,n){return new pe((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function sD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this._e(a),this.ae=a=>n.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Rh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function Dh(r){return r==null}function fh(r){return r===0&&1/r==-1/0}function oD(r){return typeof r=="number"&&Number.isInteger(r)&&!fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="";function lD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=u0(e)),e=uD(r.get(n),e);return u0(e)}function uD(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case TT:n+="";break;default:n+=u}}return n}function u0(r){return r+TT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function As(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function bT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??_n.RED,this.left=o??_n.EMPTY,this.right=u??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new _n(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return _n.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(e){return new h0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class h0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new Vr([])}unionWith(e){let n=new an(Tn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ST("Invalid base64 string: "+u):u}}(e);return new bn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const cD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(r){if(yt(!!r,39018),typeof r=="string"){let e=0;const n=cD.exec(r);if(yt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Bt(r.seconds),nanos:Bt(r.nanos)}}function Bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ma(r){return typeof r=="string"?bn.fromBase64String(r):bn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="server_timestamp",AT="__type__",xT="__previous_value__",RT="__local_write_time__";function fm(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AT])===null||n===void 0?void 0:n.stringValue)===wT}function Ch(r){const e=r.mapValue.fields[xT];return fm(e)?Ch(e):e}function ou(r){const e=Oa(r.mapValue.fields[RT].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,a,o,u,h,g,m,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const dh="(default)";class lu{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="__type__",fD="__max__",Hc={mapValue:{}},CT="__vector__",gh="value";function Pa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fm(r)?4:gD(r)?9007199254740991:dD(r)?10:11:Le(28295,{value:r})}function hi(r,e){if(r===e)return!0;const n=Pa(r);if(n!==Pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ou(r).isEqual(ou(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Oa(o.timestampValue),g=Oa(u.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Ma(o.bytesValue).isEqual(Ma(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Bt(o.geoPointValue.latitude)===Bt(u.geoPointValue.latitude)&&Bt(o.geoPointValue.longitude)===Bt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Bt(o.integerValue)===Bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Bt(o.doubleValue),g=Bt(u.doubleValue);return h===g?fh(h)===fh(g):isNaN(h)&&isNaN(g)}return!1}(r,e);case 9:return Ro(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},g=u.mapValue.fields||{};if(c0(h)!==c0(g))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(g[m]===void 0||!hi(h[m],g[m])))return!1;return!0}(r,e);default:return Le(52216,{left:r})}}function uu(r,e){return(r.values||[]).find(n=>hi(n,e))!==void 0}function Do(r,e){if(r===e)return 0;const n=Pa(r),a=Pa(e);if(n!==a)return Ke(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(r.booleanValue,e.booleanValue);case 2:return function(u,h){const g=Bt(u.integerValue||u.doubleValue),m=Bt(h.integerValue||h.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1}(r,e);case 3:return f0(r.timestampValue,e.timestampValue);case 4:return f0(ou(r),ou(e));case 5:return Ag(r.stringValue,e.stringValue);case 6:return function(u,h){const g=Ma(u),m=Ma(h);return g.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const g=u.split("/"),m=h.split("/");for(let p=0;p<g.length&&p<m.length;p++){const v=Ke(g[p],m[p]);if(v!==0)return v}return Ke(g.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const g=Ke(Bt(u.latitude),Bt(h.latitude));return g!==0?g:Ke(Bt(u.longitude),Bt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return d0(r.arrayValue,e.arrayValue);case 10:return function(u,h){var g,m,p,v;const S=u.fields||{},b=h.fields||{},O=(g=S[gh])===null||g===void 0?void 0:g.arrayValue,V=(m=b[gh])===null||m===void 0?void 0:m.arrayValue,G=Ke(((p=O?.values)===null||p===void 0?void 0:p.length)||0,((v=V?.values)===null||v===void 0?void 0:v.length)||0);return G!==0?G:d0(O,V)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===Hc.mapValue&&h===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(h===Hc.mapValue)return-1;const g=u.fields||{},m=Object.keys(g),p=h.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let S=0;S<m.length&&S<v.length;++S){const b=Ag(m[S],v[S]);if(b!==0)return b;const O=Do(g[m[S]],p[v[S]]);if(O!==0)return O}return Ke(m.length,v.length)}(r.mapValue,e.mapValue);default:throw Le(23264,{le:n})}}function f0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ke(r,e);const n=Oa(r),a=Oa(e),o=Ke(n.seconds,a.seconds);return o!==0?o:Ke(n.nanos,a.nanos)}function d0(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Do(n[o],a[o]);if(u)return u}return Ke(n.length,a.length)}function Co(r){return xg(r)}function xg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Oa(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ma(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ne.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=xg(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${xg(n.fields[h])}`;return o+"}"}(r.mapValue):Le(61005,{value:r})}function Jc(r){switch(Pa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(r);return e?16+Jc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ma(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Jc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return As(a.fields,(u,h)=>{o+=u.length+Jc(h)}),o}(r.mapValue);default:throw Le(13486,{value:r})}}function g0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rg(r){return!!r&&"integerValue"in r}function dm(r){return!!r&&"arrayValue"in r}function m0(r){return!!r&&"nullValue"in r}function p0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function eh(r){return!!r&&"mapValue"in r}function dD(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[DT])===null||n===void 0?void 0:n.stringValue)===CT}function Xl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return As(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Xl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function gD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===fD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Tn.emptyPath(),a={},o=[];e.forEach((h,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,a,o),a={},o=[],n=g.popLast()}h?a[g.lastSegment()]=Xl(h):o.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){As(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new xr(Xl(this.value))}}function IT(r){const e=[];return As(r.fields,(n,a)=>{const o=new Tn([n]);if(eh(a)){const u=IT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,a,o,u,h,g){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=g}static newInvalidDocument(e){return new Cn(e,0,He.min(),He.min(),He.min(),xr.empty(),0)}static newFoundDocument(e,n,a,o){return new Cn(e,1,n,He.min(),a,o,0)}static newNoDocument(e,n){return new Cn(e,2,n,He.min(),He.min(),xr.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,He.min(),He.min(),xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.position=e,this.inclusive=n}}function y0(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?a=Ne.comparator(Ne.fromName(h.referenceValue),n.key):a=Do(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function v0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function mD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{}class Kt extends NT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new yD(e,n,a):n==="array-contains"?new ED(e,a):n==="in"?new TD(e,a):n==="not-in"?new bD(e,a):n==="array-contains-any"?new SD(e,a):new Kt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new vD(e,a):new _D(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&Pa(this.value)===Pa(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends NT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new kr(e,n)}matches(e){return OT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function OT(r){return r.op==="and"}function MT(r){return pD(r)&&OT(r)}function pD(r){for(const e of r.filters)if(e instanceof kr)return!1;return!0}function Dg(r){if(r instanceof Kt)return r.field.canonicalString()+r.op.toString()+Co(r.value);if(MT(r))return r.filters.map(e=>Dg(e)).join(",");{const e=r.filters.map(n=>Dg(n)).join(",");return`${r.op}(${e})`}}function PT(r,e){return r instanceof Kt?function(a,o){return o instanceof Kt&&a.op===o.op&&a.field.isEqual(o.field)&&hi(a.value,o.value)}(r,e):r instanceof kr?function(a,o){return o instanceof kr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,g)=>u&&PT(h,o.filters[g]),!0):!1}(r,e):void Le(19439)}function VT(r){return r instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(r):r instanceof kr?function(n){return n.op.toString()+" {"+n.getFilters().map(VT).join(" ,")+"}"}(r):"Filter"}class yD extends Kt{constructor(e,n,a){super(e,n,a),this.key=Ne.fromName(a.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class vD extends Kt{constructor(e,n){super(e,"in",n),this.keys=kT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _D extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=kT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ne.fromName(a.referenceValue))}class ED extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dm(n)&&uu(n.arrayValue,this.value)}}class TD extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class bD extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class SD extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>uu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n=null,a=[],o=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=g,this.Pe=null}}function _0(r,e=null,n=[],a=[],o=null,u=null,h=null){return new wD(r,e,n,a,o,u,h)}function gm(r){const e=qe(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Dg(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Co(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Co(a)).join(",")),e.Pe=n}return e.Pe}function mm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!mD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!PT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!v0(r.startAt,e.startAt)&&v0(r.endAt,e.endAt)}function Cg(r){return Ne.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,a=[],o=[],u=null,h="F",g=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function AD(r,e,n,a,o,u,h,g){return new yu(r,e,n,a,o,u,h,g)}function pm(r){return new yu(r)}function E0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jT(r){return r.collectionGroup!==null}function Wl(r){const e=qe(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new an(Tn.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new ph(u,a))}),n.has(Tn.keyField().canonicalString())||e.Te.push(new ph(Tn.keyField(),a))}return e.Te}function ai(r){const e=qe(r);return e.Ie||(e.Ie=xD(e,Wl(r))),e.Ie}function xD(r,e){if(r.limitType==="F")return _0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ph(o.field,u)});const n=r.endAt?new mh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new mh(r.startAt.position,r.startAt.inclusive):null;return _0(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Ig(r,e){const n=r.filters.concat([e]);return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ng(r,e,n){return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ih(r,e){return mm(ai(r),ai(e))&&r.limitType===e.limitType}function LT(r){return`${gm(ai(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>VT(o)).join(", ")}]`),Dh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Co(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Co(o)).join(",")),`Target(${a})`}(ai(r))}; limitType=${r.limitType})`}function Nh(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ne.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of Wl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(h,g,m){const p=y0(h,g,m);return h.inclusive?p<=0:p<0}(a.startAt,Wl(a),o)||a.endAt&&!function(h,g,m){const p=y0(h,g,m);return h.inclusive?p>=0:p>0}(a.endAt,Wl(a),o))}(r,e)}function RD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function UT(r){return(e,n)=>{let a=!1;for(const o of Wl(r)){const u=DD(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function DD(r,e,n){const a=r.field.isKeyField()?Ne.comparator(e.key,n.key):function(u,h,g){const m=h.data.field(u),p=g.data.field(u);return m!==null&&p!==null?Do(m,p):Le(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Le(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return bT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new Mt(Ne.comparator);function Bi(){return CD}const BT=new Mt(Ne.comparator);function $l(...r){let e=BT;for(const n of r)e=e.insert(n.key,n);return e}function zT(r){let e=BT;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function ps(){return Zl()}function HT(){return Zl()}function Zl(){return new xs(r=>r.toString(),(r,e)=>r.isEqual(e))}const ID=new Mt(Ne.comparator),ND=new an(Ne.comparator);function nt(...r){let e=ND;for(const n of r)e=e.add(n);return e}const OD=new an(Ke);function MD(){return OD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function qT(r){return{integerValue:""+r}}function PD(r,e){return oD(e)?qT(e):ym(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function VD(r,e,n){return r instanceof yh?function(o,u){const h={fields:{[AT]:{stringValue:wT},[RT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fm(u)&&(u=Ch(u)),u&&(h.fields[xT]=u),{mapValue:h}}(n,e):r instanceof cu?GT(r,e):r instanceof hu?$T(r,e):function(o,u){const h=FT(o,u),g=T0(h)+T0(o.Ee);return Rg(h)&&Rg(o.Ee)?qT(g):ym(o.serializer,g)}(r,e)}function kD(r,e,n){return r instanceof cu?GT(r,e):r instanceof hu?$T(r,e):n}function FT(r,e){return r instanceof vh?function(a){return Rg(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class yh extends Oh{}class cu extends Oh{constructor(e){super(),this.elements=e}}function GT(r,e){const n=YT(e);for(const a of r.elements)n.some(o=>hi(o,a))||n.push(a);return{arrayValue:{values:n}}}class hu extends Oh{constructor(e){super(),this.elements=e}}function $T(r,e){let n=YT(e);for(const a of r.elements)n=n.filter(o=>!hi(o,a));return{arrayValue:{values:n}}}class vh extends Oh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function T0(r){return Bt(r.integerValue||r.doubleValue)}function YT(r){return dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function jD(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof cu&&o instanceof cu||a instanceof hu&&o instanceof hu?Ro(a.elements,o.elements,hi):a instanceof vh&&o instanceof vh?hi(a.Ee,o.Ee):a instanceof yh&&o instanceof yh}(r.transform,e.transform)}class LD{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mh{}function QT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vm(r.key,si.none()):new vu(r.key,r.data,si.none());{const n=r.data,a=xr.empty();let o=new an(Tn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Rs(r.key,a,new Vr(o.toArray()),si.none())}}function UD(r,e,n){r instanceof vu?function(o,u,h){const g=o.value.clone(),m=S0(o.fieldTransforms,u,h.transformResults);g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,n):r instanceof Rs?function(o,u,h){if(!th(o.precondition,u))return void u.convertToUnknownDocument(h.version);const g=S0(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(KT(o)),m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Jl(r,e,n,a){return r instanceof vu?function(u,h,g,m){if(!th(u.precondition,h))return g;const p=u.value.clone(),v=w0(u.fieldTransforms,m,h);return p.setAll(v),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(r,e,n,a):r instanceof Rs?function(u,h,g,m){if(!th(u.precondition,h))return g;const p=w0(u.fieldTransforms,m,h),v=h.data;return v.setAll(KT(u)),v.setAll(p),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,a):function(u,h,g){return th(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g}(r,e,n)}function BD(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=FT(a.transform,o||null);u!=null&&(n===null&&(n=xr.empty()),n.set(a.field,u))}return n||null}function b0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ro(a,o,(u,h)=>jD(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vu extends Mh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rs extends Mh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function KT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function S0(r,e,n){const a=new Map;yt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,g=e.data.field(u.field);a.set(u.field,kD(h,g,n[o]))}return a}function w0(r,e,n){const a=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);a.set(o.field,VD(u,h,e))}return a}class vm extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zD extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UD(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Jl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Jl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=HT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let g=this.applyToLocalView(h,u.mutatedFields);g=n.has(o.key)?null:g;const m=QT(h,g);m!==null&&a.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(He.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,a)=>b0(n,a))&&Ro(this.baseMutations,e.baseMutations,(n,a)=>b0(n,a))}}class _m{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){yt(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=function(){return ID}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new _m(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,lt;function GD(r){switch(r){case de.OK:return Le(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Le(15467,{code:r})}}function XT(r){if(r===void 0)return Ui("GRPC error has no .code"),de.UNKNOWN;switch(r){case Qt.OK:return de.OK;case Qt.CANCELLED:return de.CANCELLED;case Qt.UNKNOWN:return de.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return de.INTERNAL;case Qt.UNAVAILABLE:return de.UNAVAILABLE;case Qt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Qt.NOT_FOUND:return de.NOT_FOUND;case Qt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Qt.ABORTED:return de.ABORTED;case Qt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Qt.DATA_LOSS:return de.DATA_LOSS;default:return Le(39323,{code:r})}}(lt=Qt||(Qt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new xa([4294967295,4294967295],0);function A0(r){const e=vT().encode(r),n=new cT;return n.update(e),new Uint8Array(n.digest())}function x0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new xa([n,a],0),new xa([o,u],0)]}class Em{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(a<0)throw new Yl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=xa.fromNumber(this.fe)}pe(e,n,a){let o=e.add(n.multiply(xa.fromNumber(a)));return o.compare($D)===1&&(o=new xa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=A0(e),[a,o]=x0(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(a,o,u);if(!this.ye(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Em(u,o,n);return a.forEach(g=>h.insert(g)),h}insert(e){if(this.fe===0)return;const n=A0(e),[a,o]=x0(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(a,o,u);this.we(h)}}we(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Ph(He.min(),o,new Mt(Ke),Bi(),nt())}}class _u{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new _u(a,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.be=o}}class WT{constructor(e,n){this.targetId=e,this.De=n}}class ZT{constructor(e,n,a=bn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class R0{constructor(){this.ve=0,this.Ce=D0(),this.Fe=bn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=nt(),n=nt(),a=nt();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Le(38017,{changeType:u})}}),new _u(this.Fe,this.Me,e,n,a)}ke(){this.xe=!1,this.Ce=D0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class YD{constructor(e){this.We=e,this.Ge=new Map,this.ze=Bi(),this.je=qc(),this.Je=qc(),this.He=new Mt(Ke)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const a=this.tt(n);switch(e.state){case 0:this.nt(n)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),a.Be(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((a,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,a=e.De.count,o=this.st(n);if(o){const u=o.target;if(Cg(u))if(a===0){const h=new Ne(u.path);this.Xe(n,h,Cn.newNoDocument(h,He.min()))}else yt(a===1,20013,{expectedCount:a});else{const h=this.ot(n);if(h!==a){const g=this._t(e),m=g?this.ut(g,e,h):1;if(m!==0){this.rt(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,g;try{h=Ma(a).toUint8Array()}catch(m){if(m instanceof ST)return Ca("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new Em(h,o,u)}catch(m){return Ca(m instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.fe===0?null:g}ut(e,n,a){return n.De.count===a-this.ht(e,n.targetId)?0:2}ht(e,n){const a=this.We.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const h=this.We.lt(),g=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,h)=>{const g=this.st(h);if(g){if(u.current&&Cg(g.target)){const m=new Ne(g.target.path);this.Tt(m).has(h)||this.It(h,m)||this.Xe(h,m,Cn.newNoDocument(m,e))}u.Ne&&(n.set(h,u.Le()),u.ke())}});let a=nt();this.Je.forEach((u,h)=>{let g=!0;h.forEachWhile(m=>{const p=this.st(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new Ph(e,n,this.He,this.ze,a);return this.ze=Bi(),this.je=qc(),this.Je=qc(),this.He=new Mt(Ke),o}Ze(e,n){if(!this.nt(e))return;const a=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,a),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),a&&(this.ze=this.ze.insert(n,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new R0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new an(Ke),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new an(Ke),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new R0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function qc(){return new Mt(Ne.comparator)}function D0(){return new Mt(Ne.comparator)}const QD={asc:"ASCENDING",desc:"DESCENDING"},KD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XD={and:"AND",or:"OR"};class WD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Og(r,e){return r.useProto3Json||Dh(e)?e:{value:e}}function _h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ZD(r,e){return _h(r,e.toTimestamp())}function oi(r){return yt(!!r,49232),He.fromTimestamp(function(n){const a=Oa(n);return new It(a.seconds,a.nanos)}(r))}function Tm(r,e){return Mg(r,e).canonicalString()}function Mg(r,e){const n=function(o){return new Dt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function eb(r){const e=Dt.fromString(r);return yt(ab(e),10190,{key:e.toString()}),e}function Pg(r,e){return Tm(r.databaseId,e.path)}function rg(r,e){const n=eb(e);if(n.get(1)!==r.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ne(nb(n))}function tb(r,e){return Tm(r.databaseId,e)}function JD(r){const e=eb(r);return e.length===4?Dt.emptyPath():nb(e)}function Vg(r){return new Dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nb(r){return yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function C0(r,e,n){return{name:Pg(r,e),fields:n.value.mapValue.fields}}function e2(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,v){return p.useProto3Json?(yt(v===void 0||typeof v=="string",58123),bn.fromBase64String(v||"")):(yt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),bn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(p){const v=p.code===void 0?de.UNKNOWN:XT(p.code);return new Se(v,p.message||"")}(h);n=new ZT(a,o,u,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=rg(r,a.document.name),u=oi(a.document.updateTime),h=a.document.createTime?oi(a.document.createTime):He.min(),g=new xr({mapValue:{fields:a.document.fields}}),m=Cn.newFoundDocument(o,u,h,g),p=a.targetIds||[],v=a.removedTargetIds||[];n=new nh(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=rg(r,a.document),u=a.readTime?oi(a.readTime):He.min(),h=Cn.newNoDocument(o,u),g=a.removedTargetIds||[];n=new nh([],g,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=rg(r,a.document),u=a.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in e))return Le(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new FD(o,u),g=a.targetId;n=new WT(g,h)}}return n}function t2(r,e){let n;if(e instanceof vu)n={update:C0(r,e.key,e.value)};else if(e instanceof vm)n={delete:Pg(r,e.key)};else if(e instanceof Rs)n={update:C0(r,e.key,e.data),updateMask:c2(e.fieldMask)};else{if(!(e instanceof zD))return Le(16599,{Rt:e.type});n={verify:Pg(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const g=h.transform;if(g instanceof yh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof cu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof hu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof vh)return{fieldPath:h.field.canonicalString(),increment:g.Ee};throw Le(20930,{transform:h.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ZD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Le(27497)}(r,e.precondition)),n}function n2(r,e){return r&&r.length>0?(yt(e!==void 0,14353),r.map(n=>function(o,u){let h=o.updateTime?oi(o.updateTime):oi(u);return h.isEqual(He.min())&&(h=oi(u)),new LD(h,o.transformResults||[])}(n,e))):[]}function r2(r,e){return{documents:[tb(r,e.path)]}}function i2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=tb(r,o);const u=function(p){if(p.length!==0)return ib(kr.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(p){if(p.length!==0)return p.map(v=>function(b){return{field:To(b.field),direction:o2(b.dir)}}(v))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=Og(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:n,parent:o}}function a2(r){let e=JD(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){yt(a===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(S){const b=rb(S);return b instanceof kr&&MT(b)?b.getFilters():[b]}(n.where));let h=[];n.orderBy&&(h=function(S){return S.map(b=>function(V){return new ph(bo(V.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(b))}(n.orderBy));let g=null;n.limit&&(g=function(S){let b;return b=typeof S=="object"?S.value:S,Dh(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(S){const b=!!S.before,O=S.values||[];return new mh(O,b)}(n.startAt));let p=null;return n.endAt&&(p=function(S){const b=!S.before,O=S.values||[];return new mh(O,b)}(n.endAt)),AD(e,o,h,u,g,"F",m,p)}function s2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rb(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=bo(n.unaryFilter.field);return Kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(n.unaryFilter.field);return Kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=bo(n.unaryFilter.field);return Kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=bo(n.unaryFilter.field);return Kt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(r):r.fieldFilter!==void 0?function(n){return Kt.create(bo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return kr.create(n.compositeFilter.filters.map(a=>rb(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(r):Le(30097,{filter:r})}function o2(r){return QD[r]}function l2(r){return KD[r]}function u2(r){return XD[r]}function To(r){return{fieldPath:r.canonicalString()}}function bo(r){return Tn.fromServerFormat(r.fieldPath)}function ib(r){return r instanceof Kt?function(n){if(n.op==="=="){if(p0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(m0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(m0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:l2(n.op),value:n.value}}}(r):r instanceof kr?function(n){const a=n.getFilters().map(o=>ib(o));return a.length===1?a[0]:{compositeFilter:{op:u2(n.op),filters:a}}}(r):Le(54877,{filter:r})}function c2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ab(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,a,o,u=He.min(),h=He.min(),g=bn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.gt=e}}function f2(r){const e=a2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.Dn=new g2}addToCollectionParentIndex(e,n){return this.Dn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(Na.min())}updateCollectionGroup(e,n,a){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class g2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new an(Dt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new an(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sb=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(sb,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Io(0)}static ur(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="LruGarbageCollector",m2=1048576;function O0([r,e],[n,a]){const o=Ke(r,n);return o===0?Ke(e,a):o}class p2{constructor(e){this.Tr=e,this.buffer=new an(O0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();O0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){we(N0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?we(N0,"Ignoring IndexedDB error during garbage collection: ",n):await Mo(n)}await this.Rr(3e5)})}}class v2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(Rh.ue);const a=new p2(n);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(I0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let a,o,u,h,g,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,g=Date.now(),this.removeTargets(e,a,n))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(p=Date.now(),_o()<=ut.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(g-h)+`ms
	Removed ${u} targets in `+(m-g)+`ms
	Removed ${S} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function _2(r,e){return new v2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.changes=new xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?pe.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Jl(a.mutation,o,Vr.empty(),It.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,nt()).next(()=>a))}getLocalViewOfDocuments(e,n,a=nt()){const o=ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let h=$l();return u.forEach((g,m)=>{h=h.insert(g,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const a=ps();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,nt()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,g)=>{n.set(h,g)})})}computeViews(e,n,a,o){let u=Bi();const h=Zl(),g=function(){return Zl()}();return n.forEach((m,p)=>{const v=a.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof Rs)?u=u.insert(p.key,p):v!==void 0?(h.set(p.key,v.mutation.getFieldMask()),Jl(v.mutation,p,v.mutation.getFieldMask(),It.now())):h.set(p.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((p,v)=>h.set(p,v)),n.forEach((p,v)=>{var S;return g.set(p,new T2(v,(S=h.get(p))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,n){const a=Zl();let o=new Mt((h,g)=>h-g),u=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const g of h)g.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let v=a.get(m)||Vr.empty();v=g.applyToLocalView(p,v),a.set(m,v);const S=(o.get(g.batchId)||nt()).add(m);o=o.insert(g.batchId,S)})}).next(()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),p=m.key,v=m.value,S=HT();v.forEach(b=>{if(!u.has(b)){const O=QT(n.get(b),a.get(b));O!==null&&S.set(b,O),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,S))}return pe.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(h){return Ne.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):pe.resolve(ps());let g=su,m=u;return h.next(p=>pe.forEach(p,(v,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(v)?pe.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{m=m.insert(v,b)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,m,p,nt())).next(v=>({batchId:g,changes:zT(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(a=>{let o=$l();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let h=$l();return this.indexManager.getCollectionParents(e,u).next(g=>pe.forEach(g,m=>{const p=function(S,b){return new yu(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next(v=>{v.forEach((S,b)=>{h=h.insert(S,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(h=>{u.forEach((m,p)=>{const v=p.getKey();h.get(v)===null&&(h=h.insert(v,Cn.newInvalidDocument(v)))});let g=$l();return h.forEach((m,p)=>{const v=u.get(m);v!==void 0&&Jl(v.mutation,p,Vr.empty(),It.now()),Nh(n,p)&&(g=g.insert(m,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return pe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:f2(o.bundledQuery),readTime:oi(o.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.overlays=new Mt(Ne.comparator),this.kr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ps();return pe.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.wt(e,n,u)}),pe.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(a)),pe.resolve()}getOverlaysForCollection(e,n,a){const o=ps(),u=n.length+1,h=new Ne(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const m=g.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return pe.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Mt((p,v)=>p-v);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let v=u.get(p.largestBatchId);v===null&&(v=ps(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const g=ps(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>g.set(p,v)),!(g.size()>=o)););return pe.resolve(g)}wt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new qD(n,a));let u=this.kr.get(n);u===void 0&&(u=nt(),this.kr.set(n,u)),this.kr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.qr=new an(fn.Qr),this.$r=new an(fn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const a=new fn(e,n);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Wr(new fn(e,n))}Gr(e,n){e.forEach(a=>this.removeReference(a,n))}zr(e){const n=new Ne(new Dt([])),a=new fn(n,e),o=new fn(n,e+1),u=[];return this.$r.forEachInRange([a,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ne(new Dt([])),a=new fn(n,e),o=new fn(n,e+1);let u=nt();return this.$r.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new fn(e,0),a=this.qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class fn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ne.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new an(fn.Qr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new HD(u,n,a,o);this.mutationQueue.push(h);for(const g of o)this.Yr=this.Yr.add(new fn(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return pe.resolve(h)}lookupMutationBatch(e,n){return pe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return pe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?hm:this.er-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new fn(n,0),o=new fn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([a,o],h=>{const g=this.Zr(h.Hr);u.push(g)}),pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new an(Ke);return n.forEach(o=>{const u=new fn(o,0),h=new fn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],g=>{a=a.add(g.Hr)})}),pe.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ne.isDocumentKey(u)||(u=u.child(""));const h=new fn(new Ne(u),0);let g=new an(Ke);return this.Yr.forEachWhile(m=>{const p=m.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(g=g.add(m.Hr)),!0)},h),pe.resolve(this.ei(g))}ei(e){const n=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){yt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return pe.forEach(n.mutations,o=>{const u=new fn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,n){const a=new fn(n,0),o=this.Yr.firstAfterOrEqual(a);return pe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.ni=e,this.docs=function(){return new Mt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return pe.resolve(a?a.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let a=Bi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Cn.newInvalidDocument(o))}),pe.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Bi();const h=n.path,g=new Ne(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||rD(nD(v),a)<=0||(o.has(v.key)||Nh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return pe.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Le(9500)}ri(e,n){return pe.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new D2(this)}getSize(e){return pe.resolve(this.size)}}class D2 extends E2{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),pe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.persistence=e,this.ii=new xs(n=>gm(n),mm),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.si=0,this.oi=new bm,this.targetCount=0,this._i=Io.ar()}forEachTarget(e,n){return this.ii.forEach((a,o)=>n(o)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.si&&(this.si=n),pe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.hr(n),pe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ii.forEach((h,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),pe.waitFor(u).next(()=>o)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const a=this.ii.get(n)||null;return pe.resolve(a)}addMatchingKeys(e,n,a){return this.oi.Kr(n,a),pe.resolve()}removeMatchingKeys(e,n,a){this.oi.Gr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),pe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const a=this.oi.Jr(n);return pe.resolve(a)}containsKey(e,n){return pe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n){this.ai={},this.overlays={},this.ui=new Rh(0),this.ci=!1,this.ci=!0,this.li=new A2,this.referenceDelegate=e(this),this.hi=new C2(this),this.indexManager=new d2,this.remoteDocumentCache=function(o){return new R2(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new h2(n),this.Ti=new S2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ai[e.toKey()];return a||(a=new x2(n,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,a){we("MemoryPersistence","Starting transaction:",e);const o=new I2(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return pe.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,n)))}}class I2 extends aD{constructor(e){super(),this.currentSequenceNumber=e}}class Sm{constructor(e){this.persistence=e,this.Ai=new bm,this.Ri=null}static Vi(e){return new Sm(e)}get mi(){if(this.Ri)return this.Ri;throw Le(60996)}addReference(e,n,a){return this.Ai.addReference(a,n),this.mi.delete(a.toString()),pe.resolve()}removeReference(e,n,a){return this.Ai.removeReference(a,n),this.mi.add(a.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.mi,a=>{const o=Ne.fromPath(a);return this.fi(e,o).next(u=>{u||n.removeEntry(o,He.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(a=>{a?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return pe.or([()=>pe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.gi=new xs(a=>lD(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=_2(this,n)}static Vi(e,n){return new Eh(e,n)}Ii(){}di(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}yr(e){let n=0;return this.gr(e,a=>{n++}).next(()=>n)}gr(e,n){return pe.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(u=>u?pe.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,n).next(g=>{g||(a++,u.removeEntry(h,He.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),pe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}Sr(e,n,a){return pe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return pe.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Is=a,this.ds=o}static Es(e,n){let a=nt(),o=nt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wm(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Cx()?8:sD(Rx())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ps(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,n,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new N2;return this.ws(e,n,h).next(g=>{if(u.result=g,this.Rs)return this.Ss(e,n,h,g.size)})}).next(()=>u.result)}Ss(e,n,a,o){return a.documentReadCount<this.Vs?(_o()<=ut.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pe.resolve()):(_o()<=ut.DEBUG&&we("QueryEngine","Query:",Eo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(_o()<=ut.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):pe.resolve())}ps(e,n){if(E0(n))return pe.resolve(null);let a=ai(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Ng(n,null,"F"),a=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=nt(...u);return this.gs.getDocuments(e,h).next(g=>this.indexManager.getMinOffset(e,a).next(m=>{const p=this.bs(n,g);return this.Ds(n,p,h,m.readTime)?this.ps(e,Ng(n,null,"F")):this.vs(e,p,n,m)}))})))}ys(e,n,a,o){return E0(n)||o.isEqual(He.min())?pe.resolve(null):this.gs.getDocuments(e,a).next(u=>{const h=this.bs(n,u);return this.Ds(n,h,a,o)?pe.resolve(null):(_o()<=ut.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(n)),this.vs(e,h,n,tD(o,su)).next(g=>g))})}bs(e,n){let a=new an(UT(e));return n.forEach((o,u)=>{Nh(e,u)&&(a=a.add(u))}),a}Ds(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,a){return _o()<=ut.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.gs.getDocumentsMatchingQuery(e,n,Na.min(),a)}vs(e,n,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="LocalStore",M2=3e8;class P2{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Mt(Ke),this.Ms=new xs(u=>gm(u),mm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function V2(r,e,n,a){return new P2(r,e,n,a)}async function lb(r,e){const n=qe(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],g=[];let m=nt();for(const p of o){h.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of u){g.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(a,m).next(p=>({Bs:p,removedBatchIds:h,addedBatchIds:g}))})})}function k2(r,e){const n=qe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(g,m,p,v){const S=p.batch,b=S.keys();let O=pe.resolve();return b.forEach(V=>{O=O.next(()=>v.getEntry(m,V)).next(G=>{const q=p.docVersions.get(V);yt(q!==null,48541),G.version.compareTo(q)<0&&(S.applyToRemoteDocument(G,p),G.isValidDocument()&&(G.setReadTime(p.commitVersion),v.addEntry(G)))})}),O.next(()=>g.mutationQueue.removeMutationBatch(m,S))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let m=nt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(m=m.add(g.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function ub(r){const e=qe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function j2(r,e){const n=qe(r),a=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const g=[];e.targetChanges.forEach((v,S)=>{const b=o.get(S);if(!b)return;g.push(n.hi.removeMatchingKeys(u,v.removedDocuments,S).next(()=>n.hi.addMatchingKeys(u,v.addedDocuments,S)));let O=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(bn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,a)),o=o.insert(S,O),function(G,q,H){return G.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=M2?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(b,O,v)&&g.push(n.hi.updateTargetData(u,O))});let m=Bi(),p=nt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),g.push(L2(u,h,e.documentUpdates).next(v=>{m=v.Ls,p=v.ks})),!a.isEqual(He.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next(S=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,a));g.push(v)}return pe.waitFor(g).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,p)).next(()=>m)}).then(u=>(n.Fs=o,u))}function L2(r,e,n){let a=nt(),o=nt();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let h=Bi();return n.forEach((g,m)=>{const p=u.get(g);m.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(He.min())?(e.removeEntry(g,m.readTime),h=h.insert(g,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),h=h.insert(g,m)):we(Am,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",m.version)}),{Ls:h,ks:o}})}function U2(r,e){const n=qe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=hm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function B2(r,e){const n=qe(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.hi.getTargetData(a,e).next(u=>u?(o=u,pe.resolve(o)):n.hi.allocateTargetId(a).next(h=>(o=new ba(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(a.targetId,a),n.Ms.set(e,a.targetId)),a})}async function kg(r,e,n){const a=qe(r),o=a.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Po(h))throw h;we(Am,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function M0(r,e,n){const a=qe(r);let o=He.min(),u=nt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(m,p,v){const S=qe(m),b=S.Ms.get(v);return b!==void 0?pe.resolve(S.Fs.get(b)):S.hi.getTargetData(p,v)}(a,h,ai(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(h,g.targetId).next(m=>{u=m})}).next(()=>a.Cs.getDocumentsMatchingQuery(h,e,n?o:He.min(),n?u:nt())).next(g=>(z2(a,RD(e),g),{documents:g,qs:u})))}function z2(r,e,n){let a=r.xs.get(e)||He.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.xs.set(e,a)}class P0{constructor(){this.activeTargetIds=MD()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H2{constructor(){this.Fo=new P0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,a){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new P0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="ConnectivityMonitor";class k0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){we(V0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){we(V0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function jg(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="RestConnection",F2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G2{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===dh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,u){const h=jg(),g=this.Go(e,n.toUriEncodedString());we(ig,`Sending RPC '${e}' ${h}:`,g,a);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,o,u);const{host:p}=new URL(g),v=mu(p);return this.jo(e,g,m,a,v).then(S=>(we(ig,`Received RPC '${e}' ${h}: `,S),S),S=>{throw Ca(ig,`RPC '${e}' ${h} failed with error: `,S,"url: ",g,"request:",a),S})}Jo(e,n,a,o,u,h){return this.Wo(e,n,a,o,u)}zo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const a=F2[e];return`${this.$o}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class Y2 extends G2{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,a,o,u){const h=jg();return new Promise((g,m)=>{const p=new hT;p.setWithCredentials(!0),p.listenOnce(fT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const S=p.getResponseJson();we(Rn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),g(S);break;case Zc.TIMEOUT:we(Rn,`RPC '${e}' ${h} timed out`),m(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const b=p.getStatus();if(we(Rn,`RPC '${e}' ${h} failed with status:`,b,"response text:",p.getResponseText()),b>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const V=O?.error;if(V&&V.status&&V.message){const G=function(H){const se=H.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(se)>=0?se:de.UNKNOWN}(V.status);m(new Se(G,V.message))}else m(new Se(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Se(de.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{c_:e,streamId:h,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{we(Rn,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);we(Rn,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",v,a,15)})}P_(e,n,a){const o=jg(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=mT(),g=gT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const v=u.join("");we(Rn,`Creating RPC '${e}' stream ${o}: ${v}`,m);const S=h.createWebChannel(v,m);this.T_(S);let b=!1,O=!1;const V=new $2({Ho:q=>{O?we(Rn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(b||(we(Rn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),we(Rn,`RPC '${e}' stream ${o} sending:`,q),S.send(q))},Yo:()=>S.close()}),G=(q,H,se)=>{q.listen(H,B=>{try{se(B)}catch(oe){setTimeout(()=>{throw oe},0)}})};return G(S,Gl.EventType.OPEN,()=>{O||(we(Rn,`RPC '${e}' stream ${o} transport opened.`),V.s_())}),G(S,Gl.EventType.CLOSE,()=>{O||(O=!0,we(Rn,`RPC '${e}' stream ${o} transport closed`),V.__(),this.I_(S))}),G(S,Gl.EventType.ERROR,q=>{O||(O=!0,Ca(Rn,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),V.__(new Se(de.UNAVAILABLE,"The operation could not be completed")))}),G(S,Gl.EventType.MESSAGE,q=>{var H;if(!O){const se=q.data[0];yt(!!se,16349);const B=se,oe=B?.error||((H=B[0])===null||H===void 0?void 0:H.error);if(oe){we(Rn,`RPC '${e}' stream ${o} received error:`,oe);const Z=oe.status;let k=function(x){const R=Qt[x];if(R!==void 0)return XT(R)}(Z),M=oe.message;k===void 0&&(k=de.INTERNAL,M="Unknown error status: "+Z+" with message "+oe.message),O=!0,V.__(new Se(k,M)),S.close()}else we(Rn,`RPC '${e}' stream ${o} received:`,se),V.a_(se)}}),G(g,dT.STAT_EVENT,q=>{q.stat===wg.PROXY?we(Rn,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===wg.NOPROXY&&we(Rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.o_()},0),V}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r){return new WD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=a,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-a);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="PersistentStream";class hb{constructor(e,n,a,o,u,h,g,m){this.Fi=e,this.w_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new cb(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===n&&this.W_(a,o)},a=>{e(()=>{const o=new Se(de.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,n){const a=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return we(j0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(we(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q2 extends hb{constructor(e,n,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=e2(this.serializer,e),a=function(u){if(!("targetChange"in u))return He.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?He.min():h.readTime?oi(h.readTime):He.min()}(e);return this.listener.J_(n,a)}H_(e){const n={};n.database=Vg(this.serializer),n.addTarget=function(u,h){let g;const m=h.target;if(g=Cg(m)?{documents:r2(u,m)}:{query:i2(u,m).Vt},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=JT(u,h.resumeToken);const p=Og(u,h.expectedCount);p!==null&&(g.expectedCount=p)}else if(h.snapshotVersion.compareTo(He.min())>0){g.readTime=_h(u,h.snapshotVersion.toTimestamp());const p=Og(u,h.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,e);const a=s2(this.serializer,e);a&&(n.labels=a),this.k_(n)}Y_(e){const n={};n.database=Vg(this.serializer),n.removeTarget=e,this.k_(n)}}class K2 extends hb{constructor(e,n,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=n2(e.writeResults,e.commitTime),a=oi(e.commitTime);return this.listener.ta(a,n)}na(){const e={};e.database=Vg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>t2(this.serializer,a))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{}class W2 extends X2{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Mg(n,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(de.UNKNOWN,u.toString())})}Jo(e,n,a,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Jo(e,Mg(n,a),o,h,g,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Se(de.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Z2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ui(n),this._a=!1):we("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class J2{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{a.enqueueAndForget(async()=>{Ds(this)&&(we(Es,"Restarting streams for network reachability change."),await async function(m){const p=qe(m);p.Ia.add(4),await Eu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await kh(p)}(this))})}),this.Aa=new Z2(a,o)}}async function kh(r){if(Ds(r))for(const e of r.da)await e(!0)}async function Eu(r){for(const e of r.da)await e(!1)}function fb(r,e){const n=qe(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Cm(n)?Dm(n):Vo(n).x_()&&Rm(n,e))}function xm(r,e){const n=qe(r),a=Vo(n);n.Ta.delete(e),a.x_()&&db(n,e),n.Ta.size===0&&(a.x_()?a.B_():Ds(n)&&n.Aa.set("Unknown"))}function Rm(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(r).H_(e)}function db(r,e){r.Ra.$e(e),Vo(r).Y_(e)}function Dm(r){r.Ra=new YD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Vo(r).start(),r.Aa.aa()}function Cm(r){return Ds(r)&&!Vo(r).M_()&&r.Ta.size>0}function Ds(r){return qe(r).Ia.size===0}function gb(r){r.Ra=void 0}async function eC(r){r.Aa.set("Online")}async function tC(r){r.Ta.forEach((e,n)=>{Rm(r,e)})}async function nC(r,e){gb(r),Cm(r)?(r.Aa.la(e),Dm(r)):r.Aa.set("Unknown")}async function rC(r,e,n){if(r.Aa.set("Online"),e instanceof ZT&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const g of u.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,h),o.Ta.delete(g),o.Ra.removeTarget(g))}(r,e)}catch(a){we(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Th(r,a)}else if(e instanceof nh?r.Ra.Ye(e):e instanceof WT?r.Ra.it(e):r.Ra.et(e),!n.isEqual(He.min()))try{const a=await ub(r.localStore);n.compareTo(a)>=0&&await function(u,h){const g=u.Ra.Pt(h);return g.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ta.get(p);v&&u.Ta.set(p,v.withResumeToken(m.resumeToken,h))}}),g.targetMismatches.forEach((m,p)=>{const v=u.Ta.get(m);if(!v)return;u.Ta.set(m,v.withResumeToken(bn.EMPTY_BYTE_STRING,v.snapshotVersion)),db(u,m);const S=new ba(v.target,m,p,v.sequenceNumber);Rm(u,S)}),u.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(a){we(Es,"Failed to raise snapshot:",a),await Th(r,a)}}async function Th(r,e,n){if(!Po(e))throw e;r.Ia.add(1),await Eu(r),r.Aa.set("Offline"),n||(n=()=>ub(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{we(Es,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await kh(r)})}function mb(r,e){return e().catch(n=>Th(r,n,e))}async function jh(r){const e=qe(r),n=Va(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:hm;for(;iC(e);)try{const o=await U2(e.localStore,a);if(o===null){e.Pa.length===0&&n.B_();break}a=o.batchId,aC(e,o)}catch(o){await Th(e,o)}pb(e)&&yb(e)}function iC(r){return Ds(r)&&r.Pa.length<10}function aC(r,e){r.Pa.push(e);const n=Va(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function pb(r){return Ds(r)&&!Va(r).M_()&&r.Pa.length>0}function yb(r){Va(r).start()}async function sC(r){Va(r).na()}async function oC(r){const e=Va(r);for(const n of r.Pa)e.X_(n.mutations)}async function lC(r,e,n){const a=r.Pa.shift(),o=_m.from(a,e,n);await mb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await jh(r)}async function uC(r,e){e&&Va(r).Z_&&await async function(a,o){if(function(h){return GD(h)&&h!==de.ABORTED}(o.code)){const u=a.Pa.shift();Va(a).N_(),await mb(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await jh(a)}}(r,e),pb(r)&&yb(r)}async function L0(r,e){const n=qe(r);n.asyncQueue.verifyOperationInProgress(),we(Es,"RemoteStore received new credentials");const a=Ds(n);n.Ia.add(3),await Eu(n),a&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await kh(n)}async function cC(r,e){const n=qe(r);e?(n.Ia.delete(2),await kh(n)):e||(n.Ia.add(2),await Eu(n),n.Aa.set("Unknown"))}function Vo(r){return r.Va||(r.Va=function(n,a,o){const u=qe(n);return u.ia(),new Q2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:eC.bind(null,r),e_:tC.bind(null,r),n_:nC.bind(null,r),J_:rC.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),Cm(r)?Dm(r):r.Aa.set("Unknown")):(await r.Va.stop(),gb(r))})),r.Va}function Va(r){return r.ma||(r.ma=function(n,a,o){const u=qe(n);return u.ia(),new K2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:sC.bind(null,r),n_:uC.bind(null,r),ea:oC.bind(null,r),ta:lC.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await jh(r)):(await r.ma.stop(),r.Pa.length>0&&(we(Es,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const h=Date.now()+a,g=new Im(e,n,h,o,u);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),Po(r))return new Se(de.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ne.comparator(n.key,a.key):(n,a)=>Ne.comparator(n.key,a.key),this.keyedMap=$l(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new wo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.fa=new Mt(Ne.comparator)}track(e){const n=e.doc.key,a=this.fa.get(n);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(n,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(n):e.type===1&&a.type===2?this.fa=this.fa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Le(63341,{At:e,ga:a}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,a)=>{e.push(a)}),e}}class No{constructor(e,n,a,o,u,h,g,m,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const h=[];return n.forEach(g=>{h.push({type:0,doc:g})}),new No(e,n,wo.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class fC{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,a){const o=qe(n),u=o.queries;o.queries=B0(),u.forEach((h,g)=>{for(const m of g.wa)m.onError(a)})})(this,new Se(de.ABORTED,"Firestore shutting down"))}}function B0(){return new xs(r=>LT(r),Ih)}async function vb(r,e){const n=qe(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(a=2):(u=new hC,a=e.ba()?0:1);try{switch(a){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const g=Nm(h,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Om(n)}async function _b(r,e){const n=qe(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function dC(r,e){const n=qe(r);let a=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const g of h.wa)g.Ca(o)&&(a=!0);h.ya=o}}a&&Om(n)}function gC(r,e,n){const a=qe(r),o=a.queries.get(e);if(o)for(const u of o.wa)u.onError(n);a.queries.delete(e)}function Om(r){r.Da.forEach(e=>{e.next()})}var Lg,z0;(z0=Lg||(Lg={})).Fa="default",z0.Cache="cache";class Eb{constructor(e,n,a){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new No(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const a=n!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.key=e}}class bb{constructor(e){this.key=e}}class mC{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=nt(),this.mutatedKeys=nt(),this.Xa=UT(e),this.eu=new wo(this.Xa)}get tu(){return this.Ha}nu(e,n){const a=n?n.ru:new U0,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const b=o.get(v),O=Nh(this.query,S)?S:null,V=!!b&&this.mutatedKeys.has(b.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let q=!1;b&&O?b.data.isEqual(O.data)?V!==G&&(a.track({type:3,doc:O}),q=!0):this.iu(b,O)||(a.track({type:2,doc:O}),q=!0,(m&&this.Xa(O,m)>0||p&&this.Xa(O,p)<0)&&(g=!0)):!b&&O?(a.track({type:0,doc:O}),q=!0):b&&!O&&(a.track({type:1,doc:b}),q=!0,(m||p)&&(g=!0)),q&&(O?(h=h.add(O),u=G?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{eu:h,ru:a,Ds:g,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((v,S)=>function(O,V){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{At:q})}};return G(O)-G(V)}(v.type,S.type)||this.Xa(v.doc,S.doc)),this.su(a),o=o!=null&&o;const g=n&&!o?this.ou():[],m=this.Za.size===0&&this.current&&!o?1:0,p=m!==this.Ya;return this.Ya=m,h.length!==0||p?{snapshot:new No(this.query,e.eu,u,h,e.mutatedKeys,m===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new U0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=nt(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const n=[];return e.forEach(a=>{this.Za.has(a)||n.push(new bb(a))}),this.Za.forEach(a=>{e.has(a)||n.push(new Tb(a))}),n}uu(e){this.Ha=e.qs,this.Za=nt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return No.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Mm="SyncEngine";class pC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class yC{constructor(e){this.key=e,this.lu=!1}}class vC{constructor(e,n,a,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new xs(g=>LT(g),Ih),this.Tu=new Map,this.Iu=new Set,this.du=new Mt(Ne.comparator),this.Eu=new Map,this.Au=new bm,this.Ru={},this.Vu=new Map,this.mu=Io.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function _C(r,e,n=!0){const a=Db(r);let o;const u=a.Pu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Sb(a,e,n,!0),o}async function EC(r,e){const n=Db(r);await Sb(n,e,!0,!1)}async function Sb(r,e,n,a){const o=await B2(r.localStore,ai(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let g;return a&&(g=await TC(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&fb(r.remoteStore,o),g}async function TC(r,e,n,a,o){r.gu=(S,b,O)=>async function(G,q,H,se){let B=q.view.nu(H);B.Ds&&(B=await M0(G.localStore,q.query,!1).then(({documents:M})=>q.view.nu(M,B)));const oe=se&&se.targetChanges.get(q.targetId),Z=se&&se.targetMismatches.get(q.targetId)!=null,k=q.view.applyChanges(B,G.isPrimaryClient,oe,Z);return q0(G,q.targetId,k._u),k.snapshot}(r,S,b,O);const u=await M0(r.localStore,e,!0),h=new mC(e,u.qs),g=h.nu(u.documents),m=_u.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),p=h.applyChanges(g,r.isPrimaryClient,m);q0(r,n,p._u);const v=new pC(e,n,h);return r.Pu.set(e,v),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),p.snapshot}async function bC(r,e,n){const a=qe(r),o=a.Pu.get(e),u=a.Tu.get(o.targetId);if(u.length>1)return a.Tu.set(o.targetId,u.filter(h=>!Ih(h,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await kg(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&xm(a.remoteStore,o.targetId),Ug(a,o.targetId)}).catch(Mo)):(Ug(a,o.targetId),await kg(a.localStore,o.targetId,!0))}async function SC(r,e){const n=qe(r),a=n.Pu.get(e),o=n.Tu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),xm(n.remoteStore,a.targetId))}async function wC(r,e,n){const a=NC(r);try{const o=await function(h,g){const m=qe(h),p=It.now(),v=g.reduce((O,V)=>O.add(V.key),nt());let S,b;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let V=Bi(),G=nt();return m.Os.getEntries(O,v).next(q=>{V=q,V.forEach((H,se)=>{se.isValidDocument()||(G=G.add(H))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,V)).next(q=>{S=q;const H=[];for(const se of g){const B=BD(se,S.get(se.key).overlayedDocument);B!=null&&H.push(new Rs(se.key,B,IT(B.value.mapValue),si.exists(!0)))}return m.mutationQueue.addMutationBatch(O,p,H,g)}).next(q=>{b=q;const H=q.applyToLocalDocumentSet(S,G);return m.documentOverlayCache.saveOverlays(O,q.batchId,H)})}).then(()=>({batchId:b.batchId,changes:zT(S)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,g,m){let p=h.Ru[h.currentUser.toKey()];p||(p=new Mt(Ke)),p=p.insert(g,m),h.Ru[h.currentUser.toKey()]=p}(a,o.batchId,n),await Tu(a,o.changes),await jh(a.remoteStore)}catch(o){const u=Nm(o,"Failed to persist write");n.reject(u)}}async function wb(r,e){const n=qe(r);try{const a=await j2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?yt(h.lu,14607):o.removedDocuments.size>0&&(yt(h.lu,42227),h.lu=!1))}),await Tu(n,a,e)}catch(a){await Mo(a)}}function H0(r,e,n){const a=qe(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Pu.forEach((u,h)=>{const g=h.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(h,g){const m=qe(h);m.onlineState=g;let p=!1;m.queries.forEach((v,S)=>{for(const b of S.wa)b.va(g)&&(p=!0)}),p&&Om(m)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function AC(r,e,n){const a=qe(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Eu.get(e),u=o&&o.key;if(u){let h=new Mt(Ne.comparator);h=h.insert(u,Cn.newNoDocument(u,He.min()));const g=nt().add(u),m=new Ph(He.min(),new Map,new Mt(Ke),h,g);await wb(a,m),a.du=a.du.remove(u),a.Eu.delete(e),Pm(a)}else await kg(a.localStore,e,!1).then(()=>Ug(a,e,n)).catch(Mo)}async function xC(r,e){const n=qe(r),a=e.batch.batchId;try{const o=await k2(n.localStore,e);xb(n,a,null),Ab(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Tu(n,o)}catch(o){await Mo(o)}}async function RC(r,e,n){const a=qe(r);try{const o=await function(h,g){const m=qe(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,g).next(S=>(yt(S!==null,37113),v=S.keys(),m.mutationQueue.removeMutationBatch(p,S))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,g)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(a.localStore,e);xb(a,e,n),Ab(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Tu(a,o)}catch(o){await Mo(o)}}function Ab(r,e){(r.Vu.get(e)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(e)}function xb(r,e,n){const a=qe(r);let o=a.Ru[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function Ug(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Tu.get(e))r.Pu.delete(a),n&&r.hu.pu(a,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(a=>{r.Au.containsKey(a)||Rb(r,a)})}function Rb(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(xm(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),Pm(r))}function q0(r,e,n){for(const a of n)a instanceof Tb?(r.Au.addReference(a.key,e),DC(r,a)):a instanceof bb?(we(Mm,"Document no longer in limbo: "+a.key),r.Au.removeReference(a.key,e),r.Au.containsKey(a.key)||Rb(r,a.key)):Le(19791,{yu:a})}function DC(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Iu.has(a)||(we(Mm,"New document in limbo: "+n),r.Iu.add(a),Pm(r))}function Pm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Ne(Dt.fromString(e)),a=r.mu.next();r.Eu.set(a,new yC(n)),r.du=r.du.insert(n,a),fb(r.remoteStore,new ba(ai(pm(n.path)),a,"TargetPurposeLimboResolution",Rh.ue))}}async function Tu(r,e,n){const a=qe(r),o=[],u=[],h=[];a.Pu.isEmpty()||(a.Pu.forEach((g,m)=>{h.push(a.gu(m,e,n).then(p=>{var v;if((p||n)&&a.isPrimaryClient){const S=p?!p.fromCache:(v=n?.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(p){o.push(p);const S=wm.Es(m.targetId,p);u.push(S)}}))}),await Promise.all(h),a.hu.J_(o),await async function(m,p){const v=qe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>pe.forEach(p,b=>pe.forEach(b.Is,O=>v.persistence.referenceDelegate.addReference(S,b.targetId,O)).next(()=>pe.forEach(b.ds,O=>v.persistence.referenceDelegate.removeReference(S,b.targetId,O)))))}catch(S){if(!Po(S))throw S;we(Am,"Failed to update sequence numbers: "+S)}for(const S of p){const b=S.targetId;if(!S.fromCache){const O=v.Fs.get(b),V=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(V);v.Fs=v.Fs.insert(b,G)}}}(a.localStore,u))}async function CC(r,e){const n=qe(r);if(!n.currentUser.isEqual(e)){we(Mm,"User change. New user:",e.toKey());const a=await lb(n.localStore,e);n.currentUser=e,function(u,h){u.Vu.forEach(g=>{g.forEach(m=>{m.reject(new Se(de.CANCELLED,h))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Tu(n,a.Bs)}}function IC(r,e){const n=qe(r),a=n.Eu.get(e);if(a&&a.lu)return nt().add(a.key);{let o=nt();const u=n.Tu.get(e);if(!u)return o;for(const h of u){const g=n.Pu.get(h);o=o.unionWith(g.view.tu)}return o}}function Db(r){const e=qe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.hu.J_=dC.bind(null,e.eventManager),e.hu.pu=gC.bind(null,e.eventManager),e}function NC(r){const e=qe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RC.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return V2(this.persistence,new O2,e.initialUser,this.serializer)}Du(e){return new ob(Sm.Vi,this.serializer)}bu(e){return new H2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class OC extends bh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){yt(this.persistence.referenceDelegate instanceof Eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new y2(a,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new ob(a=>Eh.Vi(a,n),this.serializer)}}class Bg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>H0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=CC.bind(null,this.syncEngine),await cC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fC}()}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),a=function(u){return new Y2(u)}(e.databaseInfo);return function(u,h,g,m){return new W2(u,h,g,m)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,h,g){return new J2(a,o,u,h,g)}(this.localStore,this.datastore,e.asyncQueue,n=>H0(this.syncEngine,n,0),function(){return k0.C()?new k0:new q2}())}createSyncEngine(e,n){return function(o,u,h,g,m,p,v){const S=new vC(o,u,h,g,m,p);return v&&(S.fu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=qe(o);we(Es,"RemoteStore shutting down."),u.Ia.add(5),await Eu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class MC{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Dn.UNAUTHENTICATED,this.clientId=cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{we(ka,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(we(ka,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Nm(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function sg(r,e){r.asyncQueue.verifyOperationInProgress(),we(ka,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await lb(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{Ca("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{we("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Ca("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function F0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await PC(r);we(ka,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>L0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>L0(e.remoteStore,o)),r._onlineComponents=e}async function PC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){we(ka,"Using user provided OfflineComponentProvider");try{await sg(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ca("Error using user provided cache. Falling back to memory cache: "+n),await sg(r,new bh)}}else we(ka,"Using default OfflineComponentProvider"),await sg(r,new OC(void 0));return r._offlineComponents}async function Ib(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(we(ka,"Using user provided OnlineComponentProvider"),await F0(r,r._uninitializedComponentsProvider._online)):(we(ka,"Using default OnlineComponentProvider"),await F0(r,new Bg))),r._onlineComponents}function VC(r){return Ib(r).then(e=>e.syncEngine)}async function Nb(r){const e=await Ib(r),n=e.eventManager;return n.onListen=_C.bind(null,e.syncEngine),n.onUnlisten=bC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SC.bind(null,e.syncEngine),n}function kC(r,e,n={}){const a=new ji;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,g,m,p){const v=new Cb({next:b=>{v.Ou(),h.enqueueAndForget(()=>_b(u,S));const O=b.docs.has(g);!O&&b.fromCache?p.reject(new Se(de.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&b.fromCache&&m&&m.source==="server"?p.reject(new Se(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),S=new Eb(pm(g.path),v,{includeMetadataChanges:!0,ka:!0});return vb(u,S)}(await Nb(r),r.asyncQueue,e,n,a)),a.promise}function jC(r,e,n={}){const a=new ji;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,g,m,p){const v=new Cb({next:b=>{v.Ou(),h.enqueueAndForget(()=>_b(u,S)),b.fromCache&&m.source==="server"?p.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),S=new Eb(g,v,{includeMetadataChanges:!0,ka:!0});return vb(u,S)}(await Nb(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firestore.googleapis.com",$0=!0;class Y0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mb,this.ssl=$0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:$0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m2)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ob((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new GR;switch(a.type){case"firstParty":return new KR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Se(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=G0.get(n);a&&(we("ComponentProvider","Removing Datastore"),G0.delete(n),a.terminate())}(this),Promise.resolve()}}function LC(r,e,n,a={}){var o;r=Ia(r,Lh);const u=mu(e),h=r._getSettings(),g=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u&&(XE(`https://${m}`),ZE("Firestore",!0)),h.host!==Mb&&h.host!==m&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},h),{host:m,ssl:u,emulatorOptions:a});if(!ch(p,g)&&(r._setSettings(p),a.mockUserToken)){let v,S;if(typeof a.mockUserToken=="string")v=a.mockUserToken,S=Dn.MOCK_USER;else{v=WE(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Dn(b)}r._authCredentials=new $R(new yT(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class Wt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(pu(n,Wt._jsonSchema))return new Wt(e,a||null,new Ne(Dt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Xt("string",Wt._jsonSchemaVersion),referencePath:Xt("string")};class Ra extends ko{constructor(e,n,a){super(e,n,pm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ne(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function En(r,e,...n){if(r=ci(r),_T("collection","path",e),r instanceof Lh){const a=Dt.fromString(e,...n);return s0(a),new Ra(r,null,a)}{if(!(r instanceof Wt||r instanceof Ra))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Dt.fromString(e,...n));return s0(a),new Ra(r.firestore,null,a)}}function Ct(r,e,...n){if(r=ci(r),arguments.length===1&&(e=cm.newId()),_T("doc","path",e),r instanceof Lh){const a=Dt.fromString(e,...n);return a0(a),new Wt(r,null,new Ne(a))}{if(!(r instanceof Wt||r instanceof Ra))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Dt.fromString(e,...n));return a0(a),new Wt(r.firestore,r instanceof Ra?r.converter:null,new Ne(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="AsyncQueue";class K0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new cb(this,"async_queue_retry"),this.oc=()=>{const a=ag();a&&we(Q0,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ji;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Po(e))throw e;we(Q0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Ui("INTERNAL UNHANDLED ERROR: ",X0(a)),a}).then(a=>(this.nc=!1,a))));return this._c=n,n}enqueueAfterDelay(e,n,a){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=Im.createAndSchedule(this,e,n,a,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Le(47125,{hc:X0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function X0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class bu extends Lh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new K0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K0(e),this._firestoreClient=void 0,await e}}}function UC(r,e){const n=typeof r=="object"?r:oT(),a=typeof r=="string"?r:dh,o=rT(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=QE("firestore");u&&LC(o,...u)}return o}function Vm(r){if(r._terminated)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||BC(r),r._firestoreClient}function BC(r){var e,n,a;const o=r._freezeSettings(),u=function(g,m,p,v){return new hD(g,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Ob(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new MC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(g){const m=g?._online.build();return{_offline:g?._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rr(bn.fromBase64String(e))}catch(n){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,Rr._jsonSchema))return Rr.fromBase64String(e.bytes)}}Rr._jsonSchemaVersion="firestore/bytes/1.0",Rr._jsonSchema={type:Xt("string",Rr._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(pu(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:Xt("string",li._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ui(e.vectorValues);throw new Se(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Xt("string",ui._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=/^__.*__$/;class HC{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}function Vb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ec:r})}}class jm{constructor(e,n,a,o,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:a,mc:!1});return o.fc(e),o}gc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:a,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Sh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Vb(this.Ec)&&zC.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class qC{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Vh(e)}Dc(e,n,a,o=!1){return new jm({Ec:e,methodName:n,bc:a,path:Tn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kb(r){const e=r._freezeSettings(),n=Vh(r._databaseId);return new qC(r._databaseId,!!e.ignoreUndefinedProperties,n)}function FC(r,e,n,a,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Ub("Data must be an object, but it was:",h,a);const g=jb(a,h);let m,p;if(u.merge)m=new Vr(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const b=$C(e,S,n);if(!h.contains(b))throw new Se(de.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);QC(v,b)||v.push(b)}m=new Vr(v),p=h.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,p=h.fieldTransforms;return new HC(new xr(g),m,p)}function GC(r,e,n,a=!1){return Lm(n,r.Dc(a?4:3,e))}function Lm(r,e){if(Lb(r=ci(r)))return Ub("Unsupported field value:",e,r),jb(r,e);if(r instanceof Pb)return function(a,o){if(!Vb(o.Ec))throw o.wc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const g of a){let m=Lm(g,o.yc(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=ci(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return PD(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=It.fromDate(a);return{timestampValue:_h(o.serializer,u)}}if(a instanceof It){const u=new It(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(a instanceof li)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Rr)return{bytesValue:JT(o.serializer,a._byteString)};if(a instanceof Wt){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ui)return function(h,g){return{mapValue:{fields:{[DT]:{stringValue:CT},[gh]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw g.wc("VectorValues must only contain numeric values.");return ym(g.serializer,p)})}}}}}}(a,o);throw o.wc(`Unsupported field value: ${xh(a)}`)}(r,e)}function jb(r,e){const n={};return bT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(r,(a,o)=>{const u=Lm(o,e.Vc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function Lb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof It||r instanceof li||r instanceof Rr||r instanceof Wt||r instanceof Pb||r instanceof ui)}function Ub(r,e,n){if(!Lb(n)||!ET(n)){const a=xh(n);throw a==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+a)}}function $C(r,e,n){if((e=ci(e))instanceof km)return e._internalPath;if(typeof e=="string")return Bb(r,e);throw Sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const YC=new RegExp("[~\\*/\\[\\]]");function Bb(r,e,n){if(e.search(YC)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new km(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Sh(r,e,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${a}`),h&&(m+=` in document ${o}`),m+=")"),new Se(de.INVALID_ARGUMENT,g+r+m)}function QC(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Um("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KC extends zb{data(){return super.data()}}function Um(r,e){return typeof e=="string"?Bb(r,e):e instanceof km?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bm{}class WC extends Bm{}function zg(r,e,...n){let a=[];e instanceof Bm&&a.push(e),a=a.concat(n),function(u){const h=u.filter(m=>m instanceof zm).length,g=u.filter(m=>m instanceof Uh).length;if(h>1||h>0&&g>0)throw new Se(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Uh extends WC{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Uh(e,n,a)}_apply(e){const n=this._parse(e);return Hb(e._query,n),new ko(e.firestore,e.converter,Ig(e._query,n))}_parse(e){const n=kb(e.firestore);return function(u,h,g,m,p,v,S){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Z0(S,v);const V=[];for(const G of S)V.push(W0(m,u,G));b={arrayValue:{values:V}}}else b=W0(m,u,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Z0(S,v),b=GC(g,h,S,v==="in"||v==="not-in");return Kt.create(p,v,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hg(r,e,n){const a=e,o=Um("where",r);return Uh._create(o,a,n)}class zm extends Bm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zm(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const g=u.getFlattenedFilters();for(const m of g)Hb(h,m),h=Ig(h,m)}(e._query,n),new ko(e.firestore,e.converter,Ig(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W0(r,e,n){if(typeof(n=ci(n))=="string"){if(n==="")throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jT(e)&&n.indexOf("/")!==-1)throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Dt.fromString(n));if(!Ne.isDocumentKey(a))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return g0(r,new Ne(a))}if(n instanceof Wt)return g0(r,n._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function Z0(r,e){if(!Array.isArray(r)||r.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hb(r,e){const n=function(o,u){for(const h of o)for(const g of h.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZC{convertValue(e,n="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return As(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[gh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>Bt(h.doubleValue));return new ui(u)}convertGeoPoint(e){return new li(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Ch(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=Oa(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Dt.fromString(e);yt(ab(a),9688,{name:e});const o=new lu(a.get(1),a.get(3)),u=new Ne(a.popFirst(5));return o.isEqual(n)||Ui(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ys extends zb{constructor(e,n,a,o,u,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Um("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",ys._jsonSchema={type:Xt("string",ys._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class rh extends ys{data(e={}){return super.data(e)}}class Ao{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new rh(this._firestore,this._userDataWriter,a.key,a,new Ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(g=>{const m=new rh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ql(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||g.type!==3).map(g=>{const m=new rh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ql(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return g.type!==0&&(p=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),v=h.indexOf(g.doc.key)),{type:eI(g.type),doc:m,oldIndex:p,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(r){r=Ia(r,Wt);const e=Ia(r.firestore,bu);return kC(Vm(e),r._key).then(n=>tI(e,r,n))}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Xt("string",Ao._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class qb extends ZC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function rn(r){r=Ia(r,ko);const e=Ia(r.firestore,bu),n=Vm(e),a=new qb(e);return XC(r._query),jC(n,r._query).then(o=>new Ao(e,a,r,o))}function zt(r,e,n){r=Ia(r,Wt);const a=Ia(r.firestore,bu),o=JC(r.converter,e,n);return Fb(a,[FC(kb(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,si.none())])}function Gc(r){return Fb(Ia(r.firestore,bu),[new vm(r._key,si.none())])}function Fb(r,e){return function(a,o){const u=new ji;return a.asyncQueue.enqueueAndForget(async()=>wC(await VC(a),o,u)),u.promise}(Vm(r),e)}function tI(r,e,n){const a=n.docs.get(e._key),o=new qb(r);return new ys(r,o,e._key,a,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Oo=o})(aT),iu(new xo("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),g=new bu(new YR(a.getProvider("auth-internal")),new XR(h,a.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(p.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),Aa(e0,t0,e),Aa(e0,t0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="firebasestorage.googleapis.com",$b="storageBucket",nI=2*60*1e3,rI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt extends ws{constructor(e,n,a=0){super(og(e),`Firebase Storage: ${n} (${og(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kt||(kt={}));function og(r){return"storage/"+r}function Hm(){const r="An unknown error occurred, please check the error payload for server response.";return new jt(kt.UNKNOWN,r)}function iI(r){return new jt(kt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function aI(r){return new jt(kt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sI(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jt(kt.UNAUTHENTICATED,r)}function oI(){return new jt(kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lI(r){return new jt(kt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function uI(){return new jt(kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cI(){return new jt(kt.CANCELED,"User canceled the upload/download.")}function hI(r){return new jt(kt.INVALID_URL,"Invalid URL '"+r+"'.")}function fI(r){return new jt(kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function dI(){return new jt(kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$b+"' property when initializing the app?")}function gI(){return new jt(kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mI(){return new jt(kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pI(r){return new jt(kt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qg(r){return new jt(kt.INVALID_ARGUMENT,r)}function Yb(){return new jt(kt.APP_DELETED,"The Firebase app was deleted.")}function yI(r){return new jt(kt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eu(r,e){return new jt(kt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Hl(r){throw new jt(kt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=ir.makeFromUrl(e,n)}catch{return new ir(e,"")}if(a.path==="")return a;throw fI(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const h="(/(.*))?$",g=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function p(oe){oe.path_=decodeURIComponent(oe.path)}const v="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",O=new RegExp(`^https?://${S}/${v}/b/${o}/o${b}`,"i"),V={bucket:1,path:3},G=n===Gb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,q="([^?#]*)",H=new RegExp(`^https?://${G}/${o}/${q}`,"i"),B=[{regex:g,indices:m,postModify:u},{regex:O,indices:V,postModify:p},{regex:H,indices:{bucket:1,path:2},postModify:p}];for(let oe=0;oe<B.length;oe++){const Z=B[oe],k=Z.regex.exec(e);if(k){const M=k[Z.indices.bucket];let w=k[Z.indices.path];w||(w=""),a=new ir(M,w),Z.postModify(a);break}}if(a==null)throw hI(e);return a}}class vI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(r,e,n){let a=1,o=null,u=null,h=!1,g=0;function m(){return g===2}let p=!1;function v(...q){p||(p=!0,e.apply(null,q))}function S(q){o=setTimeout(()=>{o=null,r(O,m())},q)}function b(){u&&clearTimeout(u)}function O(q,...H){if(p){b();return}if(q){b(),v.call(null,q,...H);return}if(m()||h){b(),v.call(null,q,...H);return}a<64&&(a*=2);let B;g===1?(g=2,B=0):B=(a+Math.random())*1e3,S(B)}let V=!1;function G(q){V||(V=!0,b(),!p&&(o!==null?(q||(g=2),clearTimeout(o),S(0)):q||(g=1)))}return S(0),u=setTimeout(()=>{h=!0,G(!0)},n),G}function EI(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(r){return r!==void 0}function bI(r){return typeof r=="object"&&!Array.isArray(r)}function qm(r){return typeof r=="string"||r instanceof String}function J0(r){return Fm()&&r instanceof Blob}function Fm(){return typeof Blob<"u"}function eE(r,e,n,a){if(a<e)throw qg(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>n)throw qg(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(r,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${r}`}function Qb(r){const e=encodeURIComponent;let n="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var vs;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(vs||(vs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,a,o,u,h,g,m,p,v,S,b=!0,O=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=g,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=S,this.retry=b,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,G)=>{this.resolve_=V,this.reject_=G,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new $c(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=g=>{const m=g.loaded,p=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const g=u.getErrorCode()===vs.NO_ERROR,m=u.getStatus();if(!g||SI(m,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===vs.ABORT;a(!1,new $c(!1,null,v));return}const p=this.successCodes_.indexOf(m)!==-1;a(!0,new $c(p,u))})},n=(a,o)=>{const u=this.resolve_,h=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(g,g.getResponse());TI(m)?u(m):u()}catch(m){h(m)}else if(g!==null){const m=Hm();m.serverResponse=g.getErrorText(),this.errorCallback_?h(this.errorCallback_(g,m)):h(m)}else if(o.canceled){const m=this.appDelete_?Yb():cI();h(m)}else{const m=uI();h(m)}};this.canceled_?n(!1,new $c(!1,null,!0)):this.backoffId_=_I(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $c{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function AI(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function xI(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RI(r,e){e&&(r["X-Firebase-GMPID"]=e)}function DI(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function CI(r,e,n,a,o,u,h=!0,g=!1){const m=Qb(r.urlParams),p=r.url+m,v=Object.assign({},r.headers);return RI(v,e),AI(v,n),xI(v,u),DI(v,a),new wI(p,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function NI(...r){const e=II();if(e!==void 0){const n=new e;for(let a=0;a<r.length;a++)n.append(r[a]);return n.getBlob()}else{if(Fm())return new Blob(r);throw new jt(kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function OI(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(r){if(typeof atob>"u")throw pI("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lg{constructor(e,n){this.data=e,this.contentType=n||null}}function PI(r,e){switch(r){case ri.RAW:return new lg(Kb(e));case ri.BASE64:case ri.BASE64URL:return new lg(Xb(r,e));case ri.DATA_URL:return new lg(kI(e),jI(e))}throw Hm()}function Kb(r){const e=[];for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=a,h=r.charCodeAt(++n);a=65536|(u&1023)<<10|h&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function VI(r){let e;try{e=decodeURIComponent(r)}catch{throw eu(ri.DATA_URL,"Malformed data URL.")}return Kb(e)}function Xb(r,e){switch(r){case ri.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw eu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw eu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=MI(e)}catch(o){throw o.message.includes("polyfill")?o:eu(r,"Invalid character found")}const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}class Wb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw eu(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=LI(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function kI(r){const e=new Wb(r);return e.base64?Xb(ri.BASE64,e.rest):VI(e.rest)}function jI(r){return new Wb(r).contentType}function LI(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){let a=0,o="";J0(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(J0(this.data_)){const a=this.data_,o=OI(a,e,n);return o===null?null:new Ta(o)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new Ta(a,!0)}}static getBlob(...e){if(Fm()){const n=e.map(a=>a instanceof Ta?a.data_:a);return new Ta(NI.apply(null,n))}else{const n=e.map(h=>qm(h)?PI(ri.RAW,h).data:h.data_);let a=0;n.forEach(h=>{a+=h.byteLength});const o=new Uint8Array(a);let u=0;return n.forEach(h=>{for(let g=0;g<h.length;g++)o[u++]=h[g]}),new Ta(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(r){let e;try{e=JSON.parse(r)}catch{return null}return bI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function BI(r,e){const n=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?n:r+"/"+n}function Jb(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r,e){return e}class jn{constructor(e,n,a,o){this.server=e,this.local=n||e,this.writable=!!a,this.xform=o||zI}}let Yc=null;function HI(r){return!qm(r)||r.length<2?r:Jb(r)}function eS(){if(Yc)return Yc;const r=[];r.push(new jn("bucket")),r.push(new jn("generation")),r.push(new jn("metageneration")),r.push(new jn("name","fullPath",!0));function e(u,h){return HI(h)}const n=new jn("name");n.xform=e,r.push(n);function a(u,h){return h!==void 0?Number(h):h}const o=new jn("size");return o.xform=a,r.push(o),r.push(new jn("timeCreated")),r.push(new jn("updated")),r.push(new jn("md5Hash",null,!0)),r.push(new jn("cacheControl",null,!0)),r.push(new jn("contentDisposition",null,!0)),r.push(new jn("contentEncoding",null,!0)),r.push(new jn("contentLanguage",null,!0)),r.push(new jn("contentType",null,!0)),r.push(new jn("metadata","customMetadata",!0)),Yc=r,Yc}function qI(r,e){function n(){const a=r.bucket,o=r.fullPath,u=new ir(a,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function FI(r,e,n){const a={};a.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];a[h.local]=h.xform(a,e[h.server])}return qI(a,r),a}function tS(r,e,n){const a=Zb(e);return a===null?null:FI(r,a,n)}function GI(r,e,n,a){const o=Zb(e);if(o===null||!qm(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(p=>{const v=r.bucket,S=r.fullPath,b="/b/"+h(v)+"/o/"+h(S),O=Gm(b,n,a),V=Qb({alt:"media",token:p});return O+V})[0]}function $I(r,e){const n={},a=e.length;for(let o=0;o<a;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class nS{constructor(e,n,a,o){this.url=e,this.method=n,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(r){if(!r)throw Hm()}function YI(r,e){function n(a,o){const u=tS(r,o,e);return rS(u!==null),u}return n}function QI(r,e){function n(a,o){const u=tS(r,o,e);return rS(u!==null),GI(u,o,r.host,r._protocol)}return n}function iS(r){function e(n,a){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=oI():o=sI():n.getStatus()===402?o=aI(r.bucket):n.getStatus()===403?o=lI(r.path):o=a,o.status=n.getStatus(),o.serverResponse=a.serverResponse,o}return e}function KI(r){const e=iS(r);function n(a,o){let u=e(a,o);return a.getStatus()===404&&(u=iI(r.path)),u.serverResponse=o.serverResponse,u}return n}function XI(r,e,n){const a=e.fullServerUrl(),o=Gm(a,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,g=new nS(o,u,QI(r,n),h);return g.errorHandler=KI(e),g}function WI(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function ZI(r,e,n){const a=Object.assign({},n);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=WI(null,e)),a}function JI(r,e,n,a,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function g(){let B="";for(let oe=0;oe<2;oe++)B=B+Math.random().toString().slice(2);return B}const m=g();h["Content-Type"]="multipart/related; boundary="+m;const p=ZI(e,a,o),v=$I(p,n),S="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+m+"--",O=Ta.getBlob(S,a,b);if(O===null)throw gI();const V={name:p.fullPath},G=Gm(u,r.host,r._protocol),q="POST",H=r.maxUploadRetryTime,se=new nS(G,q,YI(r,n),H);return se.urlParams=V,se.headers=h,se.body=O.uploadData(),se.errorHandler=iS(e),se}class eN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,o,u){if(this.sent_)throw Hl("cannot .send() more than once");if(mu(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tN extends eN{initXhr(){this.xhr_.responseType="text"}}function aS(){return new tN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this._service=e,n instanceof ir?this._location=n:this._location=ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ts(e,n)}get root(){const e=new ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jb(this._location.path)}get storage(){return this._service}get parent(){const e=UI(this._location.path);if(e===null)return null;const n=new ir(this._location.bucket,e);return new Ts(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yI(e)}}function nN(r,e,n){r._throwIfRoot("uploadBytes");const a=JI(r.storage,r._location,eS(),new Ta(e,!0),n);return r.storage.makeRequestWithTokens(a,aS).then(o=>({metadata:o,ref:r}))}function rN(r){r._throwIfRoot("getDownloadURL");const e=XI(r.storage,r._location,eS());return r.storage.makeRequestWithTokens(e,aS).then(n=>{if(n===null)throw mI();return n})}function iN(r,e){const n=BI(r._location.path,e),a=new ir(r._location.bucket,n);return new Ts(r.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(r){return/^[A-Za-z]+:\/\//.test(r)}function sN(r,e){return new Ts(r,e)}function sS(r,e){if(r instanceof $m){const n=r;if(n._bucket==null)throw dI();const a=new Ts(n,n._bucket);return e!=null?sS(a,e):a}else return e!==void 0?iN(r,e):r}function oN(r,e){if(e&&aN(e)){if(r instanceof $m)return sN(r,e);throw qg("To use ref(service, url), the first argument must be a Storage instance.")}else return sS(r,e)}function tE(r,e){const n=e?.[$b];return n==null?null:ir.makeFromBucketSpec(n,r)}function lN(r,e,n,a={}){r.host=`${e}:${n}`;const o=mu(e);o&&(XE(`https://${r.host}/b`),ZE("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(r._overrideAuthToken=typeof u=="string"?u:WE(u,r.app.options.projectId))}class $m{constructor(e,n,a,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Gb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nI,this._maxUploadRetryTime=rI,this._requests=new Set,o!=null?this._bucket=ir.makeFromBucketSpec(o,this._host):this._bucket=tE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ir.makeFromBucketSpec(this._url,e):this._bucket=tE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(iT(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ts(this,e)}_makeRequest(e,n,a,o,u=!0){if(this._deleted)return new vI(Yb());{const h=CI(e,this._appId,a,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const nE="@firebase/storage",rE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="storage";function uN(r,e,n){return r=ci(r),nN(r,e,n)}function cN(r){return r=ci(r),rN(r)}function hN(r,e){return r=ci(r),oN(r,e)}function fN(r=oT(),e){r=ci(r);const a=rT(r,oS).getImmediate({identifier:e}),o=QE("storage");return o&&dN(a,...o),a}function dN(r,e,n,a={}){lN(r,e,n,a)}function gN(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new $m(n,a,o,e,aT)}function mN(){iu(new xo(oS,gN,"PUBLIC").setMultipleInstances(!0)),Aa(nE,rE,""),Aa(nE,rE,"esm2017")}mN();const pN={apiKey:"AIzaSyAfEeMMgpZr8-1NGeatOe6K4NdG23HPCvI",authDomain:"saint-mark-leagues.firebaseapp.com",databaseURL:"https://saint-mark-leagues-default-rtdb.firebaseio.com",projectId:"saint-mark-leagues",storageBucket:"saint-mark-leagues.firebasestorage.app",messagingSenderId:"974377360398",appId:"1:974377360398:web:0b5865d69deff9adb6f05f"},lS=sT(pN),Fe=UC(lS),yN=fN(lS),vN=()=>E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Saint Mark Leagues"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",id:"active",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),_N=()=>E.jsxs("aside",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",id:"active",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),EN=()=>{const[r,e]=z.useState(""),[n,a]=z.useState(""),[o,u]=z.useState("A"),[h,g]=z.useState(["","","","",""]),[m,p]=z.useState([null,null,null,null,null]),[v,S]=z.useState(!1),[b,O]=z.useState(""),V=(H,se)=>{g(B=>B.map((oe,Z)=>Z===H?se:oe))},G=(H,se)=>{p(B=>B.map((oe,Z)=>Z===H?se:oe))},q=async H=>{if(H.preventDefault(),O(""),!r.trim()||!n.trim()){O("League and team name required!");return}S(!0);try{const se=Ct(Fe,"leagues",r),oe=!(await rn(zg(En(Fe,"leagues"),Hg("name","==",r)))).empty;if(!oe){const x={name:r,matchMinutes:document.getElementById("matchMinutes")?.value||10,maxTeams:document.getElementById("maxTeams")?.value||4,maxPlayers:document.getElementById("maxPlayers")?.value||5,pointsWin:document.getElementById("pointsWin")?.value||3,pointsDraw:document.getElementById("pointsDraw")?.value||1,pointsLose:document.getElementById("pointsLose")?.value||0,classification:o};await zt(se,x)}const Z=r,k=Ct(Fe,`leagues/${Z}/teams`,n);if(!(await rn(zg(En(Fe,`leagues/${Z}/teams`),Hg("name","==",n)))).empty){O("Team or league already exists!"),S(!1);return}const w=await Promise.all(h.map(async(x,R)=>{if(!x.trim())return null;let I="";if(m[R]){const N=hN(yN,`leagues/${Z}/teams/${n}/players/${x}_${Date.now()}`);await uN(N,m[R]),I=await cN(N)}return{name:x,image:I,goals:0,assists:0,POTM:0}}));await zt(k,{name:n,DG:0,GA:0,Dif:0,Points:0,players:w.filter(Boolean),classification:o}),O(oe?`Added ${n} team to ${r} league!`:"League, team, and players assigned!"),a(""),g(["","","","",""]),p([null,null,null,null,null])}catch(se){O("Error assigning league: "+se.message)}S(!1)};return E.jsxs("main",{className:"dashboard-main",children:[E.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",zIndex:100},children:E.jsx(vN,{})}),E.jsxs("div",{className:"d-container",children:[E.jsx("div",{className:"dashboard-sidenav",children:E.jsx(_N,{})}),E.jsx("div",{className:"dashboard-content",children:E.jsxs("section",{className:"dashboard-main-section",children:[E.jsxs("div",{className:"dashboard-card",children:[E.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:E.jsx("div",{style:{background:"#2563eb",color:"#fff",borderRadius:"50%",width:"54px",height:"54px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:900,fontSize:"1.5rem",letterSpacing:"1px"},children:"LE"})}),E.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginBottom:"24px"},children:E.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem",color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:"4px"},children:"LEAGUE SETTINGS"})}),E.jsxs("form",{className:"dashboard-form",autoComplete:"off",children:[E.jsx("input",{type:"text",id:"leagueName",name:"leagueName",placeholder:"Enter league name",value:r,onChange:H=>e(H.target.value),required:!0,className:"league-name-input"}),E.jsxs("div",{className:"dashboard-form-row",children:[E.jsx("input",{type:"number",id:"matchMinutes",name:"matchMinutes",min:"1",max:"180",placeholder:"Match Time (minutes)",className:"default-info-input"}),E.jsx("input",{type:"number",id:"maxTeams",name:"maxTeams",min:"2",max:"32",placeholder:"Max Teams in a Group",className:"default-info-input"}),E.jsx("input",{type:"number",id:"maxPlayers",name:"maxPlayers",min:"1",max:"180",placeholder:"Max Players in a Team",className:"default-info-input"}),E.jsx("input",{type:"number",id:"pointsWin",name:"pointsWin",min:"0",max:"32",placeholder:"Points per Win",className:"default-info-input",defaultValue:3}),E.jsx("input",{type:"number",id:"pointsDraw",name:"pointsDraw",min:"0",max:"32",placeholder:"Points per Draw",className:"default-info-input",defaultValue:1}),E.jsx("input",{type:"number",id:"pointsLose",name:"pointsLose",min:"0",max:"32",placeholder:"Points per Lose",className:"default-info-input",defaultValue:0})]})]})]}),E.jsxs("div",{className:"dashboard-card",children:[E.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:E.jsx("div",{style:{background:"#2563eb",color:"#fff",borderRadius:"50%",width:"54px",height:"54px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:900,fontSize:"1.5rem",letterSpacing:"1px"},children:"TP"})}),E.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginBottom:"24px"},children:E.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem",color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:"4px"},children:"ADD TEAM & PLAYERS"})}),E.jsxs("form",{className:"dashboard-form",onSubmit:q,autoComplete:"off",children:[E.jsxs("div",{className:"team-input-row",children:[E.jsx("input",{type:"text",placeholder:"Team Name",className:"team-name-input",value:n,onChange:H=>a(H.target.value),required:!0}),E.jsxs("select",{className:"team-classification-input",value:o,onChange:H=>u(H.target.value),required:!0,children:[E.jsx("option",{value:"A",children:"A"}),E.jsx("option",{value:"B",children:"B"}),E.jsx("option",{value:"C",children:"C"}),E.jsx("option",{value:"D",children:"D"})]})]}),E.jsx("div",{className:"players-list",children:h.map((H,se)=>E.jsxs("div",{className:"player-input-row",children:[E.jsx("input",{type:"text",placeholder:`Player ${se+1}`,className:"player-input",value:H,onChange:B=>V(se,B.target.value),required:!0}),E.jsx("input",{type:"file",accept:"image/*",id:`player-image-input-${se}`,style:{display:"none"},onChange:B=>{B.target.files&&B.target.files[0]&&G(se,B.target.files[0])}}),m[se]?E.jsx("img",{src:URL.createObjectURL(m[se]),alt:`Player ${se+1} Preview`,className:"player-img-preview",title:"Change Player Image",onClick:()=>document.getElementById(`player-image-input-${se}`).click()}):E.jsx("button",{type:"button",className:"add-image-btn",title:"Add Player Image",onClick:()=>document.getElementById(`player-image-input-${se}`).click(),children:""})]},se))}),E.jsx("button",{type:"submit",className:"submit-league-btn",id:"submit-league-btn",disabled:v,children:v?"Saving...":"Assign League"}),b&&E.jsx("div",{className:"dashboard-error",children:b})]})]})]})})]})]})},uS=z.createContext({dragDropManager:void 0});function Sr(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var iE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),aE=function(){return Math.random().toString(36).substring(7).split("").join(".")},sE={INIT:"@@redux/INIT"+aE(),REPLACE:"@@redux/REPLACE"+aE()};function TN(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function cS(r,e,n){var a;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Sr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Sr(1));return n(cS)(r,e)}if(typeof r!="function")throw new Error(Sr(2));var o=r,u=e,h=[],g=h,m=!1;function p(){g===h&&(g=h.slice())}function v(){if(m)throw new Error(Sr(3));return u}function S(G){if(typeof G!="function")throw new Error(Sr(4));if(m)throw new Error(Sr(5));var q=!0;return p(),g.push(G),function(){if(q){if(m)throw new Error(Sr(6));q=!1,p();var se=g.indexOf(G);g.splice(se,1),h=null}}}function b(G){if(!TN(G))throw new Error(Sr(7));if(typeof G.type>"u")throw new Error(Sr(8));if(m)throw new Error(Sr(9));try{m=!0,u=o(u,G)}finally{m=!1}for(var q=h=g,H=0;H<q.length;H++){var se=q[H];se()}return G}function O(G){if(typeof G!="function")throw new Error(Sr(10));o=G,b({type:sE.REPLACE})}function V(){var G,q=S;return G={subscribe:function(se){if(typeof se!="object"||se===null)throw new Error(Sr(11));function B(){se.next&&se.next(v())}B();var oe=q(B);return{unsubscribe:oe}}},G[iE]=function(){return this},G}return b({type:sE.INIT}),a={dispatch:b,subscribe:S,getState:v,replaceReducer:O},a[iE]=V,a}function Ge(r,e,...n){if(bN()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let a;if(e===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;a=new Error(e.replace(/%s/g,function(){return n[o++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}function bN(){return typeof process<"u"&&!0}function SN(r,e,n){return e.split(".").reduce((a,o)=>a&&a[o]?a[o]:n||null,r)}function wN(r,e){return r.filter(n=>n!==e)}function hS(r){return typeof r=="object"}function AN(r,e){const n=new Map,a=u=>{n.set(u,n.has(u)?n.get(u)+1:1)};r.forEach(a),e.forEach(a);const o=[];return n.forEach((u,h)=>{u===1&&o.push(h)}),o}function xN(r,e){return r.filter(n=>e.indexOf(n)>-1)}const Ym="dnd-core/INIT_COORDS",Bh="dnd-core/BEGIN_DRAG",Qm="dnd-core/PUBLISH_DRAG_SOURCE",zh="dnd-core/HOVER",Hh="dnd-core/DROP",qh="dnd-core/END_DRAG";function oE(r,e){return{type:Ym,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const RN={type:Ym,payload:{clientOffset:null,sourceClientOffset:null}};function DN(r){return function(n=[],a={publishSource:!0}){const{publishSource:o=!0,clientOffset:u,getSourceClientOffset:h}=a,g=r.getMonitor(),m=r.getRegistry();r.dispatch(oE(u)),CN(n,g,m);const p=ON(n,g);if(p==null){r.dispatch(RN);return}let v=null;if(u){if(!h)throw new Error("getSourceClientOffset must be defined");IN(h),v=h(p)}r.dispatch(oE(u,v));const b=m.getSource(p).beginDrag(g,p);if(b==null)return;NN(b),m.pinSource(p);const O=m.getSourceType(p);return{type:Bh,payload:{itemType:O,item:b,sourceId:p,clientOffset:u||null,sourceClientOffset:v||null,isSourcePublic:!!o}}}}function CN(r,e,n){Ge(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(a){Ge(n.getSource(a),"Expected sourceIds to be registered.")})}function IN(r){Ge(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function NN(r){Ge(hS(r),"Item must be an object.")}function ON(r,e){let n=null;for(let a=r.length-1;a>=0;a--)if(e.canDragSource(r[a])){n=r[a];break}return n}function MN(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function PN(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){MN(r,o,n[o])})}return r}function VN(r){return function(n={}){const a=r.getMonitor(),o=r.getRegistry();kN(a),UN(a).forEach((h,g)=>{const m=jN(h,g,o,a),p={type:Hh,payload:{dropResult:PN({},n,m)}};r.dispatch(p)})}}function kN(r){Ge(r.isDragging(),"Cannot call drop while not dragging."),Ge(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function jN(r,e,n,a){const o=n.getTarget(r);let u=o?o.drop(a,r):void 0;return LN(u),typeof u>"u"&&(u=e===0?{}:a.getDropResult()),u}function LN(r){Ge(typeof r>"u"||hS(r),"Drop result must either be an object or undefined.")}function UN(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function BN(r){return function(){const n=r.getMonitor(),a=r.getRegistry();zN(n);const o=n.getSourceId();return o!=null&&(a.getSource(o,!0).endDrag(n,o),a.unpinSource()),{type:qh}}}function zN(r){Ge(r.isDragging(),"Cannot call endDrag while not dragging.")}function Fg(r,e){return e===null?r===null:Array.isArray(r)?r.some(n=>n===e):r===e}function HN(r){return function(n,{clientOffset:a}={}){qN(n);const o=n.slice(0),u=r.getMonitor(),h=r.getRegistry(),g=u.getItemType();return GN(o,h,g),FN(o,u,h),$N(o,u,h),{type:zh,payload:{targetIds:o,clientOffset:a||null}}}}function qN(r){Ge(Array.isArray(r),"Expected targetIds to be an array.")}function FN(r,e,n){Ge(e.isDragging(),"Cannot call hover while not dragging."),Ge(!e.didDrop(),"Cannot call hover after drop.");for(let a=0;a<r.length;a++){const o=r[a];Ge(r.lastIndexOf(o)===a,"Expected targetIds to be unique in the passed array.");const u=n.getTarget(o);Ge(u,"Expected targetIds to be registered.")}}function GN(r,e,n){for(let a=r.length-1;a>=0;a--){const o=r[a],u=e.getTargetType(o);Fg(u,n)||r.splice(a,1)}}function $N(r,e,n){r.forEach(function(a){n.getTarget(a).hover(e,a)})}function YN(r){return function(){if(r.getMonitor().isDragging())return{type:Qm}}}function QN(r){return{beginDrag:DN(r),publishDragSource:YN(r),hover:HN(r),drop:VN(r),endDrag:BN(r)}}class KN{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function a(u){return(...h)=>{const g=u.apply(e,h);typeof g<"u"&&n(g)}}const o=QN(this);return Object.keys(o).reduce((u,h)=>{const g=o[h];return u[h]=a(g),u},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const a=this.store.getState().refCount>0;this.backend&&(a&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!a&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function XN(r,e){return{x:r.x+e.x,y:r.y+e.y}}function fS(r,e){return{x:r.x-e.x,y:r.y-e.y}}function WN(r){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:a}=r;return!e||!n||!a?null:fS(XN(e,a),n)}function ZN(r){const{clientOffset:e,initialClientOffset:n}=r;return!e||!n?null:fS(e,n)}const tu=[],Km=[];tu.__IS_NONE__=!0;Km.__IS_ALL__=!0;function JN(r,e){return r===tu?!1:r===Km||typeof e>"u"?!0:xN(e,r).length>0}class eO{subscribeToStateChange(e,n={}){const{handlerIds:a}=n;Ge(typeof e=="function","listener must be a function."),Ge(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const u=()=>{const h=this.store.getState(),g=h.stateId;try{g===o||g===o+1&&!JN(h.dirtyHandlerIds,a)||e()}finally{o=g}};return this.store.subscribe(u)}subscribeToOffsetChange(e){Ge(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const a=()=>{const o=this.store.getState().dragOffset;o!==n&&(n=o,e())};return this.store.subscribe(a)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return Ge(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(Ge(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const a=this.registry.getTargetType(e),o=this.getItemType();return Fg(a,o)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(Ge(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const a=this.registry.getSourceType(e),o=this.getItemType();return a!==o?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:a}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),u=this.getItemType();if(u&&!Fg(o,u))return!1;const h=this.getTargetIds();if(!h.length)return!1;const g=h.indexOf(e);return a?g===h.length-1:g>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return WN(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return ZN(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const lE=typeof global<"u"?global:self,dS=lE.MutationObserver||lE.WebKitMutationObserver;function gS(r){return function(){const n=setTimeout(o,0),a=setInterval(o,50);function o(){clearTimeout(n),clearInterval(a),r()}}}function tO(r){let e=1;const n=new dS(r),a=document.createTextNode("");return n.observe(a,{characterData:!0}),function(){e=-e,a.data=e}}const nO=typeof dS=="function"?tO:gS;class rO{enqueueTask(e){const{queue:n,requestFlush:a}=this;n.length||(a(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let a=0,o=e.length-this.index;a<o;a++)e[a]=e[a+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=nO(this.flush),this.requestErrorThrow=gS(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class iO{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class aO{create(e){const n=this.freeTasks,a=n.length?n.pop():new iO(this.onError,o=>n[n.length]=o);return a.task=e,a}constructor(e){this.onError=e,this.freeTasks=[]}}const mS=new rO,sO=new aO(mS.registerPendingError);function oO(r){mS.enqueueTask(sO.create(r))}const Xm="dnd-core/ADD_SOURCE",Wm="dnd-core/ADD_TARGET",Zm="dnd-core/REMOVE_SOURCE",Fh="dnd-core/REMOVE_TARGET";function lO(r){return{type:Xm,payload:{sourceId:r}}}function uO(r){return{type:Wm,payload:{targetId:r}}}function cO(r){return{type:Zm,payload:{sourceId:r}}}function hO(r){return{type:Fh,payload:{targetId:r}}}function fO(r){Ge(typeof r.canDrag=="function","Expected canDrag to be a function."),Ge(typeof r.beginDrag=="function","Expected beginDrag to be a function."),Ge(typeof r.endDrag=="function","Expected endDrag to be a function.")}function dO(r){Ge(typeof r.canDrop=="function","Expected canDrop to be a function."),Ge(typeof r.hover=="function","Expected hover to be a function."),Ge(typeof r.drop=="function","Expected beginDrag to be a function.")}function Gg(r,e){if(e&&Array.isArray(r)){r.forEach(n=>Gg(n,!1));return}Ge(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ar;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(Ar||(Ar={}));let gO=0;function mO(){return gO++}function pO(r){const e=mO().toString();switch(r){case Ar.SOURCE:return`S${e}`;case Ar.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function uE(r){switch(r[0]){case"S":return Ar.SOURCE;case"T":return Ar.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function cE(r,e){const n=r.entries();let a=!1;do{const{done:o,value:[,u]}=n.next();if(u===e)return!0;a=!!o}while(!a);return!1}class yO{addSource(e,n){Gg(e),fO(n);const a=this.addHandler(Ar.SOURCE,e,n);return this.store.dispatch(lO(a)),a}addTarget(e,n){Gg(e,!0),dO(n);const a=this.addHandler(Ar.TARGET,e,n);return this.store.dispatch(uO(a)),a}containsHandler(e){return cE(this.dragSources,e)||cE(this.dropTargets,e)}getSource(e,n=!1){return Ge(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Ge(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Ge(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Ge(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return uE(e)===Ar.SOURCE}isTargetId(e){return uE(e)===Ar.TARGET}removeSource(e){Ge(this.getSource(e),"Expected an existing source."),this.store.dispatch(cO(e)),oO(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){Ge(this.getTarget(e),"Expected an existing target."),this.store.dispatch(hO(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);Ge(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){Ge(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,a){const o=pO(e);return this.types.set(o,n),e===Ar.SOURCE?this.dragSources.set(o,a):e===Ar.TARGET&&this.dropTargets.set(o,a),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const vO=(r,e)=>r===e;function _O(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function EO(r,e,n=vO){if(r.length!==e.length)return!1;for(let a=0;a<r.length;++a)if(!n(r[a],e[a]))return!1;return!0}function TO(r=tu,e){switch(e.type){case zh:break;case Xm:case Wm:case Fh:case Zm:return tu;case Bh:case Qm:case qh:case Hh:default:return Km}const{targetIds:n=[],prevTargetIds:a=[]}=e.payload,o=AN(n,a);if(!(o.length>0||!EO(n,a)))return tu;const h=a[a.length-1],g=n[n.length-1];return h!==g&&(h&&o.push(h),g&&o.push(g)),o}function bO(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function SO(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){bO(r,o,n[o])})}return r}const hE={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function wO(r=hE,e){const{payload:n}=e;switch(e.type){case Ym:case Bh:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case zh:return _O(r.clientOffset,n.clientOffset)?r:SO({},r,{clientOffset:n.clientOffset});case qh:case Hh:return hE;default:return r}}function AO(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function po(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){AO(r,o,n[o])})}return r}const xO={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function RO(r=xO,e){const{payload:n}=e;switch(e.type){case Bh:return po({},r,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Qm:return po({},r,{isSourcePublic:!0});case zh:return po({},r,{targetIds:n.targetIds});case Fh:return r.targetIds.indexOf(n.targetId)===-1?r:po({},r,{targetIds:wN(r.targetIds,n.targetId)});case Hh:return po({},r,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case qh:return po({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function DO(r=0,e){switch(e.type){case Xm:case Wm:return r+1;case Zm:case Fh:return r-1;default:return r}}function CO(r=0){return r+1}function IO(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function NO(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){IO(r,o,n[o])})}return r}function OO(r={},e){return{dirtyHandlerIds:TO(r.dirtyHandlerIds,{type:e.type,payload:NO({},e.payload,{prevTargetIds:SN(r,"dragOperation.targetIds",[])})}),dragOffset:wO(r.dragOffset,e),refCount:DO(r.refCount,e),dragOperation:RO(r.dragOperation,e),stateId:CO(r.stateId)}}function MO(r,e=void 0,n={},a=!1){const o=PO(a),u=new eO(o,new yO(o)),h=new KN(o,u),g=r(h,e,n);return h.receiveBackend(g),h}function PO(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return cS(OO,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function VO(r,e){if(r==null)return{};var n=kO(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function kO(r,e){if(r==null)return{};var n={},a=Object.keys(r),o,u;for(u=0;u<a.length;u++)o=a[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}let fE=0;const ih=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var jO=z.memo(function(e){var{children:n}=e,a=VO(e,["children"]);const[o,u]=LO(a);return z.useEffect(()=>{if(u){const h=pS();return++fE,()=>{--fE===0&&(h[ih]=null)}}},[]),E.jsx(uS.Provider,{value:o,children:n})});function LO(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=UO(r.backend,r.context,r.options,r.debugMode),n=!r.context;return[e,n]}function UO(r,e=pS(),n,a){const o=e;return o[ih]||(o[ih]={dragDropManager:MO(r,e,n,a)}),o[ih]}function pS(){return typeof global<"u"?global:window}var ug,dE;function BO(){return dE||(dE=1,ug=function r(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var a,o,u;if(Array.isArray(e)){if(a=e.length,a!=n.length)return!1;for(o=a;o--!==0;)if(!r(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(u=Object.keys(e),a=u.length,a!==Object.keys(n).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=a;o--!==0;){var h=u[o];if(!r(e[h],n[h]))return!1}return!0}return e!==e&&n!==n}),ug}var zO=BO();const HO=W1(zO),bs=typeof window<"u"?z.useLayoutEffect:z.useEffect;function qO(r,e,n){const[a,o]=z.useState(()=>e(r)),u=z.useCallback(()=>{const h=e(r);HO(a,h)||(o(h),n&&n())},[a,r,n]);return bs(u),[a,u]}function FO(r,e,n){const[a,o]=qO(r,e,n);return bs(function(){const h=r.getHandlerId();if(h!=null)return r.subscribeToStateChange(o,{handlerIds:[h]})},[r,o]),a}function yS(r,e,n){return FO(e,r||(()=>({})),()=>n.reconnect())}function vS(r,e){const n=[];return typeof r!="function"&&n.push(r),z.useMemo(()=>typeof r=="function"?r():r,n)}function GO(r){return z.useMemo(()=>r.hooks.dragSource(),[r])}function $O(r){return z.useMemo(()=>r.hooks.dragPreview(),[r])}let cg=!1,hg=!1;class YO{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Ge(!cg,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return cg=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{cg=!1}}isDragging(){if(!this.sourceId)return!1;Ge(!hg,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return hg=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{hg=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let fg=!1;class QO{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;Ge(!fg,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return fg=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{fg=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function KO(r,e,n){const a=n.getRegistry(),o=a.addTarget(r,e);return[o,()=>a.removeTarget(o)]}function XO(r,e,n){const a=n.getRegistry(),o=a.addSource(r,e);return[o,()=>a.removeSource(o)]}function $g(r,e,n,a){let o;if(o!==void 0)return!!o;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const u=Object.keys(r),h=Object.keys(e);if(u.length!==h.length)return!1;const g=Object.prototype.hasOwnProperty.bind(e);for(let m=0;m<u.length;m++){const p=u[m];if(!g(p))return!1;const v=r[p],S=e[p];if(o=void 0,o===!1||o===void 0&&v!==S)return!1}return!0}function Yg(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function WO(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function ZO(r){return(e=null,n=null)=>{if(!z.isValidElement(e)){const u=e;return r(u,n),u}const a=e;return WO(a),JO(a,n?u=>r(u,n):r)}}function _S(r){const e={};return Object.keys(r).forEach(n=>{const a=r[n];if(n.endsWith("Ref"))e[n]=r[n];else{const o=ZO(a);e[n]=()=>o}}),e}function gE(r,e){typeof r=="function"?r(e):r.current=e}function JO(r,e){const n=r.ref;return Ge(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?z.cloneElement(r,{ref:a=>{gE(n,a),gE(e,a)}}):z.cloneElement(r,{ref:e})}class e4{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,a=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(a&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}a&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!$g(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!$g(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=_S({dragSource:(n,a)=>{this.clearDragSource(),this.dragSourceOptions=a||null,Yg(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,a)=>{this.clearDragPreview(),this.dragPreviewOptions=a||null,Yg(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class t4{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!$g(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=_S({dropTarget:(n,a)=>{this.clearDropTarget(),this.dropTargetOptions=a,Yg(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function jo(){const{dragDropManager:r}=z.useContext(uS);return Ge(r!=null,"Expected drag drop context"),r}function n4(r,e){const n=jo(),a=z.useMemo(()=>new e4(n.getBackend()),[n]);return bs(()=>(a.dragSourceOptions=r||null,a.reconnect(),()=>a.disconnectDragSource()),[a,r]),bs(()=>(a.dragPreviewOptions=e||null,a.reconnect(),()=>a.disconnectDragPreview()),[a,e]),a}function r4(){const r=jo();return z.useMemo(()=>new YO(r),[r])}class i4{beginDrag(){const e=this.spec,n=this.monitor;let a=null;return typeof e.item=="object"?a=e.item:typeof e.item=="function"?a=e.item(n):a={},a??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const a=this.spec,o=this.monitor,{isDragging:u}=a;return u?u(o):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,a=this.connector,{end:o}=e;o&&o(n.getItem(),n),a.reconnect()}constructor(e,n,a){this.spec=e,this.monitor=n,this.connector=a}}function a4(r,e,n){const a=z.useMemo(()=>new i4(r,e,n),[e,n]);return z.useEffect(()=>{a.spec=r},[r]),a}function s4(r){return z.useMemo(()=>{const e=r.type;return Ge(e!=null,"spec.type must be defined"),e},[r])}function o4(r,e,n){const a=jo(),o=a4(r,e,n),u=s4(r);bs(function(){if(u!=null){const[g,m]=XO(u,o,a);return e.receiveHandlerId(g),n.receiveHandlerId(g),m}},[a,e,n,o,u])}function l4(r,e){const n=vS(r);Ge(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const a=r4(),o=n4(n.options,n.previewOptions);return o4(n,a,o),[yS(n.collect,a,o),GO(o),$O(o)]}function u4(r){return z.useMemo(()=>r.hooks.dropTarget(),[r])}function c4(r){const e=jo(),n=z.useMemo(()=>new t4(e.getBackend()),[e]);return bs(()=>(n.dropTargetOptions=r||null,n.reconnect(),()=>n.disconnectDropTarget()),[r]),n}function h4(){const r=jo();return z.useMemo(()=>new QO(r),[r])}function f4(r){const{accept:e}=r;return z.useMemo(()=>(Ge(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class d4{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function g4(r,e){const n=z.useMemo(()=>new d4(r,e),[e]);return z.useEffect(()=>{n.spec=r},[r]),n}function m4(r,e,n){const a=jo(),o=g4(r,e),u=f4(r);bs(function(){const[g,m]=KO(u,o,a);return e.receiveHandlerId(g),n.receiveHandlerId(g),m},[a,e,o,n,u.map(h=>h.toString()).join("|")])}function p4(r,e){const n=vS(r),a=h4(),o=c4(n.options);return m4(n,a,o),[yS(n.collect,a,o),u4(o)]}function ES(r){let e=null;return()=>(e==null&&(e=r()),e)}function y4(r,e){return r.filter(n=>n!==e)}function v4(r,e){const n=new Set,a=u=>n.add(u);r.forEach(a),e.forEach(a);const o=[];return n.forEach(u=>o.push(u)),o}class _4{enter(e){const n=this.entered.length,a=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=v4(this.entered.filter(a),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=y4(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class E4{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(a=>{const o=this.config.exposeProperties[a];o!=null&&(n[a]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const TS="__NATIVE_FILE__",bS="__NATIVE_URL__",SS="__NATIVE_TEXT__",wS="__NATIVE_HTML__",mE=Object.freeze(Object.defineProperty({__proto__:null,FILE:TS,HTML:wS,TEXT:SS,URL:bS},Symbol.toStringTag,{value:"Module"}));function dg(r,e,n){const a=e.reduce((o,u)=>o||r.getData(u),"");return a??n}const Qg={[TS]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[wS]:{exposeProperties:{html:(r,e)=>dg(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[bS]:{exposeProperties:{urls:(r,e)=>dg(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[SS]:{exposeProperties:{text:(r,e)=>dg(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function T4(r,e){const n=Qg[r];if(!n)throw new Error(`native type ${r} has no configuration`);const a=new E4(n);return a.loadDataTransfer(e),a}function gg(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(Qg).filter(n=>{const a=Qg[n];return a?.matchesTypes?a.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}const b4=ES(()=>/firefox/i.test(navigator.userAgent)),AS=ES(()=>!!window.safari);class pE{interpolate(e){const{xs:n,ys:a,c1s:o,c2s:u,c3s:h}=this;let g=n.length-1;if(e===n[g])return a[g];let m=0,p=h.length-1,v;for(;m<=p;){v=Math.floor(.5*(m+p));const O=n[v];if(O<e)m=v+1;else if(O>e)p=v-1;else return a[v]}g=Math.max(0,p);const S=e-n[g],b=S*S;return a[g]+o[g]*S+u[g]*b+h[g]*S*b}constructor(e,n){const{length:a}=e,o=[];for(let O=0;O<a;O++)o.push(O);o.sort((O,V)=>e[O]<e[V]?-1:1);const u=[],h=[];let g,m;for(let O=0;O<a-1;O++)g=e[O+1]-e[O],m=n[O+1]-n[O],u.push(g),h.push(m/g);const p=[h[0]];for(let O=0;O<u.length-1;O++){const V=h[O],G=h[O+1];if(V*G<=0)p.push(0);else{g=u[O];const q=u[O+1],H=g+q;p.push(3*H/((H+q)/V+(H+g)/G))}}p.push(h[h.length-1]);const v=[],S=[];let b;for(let O=0;O<p.length-1;O++){b=h[O];const V=p[O],G=1/u[O],q=V+p[O+1]-b-b;v.push((b-V-q)*G),S.push(q*G*G)}this.xs=e,this.ys=n,this.c1s=p,this.c2s=v,this.c3s=S}}const S4=1;function xS(r){const e=r.nodeType===S4?r:r.parentElement;if(!e)return null;const{top:n,left:a}=e.getBoundingClientRect();return{x:a,y:n}}function Qc(r){return{x:r.clientX,y:r.clientY}}function w4(r){var e;return r.nodeName==="IMG"&&(b4()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function A4(r,e,n,a){let o=r?e.width:n,u=r?e.height:a;return AS()&&r&&(u/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:u}}function x4(r,e,n,a,o){const u=w4(e),g=xS(u?r:e),m={x:n.x-g.x,y:n.y-g.y},{offsetWidth:p,offsetHeight:v}=r,{anchorX:S,anchorY:b}=a,{dragPreviewWidth:O,dragPreviewHeight:V}=A4(u,e,p,v),G=()=>{let k=new pE([0,.5,1],[m.y,m.y/v*V,m.y+V-v]).interpolate(b);return AS()&&u&&(k+=(window.devicePixelRatio-1)*V),k},q=()=>new pE([0,.5,1],[m.x,m.x/p*O,m.x+O-p]).interpolate(S),{offsetX:H,offsetY:se}=o,B=H===0||H,oe=se===0||se;return{x:B?H:q(),y:oe?se:G()}}class R4{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function D4(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function yE(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){D4(r,o,n[o])})}return r}class C4{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,a){return this.sourcePreviewNodeOptions.set(e,a),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,a){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,a);const o=h=>this.handleDragStart(h,e),u=h=>this.handleSelectStart(h);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",u),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",u),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const a=h=>this.handleDragEnter(h,e),o=h=>this.handleDragOver(h,e),u=h=>this.handleDrop(h,e);return n.addEventListener("dragenter",a),n.addEventListener("dragover",o),n.addEventListener("drop",u),()=>{n.removeEventListener("dragenter",a),n.removeEventListener("dragover",o),n.removeEventListener("drop",u)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return yE({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return yE({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(mE).some(n=>mE[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=T4(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var a;return(a=this.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,a){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const u=this.sourceNodes.get(o);return u&&xS(u)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:u}=this;this.dragStartSourceIds=null;const h=Qc(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(u||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:h});const{dataTransfer:g}=o,m=gg(g);if(this.monitor.isDragging()){if(g&&typeof g.setDragImage=="function"){const v=this.monitor.getSourceId(),S=this.sourceNodes.get(v),b=this.sourcePreviewNodes.get(v)||S;if(b){const{anchorX:O,anchorY:V,offsetX:G,offsetY:q}=this.getCurrentSourcePreviewNodeOptions(),B=x4(S,b,h,{anchorX:O,anchorY:V},{offsetX:G,offsetY:q});g.setDragImage(b,B.x,B.y)}}try{g?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:p}=this.getCurrentSourcePreviewNodeOptions();p?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(m)this.beginDragNativeItem(m);else{if(g&&!g.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var u;(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:g}=o,m=gg(g);m&&this.beginDragNativeItem(m,g)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:u}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,u.length>0&&this.actions.hover(u,{clientOffset:Qc(o)}),u.some(g=>this.monitor.canDropOnTarget(g))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var u;(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:u}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=Qc(o),this.scheduleHover(u),(u||[]).some(g=>this.monitor.canDropOnTarget(g))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var u;o.preventDefault(),(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(o.dataTransfer)}else gg(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:u}=this;this.dropTargetIds=[],this.actions.hover(u,{clientOffset:Qc(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const u=o.target;typeof u.dragDrop=="function"&&(u.tagName==="INPUT"||u.tagName==="SELECT"||u.tagName==="TEXTAREA"||u.isContentEditable||(o.preventDefault(),u.dragDrop()))},this.options=new R4(n,a),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new _4(this.isNodeInDocument)}}const I4=function(e,n,a){return new C4(e,n,a)},yo=["#00c2abff","#2563eb","#10b981","#e11d48","#6366f1","#fbbf24","#14b8a6","#f43f5e","#a3e635","#f472b6"],N4=()=>{const[r,e]=z.useState(""),[n,a]=z.useState([]),[o,u]=z.useState([]),[h,g]=z.useState(""),[m,p]=z.useState(!1),[v,S]=z.useState(!1),b=(B,oe)=>{let Z=[];if(B===10)Z=[4,3,3];else if(B===11)Z=[4,4,3];else if(B===12)Z=[4,4,4];else if(B===13)Z=[4,3,3,3];else if(B===14)Z=[4,4,3,3];else if(B===15)Z=[4,4,4,3];else if(B===16)Z=[4,4,4,4];else if(B===17)Z=[4,4,3,3,3];else if(B===18)Z=[4,4,4,3,3];else if(B===19)Z=[4,4,4,4,3];else if(B===20)Z=[4,4,4,4,4];else if(B===21)Z=[4,4,4,3,3,3];else if(B===22)Z=[4,4,4,4,3,3];else if(B===23)Z=[4,4,4,4,4,3];else if(B===24)Z=[4,4,4,4,4,4];else if(B===25)Z=[4,4,4,4,3,3,3];else{const k=Math.ceil(B/oe),M=Math.floor(B/k),w=B%k;for(let x=0;x<k;x++)Z.push(x<w?M+1:M);for(;Z.some(x=>x<3)&&Z.length>1;){const x=Z.length-1,R=Math.floor(B/x),I=B%x;Z=[];for(let N=0;N<x;N++)Z.push(N<I?R+1:R)}}return Z},O=(B,oe)=>{const Z=B.sort((x,R)=>R.Points!==x.Points?R.Points-x.Points:R.Dif!==x.Dif?R.Dif-x.Dif:R.GA!==x.GA?R.GA-x.GA:x.DG-R.DG),k=Z.length,M=b(k,oe),w=M.map(()=>[]);return Z.forEach((x,R)=>{const I=R%w.length;if(w[I].length<M[I])w[I].push(x);else{let N=0,D=M[0]-w[0].length;for(let ue=1;ue<w.length;ue++){const ye=M[ue]-w[ue].length;ye>D&&(D=ye,N=ue)}D>0&&w[N].push(x)}}),w.map(x=>x.sort((R,I)=>I.Points!==R.Points?I.Points-R.Points:I.Dif!==R.Dif?I.Dif-R.Dif:I.GA!==R.GA?I.GA-R.GA:R.DG-I.DG))},V=(B,oe)=>{if(v){alert("Groups are locked. You cannot modify teams after saving.");return}if(window.confirm("Are you sure you want to remove this team from the group?")){const Z=[...n],k=Z[B][oe];Z[B].splice(oe,1),u(w=>[...w,{...k,group:null}]);const M=Z.filter(w=>w.length>0);a(M)}},G=async()=>{if(!r){alert("Please enter a league name first.");return}if(window.confirm("Are you sure you want to reset all group fixtures? This will delete all existing fixtures and matches for this league and unlock groups."))try{p(!0);const B=En(Fe,`leagues/${r}/fixtures`),oe=await rn(B);for(const I of oe.docs)await Gc(I.ref);const Z=En(Fe,`leagues/${r}/endedMatches`),k=await rn(Z);for(const I of k.docs)await Gc(I.ref);const M=En(Fe,`leagues/${r}/teams`),w=await rn(M);for(const I of w.docs){const N=I.data();await zt(I.ref,{...N,Points:0,DG:0,GA:0,Dif:0,group:null,lockedInGroup:!1},{merge:!0})}const x=En(Fe,`leagues/${r}/groups`),R=await rn(x);for(const I of R.docs)await Gc(I.ref);a([]),u([]),S(!1),alert("Group fixtures have been reset successfully! All teams have been moved to waiting list, their stats reset, and groups unlocked.")}catch(B){console.error("Error resetting fixtures:",B),alert("Error resetting fixtures: "+B.message)}finally{p(!1)}};z.useEffect(()=>{(async()=>{if(r){p(!0),g("");try{const oe=En(Fe,`leagues/${r}/teams`),Z=zg(oe,Hg("lockedInGroup","==",!0));if(!(await rn(Z)).empty){S(!0),console.log("Locked teams found. Locking UI.");const ue=En(Fe,`leagues/${r}/groups`),ye=await rn(ue);if(ye.empty)console.warn("Teams are locked but no group documents found. Proceeding as unlocked."),S(!1);else{let L={};for(const Y of ye.docs){const ae=Y.data(),re=Y.id;Array.isArray(ae.teams)?L[re]=ae.teams.map(he=>({name:he.name||"Unknown Team",...he})):(console.warn(`Group ${re} document does not contain a valid 'teams' array.`,ae),L[re]=[])}const $=Object.keys(L).sort().map(Y=>L[Y]);a($);const ve=await rn(oe);let P=[];ve.forEach(Y=>{const ae=Y.data();(!ae.group||ae.group.trim()==="")&&P.push({id:Y.id,name:ae.name,DG:ae.DG||0,GA:ae.GA||0,Dif:ae.Dif||0,Points:ae.Points||0,group:null})}),u(P),p(!1);return}}const M=await rn(oe);let w=[],x=[];M.forEach(ue=>{const ye=ue.data(),L=ue.id;ye.group?w.push({id:L,name:ye.name,DG:ye.DG||0,GA:ye.GA||0,Dif:ye.Dif||0,Points:ye.Points||0,group:ye.group}):x.push({id:L,name:ye.name,DG:ye.DG||0,GA:ye.GA||0,Dif:ye.Dif||0,Points:ye.Points||0,group:null})});let R=4;const I=Ct(Fe,"leagues",r),N=await rr(I);N.exists()&&N.data().maxTeams&&(R=Math.max(3,parseInt(N.data().maxTeams)));const D=O(w,R);a(D),u(x),S(!1)}catch(oe){console.error("Error loading teams or checking groups:",oe),g("Error loading teams or checking group status."),a([]),u([]),S(!1)}p(!1)}})()},[r]);const q=async()=>{if(v){alert("Groups are already saved and locked.");return}if(n.length===0){alert("No groups to save.");return}try{const B=En(Fe,`leagues/${r}/groups`),oe=await rn(B);for(const w of oe.docs)await Gc(w.ref);const Z=[];for(let w=0;w<n.length;w++){const x=String.fromCharCode(65+w),R=Ct(Fe,`leagues/${r}/groups`,x);await zt(R,{teams:n[w]},{merge:!0});for(let I of n[w]){const N=I.id||I.name,D=Ct(Fe,`leagues/${r}/teams`,N);Z.push(zt(D,{group:x,lockedInGroup:!0},{merge:!0}))}}await Promise.all(Z);const k=(w,x)=>{const R=[];let I=1;for(let N=0;N<w.length;N++)for(let D=N+1;D<w.length;D++)R.push({teamA:w[N].name,teamB:w[D].name,matchNum:I++,group:String.fromCharCode(65+x)});return R};let M=[];for(let w=0;w<n.length;w++){const x=n[w],R=k(x,w);M=[...M,...R]}if(M.length>0){const w=Ct(Fe,`leagues/${r}/groups`,"matches");await zt(w,{matches:M},{merge:!0})}alert("Groups, matches saved, and teams locked successfully!"),S(!0)}catch(B){console.error("Error saving groups:",B),alert("Error saving groups: "+B.message)}},H=({team:B,groupIndex:oe,teamIndex:Z,onDelete:k})=>{const[{isDragging:M},w]=l4(()=>({type:"TEAM",item:{groupIndex:oe,teamIndex:Z},collect:x=>({isDragging:!!x.isDragging()}),canDrag:()=>!v}));return E.jsxs("tr",{ref:w,style:{borderBottom:"1px solid #eee",opacity:M?.5:1,cursor:v?"not-allowed":"move"},children:[E.jsx("td",{style:{padding:"8px",fontWeight:600},children:B.name}),E.jsx("td",{style:{padding:"8px"},children:B.DG}),E.jsx("td",{style:{padding:"8px"},children:B.GA}),E.jsx("td",{style:{padding:"8px"},children:B.Dif}),E.jsxs("td",{style:{padding:"8px",fontWeight:700},children:[B.Points,v?E.jsx("span",{style:{float:"right",color:"#999",fontSize:"0.8em"},children:"Locked"}):E.jsx("button",{onClick:()=>k(oe,Z),style:{background:"#e11d48",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",cursor:"pointer",float:"right"},children:"X"})]})]},B.name)},se=({groupIndex:B,children:oe,onDropTeam:Z})=>{const[{isOver:k},M]=p4(()=>({accept:"TEAM",drop:w=>{v||Z(w,B)},collect:w=>({isOver:!!w.isOver()}),canDrop:()=>!v}));return E.jsx("div",{ref:M,style:{minHeight:"100px",backgroundColor:k&&!v?"rgba(255,255,255,0.2)":"transparent",transition:"background-color 0.2s",opacity:v?.9:1,position:"relative"},children:oe})};return E.jsx(jO,{backend:I4,children:E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Groups"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"#2025",children:"2025"}),E.jsx("a",{href:"#history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("div",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",id:"active",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("div",{className:"groups-super-page",style:{width:"100%"},children:[E.jsxs("header",{className:"groups-header",children:[E.jsx("h1",{className:"groups-title",children:"Groups Draw"}),E.jsxs("div",{className:"groups-controls",children:[E.jsx("input",{type:"text",className:"groups-league-input",placeholder:"Enter League Name...",value:r,onChange:B=>e(B.target.value)}),E.jsx("button",{onClick:G,style:{background:"#e11d48",color:"white",border:"none",borderRadius:"4px",padding:"8px 16px",cursor:"pointer",marginLeft:"8px"},disabled:m,children:"Reset Fixtures"})]})]}),h&&(!r||h!=="League not found."&&h!=="No teams found for this league.")&&E.jsx("div",{className:"groups-error",children:h}),m?E.jsx("div",{className:"groups-loading",children:"Loading groups..."}):E.jsxs(E.Fragment,{children:[v&&E.jsx("div",{style:{textAlign:"center",padding:"10px",backgroundColor:"#fff3cd",color:"#856404",border:"1px solid #ffeaa7",borderRadius:"5px",margin:"10px auto",maxWidth:"600px"},children:'Groups are locked. Saved groups cannot be modified. Use "Reset Fixtures" to unlock.'}),E.jsxs("div",{className:"groups-list-super",children:[n.map((B,oe)=>E.jsx(se,{groupIndex:oe,onDropTeam:(Z,k)=>{if(v){alert("Groups are locked. You cannot modify teams after saving.");return}if(Z.groupIndex===k)return;const M=Z.groupIndex,w=Z.teamIndex,x=[...n],[R]=x[M].splice(w,1);x[k].push(R),x[k].sort((I,N)=>N.Points!==I.Points?N.Points-I.Points:N.Dif!==I.Dif?N.Dif-I.Dif:N.GA!==I.GA?N.GA-I.GA:I.DG-N.DG),a(x)},children:E.jsxs("div",{className:"groups-super-card classic-group",style:{background:yo[oe%yo.length],boxShadow:"0 2px 12px #0002",borderRadius:"14px",padding:"18px 14px",margin:"18px",minWidth:220,maxWidth:340,flex:"1 1 260px",color:"#fff",border:"2px solid #fff",position:"relative",overflow:"hidden",opacity:v?.9:1},children:[E.jsxs("div",{className:"groups-super-label classic-group-title",style:{fontWeight:700,fontSize:"1.5rem",letterSpacing:"2px",marginBottom:12,color:"#fff",borderBottom:"2px solid #fff",paddingBottom:8},children:["Group ",String.fromCharCode(65+oe)]}),E.jsxs("table",{style:{width:"100%",background:"#fff",color:yo[oe%yo.length],borderRadius:"8px",boxShadow:"0 2px 8px #0001",borderCollapse:"collapse",marginBottom:"8px"},children:[E.jsx("thead",{children:E.jsxs("tr",{style:{background:yo[oe%yo.length],color:"#fff"},children:[E.jsx("th",{style:{padding:"8px"},children:"Team"}),E.jsx("th",{style:{padding:"8px"},children:"GD"}),E.jsx("th",{style:{padding:"8px"},children:"GA"}),E.jsx("th",{style:{padding:"8px"},children:"Dif"}),E.jsx("th",{style:{padding:"8px"},children:"Points"})]})}),E.jsx("tbody",{children:B.map((Z,k)=>E.jsx(H,{team:Z,groupIndex:oe,teamIndex:k,onDelete:V},Z.name))})]})]})},oe)),o.length>0&&E.jsxs("div",{className:"groups-super-card classic-group",style:{background:"#fff",boxShadow:"0 2px 12px #0002",borderRadius:"14px",padding:"18px 14px",margin:"18px",minWidth:220,maxWidth:340,flex:"1 1 260px",color:"#2563eb",border:"2px solid #2563eb",position:"relative",overflow:"hidden"},children:[E.jsx("div",{className:"groups-super-label classic-group-title",style:{fontWeight:700,fontSize:"1.5rem",letterSpacing:"2px",marginBottom:12,color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:8},children:"Waiting Teams"}),E.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:o.map(B=>E.jsx("li",{style:{fontWeight:600,fontSize:"1rem",color:"#222",marginBottom:"6px"},children:B.name},B.name))}),v?E.jsx("div",{style:{marginTop:"12px",padding:"10px 24px",fontWeight:700,fontSize:"1rem",borderRadius:"8px",background:"#ccc",color:"#666",border:"none",textAlign:"center"},children:"Teams Distributed (Locked)"}):E.jsx("button",{style:{marginTop:"12px",padding:"10px 24px",fontWeight:700,fontSize:"1rem",borderRadius:"8px",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer"},onClick:()=>{if(o.length===0||v)return;let B=4;const oe=Ct(Fe,"leagues",r);rr(oe).then(Z=>{Z.exists()&&Z.data().maxTeams&&(B=Math.max(3,parseInt(Z.data().maxTeams)));let k=[...n];const M=o.slice().sort((x,R)=>R.Points!==x.Points?R.Points-x.Points:R.Dif!==x.Dif?R.Dif-x.Dif:R.GA!==x.GA?R.GA-x.GA:x.DG-R.DG),w=k.map((x,R)=>({group:x,idx:R,size:x.length})).filter(x=>x.size<B);if(w.length>0)M.forEach((x,R)=>{let I=null,N=-1;for(const{group:D,idx:ue}of w){const ye=B-D.length;ye>0&&ye>N&&(N=ye,I={group:D,idx:ue})}I&&N>0?(k[I.idx].push(x),k[I.idx].sort((D,ue)=>ue.Points!==D.Points?ue.Points-D.Points:ue.Dif!==D.Dif?ue.Dif-D.Dif:ue.GA!==D.GA?ue.GA-D.GA:D.DG-ue.DG)):k.push([x])});else{const x=Math.min(B,Math.ceil(M.length/Math.ceil(M.length/B)));for(let R=0;R<M.length;R+=x)k.push(M.slice(R,R+x))}a(k),u([])}).catch(Z=>{console.error("Error distributing waiting teams:",Z),alert("Error distributing waiting teams: "+Z.message)})},children:"Distribute Teams"})]})]})]}),E.jsxs("div",{style:{margin:"32px 0",textAlign:"center"},children:[E.jsx("h2",{style:{fontWeight:800,fontSize:"1.3rem",marginBottom:"18px",color:"#2563eb"},children:"Stages"}),E.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"16px"},children:[{name:"Stage 32",count:32},{name:"Stage 16",count:16},{name:"Quarter Final",count:8},{name:"Semi Final",count:4},{name:"Final",count:2}].map(B=>E.jsx("button",{className:"save-groups-btn",style:{padding:"12px 28px",fontWeight:700,fontSize:"1.08rem",borderRadius:"8px",background:"#10b981",color:"#fff",border:"none",boxShadow:"0 1px 4px #0001",cursor:"pointer"},onClick:async()=>{if(window.confirm(`Are you sure to start ${B.name}?`))try{const oe=[];n.forEach(($,ve)=>{const P=String.fromCharCode(65+ve);$.slice().sort((ae,re)=>re.Points!==ae.Points?re.Points-ae.Points:re.Dif!==ae.Dif?re.Dif-ae.Dif:re.GA!==ae.GA?re.GA-ae.GA:ae.DG-re.DG).forEach((ae,re)=>{oe.push({...ae,group:P,groupPosition:re+1,id:ae.id?.trim()||ae.name?.trim(),name:ae.name?.trim()})})}),console.log("All teams with group info:",oe);const Z=oe.filter($=>$.groupPosition===1),k=oe.filter($=>$.groupPosition===2),M=oe.filter($=>$.groupPosition===3);console.log("First place teams:",Z),console.log("Second place teams:",k),console.log("Third place teams:",M);let w=[...Z,...k];console.log(`Qualified teams from top 2 of each group: ${w.length}`);const x=B.count;if(w.length<x){const $=x-w.length;console.log(`Need ${$} more teams from third place`);const P=M.sort((Y,ae)=>ae.Points!==Y.Points?ae.Points-Y.Points:ae.Dif!==Y.Dif?ae.Dif-Y.Dif:ae.GA!==Y.GA?ae.GA-Y.GA:Y.DG-ae.DG).slice(0,$);w=[...w,...P],console.log("Best third place teams added:",P)}if(w.length<x){alert(`Not enough teams to start ${B.name}. Need ${x}, but only have ${w.length} qualified teams.`);return}const R=w.sort(($,ve)=>ve.Points!==$.Points?ve.Points-$.Points:ve.Dif!==$.Dif?ve.Dif-$.Dif:ve.GA!==$.GA?ve.GA-$.GA:$.DG-ve.DG).slice(0,x);console.log("Final qualified teams:",R);const I=R.slice();for(let $=I.length-1;$>0;$--){const ve=Math.floor(Math.random()*($+1));[I[$],I[ve]]=[I[ve],I[$]]}const N=[];for(let $=0;$<I.length;$+=2)I[$+1]&&N.push({teamA:I[$].id||I[$].name,teamAName:I[$].name,teamB:I[$+1].id||I[$+1].name,teamBName:I[$+1].name,teamAGroup:I[$].group,teamBGroup:I[$+1].group,teamAPosition:I[$].groupPosition,teamBPosition:I[$+1].groupPosition});console.log("Generated matches:",N);const D=Ct(Fe,`leagues/${r}/knockout`,B.name);await zt(D,{teams:R.map($=>({name:$.name,group:$.group,position:$.groupPosition,points:$.Points,goalDifference:$.Dif})),matches:N,stage:B.name,createdAt:new Date().toISOString(),qualificationMethod:{firstPlace:Z.length,secondPlace:k.length,thirdPlace:R.filter($=>$.groupPosition===3).length,totalGroups:n.length}});const ue=R.filter($=>$.groupPosition===1).length,ye=R.filter($=>$.groupPosition===2).length,L=R.filter($=>$.groupPosition===3).length;let ie=`Knockout stage '${B.name}' created!
`;ie+=`Qualified teams (${R.length}):
`,ie+=` ${ue} group winners
`,ie+=` ${ye} group runners-up
`,L>0&&(ie+=` ${L} best third-place teams
`),ie+=`
Matches created: ${N.length}`,alert(ie)}catch(oe){console.error("Error creating knockout stage:",oe),alert("Error saving knockout stage: "+oe.message)}},children:B.name},B.name))})]}),E.jsx("button",{className:"save-groups-btn",style:{margin:"32px auto 0 auto",display:"block",padding:"14px 38px",fontWeight:700,fontSize:"1.2rem",borderRadius:"8px",background:v?"#ccc":"#2563eb",color:"#fff",border:"none",boxShadow:"0 2px 8px #2563eb22",cursor:v?"not-allowed":"pointer",opacity:v?.6:1},onClick:q,disabled:v||n.length===0,children:v?"Groups Saved (Locked)":"Save Groups"})]})]})]})})},O4=r=>{const e=[],n=[...r];for(;n.length>0;){const a=[],o=new Set;for(let u=n.length-1;u>=0;u--){const h=n[u];if(!o.has(h.teamA)&&!o.has(h.teamB)&&(a.push(h),o.add(h.teamA),o.add(h.teamB),n.splice(u,1)),a.length===2)break}if(a.length>0&&e.push(a),e.length>r.length){console.error("Failed to schedule all matches. Potential conflict or infinite loop.");break}}return e},M4=()=>{const[r,e]=z.useState(""),[n,a]=z.useState(!1),[o,u]=z.useState([]),[h,g]=z.useState(!1),[m,p]=z.useState(""),[v,S]=z.useState(""),[b,O]=z.useState([]),[V,G]=z.useState([]),[q,H]=z.useState({}),[se,B]=z.useState({}),[oe,Z]=z.useState({}),k=nm();z.useEffect(()=>{if(!m){u([]),O([]),G([]),H({}),B({}),Z({});return}const N=async()=>{g(!0),S("");try{const ue=Ct(Fe,"leagues",m);if(!(await rr(ue)).exists()){S("League not found."),u([]),O([]),G([]),g(!1);return}const L=En(Fe,`leagues/${m}/teams`),ie=await rn(L);let $=[];ie.forEach(re=>{const he=re.data();$.push({name:he.name,DG:he.DG||0,GA:he.GA||0,Dif:he.Dif||0,Points:he.Points||0,group:he.group||"",players:he.players||[]})}),u($);const ve=Ct(Fe,`leagues/${m}/groups`,"matches"),P=await rr(ve);let Y=[];if(P.exists()&&Array.isArray(P.data().matches))Y=P.data().matches;else{let re={};$.forEach(be=>{be.group&&(re[be.group]||(re[be.group]=[]),re[be.group].push(be))});let he=1;Object.keys(re).sort().forEach(be=>{const Te=re[be];if(Te.length>1)for(let rt=0;rt<Te.length;rt++)for(let Ve=rt+1;Ve<Te.length;Ve++)Y.push({group:be,matchNum:he++,teamA:Te[rt].name,teamB:Te[Ve].name})})}O(Y);const ae=O4(Y);G(ae),g(!1)}catch(ue){console.error("Error fetching teams or generating matches:",ue),S("Error loading teams or matches."),u([]),O([]),G([]),g(!1)}},D=async()=>{if(m)try{const ue=En(Fe,`leagues/${m}/endedMatches`),ye=await rn(ue);let L={};ye.forEach(ie=>{const $=ie.data(),ve=`${$.group}_${$.matchNum}`;L[ve]={scoreA:$.scoreA,scoreB:$.scoreB,teamA:$.teamA,teamB:$.teamB}}),H(L)}catch(ue){console.error("Error fetching ended matches:",ue),H({})}};N(),D()},[m]);const M=async()=>{if(!m){alert("Enter league name first!");return}if(b.length===0){alert("No matches to save.");return}try{const N=Ct(Fe,`leagues/${m}/groups`,"matches");await zt(N,{matches:b},{merge:!0}),alert("All matches saved successfully!")}catch(N){console.error("Error saving matches:",N),alert("Error saving matches: "+N.message)}},w=N=>{k("/events",{state:{match:N,leagueName:m}})},x=async N=>{if(!window.confirm("Are you sure you want to finalize and hide this match result forever?"))return;const D=`${N.group}_${N.matchNum}`;let ue=!1;try{let ye=0,L=0;if(q[D])ye=q[D].scoreA||0,L=q[D].scoreB||0;else{const Ln=`${N.group||""}_${N.matchNum}`,ar=oe[Ln]||{scoreA:0,scoreB:0};ye=Number(ar.scoreA)||0,L=Number(ar.scoreB)||0}const ie=Ct(Fe,`leagues/${m}/endedMatches`,D);await zt(ie,{...N,scoreA:ye,scoreB:L,endedAt:new Date().toISOString()},{merge:!0});const $=Ct(Fe,`leagues/${m}/teams`,N.teamA),ve=Ct(Fe,`leagues/${m}/teams`,N.teamB),[P,Y]=await Promise.all([rr($),rr(ve)]),ae=P.exists()?P.data():{},re=Y.exists()?Y.data():{};let he=ae.Points||0,be=re.Points||0,Te=ae.GA||0,rt=re.GA||0,Ve=ae.DG||0,Et=re.DG||0;ye>L?he+=3:ye<L?be+=3:(he+=1,be+=1),Te+=ye,Ve+=L,rt+=L,Et+=ye;const gt=Te-Ve,sn=rt-Et;await Promise.all([zt($,{Points:he,GA:Te,DG:Ve,Dif:gt},{merge:!0}),zt(ve,{Points:be,GA:rt,DG:Et,Dif:sn},{merge:!0})]),B(Ln=>({...Ln,[D]:!0})),localStorage.setItem(`checked_${m}_${D}`,"true"),ue=!0,alert("Match result saved and stats updated successfully!")}catch(ye){console.error("Error saving match result:",ye),alert("Error saving match result: "+(ye.message||"Unknown error")),ue=!1}},I=r.trim()?V.map(N=>N.filter(D=>D.teamA.toLowerCase().includes(r.toLowerCase())||D.teamB.toLowerCase().includes(r.toLowerCase()))).filter(N=>N.length>0):V;return E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Fixtures"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"#2025",children:"2025"}),E.jsx("a",{href:"#history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("div",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",id:"active",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("section",{className:"fix-section-main",children:[E.jsx("h1",{className:"groups-title",style:{textAlign:"center"},children:"Group Stage Fixtures"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"24px 0"},children:[E.jsx("div",{className:"fix-league-input-row",style:{width:"100%",maxWidth:"340px",marginBottom:"12px"},children:E.jsx("input",{type:"text",className:"fix-league-input",placeholder:"Enter League Name...",value:m,onChange:N=>p(N.target.value),style:{width:"100%",textAlign:"center"}})}),E.jsx("div",{className:"fix-search-row",style:{width:"100%",maxWidth:"340px"},children:E.jsx("input",{type:"text",className:"fix-league-input",placeholder:"Search team match...",value:r,onChange:N=>e(N.target.value),style:{width:"100%",textAlign:"center"}})})]}),v&&(!m||v!=="League not found."&&v!=="No teams found for this league.")&&E.jsx("div",{className:"fix-error",children:v}),h?E.jsx("div",{className:"fix-loading",children:"Loading fixtures..."}):E.jsx(E.Fragment,{children:b.length===0&&!v&&m?E.jsx("div",{className:"fix-error",children:"No group matches found. Please ensure teams are assigned to groups in the 'Groups' section."}):b.length===0?E.jsx("div",{className:"fix-error",children:"Please enter a league name to generate or load fixtures."}):E.jsx("div",{className:"fix-matches-list",children:I.length===0&&r?E.jsxs("div",{className:"fix-error",children:['No matches found for "',r,'".']}):I.length===0?E.jsx("div",{className:"fix-error",children:"No matches scheduled."}):I.map((N,D)=>E.jsx("div",{style:{width:"100%"},children:N.map((ue,ye)=>{const L=`${ue.group}_${ue.matchNum}`,ie=q[L];if(se[L]||localStorage.getItem(`checked_${m}_${L}`))return null;const ve=`${ue.group||""}_${ue.matchNum}`,P=oe[ve]||{scoreA:"",scoreB:""},Y=ie,ae=ye===0?"Stadium 1":"Stadium 2",re=`slot-${D}-match-${ye}`;return E.jsxs("div",{className:"fix-match-card",style:{marginBottom:"24px",minHeight:"120px",width:"100%",maxWidth:"620px",border:"3px solid #000",borderRadius:"18px",background:"#fff",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"24px",boxSizing:"border-box",boxShadow:"0 2px 8px #0001",marginLeft:"auto",marginRight:"auto"},children:[E.jsxs("div",{style:{textAlign:"center",fontWeight:700,fontSize:"1.3rem",color:"#222",marginBottom:"12px"},children:["Match ",D+1," "]}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:"12px"},children:[E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"left"},children:ue.teamA}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"18px"},children:[E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:Y&&ie?E.jsx("h2",{style:{margin:"0",color:"#2563eb"},children:ie.scoreA}):E.jsx("input",{type:"number",min:"0",max:"99",className:"fix-score-input",placeholder:"",style:{width:"40px",height:"40px",fontSize:"1.2rem",textAlign:"center",border:"none"},value:P.scoreA,onChange:he=>{const be=he.target.value;Z(Te=>({...Te,[ve]:{...Te[ve],scoreA:be}}))},disabled:Y})}),E.jsx("span",{style:{fontWeight:700,fontSize:"1.2rem",color:"#222"},children:"vs"}),E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:Y&&ie?E.jsx("h2",{style:{margin:"0",color:"#2563eb"},children:ie.scoreB}):E.jsx("input",{type:"number",min:"0",max:"99",className:"fix-score-input",placeholder:"",style:{width:"40px",height:"40px",fontSize:"1.2rem",textAlign:"center",border:"none"},value:P.scoreB,onChange:he=>{const be=he.target.value;Z(Te=>({...Te,[ve]:{...Te[ve],scoreB:be}}))},disabled:Y})})]}),E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"right"},children:ue.teamB})]}),E.jsxs("div",{className:"fix-stadium",style:{textAlign:"center",marginTop:"8px",fontWeight:500,color:"#222"},children:[ae," "]}),E.jsxs("div",{className:"fix-match-actions",style:{display:"flex",justifyContent:"center",gap:"16px",marginTop:"12px"},children:[E.jsxs("button",{className:"fix-check-btn",onClick:()=>x(ue),children:[E.jsx("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:E.jsx("path",{d:"M5 10l4 4 6-8",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Check Match"]}),E.jsxs("button",{className:"fix-events-btn",onClick:()=>w(ue),children:[E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:[E.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"#fff",strokeWidth:"2"}),E.jsx("rect",{x:"8",y:"6",width:"4",height:"8",rx:"2",fill:"#fff"})]}),"Events"]})]})]},re)})},`slot-${D}`))})}),m&&b.length>0&&E.jsx("div",{style:{textAlign:"center",margin:"24px 0"},children:E.jsx("button",{className:"fix-save-btn",onClick:M,children:"Save All Matches"})})]})]})]})},vE=E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[E.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"#2563eb",strokeWidth:"2"}),E.jsx("circle",{cx:"10",cy:"10",r:"4",fill:"#2563eb"})]}),_E=E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[E.jsx("rect",{x:"4",y:"12",width:"12",height:"4",rx:"2",fill:"#10b981"}),E.jsx("path",{d:"M4 12L8 8L16 8",stroke:"#10b981",strokeWidth:"2"})]}),P4=()=>{const r=ja(),e=r.state?.match,n=r.state?.leagueName||"",[a,o]=z.useState([]),[u,h]=z.useState({}),[g,m]=z.useState({}),[p,v]=z.useState(0),[S,b]=z.useState(0),[O,V]=z.useState([]),[G,q]=z.useState([]),[H,se]=z.useState(!0);z.useEffect(()=>{(async()=>{if(!e||!n){se(!1);return}se(!0);try{const{teamA:M,teamB:w}=e;console.log("Fetching players for:",M,"vs",w,"in league:",n);const x=async N=>{try{const D=Ct(Fe,`leagues/${n}/teams`,N),ue=await rr(D);let ye=[];if(ue.exists()){const L=ue.data();console.log(`Team ${N} data:`,L),ye=(L.players||[]).map($=>({name:$.name||$,image:$.image||"",team:N}))}else console.log(`Team ${N} document does not exist`);return ye}catch(D){return console.error(`Error fetching players for team ${N}:`,D),[]}},[R,I]=await Promise.all([x(M),x(w)]);console.log("Team A Players:",R),console.log("Team B Players:",I),V(R),q(I),o([...R,...I])}catch(M){console.error("Error fetching players:",M),o([]),V([]),q([])}se(!1)})()},[e,n]);const B=k=>{console.log(` Adding goal for ${k} (local only)`),h(w=>{const x={...w,[k]:(w[k]||0)+1};return console.log("Updated local goals state:",x),x});const M=a.find(w=>w.name===k);M&&(M.team===e.teamA?v(w=>w+1):M.team===e.teamB&&b(w=>w+1))},oe=k=>{console.log(` Adding assist for ${k} (local only)`),m(M=>{const w={...M,[k]:(M[k]||0)+1};return console.log("Updated local assists state:",w),w})},Z=async()=>{if(window.confirm("Are you sure you want to end this match? This will save all goals and assists to the database."))try{console.log(" Ending match and saving to database..."),console.log("Final goals:",u),console.log("Final assists:",g),console.log("Final scores:",{scoreA:p,scoreB:S}),console.log(" Updating player stats in database...");for(const[R,I]of Object.entries(u))if(I>0){const N=a.find(D=>D.name===R);if(N)try{console.log(`Updating ${I} goals for ${R} in team ${N.team}`);const D=Ct(Fe,`leagues/${n}/teams`,N.team),ue=await rr(D);if(ue.exists()){const ye=ue.data(),L=ye.players||[],ie=L.findIndex($=>$.name===R);ie!==-1&&(L[ie]={...L[ie],goals:(L[ie].goals||0)+I},await zt(D,{...ye,players:L}),console.log(` Updated goals for ${R}. New total: ${L[ie].goals}`))}}catch(D){console.error(` Error updating goals for ${R}:`,D)}}for(const[R,I]of Object.entries(g))if(I>0){const N=a.find(D=>D.name===R);if(N)try{console.log(`Updating ${I} assists for ${R} in team ${N.team}`);const D=Ct(Fe,`leagues/${n}/teams`,N.team),ue=await rr(D);if(ue.exists()){const ye=ue.data(),L=ye.players||[],ie=L.findIndex($=>$.name===R);ie!==-1&&(L[ie]={...L[ie],assists:(L[ie].assists||0)+I},await zt(D,{...ye,players:L}),console.log(` Updated assists for ${R}. New total: ${L[ie].assists}`))}}catch(D){console.error(` Error updating assists for ${R}:`,D)}}const k=[],M=[];Object.entries(u).forEach(([R,I])=>{const N=a.find(D=>D.name===R);if(N)for(let D=0;D<I;D++)k.push({name:R,team:N.team})}),Object.entries(g).forEach(([R,I])=>{const N=a.find(D=>D.name===R);if(N)for(let D=0;D<I;D++)M.push({name:R,team:N.team})}),console.log("Goals array for match record:",k),console.log("Assists array for match record:",M);const w={...e,scoreA:p,scoreB:S,goals:k,assists:M,endedAt:new Date().toISOString()},x=`${e.group||"group"}_${e.matchNum||Date.now()}`;console.log("Saving match with ID:",x),await zt(Ct(Fe,`leagues/${n}/endedMatches`,x),w),console.log(" Match ended and all data saved successfully"),alert("Match ended successfully! All goals and assists have been recorded in the database."),window.location.href="/saint-mark-leagues/#/fixtures"}catch(k){console.error(" Error saving match result:",k),alert("Error saving match result: "+k.message)}};return e?H?E.jsx("div",{style:{textAlign:"center",marginTop:"48px",padding:"20px"},children:E.jsx("h2",{children:"Loading players..."})}):E.jsxs("div",{className:"events-page",style:{maxWidth:"620px",margin:"32px auto",padding:"0 16px"},children:[E.jsxs("div",{className:"fix-match-card",style:{marginBottom:"24px",minHeight:"120px",width:"100%",border:"3px solid #000",borderRadius:"18px",background:"#fff",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"24px",boxSizing:"border-box",boxShadow:"0 2px 8px #0001"},children:[E.jsxs("div",{style:{textAlign:"center",fontWeight:700,fontSize:"1.3rem",color:"#222",marginBottom:"12px"},children:["Match ",e.matchNum||"N/A"]}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:"12px"},children:[E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"left"},children:e.teamA}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"18px"},children:[E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:p}),E.jsx("span",{style:{fontWeight:700,fontSize:"1.2rem",color:"#222"},children:"vs"}),E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:S})]}),E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"right"},children:e.teamB})]}),E.jsxs("div",{className:"fix-stadium",style:{textAlign:"center",marginTop:"8px",fontWeight:500,color:"#222"},children:["Stadium: ",e.stadium||"N/A"]})]}),E.jsx("div",{style:{marginBottom:"18px",fontWeight:700,fontSize:"1.1rem",color:"#2563eb",textAlign:"center"},children:'Assign Goals & Assists (Click "End Match" to save to database)'}),O.length>0&&E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsxs("h3",{style:{fontWeight:600,fontSize:"1.1rem",color:"#fff",marginBottom:"12px",background:"#2563eb",padding:"8px 16px",borderRadius:"8px",textAlign:"center"},children:[e.teamA," (",O.length," players)"]}),E.jsx("div",{className:"events-players-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:O.map((k,M)=>E.jsxs("div",{className:"events-player-card",style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px #0001",padding:"12px 18px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",border:"2px solid #2563eb22"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx("img",{src:k.image||`https://ui-avatars.com/api/?name=${encodeURIComponent(k.name)}&background=2563eb&color=fff`,alt:k.name,style:{width:"44px",height:"44px",borderRadius:"50%",objectFit:"cover",background:"#eee",border:"2px solid #2563eb"}}),E.jsx("span",{style:{fontWeight:600,fontSize:"1.08rem",color:"#222",minWidth:"120px",maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:k.name})]}),E.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[E.jsxs("button",{onClick:()=>B(k.name),style:{background:"none",border:"2px solid #2563eb",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Goal",children:[vE,E.jsx("span",{style:{fontWeight:600,color:"#2563eb"},children:u[k.name]||0})]}),E.jsxs("button",{onClick:()=>oe(k.name),style:{background:"none",border:"2px solid #10b981",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Assist",children:[_E,E.jsx("span",{style:{fontWeight:600,color:"#10b981"},children:g[k.name]||0})]})]})]},`${k.name}-${M}`))})]}),G.length>0&&E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsxs("h3",{style:{fontWeight:600,fontSize:"1.1rem",color:"#fff",marginBottom:"12px",background:"#e11d48",padding:"8px 16px",borderRadius:"8px",textAlign:"center"},children:[e.teamB," (",G.length," players)"]}),E.jsx("div",{className:"events-players-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:G.map((k,M)=>E.jsxs("div",{className:"events-player-card",style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px #0001",padding:"12px 18px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",border:"2px solid #e11d4822"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx("img",{src:k.image||`https://ui-avatars.com/api/?name=${encodeURIComponent(k.name)}&background=e11d48&color=fff`,alt:k.name,style:{width:"44px",height:"44px",borderRadius:"50%",objectFit:"cover",background:"#eee",border:"2px solid #e11d48"}}),E.jsx("span",{style:{fontWeight:600,fontSize:"1.08rem",color:"#222",minWidth:"120px",maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:k.name})]}),E.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[E.jsxs("button",{onClick:()=>B(k.name),style:{background:"none",border:"2px solid #2563eb",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Goal",children:[vE,E.jsx("span",{style:{fontWeight:600,color:"#2563eb"},children:u[k.name]||0})]}),E.jsxs("button",{onClick:()=>oe(k.name),style:{background:"none",border:"2px solid #10b981",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Assist",children:[_E,E.jsx("span",{style:{fontWeight:600,color:"#10b981"},children:g[k.name]||0})]})]})]},`${k.name}-${M}`))})]}),E.jsx("div",{style:{textAlign:"center",margin:"24px 0"},children:E.jsx("button",{className:"fix-save-btn",style:{padding:"12px 32px",fontSize:"1.1rem"},onClick:Z,children:"End Match"})})]}):E.jsxs("div",{style:{textAlign:"center",marginTop:"48px",padding:"20px"},children:[E.jsx("h2",{children:"No match selected"}),E.jsx("p",{children:"Please select a match to record events."})]})},V4=()=>{const[r,e]=z.useState(""),[n,a]=z.useState([]),[o,u]=z.useState(!1),[h,g]=z.useState(""),[m,p]=z.useState("2025");return z.useEffect(()=>{r&&(u(!0),g(""),(async()=>{try{const v=En(Fe,`leagues/${r}/teams`),S=await rn(v);let b=[];S.forEach(O=>{const V=O.data(),G=V.name;(Array.isArray(V.players)?V.players:[]).forEach(H=>{typeof H.goals=="number"&&H.goals>0&&b.push({name:H.name,goals:H.goals,assists:H.assists||0,team:G})})}),b.sort((O,V)=>V.goals-O.goals),a(b.slice(0,20))}catch{g("Error loading scorers.")}u(!1)})())},[r,m]),E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Top Scorers"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top assisters"}),E.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("aside",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",id:"active",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("div",{className:"scorers-container",children:[E.jsx("div",{className:"scorers-controls",children:E.jsx("input",{type:"text",className:"scorers-league-input",placeholder:"Enter League Name...",value:r,onChange:v=>e(v.target.value)})}),h&&E.jsx("div",{className:"scorers-error",children:h}),o?E.jsx("div",{className:"scorers-loading",children:"Loading..."}):E.jsx("div",{className:"scorers-table-wrapper",style:{maxWidth:"1200px",margin:"0 auto"},children:E.jsxs("table",{className:"scorers-table",style:{width:"100%"},children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Rank"}),E.jsx("th",{children:"Player"}),E.jsx("th",{children:"Team"}),E.jsx("th",{children:"Goals"})]})}),E.jsx("tbody",{children:n.map((v,S)=>E.jsxs("tr",{children:[E.jsx("td",{children:S+1}),E.jsx("td",{children:v.name}),E.jsx("td",{children:v.team}),E.jsx("td",{children:v.goals})]},v.name+v.team))})]})})]})]})]})},k4=()=>{const[r,e]=z.useState(""),[n,a]=z.useState([]),[o,u]=z.useState(!1),[h,g]=z.useState(""),[m,p]=z.useState("2025");return z.useEffect(()=>{r&&(u(!0),g(""),(async()=>{try{const v=En(Fe,`leagues/${r}/teams`),S=await rn(v);let b=[];S.forEach(O=>{const V=O.data(),G=V.name;(Array.isArray(V.players)?V.players:[]).forEach(H=>{typeof H.assists=="number"&&H.assists>0&&b.push({name:H.name,assists:H.assists,assists:H.assists||0,team:G})})}),b.sort((O,V)=>V.assists-O.assists),a(b.slice(0,20))}catch{g("Error loading scorers.")}u(!1)})())},[r,m]),E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Top Scorers"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top assisters"}),E.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("aside",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",id:"active",children:"Top assisters"})]}),E.jsxs("div",{className:"scorers-container",children:[E.jsx("div",{className:"scorers-controls",children:E.jsx("input",{type:"text",className:"scorers-league-input",placeholder:"Enter League Name...",value:r,onChange:v=>e(v.target.value)})}),h&&E.jsx("div",{className:"scorers-error",children:h}),o?E.jsx("div",{className:"scorers-loading",children:"Loading..."}):E.jsx("div",{className:"scorers-table-wrapper",style:{maxWidth:"1200px",margin:"0 auto"},children:E.jsxs("table",{className:"scorers-table",style:{width:"100%"},children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Rank"}),E.jsx("th",{children:"Player"}),E.jsx("th",{children:"Team"}),E.jsx("th",{children:"assists"})]})}),E.jsx("tbody",{children:n.map((v,S)=>E.jsxs("tr",{children:[E.jsx("td",{children:S+1}),E.jsx("td",{children:v.name}),E.jsx("td",{children:v.team}),E.jsx("td",{children:v.assists})]},v.name+v.team))})]})})]})]})]})},j4=()=>{const[r,e]=z.useState(""),[n,a]=z.useState(!1),[o,u]=z.useState(""),[h,g]=z.useState(""),[m,p]=z.useState([]),[v,S]=z.useState({}),[b,O]=z.useState({}),[V,G]=z.useState({}),[q,H]=z.useState([]),[se,B]=z.useState([]);z.useEffect(()=>{(async()=>{if(o)try{const I=En(Fe,`leagues/${o}/stages`),D=(await rn(I)).docs.map(ue=>ue.data().name);H(D)}catch(I){console.error("Error fetching stages:",I)}})()},[o]),z.useEffect(()=>{(async()=>{if(o)try{const I=En(Fe,`leagues/${o}/teams`),N=await rn(I),D=[];N.forEach(ue=>{const ye=ue.data();D.push({name:ye.name,group:ye.group||"Unknown",players:ye.players||[]})}),B(D)}catch(I){console.error("Error fetching teams:",I),B([])}})()},[o]),z.useEffect(()=>{if(!o)return;const R=async()=>{a(!0),g("");try{const N=Ct(Fe,"leagues",o);if(!(await rr(N)).exists()){g("League not found."),p([]),a(!1);return}const ue=En(Fe,`leagues/${o}/knockout`),ye=await rn(ue);let L=[];ye.forEach($=>{const ve=$.data(),P=$.id,ae=(ve.matches||[]).map((re,he)=>({...re,stage:P,matchNum:he+1,group:P}));L.push({name:P,matches:ae,createdAt:ve.createdAt,teams:ve.teams||[]})});const ie=q.length>0?q:["Stage 32","Stage 16","Quarter Final","Semi Final","Final"];L.sort(($,ve)=>{const P=ie.indexOf($.name),Y=ie.indexOf(ve.name);return P-Y}),p(L),a(!1)}catch{g("Error loading knockout stages."),p([]),a(!1)}},I=async()=>{if(o)try{const N=En(Fe,`leagues/${o}/endedMatches`),D=await rn(N);let ue={};D.forEach(ye=>{const L=ye.data(),ie=`${L.stage||L.group}_${L.matchNum}`;ue[ie]={scoreA:L.scoreA,scoreB:L.scoreB,teamA:L.teamA||L.teamAName,teamB:L.teamB||L.teamBName}}),S(ue)}catch(N){console.error("Error fetching ended matches:",N),S({})}};R(),I()},[o,q]);const oe=nm(),Z=R=>{oe("/events",{state:{match:R,leagueName:o}})},k=async R=>{if(!window.confirm("Are you sure you want to check and hide this match forever?"))return;const I=`${R.stage}_${R.matchNum}`,N=`${R.stage||""}_${R.matchNum}`,D=V[N]||{scoreA:"",scoreB:""},ue=Number(D.scoreA)||0,ye=Number(D.scoreB)||0;let L=!1;try{const ie=Ct(Fe,`leagues/${o}/endedMatches`,I);let $=[],ve=[],P=ue,Y=ye;const ae=await rr(ie);if(ae.exists()){const he=ae.data();$=Array.isArray(he.goals)?he.goals:[],ve=Array.isArray(he.assists)?he.assists:[],P=he.scoreA!==void 0?he.scoreA:ue,Y=he.scoreB!==void 0?he.scoreB:ye,await zt(ie,{...he,scoreA:P,scoreB:Y,stage:R.stage,endedAt:new Date().toISOString()},{merge:!0})}else await zt(ie,{...R,scoreA:P,scoreB:Y,goals:[],assists:[],stage:R.stage,endedAt:new Date().toISOString()});if(console.log("Processing knockout match goals:",$),console.log("Processing knockout match assists:",ve),Array.isArray($)&&$.length>0)for(const he of $){if(!he.name||!he.team){console.log("Skipping invalid goal:",he);continue}try{console.log(`Processing goal for ${he.name} in team ${he.team}`);const be=Ct(Fe,`leagues/${o}/teams`,he.team),Te=await rr(be);if(Te.exists()){const rt=Te.data(),Ve=rt.players||[],Et=Ve.findIndex(gt=>gt.name===he.name);Et!==-1?(Ve[Et]={...Ve[Et],goals:(Ve[Et].goals||0)+1},await zt(be,{...rt,players:Ve}),console.log(` Updated goals for ${he.name}: ${Ve[Et].goals}`)):console.log(` Player ${he.name} not found in team ${he.team}`)}else console.log(` Team ${he.team} not found`)}catch(be){console.error(`Error updating goals for ${he.name}:`,be)}}if(Array.isArray(ve)&&ve.length>0)for(const he of ve){if(!he.name||!he.team){console.log("Skipping invalid assist:",he);continue}try{console.log(`Processing assist for ${he.name} in team ${he.team}`);const be=Ct(Fe,`leagues/${o}/teams`,he.team),Te=await rr(be);if(Te.exists()){const rt=Te.data(),Ve=rt.players||[],Et=Ve.findIndex(gt=>gt.name===he.name);Et!==-1?(Ve[Et]={...Ve[Et],assists:(Ve[Et].assists||0)+1},await zt(be,{...rt,players:Ve}),console.log(` Updated assists for ${he.name}: ${Ve[Et].assists}`)):console.log(` Player ${he.name} not found in team ${he.team}`)}else console.log(` Team ${he.team} not found`)}catch(be){console.error(`Error updating assists for ${he.name}:`,be)}}const re=Ct(Fe,"leagues",o);await zt(re,{lastUpdate:new Date().toISOString()},{merge:!0}),L=!0,console.log(" Knockout match checked successfully with player stats updated")}catch(ie){console.error(" Full error details:",ie),alert("Error saving match result: "+ie.message),L=!1}L&&(O(ie=>({...ie,[I]:!0})),localStorage.setItem(`checked_${o}_${I}`,"true"))},M=async R=>{if(R<0||R>=m.length-1)return;const I=m[R],N=m[R+1];if(!I.matches.every($=>{const ve=`${$.stage}_${$.matchNum}`;return v[ve]!==void 0})){alert("Cannot proceed to the next stage. This stage is not complete. Please complete all matches first.");return}const ue=I.matches.map($=>{const ve=`${$.stage}_${$.matchNum}`,P=v[ve];return P.scoreA>P.scoreB?$.teamAName||$.teamA:$.teamBName||$.teamB}),L=($=>{for(let ve=$.length-1;ve>0;ve--){const P=Math.floor(Math.random()*(ve+1));[$[ve],$[P]]=[$[P],$[ve]]}return $})([...ue]),ie=[];for(let $=0;$<L.length;$+=2)$+1<L.length&&ie.push({teamA:L[$],teamB:L[$+1],matchNum:Math.floor($/2)+1,stage:N.name});try{const $=Ct(Fe,`leagues/${o}/knockoutResults`,I.name);await zt($,{stage:I.name,matches:I.matches.map(Y=>{const ae=`${Y.stage}_${Y.matchNum}`,re=v[ae];return{...Y,scoreA:re?.scoreA||0,scoreB:re?.scoreB||0,winner:re?re.scoreA>re.scoreB?Y.teamAName||Y.teamA:Y.teamBName||Y.teamB:null}}),winningTeams:ue,timestamp:new Date().toISOString()});const ve=Ct(Fe,`leagues/${o}/knockout`,N.name);await zt(ve,{matches:ie,teams:L,stage:N.name,createdAt:N.createdAt||new Date().toISOString(),lastUpdated:new Date().toISOString()},{merge:!0}),p(Y=>{const ae=[...Y];return ae[R+1]={...ae[R+1],matches:ie,teams:L},ae});const P=ue.join(", ");alert(`${P} were transferred to ${N.name}`),setTimeout(()=>{const Y=document.getElementById(N.name);Y&&Y.scrollIntoView({behavior:"smooth"})},100)}catch($){console.error(" Error processing next stage:",$),alert("Error advancing to next stage: "+$.message)}},w=R=>R.matches.every(I=>{const N=`${I.stage}_${I.matchNum}`;return v[N]!==void 0}),x=(R,I)=>I.trim()?R.filter(N=>{const D=I;return(N.teamAName||N.teamA||"").includes(D)||(N.teamBName||N.teamB||"").includes(D)||N.stage.includes(D)}):R;return E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",style:{width:"117vw"},children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Knockout Fixtures"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"#2025",children:"2025"}),E.jsx("a",{href:"#history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("div",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",id:"active",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("section",{className:"fix-section-main",children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[E.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1f2937",marginBottom:"10px",background:"linear-gradient(90deg, #3b82f6, #8b5cf6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Knockout Tournament"}),E.jsx("p",{style:{fontSize:"1.1rem",color:"#6b7280",maxWidth:"600px",margin:"0 auto"},children:"Manage your knockout stage matches, track results, and advance teams through the tournament bracket"})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",marginBottom:"30px"},children:[E.jsx("div",{style:{width:"100%",maxWidth:"400px"},children:E.jsx("input",{type:"text",placeholder:"Enter League Name...",value:o,onChange:R=>u(R.target.value),style:{width:"100%",padding:"16px 20px",fontSize:"1.1rem",border:"2px solid #e5e7eb",borderRadius:"12px",outline:"none",textAlign:"center",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onFocus:R=>R.target.style.borderColor="#3b82f6",onBlur:R=>R.target.style.borderColor="#e5e7eb"})}),E.jsx("div",{style:{width:"100%",maxWidth:"400px"},children:E.jsx("input",{type:"text",placeholder:"Search teams, matches...",value:r,onChange:R=>e(R.target.value),style:{width:"100%",padding:"16px 20px",fontSize:"1.1rem",border:"2px solid #e5e7eb",borderRadius:"12px",outline:"none",textAlign:"center",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onFocus:R=>R.target.style.borderColor="#3b82f6",onBlur:R=>R.target.style.borderColor="#e5e7eb"})})]}),h&&(!o||h!=="League not found.")&&E.jsx("div",{style:{backgroundColor:"#fee",color:"#e44",padding:"16px",borderRadius:"8px",margin:"20px auto",maxWidth:"600px",border:"1px solid #fcc",textAlign:"center",fontWeight:"500"},children:h}),n?E.jsxs("div",{style:{textAlign:"center",padding:"60px",fontSize:"1.5rem",color:"#666",minHeight:"300px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{width:"50px",height:"50px",border:"5px solid #e5e7eb",borderTop:"5px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"}}),E.jsx("p",{children:"Loading knockout fixtures..."})]}):E.jsx(E.Fragment,{children:m.length===0?E.jsx("div",{style:{backgroundColor:"#fee",color:"#e44",padding:"20px",borderRadius:"8px",margin:"20px auto",maxWidth:"600px",border:"1px solid #fcc",textAlign:"center",fontWeight:"500"},children:"No knockout stages found. Create knockout stages from the Groups page first."}):E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"40px",maxWidth:"1000px",margin:"0 auto"},children:m.map((R,I)=>{const N=x(R.matches,r);if(N.length===0&&!R.name.includes(r))return null;const D=w(R);return E.jsxs("div",{id:R.name,style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",overflow:"hidden",border:"1px solid #e5e7eb"},children:[E.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"20px 30px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",margin:0},children:R.name}),I<m.length-1&&E.jsxs("button",{onClick:()=>M(I),disabled:!D,style:{padding:"12px 24px",backgroundColor:D?"#2563eb":"#ccc",color:"white",border:"none",borderRadius:"8px",cursor:D?"pointer":"not-allowed",fontWeight:"600",fontSize:"1.1rem",transition:"all 0.2s ease",opacity:D?1:.6,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:ue=>{D&&(ue.target.style.backgroundColor="#1d4ed8",ue.target.style.transform="translateY(-1px)")},onMouseLeave:ue=>{D&&(ue.target.style.backgroundColor="#2563eb",ue.target.style.transform="translateY(0)")},children:["Advance to ",m[I+1].name]})]}),E.jsx("div",{style:{padding:"20px 30px"},children:N.map(ue=>{const ye=`${ue.stage}_${ue.matchNum}`,L=v[ye],ie=b[ye]||localStorage.getItem(`checked_${o}_${ye}`),$=ye,ve=V[$]||{scoreA:"",scoreB:""},P=L!==void 0;return ie?null:E.jsxs("div",{style:{marginBottom:"20px",padding:"20px",border:"2px solid #e5e7eb",borderRadius:"12px",backgroundColor:"#fff",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[E.jsxs("div",{style:{fontSize:"1.3rem",fontWeight:"700",color:"#1f2937"},children:[R.name," Match ",ue.matchNum]}),E.jsxs("div",{style:{fontSize:"0.9rem",color:"#6b7280",fontWeight:"500"},children:["Stadium: ",ue.matchNum%2===0?"Stadium 1":"Stadium 2"]})]}),E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"20px"},children:[E.jsx("div",{style:{flex:1,textAlign:"right"},children:E.jsx("div",{style:{fontWeight:"600",color:"#1f2937",fontSize:"1.1rem"},children:ue.teamAName||ue.teamA})}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[E.jsx("div",{style:{width:"60px",height:"60px",border:"3px solid #000",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",fontSize:"1.5rem",color:"#2563eb",backgroundColor:P&&L?"#eff6ff":"white"},children:P&&L?E.jsx("span",{style:{margin:0,color:"#2563eb"},children:L.scoreA}):E.jsx("input",{type:"number",min:"0",max:"9",style:{width:"40px",height:"40px",fontSize:"1.3rem",textAlign:"center",border:"none",outline:"none",backgroundColor:"transparent"},value:ve.scoreA,onChange:Y=>{const ae=Y.target.value;G(re=>({...re,[$]:{...re[$],scoreA:ae}}))}})}),E.jsx("span",{style:{fontWeight:"700",fontSize:"1.3rem",color:"#4b5563"},children:"vs"}),E.jsx("div",{style:{width:"60px",height:"60px",border:"3px solid #000",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",fontSize:"1.5rem",color:"#2563eb",backgroundColor:P&&L?"#eff6ff":"white"},children:P&&L?E.jsx("span",{style:{margin:0,color:"#2563eb"},children:L.scoreB}):E.jsx("input",{type:"number",min:"0",max:"9",style:{width:"40px",height:"40px",fontSize:"1.3rem",textAlign:"center",border:"none",outline:"none",backgroundColor:"transparent"},value:ve.scoreB,onChange:Y=>{const ae=Y.target.value;G(re=>({...re,[$]:{...re[$],scoreB:ae}}))}})})]}),E.jsx("div",{style:{flex:1,textAlign:"left"},children:E.jsx("div",{style:{fontWeight:"600",color:"#1f2937",fontSize:"1.1rem"},children:ue.teamBName||ue.teamB})})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginTop:"20px"},children:[E.jsxs("button",{onClick:()=>{if(!L){const Y=V[$]||{scoreA:0,scoreB:0};ue.scoreA=Number(Y.scoreA),ue.scoreB=Number(Y.scoreB)}k(ue)},style:{padding:"10px 20px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},onMouseEnter:Y=>{Y.target.style.backgroundColor="#059669",Y.target.style.transform="translateY(-1px)"},onMouseLeave:Y=>{Y.target.style.backgroundColor="#10b981",Y.target.style.transform="translateY(0)"},children:[E.jsx("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",style:{flexShrink:0},children:E.jsx("path",{d:"M5 10l4 4 6-8",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Check Match"]}),E.jsxs("button",{onClick:()=>Z(ue),style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},onMouseEnter:Y=>{Y.target.style.backgroundColor="#2563eb",Y.target.style.transform="translateY(-1px)"},onMouseLeave:Y=>{Y.target.style.backgroundColor="#3b82f6",Y.target.style.transform="translateY(0)"},children:[E.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",style:{flexShrink:0},children:[E.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"white",strokeWidth:"2"}),E.jsx("rect",{x:"8",y:"6",width:"4",height:"8",rx:"2",fill:"white"})]}),"Events"]})]})]},ue.matchNum)})})]},R.name)})})})]})]}),E.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]})},L4=JA([{path:"/",element:E.jsx(dx,{})},{path:"/dashboard",element:E.jsx(EN,{})},{path:"/make-groups",element:E.jsx(N4,{})},{path:"/fixtures",element:E.jsx(M4,{})},{path:"/events",element:E.jsx(P4,{})},{path:"/scorers",element:E.jsx(V4,{})},{path:"/assisters",element:E.jsx(k4,{})},{path:"/knockout",element:E.jsx(j4,{})}]);sw.createRoot(document.getElementById("root")).render(E.jsx(z.StrictMode,{children:E.jsx(fx,{router:L4})}));
