(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ew(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function tw(){if(l_)return Vl;l_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var u_;function nw(){return u_||(u_=1,Hd.exports=tw()),Hd.exports}var E=nw(),qd={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function rw(){if(c_)return Ge;c_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,B={};function z(k,Y,pe){this.props=k,this.context=Y,this.refs=B,this.updater=pe||D}z.prototype.isReactComponent={},z.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function U(){}U.prototype=z.prototype;function X(k,Y,pe){this.props=k,this.context=Y,this.refs=B,this.updater=pe||D}var $=X.prototype=new U;$.constructor=X,C($,z.prototype),$.isPureReactComponent=!0;var le=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function M(k,Y,pe,ae,ue,be){return pe=be.ref,{$$typeof:r,type:k,key:Y,ref:pe!==void 0?pe:null,props:be}}function R(k,Y){return M(k.type,Y,void 0,void 0,void 0,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function N(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pe){return Y[pe]})}var V=/\/+/g;function O(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):Y.toString(36)}function S(){}function oe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(S,S):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ee(k,Y,pe,ae,ue){var be=typeof k;(be==="undefined"||be==="boolean")&&(k=null);var Te=!1;if(k===null)Te=!0;else switch(be){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(k.$$typeof){case r:case e:Te=!0;break;case v:return Te=k._init,Ee(Te(k._payload),Y,pe,ae,ue)}}if(Te)return ue=ue(k),Te=ae===""?"."+O(k,0):ae,le(ue)?(pe="",Te!=null&&(pe=Te.replace(V,"$&/")+"/"),Ee(ue,Y,pe,"",function(Et){return Et})):ue!=null&&(I(ue)&&(ue=R(ue,pe+(ue.key==null||k&&k.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+Te)),Y.push(ue)),1;Te=0;var rt=ae===""?".":ae+":";if(le(k))for(var Ve=0;Ve<k.length;Ve++)ae=k[Ve],be=rt+O(ae,Ve),Te+=Ee(ae,Y,pe,be,ue);else if(Ve=b(k),typeof Ve=="function")for(k=Ve.call(k),Ve=0;!(ae=k.next()).done;)ae=ae.value,be=rt+O(ae,Ve++),Te+=Ee(ae,Y,pe,be,ue);else if(be==="object"){if(typeof k.then=="function")return Ee(oe(k),Y,pe,ae,ue);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Te}function j(k,Y,pe){if(k==null)return k;var ae=[],ue=0;return Ee(k,ae,"","",function(be){return Y.call(pe,be,ue++)}),ae}function ee(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(pe){(k._status===0||k._status===-1)&&(k._status=1,k._result=pe)},function(pe){(k._status===0||k._status===-1)&&(k._status=2,k._result=pe)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var re=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function _e(){}return Ge.Children={map:j,forEach:function(k,Y,pe){j(k,function(){Y.apply(this,arguments)},pe)},count:function(k){var Y=0;return j(k,function(){Y++}),Y},toArray:function(k){return j(k,function(Y){return Y})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ge.Component=z,Ge.Fragment=n,Ge.Profiler=o,Ge.PureComponent=X,Ge.StrictMode=a,Ge.Suspense=g,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(k){return he.H.useMemoCache(k)}},Ge.cache=function(k){return function(){return k.apply(null,arguments)}},Ge.cloneElement=function(k,Y,pe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ae=C({},k.props),ue=k.key,be=void 0;if(Y!=null)for(Te in Y.ref!==void 0&&(be=void 0),Y.key!==void 0&&(ue=""+Y.key),Y)!P.call(Y,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Y.ref===void 0||(ae[Te]=Y[Te]);var Te=arguments.length-2;if(Te===1)ae.children=pe;else if(1<Te){for(var rt=Array(Te),Ve=0;Ve<Te;Ve++)rt[Ve]=arguments[Ve+2];ae.children=rt}return M(k.type,ue,void 0,void 0,be,ae)},Ge.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ge.createElement=function(k,Y,pe){var ae,ue={},be=null;if(Y!=null)for(ae in Y.key!==void 0&&(be=""+Y.key),Y)P.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ue[ae]=Y[ae]);var Te=arguments.length-2;if(Te===1)ue.children=pe;else if(1<Te){for(var rt=Array(Te),Ve=0;Ve<Te;Ve++)rt[Ve]=arguments[Ve+2];ue.children=rt}if(k&&k.defaultProps)for(ae in Te=k.defaultProps,Te)ue[ae]===void 0&&(ue[ae]=Te[ae]);return M(k,be,void 0,void 0,null,ue)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(k){return{$$typeof:d,render:k}},Ge.isValidElement=I,Ge.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:ee}},Ge.memo=function(k,Y){return{$$typeof:p,type:k,compare:Y===void 0?null:Y}},Ge.startTransition=function(k){var Y=he.T,pe={};he.T=pe;try{var ae=k(),ue=he.S;ue!==null&&ue(pe,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(_e,re)}catch(be){re(be)}finally{he.T=Y}},Ge.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Ge.use=function(k){return he.H.use(k)},Ge.useActionState=function(k,Y,pe){return he.H.useActionState(k,Y,pe)},Ge.useCallback=function(k,Y){return he.H.useCallback(k,Y)},Ge.useContext=function(k){return he.H.useContext(k)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(k,Y){return he.H.useDeferredValue(k,Y)},Ge.useEffect=function(k,Y,pe){var ae=he.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(k,Y)},Ge.useId=function(){return he.H.useId()},Ge.useImperativeHandle=function(k,Y,pe){return he.H.useImperativeHandle(k,Y,pe)},Ge.useInsertionEffect=function(k,Y){return he.H.useInsertionEffect(k,Y)},Ge.useLayoutEffect=function(k,Y){return he.H.useLayoutEffect(k,Y)},Ge.useMemo=function(k,Y){return he.H.useMemo(k,Y)},Ge.useOptimistic=function(k,Y){return he.H.useOptimistic(k,Y)},Ge.useReducer=function(k,Y,pe){return he.H.useReducer(k,Y,pe)},Ge.useRef=function(k){return he.H.useRef(k)},Ge.useState=function(k){return he.H.useState(k)},Ge.useSyncExternalStore=function(k,Y,pe){return he.H.useSyncExternalStore(k,Y,pe)},Ge.useTransition=function(){return he.H.useTransition()},Ge.version="19.1.0",Ge}var h_;function Qm(){return h_||(h_=1,qd.exports=rw()),qd.exports}var q=Qm(),Fd={exports:{}},kl={},Gd={exports:{}},$d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function iw(){return f_||(f_=1,function(r){function e(j,ee){var re=j.length;j.push(ee);e:for(;0<re;){var _e=re-1>>>1,k=j[_e];if(0<o(k,ee))j[_e]=ee,j[re]=k,re=_e;else break e}}function n(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var ee=j[0],re=j.pop();if(re!==ee){j[0]=re;e:for(var _e=0,k=j.length,Y=k>>>1;_e<Y;){var pe=2*(_e+1)-1,ae=j[pe],ue=pe+1,be=j[ue];if(0>o(ae,re))ue<k&&0>o(be,ae)?(j[_e]=be,j[ue]=re,_e=ue):(j[_e]=ae,j[pe]=re,_e=pe);else if(ue<k&&0>o(be,re))j[_e]=be,j[ue]=re,_e=ue;else break e}}return ee}function o(j,ee){var re=j.sortIndex-ee.sortIndex;return re!==0?re:j.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var g=[],p=[],v=1,w=null,b=3,D=!1,C=!1,B=!1,z=!1,U=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function le(j){for(var ee=n(p);ee!==null;){if(ee.callback===null)a(p);else if(ee.startTime<=j)a(p),ee.sortIndex=ee.expirationTime,e(g,ee);else break;ee=n(p)}}function he(j){if(B=!1,le(j),!C)if(n(g)!==null)C=!0,P||(P=!0,O());else{var ee=n(p);ee!==null&&Ee(he,ee.startTime-j)}}var P=!1,M=-1,R=5,I=-1;function N(){return z?!0:!(r.unstable_now()-I<R)}function V(){if(z=!1,P){var j=r.unstable_now();I=j;var ee=!0;try{e:{C=!1,B&&(B=!1,X(M),M=-1),D=!0;var re=b;try{t:{for(le(j),w=n(g);w!==null&&!(w.expirationTime>j&&N());){var _e=w.callback;if(typeof _e=="function"){w.callback=null,b=w.priorityLevel;var k=_e(w.expirationTime<=j);if(j=r.unstable_now(),typeof k=="function"){w.callback=k,le(j),ee=!0;break t}w===n(g)&&a(g),le(j)}else a(g);w=n(g)}if(w!==null)ee=!0;else{var Y=n(p);Y!==null&&Ee(he,Y.startTime-j),ee=!1}}break e}finally{w=null,b=re,D=!1}ee=void 0}}finally{ee?O():P=!1}}}var O;if(typeof $=="function")O=function(){$(V)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,oe=S.port2;S.port1.onmessage=V,O=function(){oe.postMessage(null)}}else O=function(){U(V,0)};function Ee(j,ee){M=U(function(){j(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(j){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var re=b;b=ee;try{return j()}finally{b=re}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(j,ee){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var re=b;b=j;try{return ee()}finally{b=re}},r.unstable_scheduleCallback=function(j,ee,re){var _e=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?_e+re:_e):re=_e,j){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=re+k,j={id:v++,callback:ee,priorityLevel:j,startTime:re,expirationTime:k,sortIndex:-1},re>_e?(j.sortIndex=re,e(p,j),n(g)===null&&j===n(p)&&(B?(X(M),M=-1):B=!0,Ee(he,re-_e))):(j.sortIndex=k,e(g,j),C||D||(C=!0,P||(P=!0,O()))),j},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(j){var ee=b;return function(){var re=b;b=ee;try{return j.apply(this,arguments)}finally{b=re}}}}($d)),$d}var d_;function aw(){return d_||(d_=1,Gd.exports=iw()),Gd.exports}var Yd={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function sw(){if(m_)return wn;m_=1;var r=Qm();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,wn.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},wn.flushSync=function(g){var p=h.T,v=a.p;try{if(h.T=null,a.p=2,g)return g()}finally{h.T=p,a.p=v,a.d.f()}},wn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},wn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},wn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,w=d(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:D}):v==="script"&&a.d.X(g,{crossOrigin:w,integrity:b,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},wn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},wn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,w=d(v,p.crossOrigin);a.d.L(g,v,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},wn.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=d(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},wn.requestFormReset=function(g){a.d.r(g)},wn.unstable_batchedUpdates=function(g,p){return g(p)},wn.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},wn.useFormStatus=function(){return h.H.useHostTransitionStatus()},wn.version="19.1.0",wn}var g_;function TE(){if(g_)return Yd.exports;g_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yd.exports=sw(),Yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function ow(){if(p_)return kl;p_=1;var r=aw(),e=Qm(),n=TE();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return d(f),t;if(m===l)return d(f),i;m=m.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=m;else{for(var T=!1,A=f.child;A;){if(A===s){T=!0,s=f,l=m;break}if(A===l){T=!0,l=f,s=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===s){T=!0,s=m,l=f;break}if(A===l){T=!0,l=m,s=f;break}A=A.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),$=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case z:return"Profiler";case B:return"StrictMode";case he:return"Suspense";case P:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case $:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:oe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return oe(t(i))}catch{}}return null}var Ee=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},_e=[],k=-1;function Y(t){return{current:t}}function pe(t){0>k||(t.current=_e[k],_e[k]=null,k--)}function ae(t,i){k++,_e[k]=t.current,t.current=i}var ue=Y(null),be=Y(null),Te=Y(null),rt=Y(null);function Ve(t,i){switch(ae(Te,i),ae(be,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?kv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=kv(i),t=jv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}pe(ue),ae(ue,t)}function Et(){pe(ue),pe(be),pe(Te)}function mt(t){t.memoizedState!==null&&ae(rt,t);var i=ue.current,s=jv(i,t.type);i!==s&&(ae(be,t),ae(ue,s))}function an(t){be.current===t&&(pe(ue),pe(be)),rt.current===t&&(pe(rt),Il._currentValue=re)}var kn=Object.prototype.hasOwnProperty,ir=r.unstable_scheduleCallback,Dn=r.unstable_cancelCallback,La=r.unstable_shouldYield,Cs=r.unstable_requestPaint,Cn=r.unstable_now,jo=r.unstable_getCurrentPriorityLevel,Ua=r.unstable_ImmediatePriority,qi=r.unstable_UserBlockingPriority,di=r.unstable_NormalPriority,Dr=r.unstable_LowPriority,ar=r.unstable_IdlePriority,Fi=r.log,Gi=r.unstable_setDisableYieldValue,ft=null,$e=null;function Tn(t){if(typeof Fi=="function"&&Gi(t),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ft,t)}catch{}}var qt=Math.clz32?Math.clz32:jr,Is=Math.log,sr=Math.LN2;function jr(t){return t>>>=0,t===0?32:31-(Is(t)/sr|0)|0}var Lr=256,Ur=4194304;function Fn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?f=Fn(l):(T&=A,T!==0?f=Fn(T):s||(s=A&~t,s!==0&&(f=Fn(s))))):(A=l&~m,A!==0?f=Fn(A):T!==0?f=Fn(T):s||(s=l&~t,s!==0&&(f=Fn(s)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,s=i&-i,m>=s||m===32&&(s&4194048)!==0)?i:f}function or(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $i(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(){var t=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),t}function Ba(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function lr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Cr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yi(t,i,s,l,f,m){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var A=t.entanglements,L=t.expirationTimes,J=t.hiddenUpdates;for(s=T&~s;0<s;){var se=31-qt(s),de=1<<se;A[se]=0,L[se]=-1;var te=J[se];if(te!==null)for(J[se]=null,se=0;se<te.length;se++){var ne=te[se];ne!==null&&(ne.lane&=-536870913)}s&=~de}l!==0&&In(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~i))}function In(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Br(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-qt(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function zr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function H(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:n_(t.type))}function Q(t,i){var s=ee.p;try{return ee.p=t,i()}finally{ee.p=s}}var Z=Math.random().toString(36).slice(2),me="__reactFiber$"+Z,ye="__reactProps$"+Z,Ae="__reactContainer$"+Z,Oe="__reactEvents$"+Z,xe="__reactListeners$"+Z,Ce="__reactHandles$"+Z,De="__reactResources$"+Z,ke="__reactMarker$"+Z;function Me(t){delete t[me],delete t[ye],delete t[Oe],delete t[xe],delete t[Ce]}function Ue(t){var i=t[me];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Ae]||s[me]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=zv(t);t!==null;){if(s=t[me])return s;t=zv(t)}return i}t=s,s=t.parentNode}return null}function Ze(t){if(t=t[me]||t[Ae]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function gt(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ct(t){var i=t[De];return i||(i=t[De]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(t){t[ke]=!0}var Ke=new Set,ur={};function Zt(t,i){Nn(t,i),Nn(t+"Capture",i)}function Nn(t,i){for(ur[t]=i,t=0;t<i.length;t++)Ke.add(i[t])}var fn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Gn={};function Ki(t){return kn.call(Gn,t)?!0:kn.call(Hr,t)?!1:fn.test(t)?Gn[t]=!0:(Hr[t]=!0,!1)}function bn(t,i,s){if(Ki(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function On(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function ze(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var Ft,$n;function jn(t){if(Ft===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ft=i&&i[1]||"",$n=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+t+$n}var qr=!1;function At(t,i){if(!t||qr)return"";qr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var te=ne}Reflect.construct(t,[],de)}else{try{de.call()}catch(ne){te=ne}t.call(de.prototype)}}else{try{throw Error()}catch(ne){te=ne}(de=t())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var L=T.split(`
`),J=A.split(`
`);for(f=l=0;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(l===L.length||f===J.length)for(l=L.length-1,f=J.length-1;1<=l&&0<=f&&L[l]!==J[f];)f--;for(;1<=l&&0<=f;l--,f--)if(L[l]!==J[f]){if(l!==1||f!==1)do if(l--,f--,0>f||L[l]!==J[f]){var se=`
`+L[l].replace(" at new "," at ");return t.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",t.displayName)),se}while(1<=l&&0<=f);break}}}finally{qr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?jn(s):""}function cr(t){switch(t.tag){case 26:case 27:case 5:return jn(t.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return At(t.type,!1);case 11:return At(t.type.render,!1);case 1:return At(t.type,!0);case 31:return jn("Activity");default:return""}}function pi(t){try{var i="";do i+=cr(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gh(t){var i=Lo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ns(t){t._valueTracker||(t._valueTracker=Gh(t))}function Uo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Lo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $h=/[\n"\\]/g;function Gt(t){return t.replace($h,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Yn(t,i,s,l,f,m,T,A){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+dn(i)):t.value!==""+dn(i)&&(t.value=""+dn(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Xi(t,T,dn(i)):s!=null?Xi(t,T,dn(s)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+dn(A):t.removeAttribute("name")}function Ha(t,i,s,l,f,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;s=s!=null?""+dn(s):"",i=i!=null?""+dn(i):s,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Xi(t,i,s){i==="number"&&za(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function yi(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+dn(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Tt(t,i,s){if(i!=null&&(i=""+dn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+dn(s):""}function qa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ee(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=dn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function hr(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Fa.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Bo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Su(t,f,l)}else for(var m in i)i.hasOwnProperty(m)&&Su(t,m,i[m])}function zo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(t){return Qh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vi=null;function fr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,Ei=null;function Ho(t){var i=Ze(t);if(i&&(t=i.stateNode)){var s=t[ye]||null;e:switch(t=i.stateNode,i.type){case"input":if(Yn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Gt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[ye]||null;if(!f)throw Error(a(90));Yn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Uo(l)}break e;case"textarea":Tt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&yi(t,!!s.multiple,i,!1)}}}var Fr=!1;function wu(t,i,s){if(Fr)return t(i,s);Fr=!0;try{var l=t(i);return l}finally{if(Fr=!1,(_i!==null||Ei!==null)&&(yc(),_i&&(i=_i,t=Ei,Ei=_i=null,Ho(i),t)))for(i=0;i<t.length;i++)Ho(t[i])}}function Ga(t,i){var s=t.stateNode;if(s===null)return null;var l=s[ye]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Ir)try{var $a={};Object.defineProperty($a,"passive",{get:function(){dr=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{dr=!1}var Gr=null,Wi=null,Ti=null;function qo(){if(Ti)return Ti;var t,i=Wi,s=i.length,l,f="value"in Gr?Gr.value:Gr.textContent,m=f.length;for(t=0;t<s&&i[t]===f[t];t++);var T=s-t;for(l=1;l<=T&&i[s-l]===f[m-l];l++);return Ti=f.slice(t,1<l?1-l:void 0)}function $r(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yr(){return!0}function Fo(){return!1}function sn(t){function i(s,l,f,m,T){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Yr:Fo,this.isPropagationStopped=Fo,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),i}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=sn(pt),Ya=v({},pt,{view:0,detail:0}),Au=sn(Ya),Ps,Vs,Qr,Qa=v({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qr&&(Qr&&t.type==="mousemove"?(Ps=t.screenX-Qr.screenX,Vs=t.screenY-Qr.screenY):Vs=Ps=0,Qr=t),Ps)},movementY:function(t){return"movementY"in t?t.movementY:Vs}}),mr=sn(Qa),xu=v({},Qa,{dataTransfer:0}),Kh=sn(xu),Ka=v({},Ya,{relatedTarget:0}),ks=sn(Ka),Go=v({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),js=sn(Go),Ru=v({},pt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ls=sn(Ru),Xh=v({},pt,{data:0}),$o=sn(Xh),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Cu[t])?!!i[t]:!1}function Wa(){return Yo}var Iu=v({},Ya,{key:function(t){if(t.key){var i=Xa[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(t){return t.type==="keypress"?$r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Us=sn(Iu),Nu=v({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=sn(Nu),bi=v({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Ou=sn(bi),Mu=v({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=sn(Mu),Vu=v({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bs=sn(Vu),Mn=v({},pt,{newState:0,oldState:0}),ku=sn(Mn),ju=[9,13,27,32],Kr=Ir&&"CompositionEvent"in window,c=null;Ir&&"documentMode"in document&&(c=document.documentMode);var y=Ir&&"TextEvent"in window&&!c,_=Ir&&(!Kr||c&&8<c&&11>=c),x=" ",K=!1;function ie(t,i){switch(t){case"keyup":return ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var at=!1;function Jt(t,i){switch(t){case"compositionend":return ve(i);case"keypress":return i.which!==32?null:(K=!0,x);case"textInput":return t=i.data,t===x&&K?null:t;default:return null}}function st(t,i){if(at)return t==="compositionend"||!Kr&&ie(t,i)?(t=qo(),Ti=Wi=Gr=null,at=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!on[t.type]:i==="textarea"}function Si(t,i,s,l){_i?Ei?Ei.push(l):Ei=[l]:_i=l,i=Sc(i,"onChange"),0<i.length&&(s=new Ms("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var mn=null,Xr=null;function Ko(t){Nv(t,0)}function Lu(t){var i=gt(t);if(Uo(i))return t}function Zg(t,i){if(t==="change")return i}var Jg=!1;if(Ir){var Wh;if(Ir){var Zh="oninput"in document;if(!Zh){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),Zh=typeof ep.oninput=="function"}Wh=Zh}else Wh=!1;Jg=Wh&&(!document.documentMode||9<document.documentMode)}function tp(){mn&&(mn.detachEvent("onpropertychange",np),Xr=mn=null)}function np(t){if(t.propertyName==="value"&&Lu(Xr)){var i=[];Si(i,Xr,t,fr(t)),wu(Ko,i)}}function IS(t,i,s){t==="focusin"?(tp(),mn=i,Xr=s,mn.attachEvent("onpropertychange",np)):t==="focusout"&&tp()}function NS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Xr)}function OS(t,i){if(t==="click")return Lu(i)}function MS(t,i){if(t==="input"||t==="change")return Lu(i)}function PS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Qn=typeof Object.is=="function"?Object.is:PS;function Xo(t,i){if(Qn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!kn.call(i,f)||!Qn(t[f],i[f]))return!1}return!0}function rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ip(t,i){var s=rp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=rp(s)}}function ap(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ap(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=za(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=za(t.document)}return i}function Jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var VS=Ir&&"documentMode"in document&&11>=document.documentMode,zs=null,ef=null,Wo=null,tf=!1;function op(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;tf||zs==null||zs!==za(l)||(l=zs,"selectionStart"in l&&Jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Xo(Wo,l)||(Wo=l,l=Sc(ef,"onSelect"),0<l.length&&(i=new Ms("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=zs)))}function Za(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Hs={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},nf={},lp={};Ir&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Ja(t){if(nf[t])return nf[t];if(!Hs[t])return t;var i=Hs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in lp)return nf[t]=i[s];return t}var up=Ja("animationend"),cp=Ja("animationiteration"),hp=Ja("animationstart"),kS=Ja("transitionrun"),jS=Ja("transitionstart"),LS=Ja("transitioncancel"),fp=Ja("transitionend"),dp=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function Nr(t,i){dp.set(t,i),Zt(i,[t])}var mp=new WeakMap;function gr(t,i){if(typeof t=="object"&&t!==null){var s=mp.get(t);return s!==void 0?s:(i={value:t,source:i,stack:pi(i)},mp.set(t,i),i)}return{value:t,source:i,stack:pi(i)}}var pr=[],qs=0,af=0;function Uu(){for(var t=qs,i=af=qs=0;i<t;){var s=pr[i];pr[i++]=null;var l=pr[i];pr[i++]=null;var f=pr[i];pr[i++]=null;var m=pr[i];if(pr[i++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&gp(s,f,m)}}function Bu(t,i,s,l){pr[qs++]=t,pr[qs++]=i,pr[qs++]=s,pr[qs++]=l,af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sf(t,i,s,l){return Bu(t,i,s,l),zu(t)}function Fs(t,i){return Bu(t,null,null,i),zu(t)}function gp(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,l=m.alternate,l!==null&&(l.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-qt(s),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),m):null}function zu(t){if(50<bl)throw bl=0,fd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Gs={};function US(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,i,s,l){return new US(t,i,s,l)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,i){var s=t.alternate;return s===null?(s=Kn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function pp(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Hu(t,i,s,l,f,m){var T=0;if(l=t,typeof t=="function")of(t)&&(T=1);else if(typeof t=="string")T=z1(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Kn(31,s,i,f),t.elementType=I,t.lanes=m,t;case C:return es(s.children,f,m,i);case B:T=8,f|=24;break;case z:return t=Kn(12,s,i,f|2),t.elementType=z,t.lanes=m,t;case he:return t=Kn(13,s,i,f),t.elementType=he,t.lanes=m,t;case P:return t=Kn(19,s,i,f),t.elementType=P,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:case $:T=10;break e;case X:T=9;break e;case le:T=11;break e;case M:T=14;break e;case R:T=16,l=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Kn(T,s,i,f),i.elementType=t,i.type=l,i.lanes=m,i}function es(t,i,s,l){return t=Kn(7,t,l,i),t.lanes=s,t}function lf(t,i,s){return t=Kn(6,t,null,i),t.lanes=s,t}function uf(t,i,s){return i=Kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $s=[],Ys=0,qu=null,Fu=0,yr=[],vr=0,ts=null,Ai=1,xi="";function ns(t,i){$s[Ys++]=Fu,$s[Ys++]=qu,qu=t,Fu=i}function yp(t,i,s){yr[vr++]=Ai,yr[vr++]=xi,yr[vr++]=ts,ts=t;var l=Ai;t=xi;var f=32-qt(l)-1;l&=~(1<<f),s+=1;var m=32-qt(i)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Ai=1<<32-qt(i)+f|s<<f|l,xi=m+t}else Ai=1<<m|s<<f|l,xi=t}function cf(t){t.return!==null&&(ns(t,1),yp(t,1,0))}function hf(t){for(;t===qu;)qu=$s[--Ys],$s[Ys]=null,Fu=$s[--Ys],$s[Ys]=null;for(;t===ts;)ts=yr[--vr],yr[vr]=null,xi=yr[--vr],yr[vr]=null,Ai=yr[--vr],yr[vr]=null}var Pn=null,Pt=null,dt=!1,rs=null,Wr=!1,ff=Error(a(519));function is(t){var i=Error(a(418,""));throw el(gr(i,t)),ff}function vp(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[me]=t,i[ye]=l,s){case"dialog":et("cancel",i),et("close",i);break;case"iframe":case"object":case"embed":et("load",i);break;case"video":case"audio":for(s=0;s<wl.length;s++)et(wl[s],i);break;case"source":et("error",i);break;case"img":case"image":case"link":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"input":et("invalid",i),Ha(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ns(i);break;case"select":et("invalid",i);break;case"textarea":et("invalid",i),qa(i,l.value,l.defaultValue,l.children),Ns(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Vv(i.textContent,s)?(l.popover!=null&&(et("beforetoggle",i),et("toggle",i)),l.onScroll!=null&&et("scroll",i),l.onScrollEnd!=null&&et("scrollend",i),l.onClick!=null&&(i.onclick=wc),i=!0):i=!1,i||is(t)}function _p(t){for(Pn=t.return;Pn;)switch(Pn.tag){case 5:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Pn=Pn.return}}function Zo(t){if(t!==Pn)return!1;if(!dt)return _p(t),dt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Dd(t.type,t.memoizedProps)),s=!s),s&&Pt&&is(t),_p(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Pt=Mr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Pt=null}}else i===27?(i=Pt,da(t.type)?(t=Od,Od=null,Pt=t):Pt=i):Pt=Pn?Mr(t.stateNode.nextSibling):null;return!0}function Jo(){Pt=Pn=null,dt=!1}function Ep(){var t=rs;return t!==null&&(Bn===null?Bn=t:Bn.push.apply(Bn,t),rs=null),t}function el(t){rs===null?rs=[t]:rs.push(t)}var df=Y(null),as=null,Ri=null;function Zi(t,i,s){ae(df,i._currentValue),i._currentValue=s}function Di(t){t._currentValue=df.current,pe(df)}function mf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function gf(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var L=0;L<i.length;L++)if(A.context===i[L]){m.lanes|=s,A=m.alternate,A!==null&&(A.lanes|=s),mf(m.return,s,t),l||(T=null);break e}m=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=s,m=T.alternate,m!==null&&(m.lanes|=s),mf(T,s,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function tl(t,i,s,l){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var A=f.type;Qn(f.pendingProps.value,T.value)||(t!==null?t.push(A):t=[A])}}else if(f===rt.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}f=f.return}t!==null&&gf(i,t,s,l),i.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!Qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){as=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Sn(t){return Tp(as,t)}function $u(t,i){return as===null&&ss(t),Tp(t,i)}function Tp(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ri===null){if(t===null)throw Error(a(308));Ri=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ri=Ri.next=i;return s}var BS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},zS=r.unstable_scheduleCallback,HS=r.unstable_NormalPriority,tn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new BS,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&zS(HS,function(){t.controller.abort()})}var rl=null,yf=0,Qs=0,Ks=null;function qS(t,i){if(rl===null){var s=rl=[];yf=0,Qs=_d(),Ks={status:"pending",value:void 0,then:function(l){s.push(l)}}}return yf++,i.then(bp,bp),i}function bp(){if(--yf===0&&rl!==null){Ks!==null&&(Ks.status="fulfilled");var t=rl;rl=null,Qs=0,Ks=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function FS(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Sp=j.S;j.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&qS(t,i),Sp!==null&&Sp(t,i)};var os=Y(null);function vf(){var t=os.current;return t!==null?t:Rt.pooledCache}function Yu(t,i){i===null?ae(os,os.current):ae(os,i.pool)}function wp(){var t=vf();return t===null?null:{parent:tn._currentValue,pool:t}}var il=Error(a(460)),Ap=Error(a(474)),Qu=Error(a(542)),_f={then:function(){}};function xp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ku(){}function Rp(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Ku,Ku),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cp(t),t;default:if(typeof i.status=="string")i.then(Ku,Ku);else{if(t=Rt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cp(t),t}throw al=i,il}}var al=null;function Dp(){if(al===null)throw Error(a(459));var t=al;return al=null,t}function Cp(t){if(t===il||t===Qu)throw Error(a(483))}var Ji=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ta(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(vt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=zu(t),gp(t,null,s),i}return Bu(t,l,i,s),zu(t)}function sl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Br(t,s)}}function bf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,s=s.next}while(s!==null);m===null?f=m=i:m=m.next=i}else f=m=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Sf=!1;function ol(){if(Sf){var t=Ks;if(t!==null)throw t}}function ll(t,i,s,l){Sf=!1;var f=t.updateQueue;Ji=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var L=A,J=L.next;L.next=null,T===null?m=J:T.next=J,T=L;var se=t.alternate;se!==null&&(se=se.updateQueue,A=se.lastBaseUpdate,A!==T&&(A===null?se.firstBaseUpdate=J:A.next=J,se.lastBaseUpdate=L))}if(m!==null){var de=f.baseState;T=0,se=J=L=null,A=m;do{var te=A.lane&-536870913,ne=te!==A.lane;if(ne?(ot&te)===te:(l&te)===te){te!==0&&te===Qs&&(Sf=!0),se!==null&&(se=se.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Be=t,Pe=A;te=i;var wt=s;switch(Pe.tag){case 1:if(Be=Pe.payload,typeof Be=="function"){de=Be.call(wt,de,te);break e}de=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Pe.payload,te=typeof Be=="function"?Be.call(wt,de,te):Be,te==null)break e;de=v({},de,te);break e;case 2:Ji=!0}}te=A.callback,te!==null&&(t.flags|=64,ne&&(t.flags|=8192),ne=f.callbacks,ne===null?f.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},se===null?(J=se=ne,L=de):se=se.next=ne,T|=te;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);se===null&&(L=de),f.baseState=L,f.firstBaseUpdate=J,f.lastBaseUpdate=se,m===null&&(f.shared.lanes=0),ua|=T,t.lanes=T,t.memoizedState=de}}function Ip(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Np(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ip(s[t],i)}var Xs=Y(null),Xu=Y(0);function Op(t,i){t=Vi,ae(Xu,t),ae(Xs,i),Vi=t|i.baseLanes}function wf(){ae(Xu,Vi),ae(Xs,Xs.current)}function Af(){Vi=Xu.current,pe(Xs),pe(Xu)}var na=0,Ye=null,bt=null,$t=null,Wu=!1,Ws=!1,ls=!1,Zu=0,ul=0,Zs=null,GS=0;function Ut(){throw Error(a(321))}function xf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Qn(t[s],i[s]))return!1;return!0}function Rf(t,i,s,l,f,m){return na=m,Ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,j.H=t===null||t.memoizedState===null?gy:py,ls=!1,m=s(l,f),ls=!1,Ws&&(m=Pp(i,s,l,f)),Mp(t),m}function Mp(t){j.H=ic;var i=bt!==null&&bt.next!==null;if(na=0,$t=bt=Ye=null,Wu=!1,ul=0,Zs=null,i)throw Error(a(300));t===null||ln||(t=t.dependencies,t!==null&&Gu(t)&&(ln=!0))}function Pp(t,i,s,l){Ye=t;var f=0;do{if(Ws&&(Zs=null),ul=0,Ws=!1,25<=f)throw Error(a(301));if(f+=1,$t=bt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}j.H=ZS,m=i(s,l)}while(Ws);return m}function $S(){var t=j.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(bt!==null?bt.memoizedState:null)!==t&&(Ye.flags|=1024),i}function Df(){var t=Zu!==0;return Zu=0,t}function Cf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function If(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}na=0,$t=bt=Ye=null,Ws=!1,ul=Zu=0,Zs=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ye.memoizedState=$t=t:$t=$t.next=t,$t}function Yt(){if(bt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var i=$t===null?Ye.memoizedState:$t.next;if(i!==null)$t=i,bt=t;else{if(t===null)throw Ye.alternate===null?Error(a(467)):Error(a(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},$t===null?Ye.memoizedState=$t=t:$t=$t.next=t}return $t}function Nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,Zs===null&&(Zs=[]),t=Rp(Zs,t,i),i=Ye,($t===null?i.memoizedState:$t.next)===null&&(i=i.alternate,j.H=i===null||i.memoizedState===null?gy:py),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===$)return Sn(t)}throw Error(a(438,String(t)))}function Of(t){var i=null,s=Ye.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Nf(),Ye.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=N;return i.index++,s}function Ci(t,i){return typeof i=="function"?i(t):i}function ec(t){var i=Yt();return Mf(i,bt,t)}function Mf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}i.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var A=T=null,L=null,J=i,se=!1;do{var de=J.lane&-536870913;if(de!==J.lane?(ot&de)===de:(na&de)===de){var te=J.revertLane;if(te===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),de===Qs&&(se=!0);else if((na&te)===te){J=J.next,te===Qs&&(se=!0);continue}else de={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},L===null?(A=L=de,T=m):L=L.next=de,Ye.lanes|=te,ua|=te;de=J.action,ls&&s(m,de),m=J.hasEagerState?J.eagerState:s(m,de)}else te={lane:de,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},L===null?(A=L=te,T=m):L=L.next=te,Ye.lanes|=de,ua|=de;J=J.next}while(J!==null&&J!==i);if(L===null?T=m:L.next=A,!Qn(m,t.memoizedState)&&(ln=!0,se&&(s=Ks,s!==null)))throw s;t.memoizedState=m,t.baseState=T,t.baseQueue=L,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pf(t){var i=Yt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,m=i.memoizedState;if(f!==null){s.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);Qn(m,i.memoizedState)||(ln=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),s.lastRenderedState=m}return[m,l]}function Vp(t,i,s){var l=Ye,f=Yt(),m=dt;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=i();var T=!Qn((bt||f).memoizedState,s);T&&(f.memoizedState=s,ln=!0),f=f.queue;var A=Lp.bind(null,l,f,t);if(hl(2048,8,A,[t]),f.getSnapshot!==i||T||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,Js(9,tc(),jp.bind(null,l,f,s,i),null),Rt===null)throw Error(a(349));m||(na&124)!==0||kp(l,i,s)}return s}function kp(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ye.updateQueue,i===null?(i=Nf(),Ye.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function jp(t,i,s,l){i.value=s,i.getSnapshot=l,Up(i)&&Bp(t)}function Lp(t,i,s){return s(function(){Up(i)&&Bp(t)})}function Up(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Qn(t,s)}catch{return!0}}function Bp(t){var i=Fs(t,2);i!==null&&er(i,t,2)}function Vf(t){var i=Ln();if(typeof t=="function"){var s=t;if(t=s(),ls){Tn(!0);try{s()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},i}function zp(t,i,s,l){return t.baseState=s,Mf(t,bt,typeof l=="function"?l:Ci)}function YS(t,i,s,l,f){if(rc(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};j.T!==null?s(!0):m.isTransition=!1,l(m),s=i.pending,s===null?(m.next=i.pending=m,Hp(i,m)):(m.next=s.next,i.pending=s.next=m)}}function Hp(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var m=j.T,T={};j.T=T;try{var A=s(f,l),L=j.S;L!==null&&L(T,A),qp(t,i,A)}catch(J){kf(t,i,J)}finally{j.T=m}}else try{m=s(f,l),qp(t,i,m)}catch(J){kf(t,i,J)}}function qp(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Fp(t,i,l)},function(l){return kf(t,i,l)}):Fp(t,i,s)}function Fp(t,i,s){i.status="fulfilled",i.value=s,Gp(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Hp(t,s)))}function kf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Gp(i),i=i.next;while(i!==l)}t.action=null}function Gp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function $p(t,i){return i}function Yp(t,i){if(dt){var s=Rt.formState;if(s!==null){e:{var l=Ye;if(dt){if(Pt){t:{for(var f=Pt,m=Wr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Mr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Pt=Mr(f.nextSibling),l=f.data==="F!";break e}}is(l)}l=!1}l&&(i=s[0])}}return s=Ln(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:i},s.queue=l,s=fy.bind(null,Ye,l),l.dispatch=s,l=Vf(!1),m=zf.bind(null,Ye,!1,l.queue),l=Ln(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=YS.bind(null,Ye,f,m,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function Qp(t){var i=Yt();return Kp(i,bt,t)}function Kp(t,i,s){if(i=Mf(t,i,$p)[0],t=ec(Ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(T){throw T===il?Qu:T}else l=i;i=Yt();var f=i.queue,m=f.dispatch;return s!==i.memoizedState&&(Ye.flags|=2048,Js(9,tc(),QS.bind(null,f,s),null)),[l,m,t]}function QS(t,i){t.action=i}function Xp(t){var i=Yt(),s=bt;if(s!==null)return Kp(i,s,t);Yt(),i=i.memoizedState,s=Yt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Js(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ye.updateQueue,i===null&&(i=Nf(),Ye.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function tc(){return{destroy:void 0,resource:void 0}}function Wp(){return Yt().memoizedState}function nc(t,i,s,l){var f=Ln();l=l===void 0?null:l,Ye.flags|=t,f.memoizedState=Js(1|i,tc(),s,l)}function hl(t,i,s,l){var f=Yt();l=l===void 0?null:l;var m=f.memoizedState.inst;bt!==null&&l!==null&&xf(l,bt.memoizedState.deps)?f.memoizedState=Js(i,m,s,l):(Ye.flags|=t,f.memoizedState=Js(1|i,m,s,l))}function Zp(t,i){nc(8390656,8,t,i)}function Jp(t,i){hl(2048,8,t,i)}function ey(t,i){return hl(4,2,t,i)}function ty(t,i){return hl(4,4,t,i)}function ny(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ry(t,i,s){s=s!=null?s.concat([t]):null,hl(4,4,ny.bind(null,i,t),s)}function jf(){}function iy(t,i){var s=Yt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&xf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function ay(t,i){var s=Yt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&xf(i,l[1]))return l[0];if(l=t(),ls){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,i],l}function Lf(t,i,s){return s===void 0||(na&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=lv(),Ye.lanes|=t,ua|=t,s)}function sy(t,i,s,l){return Qn(s,i)?s:Xs.current!==null?(t=Lf(t,s,l),Qn(t,i)||(ln=!0),t):(na&42)===0?(ln=!0,t.memoizedState=s):(t=lv(),Ye.lanes|=t,ua|=t,i)}function oy(t,i,s,l,f){var m=ee.p;ee.p=m!==0&&8>m?m:8;var T=j.T,A={};j.T=A,zf(t,!1,i,s);try{var L=f(),J=j.S;if(J!==null&&J(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var se=FS(L,l);fl(t,i,se,Jn(t))}else fl(t,i,l,Jn(t))}catch(de){fl(t,i,{then:function(){},status:"rejected",reason:de},Jn())}finally{ee.p=m,j.T=T}}function KS(){}function Uf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=ly(t).queue;oy(t,f,i,re,s===null?KS:function(){return uy(t),s(l)})}function ly(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:re},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function uy(t){var i=ly(t).next.queue;fl(t,i,{},Jn())}function Bf(){return Sn(Il)}function cy(){return Yt().memoizedState}function hy(){return Yt().memoizedState}function XS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Jn();t=ea(s);var l=ta(i,t,s);l!==null&&(er(l,i,s),sl(l,i,s)),i={cache:pf()},t.payload=i;return}i=i.return}}function WS(t,i,s){var l=Jn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},rc(t)?dy(i,s):(s=sf(t,i,s,l),s!==null&&(er(s,t,l),my(s,i,l)))}function fy(t,i,s){var l=Jn();fl(t,i,s,l)}function fl(t,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(rc(t))dy(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,A=m(T,s);if(f.hasEagerState=!0,f.eagerState=A,Qn(A,T))return Bu(t,i,f,0),Rt===null&&Uu(),!1}catch{}finally{}if(s=sf(t,i,f,l),s!==null)return er(s,t,l),my(s,i,l),!0}return!1}function zf(t,i,s,l){if(l={lane:2,revertLane:_d(),action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(a(479))}else i=sf(t,s,l,2),i!==null&&er(i,t,2)}function rc(t){var i=t.alternate;return t===Ye||i!==null&&i===Ye}function dy(t,i){Ws=Wu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function my(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Br(t,s)}}var ic={readContext:Sn,use:Ju,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},gy={readContext:Sn,use:Ju,useCallback:function(t,i){return Ln().memoizedState=[t,i===void 0?null:i],t},useContext:Sn,useEffect:Zp,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,nc(4194308,4,ny.bind(null,i,t),s)},useLayoutEffect:function(t,i){return nc(4194308,4,t,i)},useInsertionEffect:function(t,i){nc(4,2,t,i)},useMemo:function(t,i){var s=Ln();i=i===void 0?null:i;var l=t();if(ls){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Ln();if(s!==void 0){var f=s(i);if(ls){Tn(!0);try{s(i)}finally{Tn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=WS.bind(null,Ye,t),[l.memoizedState,t]},useRef:function(t){var i=Ln();return t={current:t},i.memoizedState=t},useState:function(t){t=Vf(t);var i=t.queue,s=fy.bind(null,Ye,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:jf,useDeferredValue:function(t,i){var s=Ln();return Lf(s,t,i)},useTransition:function(){var t=Vf(!1);return t=oy.bind(null,Ye,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ye,f=Ln();if(dt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Rt===null)throw Error(a(349));(ot&124)!==0||kp(l,i,s)}f.memoizedState=s;var m={value:s,getSnapshot:i};return f.queue=m,Zp(Lp.bind(null,l,m,t),[t]),l.flags|=2048,Js(9,tc(),jp.bind(null,l,m,s,i),null),s},useId:function(){var t=Ln(),i=Rt.identifierPrefix;if(dt){var s=xi,l=Ai;s=(l&~(1<<32-qt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=Zu++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=GS++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Bf,useFormState:Yp,useActionState:Yp,useOptimistic:function(t){var i=Ln();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=zf.bind(null,Ye,!0,s),s.dispatch=i,[t,i]},useMemoCache:Of,useCacheRefresh:function(){return Ln().memoizedState=XS.bind(null,Ye)}},py={readContext:Sn,use:Ju,useCallback:iy,useContext:Sn,useEffect:Jp,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:ay,useReducer:ec,useRef:Wp,useState:function(){return ec(Ci)},useDebugValue:jf,useDeferredValue:function(t,i){var s=Yt();return sy(s,bt.memoizedState,t,i)},useTransition:function(){var t=ec(Ci)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Vp,useId:cy,useHostTransitionStatus:Bf,useFormState:Qp,useActionState:Qp,useOptimistic:function(t,i){var s=Yt();return zp(s,bt,t,i)},useMemoCache:Of,useCacheRefresh:hy},ZS={readContext:Sn,use:Ju,useCallback:iy,useContext:Sn,useEffect:Jp,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:ay,useReducer:Pf,useRef:Wp,useState:function(){return Pf(Ci)},useDebugValue:jf,useDeferredValue:function(t,i){var s=Yt();return bt===null?Lf(s,t,i):sy(s,bt.memoizedState,t,i)},useTransition:function(){var t=Pf(Ci)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Vp,useId:cy,useHostTransitionStatus:Bf,useFormState:Xp,useActionState:Xp,useOptimistic:function(t,i){var s=Yt();return bt!==null?zp(s,bt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Of,useCacheRefresh:hy},eo=null,dl=0;function ac(t){var i=dl;return dl+=1,eo===null&&(eo=[]),Rp(eo,t,i)}function ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sc(t,i){throw i.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function yy(t){var i=t._init;return i(t._payload)}function vy(t){function i(G,F){if(t){var W=G.deletions;W===null?(G.deletions=[F],G.flags|=16):W.push(F)}}function s(G,F){if(!t)return null;for(;F!==null;)i(G,F),F=F.sibling;return null}function l(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function f(G,F){return G=wi(G,F),G.index=0,G.sibling=null,G}function m(G,F,W){return G.index=W,t?(W=G.alternate,W!==null?(W=W.index,W<F?(G.flags|=67108866,F):W):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function T(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function A(G,F,W,ce){return F===null||F.tag!==6?(F=lf(W,G.mode,ce),F.return=G,F):(F=f(F,W),F.return=G,F)}function L(G,F,W,ce){var Re=W.type;return Re===C?se(G,F,W.props.children,ce,W.key):F!==null&&(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&yy(Re)===F.type)?(F=f(F,W.props),ml(F,W),F.return=G,F):(F=Hu(W.type,W.key,W.props,null,G.mode,ce),ml(F,W),F.return=G,F)}function J(G,F,W,ce){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=uf(W,G.mode,ce),F.return=G,F):(F=f(F,W.children||[]),F.return=G,F)}function se(G,F,W,ce,Re){return F===null||F.tag!==7?(F=es(W,G.mode,ce,Re),F.return=G,F):(F=f(F,W),F.return=G,F)}function de(G,F,W){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=lf(""+F,G.mode,W),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return W=Hu(F.type,F.key,F.props,null,G.mode,W),ml(W,F),W.return=G,W;case D:return F=uf(F,G.mode,W),F.return=G,F;case R:var ce=F._init;return F=ce(F._payload),de(G,F,W)}if(Ee(F)||O(F))return F=es(F,G.mode,W,null),F.return=G,F;if(typeof F.then=="function")return de(G,ac(F),W);if(F.$$typeof===$)return de(G,$u(G,F),W);sc(G,F)}return null}function te(G,F,W,ce){var Re=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Re!==null?null:A(G,F,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===Re?L(G,F,W,ce):null;case D:return W.key===Re?J(G,F,W,ce):null;case R:return Re=W._init,W=Re(W._payload),te(G,F,W,ce)}if(Ee(W)||O(W))return Re!==null?null:se(G,F,W,ce,null);if(typeof W.then=="function")return te(G,F,ac(W),ce);if(W.$$typeof===$)return te(G,F,$u(G,W),ce);sc(G,W)}return null}function ne(G,F,W,ce,Re){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return G=G.get(W)||null,A(F,G,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return G=G.get(ce.key===null?W:ce.key)||null,L(F,G,ce,Re);case D:return G=G.get(ce.key===null?W:ce.key)||null,J(F,G,ce,Re);case R:var Xe=ce._init;return ce=Xe(ce._payload),ne(G,F,W,ce,Re)}if(Ee(ce)||O(ce))return G=G.get(W)||null,se(F,G,ce,Re,null);if(typeof ce.then=="function")return ne(G,F,W,ac(ce),Re);if(ce.$$typeof===$)return ne(G,F,W,$u(F,ce),Re);sc(F,ce)}return null}function Be(G,F,W,ce){for(var Re=null,Xe=null,Ie=F,je=F=0,cn=null;Ie!==null&&je<W.length;je++){Ie.index>je?(cn=Ie,Ie=null):cn=Ie.sibling;var ht=te(G,Ie,W[je],ce);if(ht===null){Ie===null&&(Ie=cn);break}t&&Ie&&ht.alternate===null&&i(G,Ie),F=m(ht,F,je),Xe===null?Re=ht:Xe.sibling=ht,Xe=ht,Ie=cn}if(je===W.length)return s(G,Ie),dt&&ns(G,je),Re;if(Ie===null){for(;je<W.length;je++)Ie=de(G,W[je],ce),Ie!==null&&(F=m(Ie,F,je),Xe===null?Re=Ie:Xe.sibling=Ie,Xe=Ie);return dt&&ns(G,je),Re}for(Ie=l(Ie);je<W.length;je++)cn=ne(Ie,G,je,W[je],ce),cn!==null&&(t&&cn.alternate!==null&&Ie.delete(cn.key===null?je:cn.key),F=m(cn,F,je),Xe===null?Re=cn:Xe.sibling=cn,Xe=cn);return t&&Ie.forEach(function(va){return i(G,va)}),dt&&ns(G,je),Re}function Pe(G,F,W,ce){if(W==null)throw Error(a(151));for(var Re=null,Xe=null,Ie=F,je=F=0,cn=null,ht=W.next();Ie!==null&&!ht.done;je++,ht=W.next()){Ie.index>je?(cn=Ie,Ie=null):cn=Ie.sibling;var va=te(G,Ie,ht.value,ce);if(va===null){Ie===null&&(Ie=cn);break}t&&Ie&&va.alternate===null&&i(G,Ie),F=m(va,F,je),Xe===null?Re=va:Xe.sibling=va,Xe=va,Ie=cn}if(ht.done)return s(G,Ie),dt&&ns(G,je),Re;if(Ie===null){for(;!ht.done;je++,ht=W.next())ht=de(G,ht.value,ce),ht!==null&&(F=m(ht,F,je),Xe===null?Re=ht:Xe.sibling=ht,Xe=ht);return dt&&ns(G,je),Re}for(Ie=l(Ie);!ht.done;je++,ht=W.next())ht=ne(Ie,G,je,ht.value,ce),ht!==null&&(t&&ht.alternate!==null&&Ie.delete(ht.key===null?je:ht.key),F=m(ht,F,je),Xe===null?Re=ht:Xe.sibling=ht,Xe=ht);return t&&Ie.forEach(function(J1){return i(G,J1)}),dt&&ns(G,je),Re}function wt(G,F,W,ce){if(typeof W=="object"&&W!==null&&W.type===C&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var Re=W.key;F!==null;){if(F.key===Re){if(Re=W.type,Re===C){if(F.tag===7){s(G,F.sibling),ce=f(F,W.props.children),ce.return=G,G=ce;break e}}else if(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&yy(Re)===F.type){s(G,F.sibling),ce=f(F,W.props),ml(ce,W),ce.return=G,G=ce;break e}s(G,F);break}else i(G,F);F=F.sibling}W.type===C?(ce=es(W.props.children,G.mode,ce,W.key),ce.return=G,G=ce):(ce=Hu(W.type,W.key,W.props,null,G.mode,ce),ml(ce,W),ce.return=G,G=ce)}return T(G);case D:e:{for(Re=W.key;F!==null;){if(F.key===Re)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){s(G,F.sibling),ce=f(F,W.children||[]),ce.return=G,G=ce;break e}else{s(G,F);break}else i(G,F);F=F.sibling}ce=uf(W,G.mode,ce),ce.return=G,G=ce}return T(G);case R:return Re=W._init,W=Re(W._payload),wt(G,F,W,ce)}if(Ee(W))return Be(G,F,W,ce);if(O(W)){if(Re=O(W),typeof Re!="function")throw Error(a(150));return W=Re.call(W),Pe(G,F,W,ce)}if(typeof W.then=="function")return wt(G,F,ac(W),ce);if(W.$$typeof===$)return wt(G,F,$u(G,W),ce);sc(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,F!==null&&F.tag===6?(s(G,F.sibling),ce=f(F,W),ce.return=G,G=ce):(s(G,F),ce=lf(W,G.mode,ce),ce.return=G,G=ce),T(G)):s(G,F)}return function(G,F,W,ce){try{dl=0;var Re=wt(G,F,W,ce);return eo=null,Re}catch(Ie){if(Ie===il||Ie===Qu)throw Ie;var Xe=Kn(29,Ie,null,G.mode);return Xe.lanes=ce,Xe.return=G,Xe}finally{}}}var to=vy(!0),_y=vy(!1),_r=Y(null),Zr=null;function ra(t){var i=t.alternate;ae(nn,nn.current&1),ae(_r,t),Zr===null&&(i===null||Xs.current!==null||i.memoizedState!==null)&&(Zr=t)}function Ey(t){if(t.tag===22){if(ae(nn,nn.current),ae(_r,t),Zr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Zr=t)}}else ia()}function ia(){ae(nn,nn.current),ae(_r,_r.current)}function Ii(t){pe(_r),Zr===t&&(Zr=null),pe(nn)}var nn=Y(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Nd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Hf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var qf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Jn(),f=ea(l);f.payload=i,s!=null&&(f.callback=s),i=ta(t,f,l),i!==null&&(er(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Jn(),f=ea(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=ta(t,f,l),i!==null&&(er(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Jn(),l=ea(s);l.tag=2,i!=null&&(l.callback=i),i=ta(t,l,s),i!==null&&(er(i,t,s),sl(i,t,s))}};function Ty(t,i,s,l,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,T):i.prototype&&i.prototype.isPureReactComponent?!Xo(s,l)||!Xo(f,m):!0}function by(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&qf.enqueueReplaceState(i,i.state,null)}function us(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sy(t){lc(t)}function wy(t){console.error(t)}function Ay(t){lc(t)}function uc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function xy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ff(t,i,s){return s=ea(s),s.tag=3,s.payload={element:null},s.callback=function(){uc(t,i)},s}function Ry(t){return t=ea(t),t.tag=3,t}function Dy(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){xy(i,s,l)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){xy(i,s,l),typeof f!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function JS(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&tl(i,s,f,!0),s=_r.current,s!==null){switch(s.tag){case 13:return Zr===null?md():s.alternate===null&&Vt===0&&(Vt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===_f?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),pd(t,l,f)),!1;case 22:return s.flags|=65536,l===_f?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),pd(t,l,f)),!1}throw Error(a(435,s.tag))}return pd(t,l,f),md(),!1}if(dt)return i=_r.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==ff&&(t=Error(a(422),{cause:l}),el(gr(t,s)))):(l!==ff&&(i=Error(a(423),{cause:l}),el(gr(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=gr(l,s),f=Ff(t.stateNode,l,f),bf(t,f),Vt!==4&&(Vt=2)),!1;var m=Error(a(520),{cause:l});if(m=gr(m,s),Tl===null?Tl=[m]:Tl.push(m),Vt!==4&&(Vt=2),i===null)return!0;l=gr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Ff(s.stateNode,l,t),bf(s,t),!1;case 1:if(i=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ca===null||!ca.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Ry(f),Dy(f,t,s,l),bf(s,f),!1}s=s.return}while(s!==null);return!1}var Cy=Error(a(461)),ln=!1;function gn(t,i,s,l){i.child=t===null?_y(i,null,s,l):to(i,t.child,s,l)}function Iy(t,i,s,l,f){s=s.render;var m=i.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return ss(i),l=Rf(t,i,s,T,m,f),A=Df(),t!==null&&!ln?(Cf(t,i,f),Ni(t,i,f)):(dt&&A&&cf(i),i.flags|=1,gn(t,i,l,f),i.child)}function Ny(t,i,s,l,f){if(t===null){var m=s.type;return typeof m=="function"&&!of(m)&&m.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=m,Oy(t,i,m,l,f)):(t=Hu(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Zf(t,f)){var T=m.memoizedProps;if(s=s.compare,s=s!==null?s:Xo,s(T,l)&&t.ref===i.ref)return Ni(t,i,f)}return i.flags|=1,t=wi(m,l),t.ref=i.ref,t.return=i,i.child=t}function Oy(t,i,s,l,f){if(t!==null){var m=t.memoizedProps;if(Xo(m,l)&&t.ref===i.ref)if(ln=!1,i.pendingProps=l=m,Zf(t,f))(t.flags&131072)!==0&&(ln=!0);else return i.lanes=t.lanes,Ni(t,i,f)}return Gf(t,i,s,l,f)}function My(t,i,s){var l=i.pendingProps,f=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|s:s,t!==null){for(f=i.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return Py(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,m!==null?m.cachePool:null),m!==null?Op(i,m):wf(),Ey(i);else return i.lanes=i.childLanes=536870912,Py(t,i,m!==null?m.baseLanes|s:s,s)}else m!==null?(Yu(i,m.cachePool),Op(i,m),ia(),i.memoizedState=null):(t!==null&&Yu(i,null),wf(),ia());return gn(t,i,f,s),i.child}function Py(t,i,s,l){var f=vf();return f=f===null?null:{parent:tn._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&Yu(i,null),wf(),Ey(i),t!==null&&tl(t,i,l,!0),null}function cc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Gf(t,i,s,l,f){return ss(i),s=Rf(t,i,s,l,void 0,f),l=Df(),t!==null&&!ln?(Cf(t,i,f),Ni(t,i,f)):(dt&&l&&cf(i),i.flags|=1,gn(t,i,s,f),i.child)}function Vy(t,i,s,l,f,m){return ss(i),i.updateQueue=null,s=Pp(i,l,s,f),Mp(t),l=Df(),t!==null&&!ln?(Cf(t,i,m),Ni(t,i,m)):(dt&&l&&cf(i),i.flags|=1,gn(t,i,s,m),i.child)}function ky(t,i,s,l,f){if(ss(i),i.stateNode===null){var m=Gs,T=s.contextType;typeof T=="object"&&T!==null&&(m=Sn(T)),m=new s(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=qf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Ef(i),T=s.contextType,m.context=typeof T=="object"&&T!==null?Sn(T):Gs,m.state=i.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Hf(i,s,T,l),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&qf.enqueueReplaceState(m,m.state,null),ll(i,l,m,f),ol(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var A=i.memoizedProps,L=us(s,A);m.props=L;var J=m.context,se=s.contextType;T=Gs,typeof se=="object"&&se!==null&&(T=Sn(se));var de=s.getDerivedStateFromProps;se=typeof de=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,se||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||J!==T)&&by(i,m,l,T),Ji=!1;var te=i.memoizedState;m.state=te,ll(i,l,m,f),ol(),J=i.memoizedState,A||te!==J||Ji?(typeof de=="function"&&(Hf(i,s,de,l),J=i.memoizedState),(L=Ji||Ty(i,s,L,l,te,J,T))?(se||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=J),m.props=l,m.state=J,m.context=T,l=L):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Tf(t,i),T=i.memoizedProps,se=us(s,T),m.props=se,de=i.pendingProps,te=m.context,J=s.contextType,L=Gs,typeof J=="object"&&J!==null&&(L=Sn(J)),A=s.getDerivedStateFromProps,(J=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==de||te!==L)&&by(i,m,l,L),Ji=!1,te=i.memoizedState,m.state=te,ll(i,l,m,f),ol();var ne=i.memoizedState;T!==de||te!==ne||Ji||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof A=="function"&&(Hf(i,s,A,l),ne=i.memoizedState),(se=Ji||Ty(i,s,se,l,te,ne,L)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(J||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ne,L),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ne,L)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&te===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&te===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=ne),m.props=l,m.state=ne,m.context=L,l=se):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&te===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&te===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,cc(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=to(i,t.child,null,f),i.child=to(i,null,s,f)):gn(t,i,s,f),i.memoizedState=m.state,t=i.child):t=Ni(t,i,f),t}function jy(t,i,s,l){return Jo(),i.flags|=256,gn(t,i,s,l),i.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:wp()}}function Qf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Er),t}function Ly(t,i,s){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(nn.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(dt){if(f?ra(i):ia(),dt){var A=Pt,L;if(L=A){e:{for(L=A,A=Wr;L.nodeType!==8;){if(!A){A=null;break e}if(L=Mr(L.nextSibling),L===null){A=null;break e}}A=L}A!==null?(i.memoizedState={dehydrated:A,treeContext:ts!==null?{id:Ai,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},L=Kn(18,null,null,0),L.stateNode=A,L.return=i,i.child=L,Pn=i,Pt=null,L=!0):L=!1}L||is(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Nd(A)?i.lanes=32:i.lanes=536870912,null;Ii(i)}return A=l.children,l=l.fallback,f?(ia(),f=i.mode,A=hc({mode:"hidden",children:A},f),l=es(l,f,s,null),A.return=i,l.return=i,A.sibling=l,i.child=A,f=i.child,f.memoizedState=Yf(s),f.childLanes=Qf(t,T,s),i.memoizedState=$f,l):(ra(i),Kf(i,A))}if(L=t.memoizedState,L!==null&&(A=L.dehydrated,A!==null)){if(m)i.flags&256?(ra(i),i.flags&=-257,i=Xf(t,i,s)):i.memoizedState!==null?(ia(),i.child=t.child,i.flags|=128,i=null):(ia(),f=l.fallback,A=i.mode,l=hc({mode:"visible",children:l.children},A),f=es(f,A,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,to(i,t.child,null,s),l=i.child,l.memoizedState=Yf(s),l.childLanes=Qf(t,T,s),i.memoizedState=$f,i=f);else if(ra(i),Nd(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var J=T.dgst;T=J,l=Error(a(419)),l.stack="",l.digest=T,el({value:l,source:null,stack:null}),i=Xf(t,i,s)}else if(ln||tl(t,i,s,!1),T=(s&t.childLanes)!==0,ln||T){if(T=Rt,T!==null&&(l=s&-s,l=(l&42)!==0?1:zr(l),l=(l&(T.suspendedLanes|s))!==0?0:l,l!==0&&l!==L.retryLane))throw L.retryLane=l,Fs(t,l),er(T,t,l),Cy;A.data==="$?"||md(),i=Xf(t,i,s)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=L.treeContext,Pt=Mr(A.nextSibling),Pn=i,dt=!0,rs=null,Wr=!1,t!==null&&(yr[vr++]=Ai,yr[vr++]=xi,yr[vr++]=ts,Ai=t.id,xi=t.overflow,ts=i),i=Kf(i,l.children),i.flags|=4096);return i}return f?(ia(),f=l.fallback,A=i.mode,L=t.child,J=L.sibling,l=wi(L,{mode:"hidden",children:l.children}),l.subtreeFlags=L.subtreeFlags&65011712,J!==null?f=wi(J,f):(f=es(f,A,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,A=t.child.memoizedState,A===null?A=Yf(s):(L=A.cachePool,L!==null?(J=tn._currentValue,L=L.parent!==J?{parent:J,pool:J}:L):L=wp(),A={baseLanes:A.baseLanes|s,cachePool:L}),f.memoizedState=A,f.childLanes=Qf(t,T,s),i.memoizedState=$f,l):(ra(i),s=t.child,t=s.sibling,s=wi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=s,i.memoizedState=null,s)}function Kf(t,i){return i=hc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function hc(t,i){return t=Kn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xf(t,i,s){return to(i,t.child,null,s),t=Kf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Uy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),mf(t.return,i,s)}function Wf(t,i,s,l,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=f)}function By(t,i,s){var l=i.pendingProps,f=l.revealOrder,m=l.tail;if(gn(t,i,l.children,s),l=nn.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uy(t,s,i);else if(t.tag===19)Uy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ae(nn,l),f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&oc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Wf(i,!1,f,s,m);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&oc(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Wf(i,!0,s,null,m);break;case"together":Wf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ni(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),ua|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(tl(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=wi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=wi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function e1(t,i,s){switch(i.tag){case 3:Ve(i,i.stateNode.containerInfo),Zi(i,tn,t.memoizedState.cache),Jo();break;case 27:case 5:mt(i);break;case 4:Ve(i,i.stateNode.containerInfo);break;case 10:Zi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ra(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Ly(t,i,s):(ra(i),t=Ni(t,i,s),t!==null?t.sibling:null);ra(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(tl(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return By(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(nn,nn.current),l)break;return null;case 22:case 23:return i.lanes=0,My(t,i,s);case 24:Zi(i,tn,t.memoizedState.cache)}return Ni(t,i,s)}function zy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)ln=!0;else{if(!Zf(t,s)&&(i.flags&128)===0)return ln=!1,e1(t,i,s);ln=(t.flags&131072)!==0}else ln=!1,dt&&(i.flags&1048576)!==0&&yp(i,Fu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")of(l)?(t=us(l,t),i.tag=1,i=ky(null,i,l,t,s)):(i.tag=0,i=Gf(null,i,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===le){i.tag=11,i=Iy(null,i,l,t,s);break e}else if(f===M){i.tag=14,i=Ny(null,i,l,t,s);break e}}throw i=oe(l)||l,Error(a(306,i,""))}}return i;case 0:return Gf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=us(l,i.pendingProps),ky(t,i,l,f,s);case 3:e:{if(Ve(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var m=i.memoizedState;f=m.element,Tf(t,i),ll(i,l,null,s);var T=i.memoizedState;if(l=T.cache,Zi(i,tn,l),l!==m.cache&&gf(i,[tn],s,!0),ol(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=jy(t,i,l,s);break e}else if(l!==f){f=gr(Error(a(424)),i),el(f),i=jy(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pt=Mr(t.firstChild),Pn=i,dt=!0,rs=null,Wr=!0,s=_y(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Jo(),l===f){i=Ni(t,i,s);break e}gn(t,i,l,s)}i=i.child}return i;case 26:return cc(t,i),t===null?(s=Gv(i.type,null,i.pendingProps,null))?i.memoizedState=s:dt||(s=i.type,t=i.pendingProps,l=Ac(Te.current).createElement(s),l[me]=i,l[ye]=t,yn(l,s,t),it(l),i.stateNode=l):i.memoizedState=Gv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return mt(i),t===null&&dt&&(l=i.stateNode=Hv(i.type,i.pendingProps,Te.current),Pn=i,Wr=!0,f=Pt,da(i.type)?(Od=f,Pt=Mr(l.firstChild)):Pt=f),gn(t,i,i.pendingProps.children,s),cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&dt&&((f=l=Pt)&&(l=D1(l,i.type,i.pendingProps,Wr),l!==null?(i.stateNode=l,Pn=i,Pt=Mr(l.firstChild),Wr=!1,f=!0):f=!1),f||is(i)),mt(i),f=i.type,m=i.pendingProps,T=t!==null?t.memoizedProps:null,l=m.children,Dd(f,m)?l=null:T!==null&&Dd(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=Rf(t,i,$S,null,null,s),Il._currentValue=f),cc(t,i),gn(t,i,l,s),i.child;case 6:return t===null&&dt&&((t=s=Pt)&&(s=C1(s,i.pendingProps,Wr),s!==null?(i.stateNode=s,Pn=i,Pt=null,t=!0):t=!1),t||is(i)),null;case 13:return Ly(t,i,s);case 4:return Ve(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=to(i,null,l,s):gn(t,i,l,s),i.child;case 11:return Iy(t,i,i.type,i.pendingProps,s);case 7:return gn(t,i,i.pendingProps,s),i.child;case 8:return gn(t,i,i.pendingProps.children,s),i.child;case 12:return gn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Zi(i,i.type,l.value),gn(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ss(i),f=Sn(f),l=l(f),i.flags|=1,gn(t,i,l,s),i.child;case 14:return Ny(t,i,i.type,i.pendingProps,s);case 15:return Oy(t,i,i.type,i.pendingProps,s);case 19:return By(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=hc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=wi(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return My(t,i,s);case 24:return ss(i),l=Sn(tn),t===null?(f=vf(),f===null&&(f=Rt,m=pf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),i.memoizedState={parent:l,cache:f},Ef(i),Zi(i,tn,f)):((t.lanes&s)!==0&&(Tf(t,i),ll(i,null,null,s),ol()),f=t.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Zi(i,tn,l)):(l=m.cache,Zi(i,tn,l),l!==f.cache&&gf(i,[tn],s,!0))),gn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Oi(t){t.flags|=4}function Hy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xv(i)){if(i=_r.current,i!==null&&((ot&4194048)===ot?Zr!==null:(ot&62914560)!==ot&&(ot&536870912)===0||i!==Zr))throw al=_f,Ap;t.flags|=8192}}function fc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ba():536870912,t.lanes|=i,ao|=i)}function gl(t,i){if(!dt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function t1(t,i,s){var l=i.pendingProps;switch(hf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Di(tn),Et(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Zo(i)?Oi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ep())),Ot(i),null;case 26:return s=i.memoizedState,t===null?(Oi(i),s!==null?(Ot(i),Hy(i,s)):(Ot(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Oi(i),Ot(i),Hy(i,s)):(Ot(i),i.flags&=-16777217):(t.memoizedProps!==l&&Oi(i),Ot(i),i.flags&=-16777217),null;case 27:an(i),s=Te.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Oi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}t=ue.current,Zo(i)?vp(i):(t=Hv(f,l,s),i.stateNode=t,Oi(i))}return Ot(i),null;case 5:if(an(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Oi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}if(t=ue.current,Zo(i))vp(i);else{switch(f=Ac(Te.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[me]=i,t[ye]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(yn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Oi(i)}}return Ot(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Oi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Te.current,Zo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=Pn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[me]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Vv(t.nodeValue,s)),t||is(i)}else t=Ac(t).createTextNode(l),t[me]=i,i.stateNode=t}return Ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Zo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[me]=i}else Jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),f=!1}else f=Ep(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),fc(i,i.updateQueue),Ot(i),null;case 4:return Et(),t===null&&Sd(i.stateNode.containerInfo),Ot(i),null;case 10:return Di(i.type),Ot(i),null;case 19:if(pe(nn),f=i.memoizedState,f===null)return Ot(i),null;if(l=(i.flags&128)!==0,m=f.rendering,m===null)if(l)gl(f,!1);else{if(Vt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=oc(t),m!==null){for(i.flags|=128,gl(f,!1),t=m.updateQueue,i.updateQueue=t,fc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)pp(s,t),s=s.sibling;return ae(nn,nn.current&1|2),i.child}t=t.sibling}f.tail!==null&&Cn()>gc&&(i.flags|=128,l=!0,gl(f,!1),i.lanes=4194304)}else{if(!l)if(t=oc(m),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,fc(i,t),gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!dt)return Ot(i),null}else 2*Cn()-f.renderingStartTime>gc&&s!==536870912&&(i.flags|=128,l=!0,gl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(t=f.last,t!==null?t.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Cn(),i.sibling=null,t=nn.current,ae(nn,l?t&1|2:t&1),i):(Ot(i),null);case 22:case 23:return Ii(i),Af(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),s=i.updateQueue,s!==null&&fc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&pe(os),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Di(tn),Ot(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function n1(t,i){switch(hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Di(tn),Et(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return an(i),null;case 13:if(Ii(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Jo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return pe(nn),null;case 4:return Et(),null;case 10:return Di(i.type),null;case 22:case 23:return Ii(i),Af(),t!==null&&pe(os),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Di(tn),null;case 25:return null;default:return null}}function qy(t,i){switch(hf(i),i.tag){case 3:Di(tn),Et();break;case 26:case 27:case 5:an(i);break;case 4:Et();break;case 13:Ii(i);break;case 19:pe(nn);break;case 10:Di(i.type);break;case 22:case 23:Ii(i),Af(),t!==null&&pe(os);break;case 24:Di(tn)}}function pl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var m=s.create,T=s.inst;l=m(),T.destroy=l}s=s.next}while(s!==f)}}catch(A){xt(i,i.return,A)}}function aa(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=i;var L=s,J=A;try{J()}catch(se){xt(f,L,se)}}}l=l.next}while(l!==m)}}catch(se){xt(i,i.return,se)}}function Fy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Np(i,s)}catch(l){xt(t,t.return,l)}}}function Gy(t,i,s){s.props=us(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){xt(t,i,l)}}function yl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){xt(t,i,f)}}function Jr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){xt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){xt(t,i,f)}else s.current=null}function $y(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){xt(t,t.return,f)}}function Jf(t,i,s){try{var l=t.stateNode;S1(l,t.type,s,i),l[ye]=i}catch(f){xt(t,t.return,f)}}function Yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&da(t.type)||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&da(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=wc));else if(l!==4&&(l===27&&da(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(td(t,i,s),t=t.sibling;t!==null;)td(t,i,s),t=t.sibling}function dc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&da(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(dc(t,i,s),t=t.sibling;t!==null;)dc(t,i,s),t=t.sibling}function Qy(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);yn(i,l,s),i[me]=t,i[ye]=s}catch(m){xt(t,t.return,m)}}var Mi=!1,Bt=!1,nd=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,un=null;function r1(t,i){if(t=t.containerInfo,xd=Nc,t=sp(t),Jh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var T=0,A=-1,L=-1,J=0,se=0,de=t,te=null;t:for(;;){for(var ne;de!==s||f!==0&&de.nodeType!==3||(A=T+f),de!==m||l!==0&&de.nodeType!==3||(L=T+l),de.nodeType===3&&(T+=de.nodeValue.length),(ne=de.firstChild)!==null;)te=de,de=ne;for(;;){if(de===t)break t;if(te===s&&++J===f&&(A=T),te===m&&++se===l&&(L=T),(ne=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ne}s=A===-1||L===-1?null:{start:A,end:L}}else s=null}s=s||{start:0,end:0}}else s=null;for(Rd={focusedElem:t,selectionRange:s},Nc=!1,un=i;un!==null;)if(i=un,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,un=t;else for(;un!==null;){switch(i=un,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=i,f=m.memoizedProps,m=m.memoizedState,l=s.stateNode;try{var Be=us(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Be,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Pe){xt(s,s.return,Pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Id(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,un=t;break}un=i.return}}function Xy(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:sa(t,s),l&4&&pl(5,s);break;case 1:if(sa(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(T){xt(s,s.return,T)}else{var f=us(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){xt(s,s.return,T)}}l&64&&Fy(s),l&512&&yl(s,s.return);break;case 3:if(sa(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Np(t,i)}catch(T){xt(s,s.return,T)}}break;case 27:i===null&&l&4&&Qy(s);case 26:case 5:sa(t,s),i===null&&l&4&&$y(s),l&512&&yl(s,s.return);break;case 12:sa(t,s);break;case 13:sa(t,s),l&4&&Jy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=f1.bind(null,s),I1(t,s))));break;case 22:if(l=s.memoizedState!==null||Mi,!l){i=i!==null&&i.memoizedState!==null||Bt,f=Mi;var m=Bt;Mi=l,(Bt=i)&&!m?oa(t,s,(s.subtreeFlags&8772)!==0):sa(t,s),Mi=f,Bt=m}break;case 30:break;default:sa(t,s)}}function Wy(t){var i=t.alternate;i!==null&&(t.alternate=null,Wy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Me(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,Un=!1;function Pi(t,i,s){for(s=s.child;s!==null;)Zy(t,i,s),s=s.sibling}function Zy(t,i,s){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ft,s)}catch{}switch(s.tag){case 26:Bt||Jr(s,i),Pi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Bt||Jr(s,i);var l=It,f=Un;da(s.type)&&(It=s.stateNode,Un=!1),Pi(t,i,s),xl(s.stateNode),It=l,Un=f;break;case 5:Bt||Jr(s,i);case 6:if(l=It,f=Un,It=null,Pi(t,i,s),It=l,Un=f,It!==null)if(Un)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(s.stateNode)}catch(m){xt(s,i,m)}else try{It.removeChild(s.stateNode)}catch(m){xt(s,i,m)}break;case 18:It!==null&&(Un?(t=It,Bv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Pl(t)):Bv(It,s.stateNode));break;case 4:l=It,f=Un,It=s.stateNode.containerInfo,Un=!0,Pi(t,i,s),It=l,Un=f;break;case 0:case 11:case 14:case 15:Bt||aa(2,s,i),Bt||aa(4,s,i),Pi(t,i,s);break;case 1:Bt||(Jr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Gy(s,i,l)),Pi(t,i,s);break;case 21:Pi(t,i,s);break;case 22:Bt=(l=Bt)||s.memoizedState!==null,Pi(t,i,s),Bt=l;break;default:Pi(t,i,s)}}function Jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(s){xt(i,i.return,s)}}function i1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ky),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ky),i;default:throw Error(a(435,t.tag))}}function rd(t,i){var s=i1(t);i.forEach(function(l){var f=d1.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function Xn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],m=t,T=i,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(da(A.type)){It=A.stateNode,Un=!1;break e}break;case 5:It=A.stateNode,Un=!1;break e;case 3:case 4:It=A.stateNode.containerInfo,Un=!0;break e}A=A.return}if(It===null)throw Error(a(160));Zy(m,T,f),It=null,Un=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ev(i,t),i=i.sibling}var Or=null;function ev(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xn(i,t),Wn(t),l&4&&(aa(3,t,t.return),pl(3,t),aa(5,t,t.return));break;case 1:Xn(i,t),Wn(t),l&512&&(Bt||s===null||Jr(s,s.return)),l&64&&Mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Or;if(Xn(i,t),Wn(t),l&512&&(Bt||s===null||Jr(s,s.return)),l&4){var m=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ke]||m[me]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),yn(m,l,s),m[me]=t,it(m),l=m;break e;case"link":var T=Qv("link","href",f).get(l+(s.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(A,1);break t}}m=f.createElement(l),yn(m,l,s),f.head.appendChild(m);break;case"meta":if(T=Qv("meta","content",f).get(l+(s.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(A,1);break t}}m=f.createElement(l),yn(m,l,s),f.head.appendChild(m);break;default:throw Error(a(468,l))}m[me]=t,it(m),l=m}t.stateNode=l}else Kv(f,t.type,t.stateNode);else t.stateNode=Yv(f,l,t.memoizedProps);else m!==l?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,l===null?Kv(f,t.type,t.stateNode):Yv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Xn(i,t),Wn(t),l&512&&(Bt||s===null||Jr(s,s.return)),s!==null&&l&4&&Jf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Xn(i,t),Wn(t),l&512&&(Bt||s===null||Jr(s,s.return)),t.flags&32){f=t.stateNode;try{hr(f,"")}catch(ne){xt(t,t.return,ne)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Jf(t,f,s!==null?s.memoizedProps:f)),l&1024&&(nd=!0);break;case 6:if(Xn(i,t),Wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ne){xt(t,t.return,ne)}}break;case 3:if(Dc=null,f=Or,Or=xc(i.containerInfo),Xn(i,t),Or=f,Wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Pl(i.containerInfo)}catch(ne){xt(t,t.return,ne)}nd&&(nd=!1,tv(t));break;case 4:l=Or,Or=xc(t.stateNode.containerInfo),Xn(i,t),Wn(t),Or=l;break;case 12:Xn(i,t),Wn(t);break;case 13:Xn(i,t),Wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ud=Cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 22:f=t.memoizedState!==null;var L=s!==null&&s.memoizedState!==null,J=Mi,se=Bt;if(Mi=J||f,Bt=se||L,Xn(i,t),Bt=se,Mi=J,Wn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||L||Mi||Bt||cs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){L=s=i;try{if(m=L.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=L.stateNode;var de=L.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;A.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){xt(L,L.return,ne)}}}else if(i.tag===6){if(s===null){L=i;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(ne){xt(L,L.return,ne)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,rd(t,s))));break;case 19:Xn(i,t),Wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 30:break;case 21:break;default:Xn(i,t),Wn(t)}}function Wn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Yy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,m=ed(t);dc(t,m,f);break;case 5:var T=s.stateNode;s.flags&32&&(hr(T,""),s.flags&=-33);var A=ed(t);dc(t,A,T);break;case 3:case 4:var L=s.stateNode.containerInfo,J=ed(t);td(t,J,L);break;default:throw Error(a(161))}}catch(se){xt(t,t.return,se)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function tv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;tv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function sa(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xy(t,i.alternate,i),i=i.sibling}function cs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:aa(4,i,i.return),cs(i);break;case 1:Jr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Gy(i,i.return,s),cs(i);break;case 27:xl(i.stateNode);case 26:case 5:Jr(i,i.return),cs(i);break;case 22:i.memoizedState===null&&cs(i);break;case 30:cs(i);break;default:cs(i)}t=t.sibling}}function oa(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:oa(f,m,s),pl(4,m);break;case 1:if(oa(f,m,s),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){xt(l,l.return,J)}if(l=m,f=l.updateQueue,f!==null){var A=l.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)Ip(L[f],A)}catch(J){xt(l,l.return,J)}}s&&T&64&&Fy(m),yl(m,m.return);break;case 27:Qy(m);case 26:case 5:oa(f,m,s),s&&l===null&&T&4&&$y(m),yl(m,m.return);break;case 12:oa(f,m,s);break;case 13:oa(f,m,s),s&&T&4&&Jy(f,m);break;case 22:m.memoizedState===null&&oa(f,m,s),yl(m,m.return);break;case 30:break;default:oa(f,m,s)}i=i.sibling}}function id(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&nl(s))}function ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function ei(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)nv(t,i,s,l),i=i.sibling}function nv(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,s,l),f&2048&&pl(9,i);break;case 1:ei(t,i,s,l);break;case 3:ei(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(f&2048){ei(t,i,s,l),t=i.stateNode;try{var m=i.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){xt(i,i.return,L)}}else ei(t,i,s,l);break;case 13:ei(t,i,s,l);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?ei(t,i,s,l):vl(t,i):m._visibility&2?ei(t,i,s,l):(m._visibility|=2,no(t,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&id(T,i);break;case 24:ei(t,i,s,l),f&2048&&ad(i.alternate,i);break;default:ei(t,i,s,l)}}function no(t,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,T=i,A=s,L=l,J=T.flags;switch(T.tag){case 0:case 11:case 15:no(m,T,A,L,f),pl(8,T);break;case 23:break;case 22:var se=T.stateNode;T.memoizedState!==null?se._visibility&2?no(m,T,A,L,f):vl(m,T):(se._visibility|=2,no(m,T,A,L,f)),f&&J&2048&&id(T.alternate,T);break;case 24:no(m,T,A,L,f),f&&J&2048&&ad(T.alternate,T);break;default:no(m,T,A,L,f)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:vl(s,l),f&2048&&id(l.alternate,l);break;case 24:vl(s,l),f&2048&&ad(l.alternate,l);break;default:vl(s,l)}i=i.sibling}}var _l=8192;function ro(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)rv(t),t=t.sibling}function rv(t){switch(t.tag){case 26:ro(t),t.flags&_l&&t.memoizedState!==null&&q1(Or,t.memoizedState,t.memoizedProps);break;case 5:ro(t);break;case 3:case 4:var i=Or;Or=xc(t.stateNode.containerInfo),ro(t),Or=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=_l,_l=16777216,ro(t),_l=i):ro(t));break;default:ro(t)}}function iv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];un=l,sv(l,t)}iv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)av(t),t=t.sibling}function av(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&aa(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,mc(t)):El(t);break;default:El(t)}}function mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];un=l,sv(l,t)}iv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:aa(8,i,i.return),mc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,mc(i));break;default:mc(i)}t=t.sibling}}function sv(t,i){for(;un!==null;){var s=un;switch(s.tag){case 0:case 11:case 15:aa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,un=l;else e:for(s=t;un!==null;){l=un;var f=l.sibling,m=l.return;if(Wy(l),l===s){un=null;break e}if(f!==null){f.return=m,un=f;break e}un=m}}}var a1={getCacheForType:function(t){var i=Sn(tn),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},s1=typeof WeakMap=="function"?WeakMap:Map,vt=0,Rt=null,Je=null,ot=0,_t=0,Zn=null,la=!1,io=!1,sd=!1,Vi=0,Vt=0,ua=0,hs=0,od=0,Er=0,ao=0,Tl=null,Bn=null,ld=!1,ud=0,gc=1/0,pc=null,ca=null,pn=0,ha=null,so=null,oo=0,cd=0,hd=null,ov=null,bl=0,fd=null;function Jn(){if((vt&2)!==0&&ot!==0)return ot&-ot;if(j.T!==null){var t=Qs;return t!==0?t:_d()}return H()}function lv(){Er===0&&(Er=(ot&536870912)===0||dt?gi():536870912);var t=_r.current;return t!==null&&(t.flags|=32),Er}function er(t,i,s){(t===Rt&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(lo(t,0),fa(t,ot,Er,!1)),Cr(t,s),((vt&2)===0||t!==Rt)&&(t===Rt&&((vt&2)===0&&(hs|=s),Vt===4&&fa(t,ot,Er,!1)),ti(t))}function uv(t,i,s){if((vt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||or(t,i),f=l?u1(t,i):gd(t,i,!0),m=l;do{if(f===0){io&&!l&&fa(t,i,0,!1);break}else{if(s=t.current.alternate,m&&!o1(s)){f=gd(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var A=t;f=Tl;var L=A.current.memoizedState.isDehydrated;if(L&&(lo(A,T).flags|=256),T=gd(A,T,!1),T!==2){if(sd&&!L){A.errorRecoveryDisabledLanes|=m,hs|=m,f=4;break e}m=Bn,Bn=f,m!==null&&(Bn===null?Bn=m:Bn.push.apply(Bn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){lo(t,0),fa(t,i,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:fa(l,i,Er,!la);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=ud+300-Cn(),10<f)){if(fa(l,i,Er,!la),mi(l,0,!0)!==0)break e;l.timeoutHandle=Lv(cv.bind(null,l,s,Bn,pc,ld,i,Er,hs,ao,la,m,2,-0,0),f);break e}cv(l,s,Bn,pc,ld,i,Er,hs,ao,la,m,0,-0,0)}}break}while(!0);ti(t)}function cv(t,i,s,l,f,m,T,A,L,J,se,de,te,ne){if(t.timeoutHandle=-1,de=i.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:H1},rv(i),de=F1(),de!==null)){t.cancelPendingCommit=de(yv.bind(null,t,i,m,s,l,f,T,A,L,se,1,te,ne)),fa(t,m,T,!J);return}yv(t,i,m,s,l,f,T,A,L)}function o1(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],m=f.getSnapshot;f=f.value;try{if(!Qn(m(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fa(t,i,s,l){i&=~od,i&=~hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var m=31-qt(f),T=1<<m;l[m]=-1,f&=~T}s!==0&&In(t,s,i)}function yc(){return(vt&6)===0?(Sl(0),!1):!0}function dd(){if(Je!==null){if(_t===0)var t=Je.return;else t=Je,Ri=as=null,If(t),eo=null,dl=0,t=Je;for(;t!==null;)qy(t.alternate,t),t=t.return;Je=null}}function lo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,A1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),dd(),Rt=t,Je=s=wi(t.current,null),ot=i,_t=0,Zn=null,la=!1,io=or(t,i),sd=!1,ao=Er=od=hs=ua=Vt=0,Bn=Tl=null,ld=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-qt(l),m=1<<f;i|=t[f],l&=~m}return Vi=i,Uu(),s}function hv(t,i){Ye=null,j.H=ic,i===il||i===Qu?(i=Dp(),_t=3):i===Ap?(i=Dp(),_t=4):_t=i===Cy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zn=i,Je===null&&(Vt=1,uc(t,gr(i,t.current)))}function fv(){var t=j.H;return j.H=ic,t===null?ic:t}function dv(){var t=j.A;return j.A=a1,t}function md(){Vt=4,la||(ot&4194048)!==ot&&_r.current!==null||(io=!0),(ua&134217727)===0&&(hs&134217727)===0||Rt===null||fa(Rt,ot,Er,!1)}function gd(t,i,s){var l=vt;vt|=2;var f=fv(),m=dv();(Rt!==t||ot!==i)&&(pc=null,lo(t,i)),i=!1;var T=Vt;e:do try{if(_t!==0&&Je!==null){var A=Je,L=Zn;switch(_t){case 8:dd(),T=6;break e;case 3:case 2:case 9:case 6:_r.current===null&&(i=!0);var J=_t;if(_t=0,Zn=null,uo(t,A,L,J),s&&io){T=0;break e}break;default:J=_t,_t=0,Zn=null,uo(t,A,L,J)}}l1(),T=Vt;break}catch(se){hv(t,se)}while(!0);return i&&t.shellSuspendCounter++,Ri=as=null,vt=l,j.H=f,j.A=m,Je===null&&(Rt=null,ot=0,Uu()),T}function l1(){for(;Je!==null;)mv(Je)}function u1(t,i){var s=vt;vt|=2;var l=fv(),f=dv();Rt!==t||ot!==i?(pc=null,gc=Cn()+500,lo(t,i)):io=or(t,i);e:do try{if(_t!==0&&Je!==null){i=Je;var m=Zn;t:switch(_t){case 1:_t=0,Zn=null,uo(t,i,m,1);break;case 2:case 9:if(xp(m)){_t=0,Zn=null,gv(i);break}i=function(){_t!==2&&_t!==9||Rt!==t||(_t=7),ti(t)},m.then(i,i);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:xp(m)?(_t=0,Zn=null,gv(i)):(_t=0,Zn=null,uo(t,i,m,7));break;case 5:var T=null;switch(Je.tag){case 26:T=Je.memoizedState;case 5:case 27:var A=Je;if(!T||Xv(T)){_t=0,Zn=null;var L=A.sibling;if(L!==null)Je=L;else{var J=A.return;J!==null?(Je=J,vc(J)):Je=null}break t}}_t=0,Zn=null,uo(t,i,m,5);break;case 6:_t=0,Zn=null,uo(t,i,m,6);break;case 8:dd(),Vt=6;break e;default:throw Error(a(462))}}c1();break}catch(se){hv(t,se)}while(!0);return Ri=as=null,j.H=l,j.A=f,vt=s,Je!==null?0:(Rt=null,ot=0,Uu(),Vt)}function c1(){for(;Je!==null&&!La();)mv(Je)}function mv(t){var i=zy(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,i===null?vc(t):Je=i}function gv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Vy(s,i,i.pendingProps,i.type,void 0,ot);break;case 11:i=Vy(s,i,i.pendingProps,i.type.render,i.ref,ot);break;case 5:If(i);default:qy(s,i),i=Je=pp(i,Vi),i=zy(s,i,Vi)}t.memoizedProps=t.pendingProps,i===null?vc(t):Je=i}function uo(t,i,s,l){Ri=as=null,If(i),eo=null,dl=0;var f=i.return;try{if(JS(t,f,i,s,ot)){Vt=1,uc(t,gr(s,t.current)),Je=null;return}}catch(m){if(f!==null)throw Je=f,m;Vt=1,uc(t,gr(s,t.current)),Je=null;return}i.flags&32768?(dt||l===1?t=!0:io||(ot&536870912)!==0?t=!1:(la=t=!0,(l===2||l===9||l===3||l===6)&&(l=_r.current,l!==null&&l.tag===13&&(l.flags|=16384))),pv(i,t)):vc(i)}function vc(t){var i=t;do{if((i.flags&32768)!==0){pv(i,la);return}t=i.return;var s=t1(i.alternate,i,Vi);if(s!==null){Je=s;return}if(i=i.sibling,i!==null){Je=i;return}Je=i=t}while(i!==null);Vt===0&&(Vt=5)}function pv(t,i){do{var s=n1(t.alternate,t);if(s!==null){s.flags&=32767,Je=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Je=t;return}Je=t=s}while(t!==null);Vt=6,Je=null}function yv(t,i,s,l,f,m,T,A,L){t.cancelPendingCommit=null;do _c();while(pn!==0);if((vt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=af,Yi(t,s,m,T,A,L),t===Rt&&(Je=Rt=null,ot=0),so=i,ha=t,oo=s,cd=m,hd=f,ov=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,m1(di,function(){return bv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,f=ee.p,ee.p=2,T=vt,vt|=4;try{r1(t,i,s)}finally{vt=T,ee.p=f,j.T=l}}pn=1,vv(),_v(),Ev()}}function vv(){if(pn===1){pn=0;var t=ha,i=so,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=j.T,j.T=null;var l=ee.p;ee.p=2;var f=vt;vt|=4;try{ev(i,t);var m=Rd,T=sp(t.containerInfo),A=m.focusedElem,L=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&ap(A.ownerDocument.documentElement,A)){if(L!==null&&Jh(A)){var J=L.start,se=L.end;if(se===void 0&&(se=J),"selectionStart"in A)A.selectionStart=J,A.selectionEnd=Math.min(se,A.value.length);else{var de=A.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Be=A.textContent.length,Pe=Math.min(L.start,Be),wt=L.end===void 0?Pe:Math.min(L.end,Be);!ne.extend&&Pe>wt&&(T=wt,wt=Pe,Pe=T);var G=ip(A,Pe),F=ip(A,wt);if(G&&F&&(ne.rangeCount!==1||ne.anchorNode!==G.node||ne.anchorOffset!==G.offset||ne.focusNode!==F.node||ne.focusOffset!==F.offset)){var W=de.createRange();W.setStart(G.node,G.offset),ne.removeAllRanges(),Pe>wt?(ne.addRange(W),ne.extend(F.node,F.offset)):(W.setEnd(F.node,F.offset),ne.addRange(W))}}}}for(de=[],ne=A;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<de.length;A++){var ce=de[A];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Nc=!!xd,Rd=xd=null}finally{vt=f,ee.p=l,j.T=s}}t.current=i,pn=2}}function _v(){if(pn===2){pn=0;var t=ha,i=so,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=j.T,j.T=null;var l=ee.p;ee.p=2;var f=vt;vt|=4;try{Xy(t,i.alternate,i)}finally{vt=f,ee.p=l,j.T=s}}pn=3}}function Ev(){if(pn===4||pn===3){pn=0,Cs();var t=ha,i=so,s=oo,l=ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,so=ha=null,Tv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ca=null),Qi(s),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=j.T,f=ee.p,ee.p=2,j.T=null;try{for(var m=t.onRecoverableError,T=0;T<l.length;T++){var A=l[T];m(A.value,{componentStack:A.stack})}}finally{j.T=i,ee.p=f}}(oo&3)!==0&&_c(),ti(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===fd?bl++:(bl=0,fd=t):bl=0,Sl(0)}}function Tv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function _c(t){return vv(),_v(),Ev(),bv()}function bv(){if(pn!==5)return!1;var t=ha,i=cd;cd=0;var s=Qi(oo),l=j.T,f=ee.p;try{ee.p=32>s?32:s,j.T=null,s=hd,hd=null;var m=ha,T=oo;if(pn=0,so=ha=null,oo=0,(vt&6)!==0)throw Error(a(331));var A=vt;if(vt|=4,av(m.current),nv(m,m.current,T,s),vt=A,Sl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ft,m)}catch{}return!0}finally{ee.p=f,j.T=l,Tv(t,i)}}function Sv(t,i,s){i=gr(s,i),i=Ff(t.stateNode,i,2),t=ta(t,i,2),t!==null&&(Cr(t,2),ti(t))}function xt(t,i,s){if(t.tag===3)Sv(t,t,s);else for(;i!==null;){if(i.tag===3){Sv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ca===null||!ca.has(l))){t=gr(s,t),s=Ry(2),l=ta(i,s,2),l!==null&&(Dy(s,l,i,t),Cr(l,2),ti(l));break}}i=i.return}}function pd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new s1;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(sd=!0,f.add(s),t=h1.bind(null,t,i,s),i.then(t,t))}function h1(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Rt===t&&(ot&s)===s&&(Vt===4||Vt===3&&(ot&62914560)===ot&&300>Cn()-ud?(vt&2)===0&&lo(t,0):od|=s,ao===ot&&(ao=0)),ti(t)}function wv(t,i){i===0&&(i=Ba()),t=Fs(t,i),t!==null&&(Cr(t,i),ti(t))}function f1(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),wv(t,s)}function d1(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),wv(t,s)}function m1(t,i){return ir(t,i)}var Ec=null,co=null,yd=!1,Tc=!1,vd=!1,fs=0;function ti(t){t!==co&&t.next===null&&(co===null?Ec=co=t:co=co.next=t),Tc=!0,yd||(yd=!0,p1())}function Sl(t,i){if(!vd&&Tc){vd=!0;do for(var s=!1,l=Ec;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-qt(42|t)+1)-1,m&=f&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,Dv(l,m))}else m=ot,m=mi(l,l===Rt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||or(l,m)||(s=!0,Dv(l,m));l=l.next}while(s);vd=!1}}function g1(){Av()}function Av(){Tc=yd=!1;var t=0;fs!==0&&(w1()&&(t=fs),fs=0);for(var i=Cn(),s=null,l=Ec;l!==null;){var f=l.next,m=xv(l,i);m===0?(l.next=null,s===null?Ec=f:s.next=f,f===null&&(co=s)):(s=l,(t!==0||(m&3)!==0)&&(Tc=!0)),l=f}Sl(t)}function xv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-qt(m),A=1<<T,L=f[T];L===-1?((A&s)===0||(A&l)!==0)&&(f[T]=$i(A,i)):L<=i&&(t.expiredLanes|=A),m&=~A}if(i=Rt,s=ot,s=mi(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||or(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Dn(l),Qi(s)){case 2:case 8:s=qi;break;case 32:s=di;break;case 268435456:s=ar;break;default:s=di}return l=Rv.bind(null,t),s=ir(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Dn(l),t.callbackPriority=2,t.callbackNode=null,2}function Rv(t,i){if(pn!==0&&pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(_c()&&t.callbackNode!==s)return null;var l=ot;return l=mi(t,t===Rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(uv(t,l,i),xv(t,Cn()),t.callbackNode!=null&&t.callbackNode===s?Rv.bind(null,t):null)}function Dv(t,i){if(_c())return null;uv(t,i,!0)}function p1(){x1(function(){(vt&6)!==0?ir(Ua,g1):Av()})}function _d(){return fs===0&&(fs=gi()),fs}function Cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Os(""+t)}function Iv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function y1(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var m=Cv((f[ye]||null).action),T=l.submitter;T&&(i=(i=T[ye]||null)?Cv(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var A=new Ms("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fs!==0){var L=T?Iv(f,T):new FormData(f);Uf(s,{pending:!0,data:L,method:f.method,action:m},null,L)}}else typeof m=="function"&&(A.preventDefault(),L=T?Iv(f,T):new FormData(f),Uf(s,{pending:!0,data:L,method:f.method,action:m},m,L))},currentTarget:f}]})}}for(var Ed=0;Ed<rf.length;Ed++){var Td=rf[Ed],v1=Td.toLowerCase(),_1=Td[0].toUpperCase()+Td.slice(1);Nr(v1,"on"+_1)}Nr(up,"onAnimationEnd"),Nr(cp,"onAnimationIteration"),Nr(hp,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(kS,"onTransitionRun"),Nr(jS,"onTransitionStart"),Nr(LS,"onTransitionCancel"),Nr(fp,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),Zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Nv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var T=l.length-1;0<=T;T--){var A=l[T],L=A.instance,J=A.currentTarget;if(A=A.listener,L!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=J;try{m(f)}catch(se){lc(se)}f.currentTarget=null,m=L}else for(T=0;T<l.length;T++){if(A=l[T],L=A.instance,J=A.currentTarget,A=A.listener,L!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=J;try{m(f)}catch(se){lc(se)}f.currentTarget=null,m=L}}}}function et(t,i){var s=i[Oe];s===void 0&&(s=i[Oe]=new Set);var l=t+"__bubble";s.has(l)||(Ov(i,t,2,!1),s.add(l))}function bd(t,i,s){var l=0;i&&(l|=4),Ov(s,t,l,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[bc]){t[bc]=!0,Ke.forEach(function(s){s!=="selectionchange"&&(E1.has(s)||bd(s,!1,t),bd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,bd("selectionchange",!1,i))}}function Ov(t,i,s,l){switch(n_(i)){case 2:var f=Y1;break;case 8:f=Q1;break;default:f=jd}s=f.bind(null,i,s,t),f=void 0,!dr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function wd(t,i,s,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=l.return;T!==null;){var L=T.tag;if((L===3||L===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Ue(A),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){l=m=T;continue e}A=A.parentNode}}l=l.return}wu(function(){var J=m,se=fr(s),de=[];e:{var te=dp.get(t);if(te!==void 0){var ne=Ms,Be=t;switch(t){case"keypress":if($r(s)===0)break e;case"keydown":case"keyup":ne=Us;break;case"focusin":Be="focus",ne=ks;break;case"focusout":Be="blur",ne=ks;break;case"beforeblur":case"afterblur":ne=ks;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Ou;break;case up:case cp:case hp:ne=js;break;case fp:ne=Pu;break;case"scroll":case"scrollend":ne=Au;break;case"wheel":ne=Bs;break;case"copy":case"cut":case"paste":ne=Ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Qo;break;case"toggle":case"beforetoggle":ne=ku}var Pe=(i&4)!==0,wt=!Pe&&(t==="scroll"||t==="scrollend"),G=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var F=J,W;F!==null;){var ce=F;if(W=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||W===null||G===null||(ce=Ga(F,G),ce!=null&&Pe.push(Al(F,ce,W))),wt)break;F=F.return}0<Pe.length&&(te=new ne(te,Be,null,s,se),de.push({event:te,listeners:Pe}))}}if((i&7)===0){e:{if(te=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",te&&s!==vi&&(Be=s.relatedTarget||s.fromElement)&&(Ue(Be)||Be[Ae]))break e;if((ne||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Be=s.relatedTarget||s.toElement,ne=J,Be=Be?Ue(Be):null,Be!==null&&(wt=u(Be),Pe=Be.tag,Be!==wt||Pe!==5&&Pe!==27&&Pe!==6)&&(Be=null)):(ne=null,Be=J),ne!==Be)){if(Pe=mr,ce="onMouseLeave",G="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(Pe=Qo,ce="onPointerLeave",G="onPointerEnter",F="pointer"),wt=ne==null?te:gt(ne),W=Be==null?te:gt(Be),te=new Pe(ce,F+"leave",ne,s,se),te.target=wt,te.relatedTarget=W,ce=null,Ue(se)===J&&(Pe=new Pe(G,F+"enter",Be,s,se),Pe.target=W,Pe.relatedTarget=wt,ce=Pe),wt=ce,ne&&Be)t:{for(Pe=ne,G=Be,F=0,W=Pe;W;W=ho(W))F++;for(W=0,ce=G;ce;ce=ho(ce))W++;for(;0<F-W;)Pe=ho(Pe),F--;for(;0<W-F;)G=ho(G),W--;for(;F--;){if(Pe===G||G!==null&&Pe===G.alternate)break t;Pe=ho(Pe),G=ho(G)}Pe=null}else Pe=null;ne!==null&&Mv(de,te,ne,Pe,!1),Be!==null&&wt!==null&&Mv(de,wt,Be,Pe,!0)}}e:{if(te=J?gt(J):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Re=Zg;else if(en(te))if(Jg)Re=MS;else{Re=NS;var Xe=IS}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&zo(J.elementType)&&(Re=Zg):Re=OS;if(Re&&(Re=Re(t,J))){Si(de,Re,s,se);break e}Xe&&Xe(t,te,J),t==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Xi(te,"number",te.value)}switch(Xe=J?gt(J):window,t){case"focusin":(en(Xe)||Xe.contentEditable==="true")&&(zs=Xe,ef=J,Wo=null);break;case"focusout":Wo=ef=zs=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,op(de,s,se);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":op(de,s,se)}var Ie;if(Kr)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else at?ie(t,s)&&(je="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(_&&s.locale!=="ko"&&(at||je!=="onCompositionStart"?je==="onCompositionEnd"&&at&&(Ie=qo()):(Gr=se,Wi="value"in Gr?Gr.value:Gr.textContent,at=!0)),Xe=Sc(J,je),0<Xe.length&&(je=new $o(je,t,null,s,se),de.push({event:je,listeners:Xe}),Ie?je.data=Ie:(Ie=ve(s),Ie!==null&&(je.data=Ie)))),(Ie=y?Jt(t,s):st(t,s))&&(je=Sc(J,"onBeforeInput"),0<je.length&&(Xe=new $o("onBeforeInput","beforeinput",null,s,se),de.push({event:Xe,listeners:je}),Xe.data=Ie)),y1(de,t,J,s,se)}Nv(de,i)})}function Al(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Sc(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ga(t,s),f!=null&&l.unshift(Al(t,f,m)),f=Ga(t,i),f!=null&&l.push(Al(t,f,m))),t.tag===3)return l;t=t.return}return[]}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mv(t,i,s,l,f){for(var m=i._reactName,T=[];s!==null&&s!==l;){var A=s,L=A.alternate,J=A.stateNode;if(A=A.tag,L!==null&&L===l)break;A!==5&&A!==26&&A!==27||J===null||(L=J,f?(J=Ga(s,m),J!=null&&T.unshift(Al(s,J,L))):f||(J=Ga(s,m),J!=null&&T.push(Al(s,J,L)))),s=s.return}T.length!==0&&t.push({event:i,listeners:T})}var T1=/\r\n?/g,b1=/\u0000|\uFFFD/g;function Pv(t){return(typeof t=="string"?t:""+t).replace(T1,`
`).replace(b1,"")}function Vv(t,i){return i=Pv(i),Pv(t)===i}function wc(){}function St(t,i,s,l,f,m){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hr(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hr(t,""+l);break;case"className":On(t,"class",l);break;case"tabIndex":On(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":On(t,s,l);break;case"style":Bo(t,l,m);break;case"data":if(i!=="object"){On(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Os(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(i!=="input"&&St(t,i,"name",f.name,f,null),St(t,i,"formEncType",f.formEncType,f,null),St(t,i,"formMethod",f.formMethod,f,null),St(t,i,"formTarget",f.formTarget,f,null)):(St(t,i,"encType",f.encType,f,null),St(t,i,"method",f.method,f,null),St(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Os(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=wc);break;case"onScroll":l!=null&&et("scroll",t);break;case"onScrollEnd":l!=null&&et("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Os(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":et("beforetoggle",t),et("toggle",t),bn(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":bn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Yh.get(s)||s,bn(t,s,l))}}function Ad(t,i,s,l,f,m){switch(s){case"style":Bo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?hr(t,l):(typeof l=="number"||typeof l=="bigint")&&hr(t,""+l);break;case"onScroll":l!=null&&et("scroll",t);break;case"onScrollEnd":l!=null&&et("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ur.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),m=t[ye]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):bn(t,s,l)}}}function yn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",t),et("load",t);var l=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var T=s[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(t,i,m,T,s,null)}}f&&St(t,i,"srcSet",s.srcSet,s,null),l&&St(t,i,"src",s.src,s,null);return;case"input":et("invalid",t);var A=m=T=f=null,L=null,J=null;for(l in s)if(s.hasOwnProperty(l)){var se=s[l];if(se!=null)switch(l){case"name":f=se;break;case"type":T=se;break;case"checked":L=se;break;case"defaultChecked":J=se;break;case"value":m=se;break;case"defaultValue":A=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,i));break;default:St(t,i,l,se,s,null)}}Ha(t,m,A,L,J,T,f,!1),Ns(t);return;case"select":et("invalid",t),l=T=m=null;for(f in s)if(s.hasOwnProperty(f)&&(A=s[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:St(t,i,f,A,s,null)}i=m,s=T,t.multiple=!!l,i!=null?yi(t,!!l,i,!1):s!=null&&yi(t,!!l,s,!0);return;case"textarea":et("invalid",t),m=f=l=null;for(T in s)if(s.hasOwnProperty(T)&&(A=s[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:St(t,i,T,A,s,null)}qa(t,l,f,m),Ns(t);return;case"option":for(L in s)if(s.hasOwnProperty(L)&&(l=s[L],l!=null))switch(L){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:St(t,i,L,l,s,null)}return;case"dialog":et("beforetoggle",t),et("toggle",t),et("cancel",t),et("close",t);break;case"iframe":case"object":et("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)et(wl[l],t);break;case"image":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"embed":case"source":case"link":et("error",t),et("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in s)if(s.hasOwnProperty(J)&&(l=s[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:St(t,i,J,l,s,null)}return;default:if(zo(i)){for(se in s)s.hasOwnProperty(se)&&(l=s[se],l!==void 0&&Ad(t,i,se,l,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(l=s[A],l!=null&&St(t,i,A,l,s,null))}function S1(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,A=null,L=null,J=null,se=null;for(ne in s){var de=s[ne];if(s.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":L=de;default:l.hasOwnProperty(ne)||St(t,i,ne,null,l,de)}}for(var te in l){var ne=l[te];if(de=s[te],l.hasOwnProperty(te)&&(ne!=null||de!=null))switch(te){case"type":m=ne;break;case"name":f=ne;break;case"checked":J=ne;break;case"defaultChecked":se=ne;break;case"value":T=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,i));break;default:ne!==de&&St(t,i,te,ne,l,de)}}Yn(t,T,A,L,J,se,m,f);return;case"select":ne=T=A=te=null;for(m in s)if(L=s[m],s.hasOwnProperty(m)&&L!=null)switch(m){case"value":break;case"multiple":ne=L;default:l.hasOwnProperty(m)||St(t,i,m,null,l,L)}for(f in l)if(m=l[f],L=s[f],l.hasOwnProperty(f)&&(m!=null||L!=null))switch(f){case"value":te=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==L&&St(t,i,f,m,l,L)}i=A,s=T,l=ne,te!=null?yi(t,!!s,te,!1):!!l!=!!s&&(i!=null?yi(t,!!s,i,!0):yi(t,!!s,s?[]:"",!1));return;case"textarea":ne=te=null;for(A in s)if(f=s[A],s.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:St(t,i,A,null,l,f)}for(T in l)if(f=l[T],m=s[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":te=f;break;case"defaultValue":ne=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&St(t,i,T,f,l,m)}Tt(t,te,ne);return;case"option":for(var Be in s)if(te=s[Be],s.hasOwnProperty(Be)&&te!=null&&!l.hasOwnProperty(Be))switch(Be){case"selected":t.selected=!1;break;default:St(t,i,Be,null,l,te)}for(L in l)if(te=l[L],ne=s[L],l.hasOwnProperty(L)&&te!==ne&&(te!=null||ne!=null))switch(L){case"selected":t.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:St(t,i,L,te,l,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in s)te=s[Pe],s.hasOwnProperty(Pe)&&te!=null&&!l.hasOwnProperty(Pe)&&St(t,i,Pe,null,l,te);for(J in l)if(te=l[J],ne=s[J],l.hasOwnProperty(J)&&te!==ne&&(te!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,i));break;default:St(t,i,J,te,l,ne)}return;default:if(zo(i)){for(var wt in s)te=s[wt],s.hasOwnProperty(wt)&&te!==void 0&&!l.hasOwnProperty(wt)&&Ad(t,i,wt,void 0,l,te);for(se in l)te=l[se],ne=s[se],!l.hasOwnProperty(se)||te===ne||te===void 0&&ne===void 0||Ad(t,i,se,te,l,ne);return}}for(var G in s)te=s[G],s.hasOwnProperty(G)&&te!=null&&!l.hasOwnProperty(G)&&St(t,i,G,null,l,te);for(de in l)te=l[de],ne=s[de],!l.hasOwnProperty(de)||te===ne||te==null&&ne==null||St(t,i,de,te,l,ne)}var xd=null,Rd=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function kv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Dd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cd=null;function w1(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var Lv=typeof setTimeout=="function"?setTimeout:void 0,A1=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,x1=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(t){return Uv.resolve(null).then(t).catch(R1)}:Lv;function R1(t){setTimeout(function(){throw t})}function da(t){return t==="head"}function Bv(t,i){var s=i,l=0,f=0;do{var m=s.nextSibling;if(t.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(0<l&&8>l){s=l;var T=t.ownerDocument;if(s&1&&xl(T.documentElement),s&2&&xl(T.body),s&4)for(s=T.head,xl(s),T=s.firstChild;T;){var A=T.nextSibling,L=T.nodeName;T[ke]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=A}}if(f===0){t.removeChild(m),Pl(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=m}while(s);Pl(i)}function Id(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Id(s),Me(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function D1(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ke])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Mr(t.nextSibling),t===null)break}return null}function C1(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Mr(t.nextSibling),t===null))return null;return t}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function I1(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Od=null;function zv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function Hv(t,i,s){switch(i=Ac(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function xl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Me(t)}var Tr=new Map,qv=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=ee.d;ee.d={f:N1,r:O1,D:M1,C:P1,L:V1,m:k1,X:L1,S:j1,M:U1};function N1(){var t=ki.f(),i=yc();return t||i}function O1(t){var i=Ze(t);i!==null&&i.tag===5&&i.type==="form"?uy(i):ki.r(t)}var fo=typeof document>"u"?null:document;function Fv(t,i,s){var l=fo;if(l&&typeof i=="string"&&i){var f=Gt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),qv.has(f)||(qv.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),yn(i,"link",t),it(i),l.head.appendChild(i)))}}function M1(t){ki.D(t),Fv("dns-prefetch",t,null)}function P1(t,i){ki.C(t,i),Fv("preconnect",t,i)}function V1(t,i,s){ki.L(t,i,s);var l=fo;if(l&&t&&i){var f='link[rel="preload"][as="'+Gt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Gt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Gt(s.imageSizes)+'"]')):f+='[href="'+Gt(t)+'"]';var m=f;switch(i){case"style":m=mo(t);break;case"script":m=go(t)}Tr.has(m)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Tr.set(m,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Rl(m))||i==="script"&&l.querySelector(Dl(m))||(i=l.createElement("link"),yn(i,"link",t),it(i),l.head.appendChild(i)))}}function k1(t,i){ki.m(t,i);var s=fo;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=go(t)}if(!Tr.has(m)&&(t=v({rel:"modulepreload",href:t},i),Tr.set(m,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Dl(m)))return}l=s.createElement("link"),yn(l,"link",t),it(l),s.head.appendChild(l)}}}function j1(t,i,s){ki.S(t,i,s);var l=fo;if(l&&t){var f=ct(l).hoistableStyles,m=mo(t);i=i||"default";var T=f.get(m);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(Rl(m)))A.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Tr.get(m))&&Md(t,s);var L=T=l.createElement("link");it(L),yn(L,"link",t),L._p=new Promise(function(J,se){L.onload=J,L.onerror=se}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Rc(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(m,T)}}}function L1(t,i){ki.X(t,i);var s=fo;if(s&&t){var l=ct(s).hoistableScripts,f=go(t),m=l.get(f);m||(m=s.querySelector(Dl(f)),m||(t=v({src:t,async:!0},i),(i=Tr.get(f))&&Pd(t,i),m=s.createElement("script"),it(m),yn(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function U1(t,i){ki.M(t,i);var s=fo;if(s&&t){var l=ct(s).hoistableScripts,f=go(t),m=l.get(f);m||(m=s.querySelector(Dl(f)),m||(t=v({src:t,async:!0,type:"module"},i),(i=Tr.get(f))&&Pd(t,i),m=s.createElement("script"),it(m),yn(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Gv(t,i,s,l){var f=(f=Te.current)?xc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=mo(s.href),s=ct(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=mo(s.href);var m=ct(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(Rl(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Tr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Tr.set(t,s),m||B1(f,t,s,T.state))),i&&l===null)throw Error(a(528,""));return T}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=go(s),s=ct(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function mo(t){return'href="'+Gt(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function $v(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function B1(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),yn(i,"link",s),it(i),t.head.appendChild(i))}function go(t){return'[src="'+Gt(t)+'"]'}function Dl(t){return"script[async]"+t}function Yv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Gt(s.href)+'"]');if(l)return i.instance=l,it(l),l;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),it(l),yn(l,"style",f),Rc(l,s.precedence,t),i.instance=l;case"stylesheet":f=mo(s.href);var m=t.querySelector(Rl(f));if(m)return i.state.loading|=4,i.instance=m,it(m),m;l=$v(s),(f=Tr.get(f))&&Md(l,f),m=(t.ownerDocument||t).createElement("link"),it(m);var T=m;return T._p=new Promise(function(A,L){T.onload=A,T.onerror=L}),yn(m,"link",l),i.state.loading|=4,Rc(m,s.precedence,t),i.instance=m;case"script":return m=go(s.src),(f=t.querySelector(Dl(m)))?(i.instance=f,it(f),f):(l=s,(f=Tr.get(m))&&(l=v({},s),Pd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),it(f),yn(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Rc(l,s.precedence,t));return i.instance}function Rc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===i)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Dc=null;function Qv(t,i,s){if(Dc===null){var l=new Map,f=Dc=new Map;f.set(s,l)}else f=Dc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[ke]||m[me]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=t+T;var A=l.get(T);A?A.push(m):l.set(T,[m])}}return l}function Kv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function z1(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cl=null;function H1(){}function q1(t,i,s){if(Cl===null)throw Error(a(475));var l=Cl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=mo(s.href),m=t.querySelector(Rl(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=m,it(m);return}m=t.ownerDocument||t,s=$v(s),(f=Tr.get(f))&&Md(s,f),m=m.createElement("link"),it(m);var T=m;T._p=new Promise(function(A,L){T.onload=A,T.onerror=L}),yn(m,"link",s),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Cc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function F1(){if(Cl===null)throw Error(a(475));var t=Cl;return t.stylesheets&&t.count===0&&Vd(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Vd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)Vd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Vd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,i.forEach(G1,t),Ic=null,Cc.call(t))}function G1(t,i){if(!(i.state.loading&4)){var s=Ic.get(t);if(s)var l=s.get(null);else{s=new Map,Ic.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),l=T)}l&&s.set(null,l)}f=i.instance,T=f.getAttribute("data-precedence"),m=s.get(T)||l,m===l&&s.set(null,f),s.set(T,f),this.count++,l=Cc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Il={$$typeof:$,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function $1(t,i,s,l,f,m,T,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Wv(t,i,s,l,f,m,T,A,L,J,se,de){return t=new $1(t,i,s,T,A,L,J,de),i=1,m===!0&&(i|=24),m=Kn(3,null,null,i),t.current=m,m.stateNode=t,i=pf(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:s,cache:i},Ef(m),t}function Zv(t){return t?(t=Gs,t):Gs}function Jv(t,i,s,l,f,m){f=Zv(f),l.context===null?l.context=f:l.pendingContext=f,l=ea(i),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=ta(t,l,i),s!==null&&(er(s,t,i),sl(s,t,i))}function e_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function kd(t,i){e_(t,i),(t=t.alternate)&&e_(t,i)}function t_(t){if(t.tag===13){var i=Fs(t,67108864);i!==null&&er(i,t,67108864),kd(t,67108864)}}var Nc=!0;function Y1(t,i,s,l){var f=j.T;j.T=null;var m=ee.p;try{ee.p=2,jd(t,i,s,l)}finally{ee.p=m,j.T=f}}function Q1(t,i,s,l){var f=j.T;j.T=null;var m=ee.p;try{ee.p=8,jd(t,i,s,l)}finally{ee.p=m,j.T=f}}function jd(t,i,s,l){if(Nc){var f=Ld(l);if(f===null)wd(t,i,l,Oc,s),r_(t,l);else if(X1(f,t,i,s,l))l.stopPropagation();else if(r_(t,l),i&4&&-1<K1.indexOf(t)){for(;f!==null;){var m=Ze(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Fn(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var L=1<<31-qt(T);A.entanglements[1]|=L,T&=~L}ti(m),(vt&6)===0&&(gc=Cn()+500,Sl(0))}}break;case 13:A=Fs(m,2),A!==null&&er(A,m,2),yc(),kd(m,2)}if(m=Ld(l),m===null&&wd(t,i,l,Oc,s),m===f)break;f=m}f!==null&&l.stopPropagation()}else wd(t,i,l,null,s)}}function Ld(t){return t=fr(t),Ud(t)}var Oc=null;function Ud(t){if(Oc=null,t=Ue(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Oc=t,null}function n_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jo()){case Ua:return 2;case qi:return 8;case di:case Dr:return 32;case ar:return 268435456;default:return 32}default:return 32}}var Bd=!1,ma=null,ga=null,pa=null,Nl=new Map,Ol=new Map,ya=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r_(t,i){switch(t){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Ml(t,i,s,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Ze(i),i!==null&&t_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function X1(t,i,s,l,f){switch(i){case"focusin":return ma=Ml(ma,t,i,s,l,f),!0;case"dragenter":return ga=Ml(ga,t,i,s,l,f),!0;case"mouseover":return pa=Ml(pa,t,i,s,l,f),!0;case"pointerover":var m=f.pointerId;return Nl.set(m,Ml(Nl.get(m)||null,t,i,s,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Ol.set(m,Ml(Ol.get(m)||null,t,i,s,l,f)),!0}return!1}function i_(t){var i=Ue(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,Q(t.priority,function(){if(s.tag===13){var l=Jn();l=zr(l);var f=Fs(s,l);f!==null&&er(f,s,l),kd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Ld(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);vi=l,s.target.dispatchEvent(l),vi=null}else return i=Ze(s),i!==null&&t_(i),t.blockedOn=s,!1;i.shift()}return!0}function a_(t,i,s){Mc(t)&&s.delete(i)}function W1(){Bd=!1,ma!==null&&Mc(ma)&&(ma=null),ga!==null&&Mc(ga)&&(ga=null),pa!==null&&Mc(pa)&&(pa=null),Nl.forEach(a_),Ol.forEach(a_)}function Pc(t,i){t.blockedOn===i&&(t.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,W1)))}var Vc=null;function s_(t){Vc!==t&&(Vc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Ud(l||s)===null)continue;break}var m=Ze(s);m!==null&&(t.splice(i,3),i-=3,Uf(m,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Pl(t){function i(L){return Pc(L,t)}ma!==null&&Pc(ma,t),ga!==null&&Pc(ga,t),pa!==null&&Pc(pa,t),Nl.forEach(i),Ol.forEach(i);for(var s=0;s<ya.length;s++){var l=ya[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ya.length&&(s=ya[0],s.blockedOn===null);)i_(s),s.blockedOn===null&&ya.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],m=s[l+1],T=f[ye]||null;if(typeof m=="function")T||s_(s);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[ye]||null)A=T.formAction;else if(Ud(f)!==null)continue}else A=T.action;typeof A=="function"?s[l+1]=A:(s.splice(l,3),l-=3),s_(s)}}}function zd(t){this._internalRoot=t}kc.prototype.render=zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Jn();Jv(s,l,t,i,null,null)},kc.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Jv(t.current,2,null,t,null,null),yc(),i[Ae]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=H();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ya.length&&i!==0&&i<ya[s].priority;s++);ya.splice(s,0,t),s===0&&i_(t)}};var o_=e.version;if(o_!=="19.1.0")throw Error(a(527,o_,"19.1.0"));ee.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Z1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{ft=jc.inject(Z1),$e=jc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=Sy,m=wy,T=Ay,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=Wv(t,1,!1,null,null,s,l,f,m,T,A,null),t[Ae]=i.current,Sd(t),new zd(i)},kl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",m=Sy,T=wy,A=Ay,L=null,J=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(L=s.unstable_transitionCallbacks),s.formState!==void 0&&(J=s.formState)),i=Wv(t,1,!0,i,s??null,l,f,m,T,A,L,J),i.context=Zv(null),s=i.current,l=Jn(),l=zr(l),f=ea(l),f.callback=null,ta(s,f,l),s=l,i.current.lanes=s,Cr(i,s),ti(i),t[Ae]=i.current,Sd(t),new kc(i)},kl.version="19.1.0",kl}var y_;function lw(){if(y_)return Fd.exports;y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=ow(),Fd.exports}var uw=lw(),jl={},v_;function cw(){if(v_)return jl;v_=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=h,jl.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function h(b,D){const C=new u,B=b.length;if(B<2)return C;const z=D?.decode||v;let U=0;do{const X=b.indexOf("=",U);if(X===-1)break;const $=b.indexOf(";",U),le=$===-1?B:$;if(X>le){U=b.lastIndexOf(";",X-1)+1;continue}const he=d(b,U,X),P=g(b,X,he),M=b.slice(he,P);if(C[M]===void 0){let R=d(b,X+1,le),I=g(b,le,R);const N=z(b.slice(R,I));C[M]=N}U=le+1}while(U<B);return C}function d(b,D,C){do{const B=b.charCodeAt(D);if(B!==32&&B!==9)return D}while(++D<C);return C}function g(b,D,C){for(;D>C;){const B=b.charCodeAt(--D);if(B!==32&&B!==9)return D+1}return C}function p(b,D,C){const B=C?.encode||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const z=B(D);if(!e.test(z))throw new TypeError(`argument val is invalid: ${D}`);let U=b+"="+z;if(!C)return U;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);U+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);U+="; Domain="+C.domain}if(C.path){if(!a.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);U+="; Path="+C.path}if(C.expires){if(!w(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);U+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(U+="; HttpOnly"),C.secure&&(U+="; Secure"),C.partitioned&&(U+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return U}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function w(b){return o.call(b)==="[object Date]"}return jl}cw();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bE=r=>{throw TypeError(r)},hw=(r,e,n)=>e.has(r)||bE("Cannot "+n),Qd=(r,e,n)=>(hw(r,e,"read from private field"),n?n.call(r):e.get(r)),fw=(r,e,n)=>e.has(r)?bE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),__="popstate";function dw(r={}){function e(o,u){let{pathname:h="/",search:d="",hash:g=""}=zi(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),nu("",{pathname:h,search:d,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");d=p===-1?g:g.slice(0,p)}return d+"#"+(typeof u=="string"?u:Da(u))}function a(o,u){Ht(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return gw(e,n,a,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ht(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mw(){return Math.random().toString(36).substring(2,10)}function E_(r,e){return{usr:r.state,key:r.key,idx:e}}function nu(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?zi(e):e,state:n,key:e&&e.key||a||mw()}}function Da({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function zi(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function gw(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,d="POP",g=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function w(){d="POP";let z=v(),U=z==null?null:z-p;p=z,g&&g({action:d,location:B.location,delta:U})}function b(z,U){d="PUSH";let X=nu(B.location,z,U);n&&n(X,z),p=v()+1;let $=E_(X,p),le=B.createHref(X);try{h.pushState($,"",le)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(le)}u&&g&&g({action:d,location:B.location,delta:1})}function D(z,U){d="REPLACE";let X=nu(B.location,z,U);n&&n(X,z),p=v();let $=E_(X,p),le=B.createHref(X);h.replaceState($,"",le),u&&g&&g({action:d,location:B.location,delta:0})}function C(z){return SE(z)}let B={get action(){return d},get location(){return r(o,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(__,w),g=z,()=>{o.removeEventListener(__,w),g=null}},createHref(z){return e(o,z)},createURL:C,encodeLocation(z){let U=C(z);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:b,replace:D,go(z){return h.go(z)}};return B}function SE(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Da(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var ql,T_=class{constructor(r){if(fw(this,ql,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(Qd(this,ql).has(r))return Qd(this,ql).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Qd(this,ql).set(r,e)}};ql=new WeakMap;var pw=new Set(["lazy","caseSensitive","path","id","index","children"]);function yw(r){return pw.has(r)}var vw=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function _w(r){return vw.has(r)}function Ew(r){return r.index===!0}function ih(r,e,n=[],a={}){return r.map((o,u)=>{let h=[...n,String(u)],d=typeof o.id=="string"?o.id:h.join("-");if(tt(o.index!==!0||!o.children,"Cannot specify children on an index route"),tt(!a[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),Ew(o)){let g={...o,...e(o),id:d};return a[d]=g,g}else{let g={...o,...e(o),id:d,children:void 0};return a[d]=g,o.children&&(g.children=ih(o.children,e,h,a)),g}})}function Ea(r,e,n="/"){return Qc(r,e,n,!1)}function Qc(r,e,n,a){let o=typeof e=="string"?zi(e):e,u=Rr(o.pathname||"/",n);if(u==null)return null;let h=wE(r);bw(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let p=Mw(u);d=Nw(h[g],p,a)}return d}function Tw(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function wE(r,e=[],n=[],a=""){let o=(u,h,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(tt(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let p=ii([a,g.relativePath]),v=n.concat(g);u.children&&u.children.length>0&&(tt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),wE(u.children,e,v,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:Cw(p,u.index),routesMeta:v})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of AE(u.path))o(u,h,d)}),e}function AE(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=AE(a.join("/")),d=[];return d.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&d.push(...h),d.map(g=>r.startsWith("/")&&g===""?"/":g)}function bw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Iw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Sw=/^:[\w-]+$/,ww=3,Aw=2,xw=1,Rw=10,Dw=-2,b_=r=>r==="*";function Cw(r,e){let n=r.split("/"),a=n.length;return n.some(b_)&&(a+=Dw),e&&(a+=Aw),n.filter(o=>!b_(o)).reduce((o,u)=>o+(Sw.test(u)?ww:u===""?xw:Rw),a)}function Iw(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function Nw(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let d=0;d<a.length;++d){let g=a[d],p=d===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",w=ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),b=g.route;if(!w&&p&&n&&!a[a.length-1].route.index&&(w=ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:ii([u,w.pathname]),pathnameBase:kw(ii([u,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(u=ii([u,w.pathnameBase]))}return h}function ah(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=Ow(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:w},b)=>{if(v==="*"){let C=d[b]||"";h=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const D=d[b];return w&&!D?p[v]=void 0:p[v]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function Ow(r,e=!1,n=!0){Ht(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(a.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Mw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ht(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Rr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function Pw(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?zi(r):r;return{pathname:n?n.startsWith("/")?n:Vw(n,e):e,search:jw(a),hash:Lw(o)}}function Vw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kd(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xE(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Km(r){let e=xE(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Xm(r,e,n,a=!1){let o;typeof r=="string"?o=zi(r):(o={...r},tt(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=n;else{let w=e.length-1;if(!a&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),w-=1;o.pathname=b.join("/")}d=w>=0?e[w]:"/"}let g=Pw(o,d),p=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var ii=r=>r.join("/").replace(/\/\/+/g,"/"),kw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Lw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,sh=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ru(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var RE=["POST","PUT","PATCH","DELETE"],Uw=new Set(RE),Bw=["GET",...RE],zw=new Set(Bw),Hw=new Set([301,302,303,307,308]),qw=new Set([307,308]),Xd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ll={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Wm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gw=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),DE="remix-router-transitions",CE=Symbol("ResetLoaderData");function $w(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";tt(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||Gw,u={},h=ih(r.routes,o,void 0,u),d,g=r.basename||"/",p=r.dataStrategy||Ww,v={unstable_middleware:!1,...r.future},w=null,b=new Set,D=null,C=null,B=null,z=r.hydrationData!=null,U=Ea(h,r.history.location,g),X=!1,$=null,le;if(U==null&&!r.patchRoutesOnNavigation){let H=Sr(404,{pathname:r.history.location.pathname}),{matches:Q,route:Z}=P_(h);le=!0,U=Q,$={[Z.id]:H}}else if(U&&!r.hydrationData&&In(U,h,r.history.location.pathname).active&&(U=null),U)if(U.some(H=>H.route.lazy))le=!1;else if(!U.some(H=>H.route.loader))le=!0;else{let H=r.hydrationData?r.hydrationData.loaderData:null,Q=r.hydrationData?r.hydrationData.errors:null;if(Q){let Z=U.findIndex(me=>Q[me.route.id]!==void 0);le=U.slice(0,Z+1).every(me=>!ym(me.route,H,Q))}else le=U.every(Z=>!ym(Z.route,H,Q))}else{le=!1,U=[];let H=In(null,h,r.history.location.pathname);H.active&&H.matches&&(X=!0,U=H.matches)}let he,P={historyAction:r.history.action,location:r.history.location,matches:U,initialized:le,navigation:Xd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||$,fetchers:new Map,blockers:new Map},M="POP",R=!1,I,N=!1,V=new Map,O=null,S=!1,oe=!1,Ee=new Set,j=new Map,ee=0,re=-1,_e=new Map,k=new Set,Y=new Map,pe=new Map,ae=new Set,ue=new Map,be,Te=null;function rt(){if(w=r.history.listen(({action:H,location:Q,delta:Z})=>{if(be){be(),be=void 0;return}Ht(ue.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=$i({currentLocation:P.location,nextLocation:Q,historyAction:H});if(me&&Z!=null){let ye=new Promise(Ae=>{be=Ae});r.history.go(Z*-1),or(me,{state:"blocked",location:Q,proceed(){or(me,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),ye.then(()=>r.history.go(Z))},reset(){let Ae=new Map(P.blockers);Ae.set(me,Ll),mt({blockers:Ae})}});return}return Dn(H,Q)}),n){lA(e,V);let H=()=>uA(e,V);e.addEventListener("pagehide",H),O=()=>e.removeEventListener("pagehide",H)}return P.initialized||Dn("POP",P.location,{initialHydration:!0}),he}function Ve(){w&&w(),O&&O(),b.clear(),I&&I.abort(),P.fetchers.forEach((H,Q)=>qt(Q)),P.blockers.forEach((H,Q)=>mi(Q))}function Et(H){return b.add(H),()=>b.delete(H)}function mt(H,Q={}){P={...P,...H};let Z=[],me=[];P.fetchers.forEach((ye,Ae)=>{ye.state==="idle"&&(ae.has(Ae)?Z.push(Ae):me.push(Ae))}),ae.forEach(ye=>{!P.fetchers.has(ye)&&!j.has(ye)&&Z.push(ye)}),[...b].forEach(ye=>ye(P,{deletedFetchers:Z,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),Z.forEach(ye=>qt(ye)),me.forEach(ye=>P.fetchers.delete(ye))}function an(H,Q,{flushSync:Z}={}){let me=P.actionData!=null&&P.navigation.formMethod!=null&&nr(P.navigation.formMethod)&&P.navigation.state==="loading"&&H.state?._isRedirect!==!0,ye;Q.actionData?Object.keys(Q.actionData).length>0?ye=Q.actionData:ye=null:me?ye=P.actionData:ye=null;let Ae=Q.loaderData?O_(P.loaderData,Q.loaderData,Q.matches||[],Q.errors):P.loaderData,Oe=P.blockers;Oe.size>0&&(Oe=new Map(Oe),Oe.forEach((De,ke)=>Oe.set(ke,Ll)));let xe=R===!0||P.navigation.formMethod!=null&&nr(P.navigation.formMethod)&&H.state?._isRedirect!==!0;d&&(h=d,d=void 0),S||M==="POP"||(M==="PUSH"?r.history.push(H,H.state):M==="REPLACE"&&r.history.replace(H,H.state));let Ce;if(M==="POP"){let De=V.get(P.location.pathname);De&&De.has(H.pathname)?Ce={currentLocation:P.location,nextLocation:H}:V.has(H.pathname)&&(Ce={currentLocation:H,nextLocation:P.location})}else if(N){let De=V.get(P.location.pathname);De?De.add(H.pathname):(De=new Set([H.pathname]),V.set(P.location.pathname,De)),Ce={currentLocation:P.location,nextLocation:H}}mt({...Q,actionData:ye,loaderData:Ae,historyAction:M,location:H,initialized:!0,navigation:Xd,revalidation:"idle",restoreScrollPosition:Yi(H,Q.matches||P.matches),preventScrollReset:xe,blockers:Oe},{viewTransitionOpts:Ce,flushSync:Z===!0}),M="POP",R=!1,N=!1,S=!1,oe=!1,Te?.resolve(),Te=null}async function kn(H,Q){if(typeof H=="number"){r.history.go(H);return}let Z=pm(P.location,P.matches,g,H,Q?.fromRouteId,Q?.relative),{path:me,submission:ye,error:Ae}=S_(!1,Z,Q),Oe=P.location,xe=nu(P.location,me,Q&&Q.state);xe={...xe,...r.history.encodeLocation(xe)};let Ce=Q&&Q.replace!=null?Q.replace:void 0,De="PUSH";Ce===!0?De="REPLACE":Ce===!1||ye!=null&&nr(ye.formMethod)&&ye.formAction===P.location.pathname+P.location.search&&(De="REPLACE");let ke=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,Me=(Q&&Q.flushSync)===!0,Ue=$i({currentLocation:Oe,nextLocation:xe,historyAction:De});if(Ue){or(Ue,{state:"blocked",location:xe,proceed(){or(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),kn(H,Q)},reset(){let Ze=new Map(P.blockers);Ze.set(Ue,Ll),mt({blockers:Ze})}});return}await Dn(De,xe,{submission:ye,pendingError:Ae,preventScrollReset:ke,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:Me})}function ir(){Te||(Te=cA()),Gi(),mt({revalidation:"loading"});let H=Te.promise;return P.navigation.state==="submitting"?H:P.navigation.state==="idle"?(Dn(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),H):(Dn(M||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:N===!0}),H)}async function Dn(H,Q,Z){I&&I.abort(),I=null,M=H,S=(Z&&Z.startUninterruptedRevalidation)===!0,Cr(P.location,P.matches),R=(Z&&Z.preventScrollReset)===!0,N=(Z&&Z.enableViewTransition)===!0;let me=d||h,ye=Z&&Z.overrideNavigation,Ae=Z?.initialHydration&&P.matches&&P.matches.length>0&&!X?P.matches:Ea(me,Q,g),Oe=(Z&&Z.flushSync)===!0;if(Ae&&P.initialized&&!oe&&rA(P.location,Q)&&!(Z&&Z.submission&&nr(Z.submission.formMethod))){an(Q,{matches:Ae},{flushSync:Oe});return}let xe=In(Ae,me,Q.pathname);if(xe.active&&xe.matches&&(Ae=xe.matches),!Ae){let{error:ct,notFoundMatches:it,route:Ke}=gi(Q.pathname);an(Q,{matches:it,loaderData:{},errors:{[Ke.id]:ct}},{flushSync:Oe});return}I=new AbortController;let Ce=yo(r.history,Q,I.signal,Z&&Z.submission),De=new T_(r.unstable_getContext?await r.unstable_getContext():void 0),ke;if(Z&&Z.pendingError)ke=[ms(Ae).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&nr(Z.submission.formMethod)){let ct=await La(Ce,Q,Z.submission,Ae,De,xe.active,Z&&Z.initialHydration===!0,{replace:Z.replace,flushSync:Oe});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[it,Ke]=ct.pendingActionResult;if(tr(Ke)&&ru(Ke.error)&&Ke.error.status===404){I=null,an(Q,{matches:ct.matches,loaderData:{},errors:{[it]:Ke.error}});return}}Ae=ct.matches||Ae,ke=ct.pendingActionResult,ye=Wd(Q,Z.submission),Oe=!1,xe.active=!1,Ce=yo(r.history,Ce.url,Ce.signal)}let{shortCircuited:Me,matches:Ue,loaderData:Ze,errors:gt}=await Cs(Ce,Q,Ae,De,xe.active,ye,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Oe,ke);Me||(I=null,an(Q,{matches:Ue||Ae,...M_(ke),loaderData:Ze,errors:gt}))}async function La(H,Q,Z,me,ye,Ae,Oe,xe={}){Gi();let Ce=sA(Q,Z);if(mt({navigation:Ce},{flushSync:xe.flushSync===!0}),Ae){let Me=await Br(me,Q.pathname,H.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){let Ue=ms(Me.partialMatches).route.id;return{matches:Me.partialMatches,pendingActionResult:[Ue,{type:"error",error:Me.error}]}}else if(Me.matches)me=Me.matches;else{let{notFoundMatches:Ue,error:Ze,route:gt}=gi(Q.pathname);return{matches:Ue,pendingActionResult:[gt.id,{type:"error",error:Ze}]}}}let De,ke=Fl(me,Q);if(!ke.route.action&&!ke.route.lazy)De={type:"error",error:Sr(405,{method:H.method,pathname:Q.pathname,routeId:ke.route.id})};else{let Me=bo(o,u,H,me,ke,Oe?[]:a,ye),Ue=await ar(H,Me,ye,null);if(De=Ue[ke.route.id],!De){for(let Ze of me)if(Ue[Ze.route.id]){De=Ue[Ze.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(gs(De)){let Me;return xe&&xe.replace!=null?Me=xe.replace:Me=C_(De.response.headers.get("Location"),new URL(H.url),g)===P.location.pathname+P.location.search,await Dr(H,De,!0,{submission:Z,replace:Me}),{shortCircuited:!0}}if(tr(De)){let Me=ms(me,ke.route.id);return(xe&&xe.replace)!==!0&&(M="PUSH"),{matches:me,pendingActionResult:[Me.route.id,De,ke.route.id]}}return{matches:me,pendingActionResult:[ke.route.id,De]}}async function Cs(H,Q,Z,me,ye,Ae,Oe,xe,Ce,De,ke,Me){let Ue=Ae||Wd(Q,Oe),Ze=Oe||xe||k_(Ue),gt=!S&&!De;if(ye){if(gt){let Ft=Cn(Me);mt({navigation:Ue,...Ft!==void 0?{actionData:Ft}:{}},{flushSync:ke})}let ze=await Br(Z,Q.pathname,H.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Ft=ms(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Ft]:ze.error}}}else if(ze.matches)Z=ze.matches;else{let{error:Ft,notFoundMatches:$n,route:jn}=gi(Q.pathname);return{matches:$n,loaderData:{},errors:{[jn.id]:Ft}}}}let ct=d||h,{dsMatches:it,revalidatingFetchers:Ke}=w_(H,me,o,u,r.history,P,Z,Ze,Q,De?[]:a,De===!0,oe,Ee,ae,Y,k,ct,g,r.patchRoutesOnNavigation!=null,Me);if(re=++ee,!r.dataStrategy&&!it.some(ze=>ze.shouldLoad)&&Ke.length===0){let ze=Lr();return an(Q,{matches:Z,loaderData:{},errors:Me&&tr(Me[1])?{[Me[0]]:Me[1].error}:null,...M_(Me),...ze?{fetchers:new Map(P.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(gt){let ze={};if(!ye){ze.navigation=Ue;let Ft=Cn(Me);Ft!==void 0&&(ze.actionData=Ft)}Ke.length>0&&(ze.fetchers=jo(Ke)),mt(ze,{flushSync:ke})}Ke.forEach(ze=>{sr(ze.key),ze.controller&&j.set(ze.key,ze.controller)});let ur=()=>Ke.forEach(ze=>sr(ze.key));I&&I.signal.addEventListener("abort",ur);let{loaderResults:Zt,fetcherResults:Nn}=await Fi(it,Ke,H,me);if(H.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",ur),Ke.forEach(ze=>j.delete(ze.key));let fn=Lc(Zt);if(fn)return await Dr(H,fn.result,!0,{replace:Ce}),{shortCircuited:!0};if(fn=Lc(Nn),fn)return k.add(fn.key),await Dr(H,fn.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Hr,errors:Gn}=N_(P,Z,Zt,Me,Ke,Nn);De&&P.errors&&(Gn={...P.errors,...Gn});let Ki=Lr(),bn=Ur(re),On=Ki||bn||Ke.length>0;return{matches:Z,loaderData:Hr,errors:Gn,...On?{fetchers:new Map(P.fetchers)}:{}}}function Cn(H){if(H&&!tr(H[1]))return{[H[0]]:H[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function jo(H){return H.forEach(Q=>{let Z=P.fetchers.get(Q.key),me=Ul(void 0,Z?Z.data:void 0);P.fetchers.set(Q.key,me)}),new Map(P.fetchers)}async function Ua(H,Q,Z,me){sr(H);let ye=(me&&me.flushSync)===!0,Ae=d||h,Oe=pm(P.location,P.matches,g,Z,Q,me?.relative),xe=Ea(Ae,Oe,g),Ce=In(xe,Ae,Oe);if(Ce.active&&Ce.matches&&(xe=Ce.matches),!xe){$e(H,Q,Sr(404,{pathname:Oe}),{flushSync:ye});return}let{path:De,submission:ke,error:Me}=S_(!0,Oe,me);if(Me){$e(H,Q,Me,{flushSync:ye});return}let Ue=Fl(xe,De),Ze=new T_(r.unstable_getContext?await r.unstable_getContext():void 0),gt=(me&&me.preventScrollReset)===!0;if(ke&&nr(ke.formMethod)){await qi(H,Q,De,Ue,xe,Ze,Ce.active,ye,gt,ke);return}Y.set(H,{routeId:Q,path:De}),await di(H,Q,De,Ue,xe,Ze,Ce.active,ye,gt,ke)}async function qi(H,Q,Z,me,ye,Ae,Oe,xe,Ce,De){Gi(),Y.delete(H);function ke(At){if(!At.route.action&&!At.route.lazy){let cr=Sr(405,{method:De.formMethod,pathname:Z,routeId:Q});return $e(H,Q,cr,{flushSync:xe}),!0}return!1}if(!Oe&&ke(me))return;let Me=P.fetchers.get(H);ft(H,oA(De,Me),{flushSync:xe});let Ue=new AbortController,Ze=yo(r.history,Z,Ue.signal,De);if(Oe){let At=await Br(ye,Z,Ze.signal,H);if(At.type==="aborted")return;if(At.type==="error"){$e(H,Q,At.error,{flushSync:xe});return}else if(At.matches){if(ye=At.matches,me=Fl(ye,Z),ke(me))return}else{$e(H,Q,Sr(404,{pathname:Z}),{flushSync:xe});return}}j.set(H,Ue);let gt=ee,ct=bo(o,u,Ze,ye,me,a,Ae),Ke=(await ar(Ze,ct,Ae,H))[me.route.id];if(Ze.signal.aborted){j.get(H)===Ue&&j.delete(H);return}if(ae.has(H)){if(gs(Ke)||tr(Ke)){ft(H,_a(void 0));return}}else{if(gs(Ke))if(j.delete(H),re>gt){ft(H,_a(void 0));return}else return k.add(H),ft(H,Ul(De)),Dr(Ze,Ke,!1,{fetcherSubmission:De,preventScrollReset:Ce});if(tr(Ke)){$e(H,Q,Ke.error);return}}let ur=P.navigation.location||P.location,Zt=yo(r.history,ur,Ue.signal),Nn=d||h,fn=P.navigation.state!=="idle"?Ea(Nn,P.navigation.location,g):P.matches;tt(fn,"Didn't find any matches after fetcher action");let Hr=++ee;_e.set(H,Hr);let Gn=Ul(De,Ke.data);P.fetchers.set(H,Gn);let{dsMatches:Ki,revalidatingFetchers:bn}=w_(Zt,Ae,o,u,r.history,P,fn,De,ur,a,!1,oe,Ee,ae,Y,k,Nn,g,r.patchRoutesOnNavigation!=null,[me.route.id,Ke]);bn.filter(At=>At.key!==H).forEach(At=>{let cr=At.key,pi=P.fetchers.get(cr),dn=Ul(void 0,pi?pi.data:void 0);P.fetchers.set(cr,dn),sr(cr),At.controller&&j.set(cr,At.controller)}),mt({fetchers:new Map(P.fetchers)});let On=()=>bn.forEach(At=>sr(At.key));Ue.signal.addEventListener("abort",On);let{loaderResults:ze,fetcherResults:Ft}=await Fi(Ki,bn,Zt,Ae);if(Ue.signal.aborted)return;if(Ue.signal.removeEventListener("abort",On),_e.delete(H),j.delete(H),bn.forEach(At=>j.delete(At.key)),P.fetchers.has(H)){let At=_a(Ke.data);P.fetchers.set(H,At)}let $n=Lc(ze);if($n)return Dr(Zt,$n.result,!1,{preventScrollReset:Ce});if($n=Lc(Ft),$n)return k.add($n.key),Dr(Zt,$n.result,!1,{preventScrollReset:Ce});let{loaderData:jn,errors:qr}=N_(P,fn,ze,void 0,bn,Ft);Ur(Hr),P.navigation.state==="loading"&&Hr>re?(tt(M,"Expected pending action"),I&&I.abort(),an(P.navigation.location,{matches:fn,loaderData:jn,errors:qr,fetchers:new Map(P.fetchers)})):(mt({errors:qr,loaderData:O_(P.loaderData,jn,fn,qr),fetchers:new Map(P.fetchers)}),oe=!1)}async function di(H,Q,Z,me,ye,Ae,Oe,xe,Ce,De){let ke=P.fetchers.get(H);ft(H,Ul(De,ke?ke.data:void 0),{flushSync:xe});let Me=new AbortController,Ue=yo(r.history,Z,Me.signal);if(Oe){let Ke=await Br(ye,Z,Ue.signal,H);if(Ke.type==="aborted")return;if(Ke.type==="error"){$e(H,Q,Ke.error,{flushSync:xe});return}else if(Ke.matches)ye=Ke.matches,me=Fl(ye,Z);else{$e(H,Q,Sr(404,{pathname:Z}),{flushSync:xe});return}}j.set(H,Me);let Ze=ee,gt=bo(o,u,Ue,ye,me,a,Ae),it=(await ar(Ue,gt,Ae,H))[me.route.id];if(j.get(H)===Me&&j.delete(H),!Ue.signal.aborted){if(ae.has(H)){ft(H,_a(void 0));return}if(gs(it))if(re>Ze){ft(H,_a(void 0));return}else{k.add(H),await Dr(Ue,it,!1,{preventScrollReset:Ce});return}if(tr(it)){$e(H,Q,it.error);return}ft(H,_a(it.data))}}async function Dr(H,Q,Z,{submission:me,fetcherSubmission:ye,preventScrollReset:Ae,replace:Oe}={}){Q.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let xe=Q.response.headers.get("Location");tt(xe,"Expected a Location header on the redirect Response"),xe=C_(xe,new URL(H.url),g);let Ce=nu(P.location,xe,{_isRedirect:!0});if(n){let gt=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(Wm.test(xe)){const ct=SE(xe,!0);gt=ct.origin!==e.location.origin||Rr(ct.pathname,g)==null}if(gt){Oe?e.location.replace(xe):e.location.assign(xe);return}}I=null;let De=Oe===!0||Q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Me,formEncType:Ue}=P.navigation;!me&&!ye&&ke&&Me&&Ue&&(me=k_(P.navigation));let Ze=me||ye;if(qw.has(Q.response.status)&&Ze&&nr(Ze.formMethod))await Dn(De,Ce,{submission:{...Ze,formAction:xe},preventScrollReset:Ae||R,enableViewTransition:Z?N:void 0});else{let gt=Wd(Ce,me);await Dn(De,Ce,{overrideNavigation:gt,fetcherSubmission:ye,preventScrollReset:Ae||R,enableViewTransition:Z?N:void 0})}}async function ar(H,Q,Z,me){let ye,Ae={};try{ye=await Zw(p,H,Q,me,Z,!1)}catch(Oe){return Q.filter(xe=>xe.shouldLoad).forEach(xe=>{Ae[xe.route.id]={type:"error",error:Oe}}),Ae}if(H.signal.aborted)return Ae;for(let[Oe,xe]of Object.entries(ye))if(iA(xe)){let Ce=xe.result;Ae[Oe]={type:"redirect",response:tA(Ce,H,Oe,Q,g)}}else Ae[Oe]=await eA(xe);return Ae}async function Fi(H,Q,Z,me){let ye=ar(Z,H,me,null),Ae=Promise.all(Q.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let ke=(await ar(Ce.request,Ce.matches,me,Ce.key))[Ce.match.route.id];return{[Ce.key]:ke}}else return Promise.resolve({[Ce.key]:{type:"error",error:Sr(404,{pathname:Ce.path})}})})),Oe=await ye,xe=(await Ae).reduce((Ce,De)=>Object.assign(Ce,De),{});return{loaderResults:Oe,fetcherResults:xe}}function Gi(){oe=!0,Y.forEach((H,Q)=>{j.has(Q)&&Ee.add(Q),sr(Q)})}function ft(H,Q,Z={}){P.fetchers.set(H,Q),mt({fetchers:new Map(P.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function $e(H,Q,Z,me={}){let ye=ms(P.matches,Q);qt(H),mt({errors:{[ye.route.id]:Z},fetchers:new Map(P.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function Tn(H){return pe.set(H,(pe.get(H)||0)+1),ae.has(H)&&ae.delete(H),P.fetchers.get(H)||Fw}function qt(H){let Q=P.fetchers.get(H);j.has(H)&&!(Q&&Q.state==="loading"&&_e.has(H))&&sr(H),Y.delete(H),_e.delete(H),k.delete(H),ae.delete(H),Ee.delete(H),P.fetchers.delete(H)}function Is(H){let Q=(pe.get(H)||0)-1;Q<=0?(pe.delete(H),ae.add(H)):pe.set(H,Q),mt({fetchers:new Map(P.fetchers)})}function sr(H){let Q=j.get(H);Q&&(Q.abort(),j.delete(H))}function jr(H){for(let Q of H){let Z=Tn(Q),me=_a(Z.data);P.fetchers.set(Q,me)}}function Lr(){let H=[],Q=!1;for(let Z of k){let me=P.fetchers.get(Z);tt(me,`Expected fetcher: ${Z}`),me.state==="loading"&&(k.delete(Z),H.push(Z),Q=!0)}return jr(H),Q}function Ur(H){let Q=[];for(let[Z,me]of _e)if(me<H){let ye=P.fetchers.get(Z);tt(ye,`Expected fetcher: ${Z}`),ye.state==="loading"&&(sr(Z),_e.delete(Z),Q.push(Z))}return jr(Q),Q.length>0}function Fn(H,Q){let Z=P.blockers.get(H)||Ll;return ue.get(H)!==Q&&ue.set(H,Q),Z}function mi(H){P.blockers.delete(H),ue.delete(H)}function or(H,Q){let Z=P.blockers.get(H)||Ll;tt(Z.state==="unblocked"&&Q.state==="blocked"||Z.state==="blocked"&&Q.state==="blocked"||Z.state==="blocked"&&Q.state==="proceeding"||Z.state==="blocked"&&Q.state==="unblocked"||Z.state==="proceeding"&&Q.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${Q.state}`);let me=new Map(P.blockers);me.set(H,Q),mt({blockers:me})}function $i({currentLocation:H,nextLocation:Q,historyAction:Z}){if(ue.size===0)return;ue.size>1&&Ht(!1,"A router only supports one blocker at a time");let me=Array.from(ue.entries()),[ye,Ae]=me[me.length-1],Oe=P.blockers.get(ye);if(!(Oe&&Oe.state==="proceeding")&&Ae({currentLocation:H,nextLocation:Q,historyAction:Z}))return ye}function gi(H){let Q=Sr(404,{pathname:H}),Z=d||h,{matches:me,route:ye}=P_(Z);return{notFoundMatches:me,route:ye,error:Q}}function Ba(H,Q,Z){if(D=H,B=Q,C=Z||null,!z&&P.navigation===Xd){z=!0;let me=Yi(P.location,P.matches);me!=null&&mt({restoreScrollPosition:me})}return()=>{D=null,B=null,C=null}}function lr(H,Q){return C&&C(H,Q.map(me=>Tw(me,P.loaderData)))||H.key}function Cr(H,Q){if(D&&B){let Z=lr(H,Q);D[Z]=B()}}function Yi(H,Q){if(D){let Z=lr(H,Q),me=D[Z];if(typeof me=="number")return me}return null}function In(H,Q,Z){if(r.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:Qc(Q,Z,g,!0)}}else return{active:!0,matches:Qc(Q,Z,g,!0)||[]};return{active:!1,matches:null}}async function Br(H,Q,Z,me){if(!r.patchRoutesOnNavigation)return{type:"success",matches:H};let ye=H;for(;;){let Ae=d==null,Oe=d||h,xe=u;try{await r.patchRoutesOnNavigation({signal:Z,path:Q,matches:ye,fetcherKey:me,patch:(ke,Me)=>{Z.aborted||A_(ke,Me,Oe,xe,o)}})}catch(ke){return{type:"error",error:ke,partialMatches:ye}}finally{Ae&&!Z.aborted&&(h=[...h])}if(Z.aborted)return{type:"aborted"};let Ce=Ea(Oe,Q,g);if(Ce)return{type:"success",matches:Ce};let De=Qc(Oe,Q,g,!0);if(!De||ye.length===De.length&&ye.every((ke,Me)=>ke.route.id===De[Me].route.id))return{type:"success",matches:null};ye=De}}function zr(H){u={},d=ih(H,o,void 0,u)}function Qi(H,Q){let Z=d==null;A_(H,Q,d||h,u,o),Z&&(h=[...h],mt({}))}return he={get basename(){return g},get future(){return v},get state(){return P},get routes(){return h},get window(){return e},initialize:rt,subscribe:Et,enableScrollRestoration:Ba,navigate:kn,fetch:Ua,revalidate:ir,createHref:H=>r.history.createHref(H),encodeLocation:H=>r.history.encodeLocation(H),getFetcher:Tn,deleteFetcher:Is,dispose:Ve,getBlocker:Fn,deleteBlocker:mi,patchRoutes:Qi,_internalFetchControllers:j,_internalSetRoutes:zr},he}function Yw(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function pm(r,e,n,a,o,u){let h,d;if(o){h=[];for(let p of e)if(h.push(p),p.route.id===o){d=p;break}}else h=e,d=e[e.length-1];let g=Xm(a||".",Km(h),Rr(r.pathname,n)||r.pathname,u==="path");if(a==null&&(g.search=r.search,g.hash=r.hash),(a==null||a===""||a===".")&&d){let p=Zm(g.search);if(d.route.index&&!p)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let v=new URLSearchParams(g.search),w=v.getAll("index");v.delete("index"),w.filter(D=>D).forEach(D=>v.append("index",D));let b=v.toString();g.search=b?`?${b}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:ii([n,g.pathname])),Da(g)}function S_(r,e,n){if(!n||!Yw(n))return{path:e};if(n.formMethod&&!aA(n.formMethod))return{path:e,error:Sr(405,{method:n.formMethod})};let a=()=>({path:e,error:Sr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=VE(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!nr(u))return a();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[D,C])=>`${b}${D}=${C}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!nr(u))return a();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return a()}}}tt(typeof FormData=="function","FormData is not available in this environment");let d,g;if(n.formData)d=_m(n.formData),g=n.formData;else if(n.body instanceof FormData)d=_m(n.body),g=n.body;else if(n.body instanceof URLSearchParams)d=n.body,g=I_(d);else if(n.body==null)d=new URLSearchParams,g=new FormData;else try{d=new URLSearchParams(n.body),g=I_(d)}catch{return a()}let p={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(nr(p.formMethod))return{path:e,submission:p};let v=zi(e);return r&&v.search&&Zm(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Da(v),submission:p}}function w_(r,e,n,a,o,u,h,d,g,p,v,w,b,D,C,B,z,U,X,$){let le=$?tr($[1])?$[1].error:$[1].data:void 0,he=o.createURL(u.location),P=o.createURL(g),M;if(v&&u.errors){let S=Object.keys(u.errors)[0];M=h.findIndex(oe=>oe.route.id===S)}else if($&&tr($[1])){let S=$[0];M=h.findIndex(oe=>oe.route.id===S)-1}let R=$?$[1].statusCode:void 0,I=R&&R>=400,N={currentUrl:he,currentParams:u.matches[0]?.params||{},nextUrl:P,nextParams:h[0].params,...d,actionResult:le,actionStatus:R},V=h.map((S,oe)=>{let{route:Ee}=S,j=null;if(M!=null&&oe>M?j=!1:Ee.lazy?j=!0:Ee.loader==null?j=!1:v?j=ym(Ee,u.loaderData,u.errors):Qw(u.loaderData,u.matches[oe],S)&&(j=!0),j!==null)return vm(n,a,r,S,p,e,j);let ee=I?!1:w||he.pathname+he.search===P.pathname+P.search||he.search!==P.search||Kw(u.matches[oe],S),re={...N,defaultShouldRevalidate:ee},_e=oh(S,re);return vm(n,a,r,S,p,e,_e,re)}),O=[];return C.forEach((S,oe)=>{if(v||!h.some(pe=>pe.route.id===S.routeId)||D.has(oe))return;let Ee=u.fetchers.get(oe),j=Ee&&Ee.state!=="idle"&&Ee.data===void 0,ee=Ea(z,S.path,U);if(!ee){if(X&&j)return;O.push({key:oe,routeId:S.routeId,path:S.path,matches:null,match:null,request:null,controller:null});return}if(B.has(oe))return;let re=Fl(ee,S.path),_e=new AbortController,k=yo(o,S.path,_e.signal),Y=null;if(b.has(oe))b.delete(oe),Y=bo(n,a,k,ee,re,p,e);else if(j)w&&(Y=bo(n,a,k,ee,re,p,e));else{let pe={...N,defaultShouldRevalidate:I?!1:w};oh(re,pe)&&(Y=bo(n,a,k,ee,re,p,e,pe))}Y&&O.push({key:oe,routeId:S.routeId,path:S.path,matches:Y,match:re,request:k,controller:_e})}),{dsMatches:V,revalidatingFetchers:O}}function ym(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function Qw(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function Kw(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function oh(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function A_(r,e,n,a,o){let u;if(r){let g=a[r];tt(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),u=g.children}else u=n;let h=e.filter(g=>!u.some(p=>IE(g,p))),d=ih(h,o,[r||"_","patch",String(u?.length||"0")],a);u.push(...d)}function IE(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>e.children?.some(o=>IE(n,o))):!1}var x_=new WeakMap,NE=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(tt(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let h=x_.get(o);h||(h={},x_.set(o,h));let d=h[r];if(d)return d;let g=(async()=>{let p=yw(r),w=o[r]!==void 0&&r!=="hasErrorBoundary";if(p)Ht(!p,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),h[r]=Promise.resolve();else if(w)Ht(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let b=await u();b!=null&&(Object.assign(o,{[r]:b}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))})();return h[r]=g,g},R_=new WeakMap;function Xw(r,e,n,a,o){let u=n[r.id];if(tt(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=R_.get(u);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let w=(async()=>{tt(typeof r.lazy=="function","No lazy route function found");let b=await r.lazy(),D={};for(let C in b){let B=b[C];if(B===void 0)continue;let z=_w(C),X=u[C]!==void 0&&C!=="hasErrorBoundary";z?Ht(!z,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):X?Ht(!X,`Route "${u.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):D[C]=B}Object.assign(u,D),Object.assign(u,{...a(u),lazy:void 0})})();return R_.set(u,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let h=Object.keys(r.lazy),d=[],g;for(let v of h){if(o&&o.includes(v))continue;let w=NE({key:v,route:r,manifest:n,mapRouteProperties:a});w&&(d.push(w),v===e&&(g=w))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:g}}async function D_(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function Ww(r){return r.matches.some(e=>e.route.unstable_middleware)?OE(r,!1,()=>D_(r),(e,n)=>({[n]:{type:"error",result:e}})):D_(r)}async function OE(r,e,n,a){let{matches:o,request:u,params:h,context:d}=r,g={handlerResult:void 0};try{let p=o.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(b=>[w.route.id,b]):[]),v=await ME({request:u,params:h,context:d},p,e,g,n);return e?v:g.handlerResult}catch(p){if(!g.middlewareError)throw p;let v=await a(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,v):v}}async function ME(r,e,n,a,o,u=0){let{request:h}=r;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let d=e[u];if(!d)return a.handlerResult=await o(),a.handlerResult;let[g,p]=d,v=!1,w,b=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await ME(r,e,n,a,o,u+1)};try{let D=await p({request:r.request,params:r.params,context:r.context},b);return v?D===void 0?w:D:b()}catch(D){throw a.middlewareError?a.middlewareError.error!==D&&(a.middlewareError={routeId:g,error:D}):a.middlewareError={routeId:g,error:D},D}}function PE(r,e,n,a,o){let u=NE({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),h=Xw(a.route,nr(n.method)?"action":"loader",e,r,o);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function vm(r,e,n,a,o,u,h,d=null){let g=!1,p=PE(r,e,n,a,o);return{...a,_lazyPromises:p,shouldLoad:h,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return g=!0,d?typeof v=="boolean"?oh(a,{...d,defaultShouldRevalidate:v}):oh(a,d):h},resolve(v){return g||h||v&&n.method==="GET"&&(a.route.lazy||a.route.loader)?Jw({request:n,match:a,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:v,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function bo(r,e,n,a,o,u,h,d=null){return a.map(g=>g.route.id!==o.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:PE(r,e,n,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:vm(r,e,n,g,u,h,!0,d))}async function Zw(r,e,n,a,o,u){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let h={request:e,params:n[0].params,context:o,matches:n},g=await r({...h,fetcherKey:a,unstable_runClientMiddleware:p=>{let v=h;return OE(v,!1,()=>p({...v,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(w,b)=>({[b]:{type:"error",result:w}}))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return g}async function Jw({request:r,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let h,d,g=nr(r.method),p=g?"action":"loader",v=w=>{let b,D=new Promise((z,U)=>b=U);d=()=>b(),r.signal.addEventListener("abort",d);let C=z=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):w({request:r,params:e.params,context:u},...z!==void 0?[z]:[]),B=(async()=>{try{return{type:"data",result:await(o?o(U=>C(U)):C())}}catch(z){return{type:"error",result:z}}})();return Promise.race([B,D])};try{let w=g?e.route.action:e.route.loader;if(n||a)if(w){let b,[D]=await Promise.all([v(w).catch(C=>{b=C}),n,a]);if(b!==void 0)throw b;h=D}else{await n;let b=g?e.route.action:e.route.loader;if(b)[h]=await Promise.all([v(b),a]);else if(p==="action"){let D=new URL(r.url),C=D.pathname+D.search;throw Sr(405,{method:r.method,pathname:C,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)h=await v(w);else{let b=new URL(r.url),D=b.pathname+b.search;throw Sr(404,{pathname:D})}}catch(w){return{type:"error",result:w}}finally{d&&r.signal.removeEventListener("abort",d)}return h}async function eA(r){let{result:e,type:n}=r;if(kE(e)){let a;try{let o=e.headers.get("Content-Type");o&&/\bapplication\/json\b/.test(o)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new sh(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?V_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new sh(e.init?.status||500,void 0,e.data),statusCode:ru(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ru(e)?e.status:void 0}:V_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function tA(r,e,n,a,o){let u=r.headers.get("Location");if(tt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Wm.test(u)){let h=a.slice(0,a.findIndex(d=>d.route.id===n)+1);u=pm(new URL(e.url),h,o,u),r.headers.set("Location",u)}return r}function C_(r,e,n){if(Wm.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=Rr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function yo(r,e,n,a){let o=r.createURL(VE(e)).toString(),u={signal:n};if(a&&nr(a.formMethod)){let{formMethod:h,formEncType:d}=a;u.method=h.toUpperCase(),d==="application/json"?(u.headers=new Headers({"Content-Type":d}),u.body=JSON.stringify(a.json)):d==="text/plain"?u.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?u.body=_m(a.formData):u.body=a.formData}return new Request(o,u)}function _m(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function I_(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function nA(r,e,n,a=!1,o=!1){let u={},h=null,d,g=!1,p={},v=n&&tr(n[1])?n[1].error:void 0;return r.forEach(w=>{if(!(w.route.id in e))return;let b=w.route.id,D=e[b];if(tt(!gs(D),"Cannot handle redirect results in processLoaderData"),tr(D)){let C=D.error;if(v!==void 0&&(C=v,v=void 0),h=h||{},o)h[b]=C;else{let B=ms(r,b);h[B.route.id]==null&&(h[B.route.id]=C)}a||(u[b]=CE),g||(g=!0,d=ru(D.error)?D.error.status:500),D.headers&&(p[b]=D.headers)}else u[b]=D.data,D.statusCode&&D.statusCode!==200&&!g&&(d=D.statusCode),D.headers&&(p[b]=D.headers)}),v!==void 0&&n&&(h={[n[0]]:v},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:h,statusCode:d||200,loaderHeaders:p}}function N_(r,e,n,a,o,u){let{loaderData:h,errors:d}=nA(e,n,a);return o.filter(g=>!g.matches||g.matches.some(p=>p.shouldLoad)).forEach(g=>{let{key:p,match:v,controller:w}=g,b=u[p];if(tt(b,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(tr(b)){let D=ms(r.matches,v?.route.id);d&&d[D.route.id]||(d={...d,[D.route.id]:b.error}),r.fetchers.delete(p)}else if(gs(b))tt(!1,"Unhandled fetcher revalidation redirect");else{let D=_a(b.data);r.fetchers.set(p,D)}}),{loaderData:h,errors:d}}function O_(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==CE).reduce((u,[h,d])=>(u[h]=d,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&u.route.loader&&(o[h]=r[h]),a&&a.hasOwnProperty(h))break}return o}function M_(r){return r?tr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function ms(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function P_(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Sr(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(h="Bad Request",a&&e&&n?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):r===403?(h="Forbidden",d=`Route "${n}" does not match URL "${e}"`):r===404?(h="Not Found",d=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",a&&e&&n?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new sh(r||500,h,new Error(d),!0)}function Lc(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(gs(o))return{key:a,result:o}}}function VE(r){let e=typeof r=="string"?zi(r):r;return Da({...e,hash:""})}function rA(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function iA(r){return kE(r.result)&&Hw.has(r.result.status)}function tr(r){return r.type==="error"}function gs(r){return(r&&r.type)==="redirect"}function V_(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function kE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function aA(r){return zw.has(r.toUpperCase())}function nr(r){return Uw.has(r.toUpperCase())}function Zm(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Fl(r,e){let n=typeof e=="string"?zi(e).search:e.search;if(r[r.length-1].route.index&&Zm(n||""))return r[r.length-1];let a=xE(r);return a[a.length-1]}function k_(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:h}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:h,text:void 0}}}function Wd(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sA(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ul(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oA(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function _a(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function lA(r,e){try{let n=r.sessionStorage.getItem(DE);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function uA(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(DE,JSON.stringify(n))}catch(a){Ht(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function cA(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Ss=q.createContext(null);Ss.displayName="DataRouter";var fu=q.createContext(null);fu.displayName="DataRouterState";var Jm=q.createContext({isTransitioning:!1});Jm.displayName="ViewTransition";var jE=q.createContext(new Map);jE.displayName="Fetchers";var hA=q.createContext(null);hA.displayName="Await";var fi=q.createContext(null);fi.displayName="Navigation";var Sh=q.createContext(null);Sh.displayName="Location";var Hi=q.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var eg=q.createContext(null);eg.displayName="RouteError";function fA(r,{relative:e}={}){tt(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=q.useContext(fi),{hash:o,pathname:u,search:h}=mu(r,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:ii([n,u])),a.createHref({pathname:d,search:h,hash:o})}function du(){return q.useContext(Sh)!=null}function ja(){return tt(du(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Sh).location}var LE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UE(r){q.useContext(fi).static||q.useLayoutEffect(r)}function tg(){let{isDataRoute:r}=q.useContext(Hi);return r?AA():dA()}function dA(){tt(du(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(Ss),{basename:e,navigator:n}=q.useContext(fi),{matches:a}=q.useContext(Hi),{pathname:o}=ja(),u=JSON.stringify(Km(a)),h=q.useRef(!1);return UE(()=>{h.current=!0}),q.useCallback((g,p={})=>{if(Ht(h.current,LE),!h.current)return;if(typeof g=="number"){n.go(g);return}let v=Xm(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ii([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,u,o,r])}q.createContext(null);function mu(r,{relative:e}={}){let{matches:n}=q.useContext(Hi),{pathname:a}=ja(),o=JSON.stringify(Km(n));return q.useMemo(()=>Xm(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function mA(r,e,n,a){tt(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(fi),{matches:u}=q.useContext(Hi),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",p=h?h.pathnameBase:"/",v=h&&h.route;{let U=v&&v.path||"";BE(g,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=ja(),b;b=w;let D=b.pathname||"/",C=D;if(p!=="/"){let U=p.replace(/^\//,"").split("/");C="/"+D.replace(/^\//,"").split("/").slice(U.length).join("/")}let B=Ea(r,{pathname:C});return Ht(v||B!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ht(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_A(B&&B.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:ii([p,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:ii([p,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,n,a)}function gA(){let r=wA(),e=ru(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,h)}var pA=q.createElement(gA,null),yA=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?q.createElement(Hi.Provider,{value:this.props.routeContext},q.createElement(eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vA({routeContext:r,match:e,children:n}){let a=q.useContext(Ss);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Hi.Provider,{value:r},n)}function _A(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);tt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=g),p.route.id){let{loaderData:v,errors:w}=n,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||b){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,p,v)=>{let w,b=!1,D=null,C=null;n&&(w=u&&p.route.id?u[p.route.id]:void 0,D=p.route.errorElement||pA,h&&(d<0&&v===0?(BE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):d===v&&(b=!0,C=p.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,v+1)),z=()=>{let U;return w?U=D:b?U=C:p.route.Component?U=q.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=g,q.createElement(vA,{match:p,routeContext:{outlet:g,matches:B,isDataRoute:n!=null},children:U})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?q.createElement(yA,{location:n.location,revalidation:n.revalidation,component:D,error:w,children:z(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):z()},null)}function ng(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EA(r){let e=q.useContext(Ss);return tt(e,ng(r)),e}function TA(r){let e=q.useContext(fu);return tt(e,ng(r)),e}function bA(r){let e=q.useContext(Hi);return tt(e,ng(r)),e}function rg(r){let e=bA(r),n=e.matches[e.matches.length-1];return tt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function SA(){return rg("useRouteId")}function wA(){let r=q.useContext(eg),e=TA("useRouteError"),n=rg("useRouteError");return r!==void 0?r:e.errors?.[n]}function AA(){let{router:r}=EA("useNavigate"),e=rg("useNavigate"),n=q.useRef(!1);return UE(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Ht(n.current,LE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var j_={};function BE(r,e,n){!e&&!j_[r]&&(j_[r]=!0,Ht(!1,n))}var L_={};function U_(r,e){!r&&!L_[e]&&(L_[e]=!0,console.warn(e))}function xA(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Ht(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Ht(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Ht(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var RA=["HydrateFallback","hydrateFallbackElement"],DA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function CA({router:r,flushSync:e}){let[n,a]=q.useState(r.state),[o,u]=q.useState(),[h,d]=q.useState({isTransitioning:!1}),[g,p]=q.useState(),[v,w]=q.useState(),[b,D]=q.useState(),C=q.useRef(new Map),B=q.useCallback(($,{deletedFetchers:le,flushSync:he,viewTransitionOpts:P})=>{$.fetchers.forEach((R,I)=>{R.data!==void 0&&C.current.set(I,R.data)}),le.forEach(R=>C.current.delete(R)),U_(he===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(U_(P==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!M){e&&he?e(()=>a($)):q.startTransition(()=>a($));return}if(e&&he){e(()=>{v&&(g&&g.resolve(),v.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let R=r.window.document.startViewTransition(()=>{e(()=>a($))});R.finished.finally(()=>{e(()=>{p(void 0),w(void 0),u(void 0),d({isTransitioning:!1})})}),e(()=>w(R));return}v?(g&&g.resolve(),v.skipTransition(),D({state:$,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(u($),d({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[r.window,e,v,g]);q.useLayoutEffect(()=>r.subscribe(B),[r,B]),q.useEffect(()=>{h.isTransitioning&&!h.flushSync&&p(new DA)},[h]),q.useEffect(()=>{if(g&&o&&r.window){let $=o,le=g.promise,he=r.window.document.startViewTransition(async()=>{q.startTransition(()=>a($)),await le});he.finished.finally(()=>{p(void 0),w(void 0),u(void 0),d({isTransitioning:!1})}),w(he)}},[o,g,r.window]),q.useEffect(()=>{g&&o&&n.location.key===o.location.key&&g.resolve()},[g,v,n.location,o]),q.useEffect(()=>{!h.isTransitioning&&b&&(u(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),D(void 0))},[h.isTransitioning,b]);let z=q.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:$=>r.navigate($),push:($,le,he)=>r.navigate($,{state:le,preventScrollReset:he?.preventScrollReset}),replace:($,le,he)=>r.navigate($,{replace:!0,state:le,preventScrollReset:he?.preventScrollReset})}),[r]),U=r.basename||"/",X=q.useMemo(()=>({router:r,navigator:z,static:!1,basename:U}),[r,z,U]);return q.createElement(q.Fragment,null,q.createElement(Ss.Provider,{value:X},q.createElement(fu.Provider,{value:n},q.createElement(jE.Provider,{value:C.current},q.createElement(Jm.Provider,{value:h},q.createElement(OA,{basename:U,location:n.location,navigationType:n.historyAction,navigator:z},q.createElement(IA,{routes:r.routes,future:r.future,state:n})))))),null)}var IA=q.memo(NA);function NA({routes:r,future:e,state:n}){return mA(r,void 0,n,e)}function OA({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){tt(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=zi(n));let{pathname:g="/",search:p="",hash:v="",state:w=null,key:b="default"}=n,D=q.useMemo(()=>{let C=Rr(g,h);return C==null?null:{location:{pathname:C,search:p,hash:v,state:w,key:b},navigationType:a}},[h,g,p,v,w,b,a]);return Ht(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:q.createElement(fi.Provider,{value:d},q.createElement(Sh.Provider,{children:e,value:D}))}var Kc="get",Xc="application/x-www-form-urlencoded";function wh(r){return r!=null&&typeof r.tagName=="string"}function MA(r){return wh(r)&&r.tagName.toLowerCase()==="button"}function PA(r){return wh(r)&&r.tagName.toLowerCase()==="form"}function VA(r){return wh(r)&&r.tagName.toLowerCase()==="input"}function kA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jA(r,e){return r.button===0&&(!e||e==="_self")&&!kA(r)}var Uc=null;function LA(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var UA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zd(r){return r!=null&&!UA.has(r)?(Ht(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):r}function BA(r,e){let n,a,o,u,h;if(PA(r)){let d=r.getAttribute("action");a=d?Rr(d,e):null,n=r.getAttribute("method")||Kc,o=Zd(r.getAttribute("enctype"))||Xc,u=new FormData(r)}else if(MA(r)||VA(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||d.getAttribute("action");if(a=g?Rr(g,e):null,n=r.getAttribute("formmethod")||d.getAttribute("method")||Kc,o=Zd(r.getAttribute("formenctype"))||Zd(d.getAttribute("enctype"))||Xc,u=new FormData(d,r),!LA()){let{name:p,type:v,value:w}=r;if(v==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,w)}}else{if(wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,a=null,o=Xc,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}function ig(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function zA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qA(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await zA(u,n);return h.links?h.links():[]}return[]}));return YA(a.flat(1).filter(HA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function B_(r,e,n,a,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,d=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||d(g,p)):u==="data"?e.filter((g,p)=>{let v=a.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(h(g,p)||d(g,p))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function FA(r,e,{includeHydrateFallback:n}={}){return GA(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function GA(r){return[...new Set(r)]}function $A(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function YA(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify($A(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QA=new Set([100,101,204,205]);function KA(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Rr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function zE(){let r=q.useContext(Ss);return ig(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function XA(){let r=q.useContext(fu);return ig(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ag=q.createContext(void 0);ag.displayName="FrameworkContext";function HE(){let r=q.useContext(ag);return ig(r,"You must render this element inside a <HydratedRouter> element"),r}function WA(r,e){let n=q.useContext(ag),[a,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,b=q.useRef(null);q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let B=U=>{U.forEach(X=>{h(X.isIntersecting)})},z=new IntersectionObserver(B,{threshold:.5});return b.current&&z.observe(b.current),()=>{z.disconnect()}}},[r]),q.useEffect(()=>{if(a){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[a]);let D=()=>{o(!0)},C=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Bl(d,D),onBlur:Bl(g,C),onMouseEnter:Bl(p,D),onMouseLeave:Bl(v,C),onTouchStart:Bl(w,D)}]:[!1,b,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function ZA({page:r,...e}){let{router:n}=zE(),a=q.useMemo(()=>Ea(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?q.createElement(ex,{page:r,matches:a,...e}):null}function JA(r){let{manifest:e,routeModules:n}=HE(),[a,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return qA(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),a}function ex({page:r,matches:e,...n}){let a=ja(),{manifest:o,routeModules:u}=HE(),{basename:h}=zE(),{loaderData:d,matches:g}=XA(),p=q.useMemo(()=>B_(r,e,g,o,a,"data"),[r,e,g,o,a]),v=q.useMemo(()=>B_(r,e,g,o,a,"assets"),[r,e,g,o,a]),w=q.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let C=new Set,B=!1;if(e.forEach(U=>{let X=o.routes[U.route.id];!X||!X.hasLoader||(!p.some($=>$.route.id===U.route.id)&&U.route.id in d&&u[U.route.id]?.shouldRevalidate||X.hasClientLoader?B=!0:C.add(U.route.id))}),C.size===0)return[];let z=KA(r,h);return B&&C.size>0&&z.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[z.pathname+z.search]},[h,d,a,o,p,e,r,u]),b=q.useMemo(()=>FA(v,o),[v,o]),D=JA(v);return q.createElement(q.Fragment,null,w.map(C=>q.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>q.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),D.map(({key:C,link:B})=>q.createElement("link",{key:C,...B})))}function tx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qE&&(window.__reactRouterVersion="7.6.3")}catch{}function nx(r,e){return $w({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:dw({window:e?.window}),hydrationData:rx(),routes:r,mapRouteProperties:xA,hydrationRouteProperties:RA,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function rx(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:ix(r.errors)}),r}function ix(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new sh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",n[a]=h}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var FE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GE=q.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:d,target:g,to:p,preventScrollReset:v,viewTransition:w,...b},D){let{basename:C}=q.useContext(fi),B=typeof p=="string"&&FE.test(p),z,U=!1;if(typeof p=="string"&&B&&(z=p,qE))try{let I=new URL(window.location.href),N=p.startsWith("//")?new URL(I.protocol+p):new URL(p),V=Rr(N.pathname,C);N.origin===I.origin&&V!=null?p=V+N.search+N.hash:U=!0}catch{Ht(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=fA(p,{relative:o}),[$,le,he]=WA(a,b),P=lx(p,{replace:h,state:d,target:g,preventScrollReset:v,relative:o,viewTransition:w});function M(I){e&&e(I),I.defaultPrevented||P(I)}let R=q.createElement("a",{...b,...he,href:z||X,onClick:U||u?e:M,ref:tx(D,le),target:g,"data-discover":!B&&n==="render"?"true":void 0});return $&&!B?q.createElement(q.Fragment,null,R,q.createElement(ZA,{page:X})):R});GE.displayName="Link";var ax=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:d,children:g,...p},v){let w=mu(h,{relative:p.relative}),b=ja(),D=q.useContext(fu),{navigator:C,basename:B}=q.useContext(fi),z=D!=null&&dx(w)&&d===!0,U=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,X=b.pathname,$=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(X=X.toLowerCase(),$=$?$.toLowerCase():null,U=U.toLowerCase()),$&&B&&($=Rr($,B)||$);const le=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let he=X===U||!o&&X.startsWith(U)&&X.charAt(le)==="/",P=$!=null&&($===U||!o&&$.startsWith(U)&&$.charAt(U.length)==="/"),M={isActive:he,isPending:P,isTransitioning:z},R=he?e:void 0,I;typeof a=="function"?I=a(M):I=[a,he?"active":null,P?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(M):u;return q.createElement(GE,{...p,"aria-current":R,className:I,ref:v,style:N,to:h,viewTransition:d},typeof g=="function"?g(M):g)});ax.displayName="NavLink";var sx=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:h=Kc,action:d,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:w,...b},D)=>{let C=hx(),B=fx(d,{relative:p}),z=h.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&FE.test(d),X=$=>{if(g&&g($),$.defaultPrevented)return;$.preventDefault();let le=$.nativeEvent.submitter,he=le?.getAttribute("formmethod")||h;C(le||$.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:w})};return q.createElement("form",{ref:D,method:z,action:B,onSubmit:a?g:X,...b,"data-discover":!U&&r==="render"?"true":void 0})});sx.displayName="Form";function ox(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $E(r){let e=q.useContext(Ss);return tt(e,ox(r)),e}function lx(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=tg(),g=ja(),p=mu(r,{relative:u});return q.useCallback(v=>{if(jA(v,e)){v.preventDefault();let w=n!==void 0?n:Da(g)===Da(p);d(r,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[g,d,p,n,a,e,r,o,u,h])}var ux=0,cx=()=>`__${String(++ux)}__`;function hx(){let{router:r}=$E("useSubmit"),{basename:e}=q.useContext(fi),n=SA();return q.useCallback(async(a,o={})=>{let{action:u,method:h,encType:d,formData:g,body:p}=BA(a,e);if(o.navigate===!1){let v=o.fetcherKey||cx();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function fx(r,{relative:e}={}){let{basename:n}=q.useContext(fi),a=q.useContext(Hi);tt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...mu(r||".",{relative:e})},h=ja();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),g=d.getAll("index");if(g.some(v=>v==="")){d.delete("index"),g.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ii([n,u.pathname])),Da(u)}function dx(r,e={}){let n=q.useContext(Jm);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=$E("useViewTransitionState"),o=mu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Rr(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=Rr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return ah(o.pathname,h)!=null||ah(o.pathname,u)!=null}[...QA];var mx=TE();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gx(r){return q.createElement(CA,{flushSync:mx.flushSync,...r})}const px=()=>E.jsxs("main",{children:[E.jsxs("div",{className:"home-topnav",style:{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[E.jsx("div",{className:"home-league-name-section",style:{marginLeft:32},children:E.jsx("h1",{className:"home-logo",children:"Saint Mark Leagues"})}),E.jsxs("div",{className:"home-tabs desktop-tabs",style:{display:"flex",flexDirection:"row",gap:"20px",color:"black",fontWeight:"bold",cursor:"pointer",marginRight:"50px",marginTop:"10px"},children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",style:{color:"black",textDecoration:"none"},children:E.jsx("div",{className:"home-tab",children:"Dashboard"})}),E.jsx("div",{className:"home-tab",children:"2025"}),E.jsx("div",{className:"home-tab",children:"History"})]})]}),E.jsxs("div",{className:"home-tabs mobile-tabs",style:{display:"none",flexDirection:"row",gap:"20px",color:"black",fontWeight:"bold",cursor:"pointer",margin:"10px auto",justifyContent:"center",width:"100%"},children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",style:{color:"black",textDecoration:"none"},children:E.jsx("div",{className:"home-tab",children:"Dashboard"})}),E.jsx("div",{className:"home-tab",children:"2025"}),E.jsx("div",{className:"home-tab",children:"History"})]}),E.jsx("div",{className:"home-section1",children:E.jsxs("div",{className:"home-section1-left",children:[E.jsxs("h1",{className:"home-welcome",style:{color:"white",textAlign:"center",marginRight:"60px"},children:["Yalla Nel3ab ",E.jsx("br",{})," ",E.jsxs("span",{style:{display:"inline-block",width:"100%",textAlign:"center"},children:["K",E.jsx("span",{className:"home-span-not-mobile",children:"OOOOO"}),"ORA!!"]})]}),E.jsx("p",{children:"Welcome to Saint Mark Leagues, your hub for football excitement! Explore the latest league, check out the history, and get ready for the 2025 Summer season."}),E.jsx("button",{className:"home-button",children:"Yalla Nel3ab"})]})})]}),yx=()=>{};var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vx=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],d=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},QE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,v=u>>2,w=(u&3)<<4|d>>4;let b=(d&15)<<2|p>>6,D=p&63;g||(D=64,h||(b=64)),a.push(n[v],n[w],n[b],n[D])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(YE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],d=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||d==null||p==null||w==null)throw new _x;const b=u<<2|d>>4;if(a.push(b),p!==64){const D=d<<4&240|p>>2;if(a.push(D),w!==64){const C=p<<6&192|w;a.push(C)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _x extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ex=function(r){const e=YE(r);return QE.encodeByteArray(e,!0)},lh=function(r){return Ex(r).replace(/\./g,"")},Tx=function(r){try{return QE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=()=>bx().__FIREBASE_DEFAULTS__,wx=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ax=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Tx(r[1]);return e&&JSON.parse(e)},sg=()=>{try{return yx()||Sx()||wx()||Ax()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},xx=r=>{var e,n;return(n=(e=sg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},KE=r=>{const e=xx(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},XE=()=>{var r;return(r=sg())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[lh(JSON.stringify(n)),lh(JSON.stringify(h)),""].join(".")}const Kl={};function Dx(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function Cx(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let H_=!1;function JE(r,e){if(typeof window>"u"||typeof document>"u"||!gu(window.location.host)||Kl[r]===e||Kl[r]||H_)return;Kl[r]=e;function n(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=Dx().prod.length>0;function h(){const b=document.getElementById(a);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{H_=!0,h()},b}function v(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=Cx(a),D=n("text"),C=document.getElementById(D)||document.createElement("span"),B=n("learnmore"),z=document.getElementById(B)||document.createElement("a"),U=n("preprendIcon"),X=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const $=b.element;d($),v(z,B);const le=p();g(X,U),$.append(X,C,z,le),document.body.appendChild($)}u?(C.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nx(){var r;const e=(r=sg())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ox(){return!Nx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mx(){try{return typeof indexedDB=="object"}catch{return!1}}function Px(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="FirebaseError";class ws extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Vx,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eT.prototype.create)}}class eT{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?kx(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ws(o,d,a)}}function kx(r,e){return r.replace(jx,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const jx=/\{\$([^}]+)}/g;function uh(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],h=e[o];if(q_(u)&&q_(h)){if(!uh(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function q_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(r){return r&&r._delegate?r._delegate:r}class Ao{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Rx;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bx(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Ux(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ux(r){return r===ds?void 0:r}function Bx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Lx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ut||(ut={}));const Hx={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},qx=ut.INFO,Fx={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},Gx=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=Fx[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tT{constructor(e){this.name=e,this._logLevel=qx,this._logHandler=Gx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const $x=(r,e)=>e.some(n=>r instanceof n);let F_,G_;function Yx(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qx(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nT=new WeakMap,Em=new WeakMap,rT=new WeakMap,Jd=new WeakMap,og=new WeakMap;function Kx(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Sa(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&nT.set(n,r)}).catch(()=>{}),og.set(e,r),e}function Xx(r){if(Em.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Em.set(r,e)}let Tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||rT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Wx(r){Tm=r(Tm)}function Zx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(em(this),e,...n);return rT.set(a,e.sort?e.sort():[e]),Sa(a)}:Qx().includes(r)?function(...e){return r.apply(em(this),e),Sa(nT.get(this))}:function(...e){return Sa(r.apply(em(this),e))}}function Jx(r){return typeof r=="function"?Zx(r):(r instanceof IDBTransaction&&Xx(r),$x(r,Yx())?new Proxy(r,Tm):r)}function Sa(r){if(r instanceof IDBRequest)return Kx(r);if(Jd.has(r))return Jd.get(r);const e=Jx(r);return e!==r&&(Jd.set(r,e),og.set(e,r)),e}const em=r=>og.get(r);function eR(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=Sa(h);return a&&h.addEventListener("upgradeneeded",g=>{a(Sa(h.result),g.oldVersion,g.newVersion,Sa(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const tR=["get","getKey","getAll","getAllKeys","count"],nR=["put","add","delete","clear"],tm=new Map;function $_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=nR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||tR.includes(n)))return;const u=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&g.done]))[0]};return tm.set(e,u),u}Wx(r=>({...r,get:(e,n,a)=>$_(e,n)||r.get(e,n,a),has:(e,n)=>!!$_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function iR(r){const e=r.getComponent();return e?.type==="VERSION"}const bm="@firebase/app",Y_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new tT("@firebase/app"),aR="@firebase/app-compat",sR="@firebase/analytics-compat",oR="@firebase/analytics",lR="@firebase/app-check-compat",uR="@firebase/app-check",cR="@firebase/auth",hR="@firebase/auth-compat",fR="@firebase/database",dR="@firebase/data-connect",mR="@firebase/database-compat",gR="@firebase/functions",pR="@firebase/functions-compat",yR="@firebase/installations",vR="@firebase/installations-compat",_R="@firebase/messaging",ER="@firebase/messaging-compat",TR="@firebase/performance",bR="@firebase/performance-compat",SR="@firebase/remote-config",wR="@firebase/remote-config-compat",AR="@firebase/storage",xR="@firebase/storage-compat",RR="@firebase/firestore",DR="@firebase/ai",CR="@firebase/firestore-compat",IR="firebase",NR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",OR={[bm]:"fire-core",[aR]:"fire-core-compat",[oR]:"fire-analytics",[sR]:"fire-analytics-compat",[uR]:"fire-app-check",[lR]:"fire-app-check-compat",[cR]:"fire-auth",[hR]:"fire-auth-compat",[fR]:"fire-rtdb",[dR]:"fire-data-connect",[mR]:"fire-rtdb-compat",[gR]:"fire-fn",[pR]:"fire-fn-compat",[yR]:"fire-iid",[vR]:"fire-iid-compat",[_R]:"fire-fcm",[ER]:"fire-fcm-compat",[TR]:"fire-perf",[bR]:"fire-perf-compat",[SR]:"fire-rc",[wR]:"fire-rc-compat",[AR]:"fire-gcs",[xR]:"fire-gcs-compat",[RR]:"fire-fst",[CR]:"fire-fst-compat",[DR]:"fire-vertex","fire-js":"fire-js",[IR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,MR=new Map,wm=new Map;function Q_(r,e){try{r.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function iu(r){const e=r.name;if(wm.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,r);for(const n of ch.values())Q_(n,r);for(const n of MR.values())Q_(n,r);return!0}function iT(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function aT(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new eT("app","Firebase",PR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=NR;function oT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Sm,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw wa.create("bad-app-name",{appName:String(o)});if(n||(n=XE()),!n)throw wa.create("no-options");const u=ch.get(o);if(u){if(uh(n,u.options)&&uh(a,u.config))return u;throw wa.create("duplicate-app",{appName:o})}const h=new zx(o);for(const g of wm.values())h.addComponent(g);const d=new VR(n,a,h);return ch.set(o,d),d}function lT(r=Sm){const e=ch.get(r);if(!e&&r===Sm&&XE())return oT();if(!e)throw wa.create("no-app",{appName:r});return e}function Aa(r,e,n){var a;let o=(a=OR[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(d.join(" "));return}iu(new Ao(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebase-heartbeat-database",jR=1,au="firebase-heartbeat-store";let nm=null;function uT(){return nm||(nm=eR(kR,jR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(r=>{throw wa.create("idb-open",{originalErrorMessage:r.message})})),nm}async function LR(r){try{const n=(await uT()).transaction(au),a=await n.objectStore(au).get(cT(r));return await n.done,a}catch(e){if(e instanceof ws)Li.warn(e.message);else{const n=wa.create("idb-get",{originalErrorMessage:e?.message});Li.warn(n.message)}}}async function K_(r,e){try{const a=(await uT()).transaction(au,"readwrite");await a.objectStore(au).put(e,cT(r)),await a.done}catch(n){if(n instanceof ws)Li.warn(n.message);else{const a=wa.create("idb-set",{originalErrorMessage:n?.message});Li.warn(a.message)}}}function cT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1024,BR=30;class zR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=X_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>BR){const h=FR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Li.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X_(),{heartbeatsToSend:a,unsentEntries:o}=HR(this._heartbeatsCache.heartbeats),u=lh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Li.warn(n),""}}}function X_(){return new Date().toISOString().substring(0,10)}function HR(r,e=UR){const n=[];let a=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),W_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),W_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class qR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mx()?Px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return K_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return K_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function W_(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function FR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(r){iu(new Ao("platform-logger",e=>new rR(e),"PRIVATE")),iu(new Ao("heartbeat",e=>new zR(e),"PRIVATE")),Aa(bm,Y_,r),Aa(bm,Y_,"esm2017"),Aa("fire-js","")}GR("");var $R="firebase",YR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Aa($R,YR,"app");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xa,hT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function I(){}I.prototype=R.prototype,M.D=R.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(N,V,O){for(var S=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)S[oe-2]=arguments[oe];return R.prototype[V].apply(N,S)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,I){I||(I=0);var N=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)N[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;16>V;++V)N[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=M.g[0],I=M.g[1],V=M.g[2];var O=M.g[3],S=R+(O^I&(V^O))+N[0]+3614090360&4294967295;R=I+(S<<7&4294967295|S>>>25),S=O+(V^R&(I^V))+N[1]+3905402710&4294967295,O=R+(S<<12&4294967295|S>>>20),S=V+(I^O&(R^I))+N[2]+606105819&4294967295,V=O+(S<<17&4294967295|S>>>15),S=I+(R^V&(O^R))+N[3]+3250441966&4294967295,I=V+(S<<22&4294967295|S>>>10),S=R+(O^I&(V^O))+N[4]+4118548399&4294967295,R=I+(S<<7&4294967295|S>>>25),S=O+(V^R&(I^V))+N[5]+1200080426&4294967295,O=R+(S<<12&4294967295|S>>>20),S=V+(I^O&(R^I))+N[6]+2821735955&4294967295,V=O+(S<<17&4294967295|S>>>15),S=I+(R^V&(O^R))+N[7]+4249261313&4294967295,I=V+(S<<22&4294967295|S>>>10),S=R+(O^I&(V^O))+N[8]+1770035416&4294967295,R=I+(S<<7&4294967295|S>>>25),S=O+(V^R&(I^V))+N[9]+2336552879&4294967295,O=R+(S<<12&4294967295|S>>>20),S=V+(I^O&(R^I))+N[10]+4294925233&4294967295,V=O+(S<<17&4294967295|S>>>15),S=I+(R^V&(O^R))+N[11]+2304563134&4294967295,I=V+(S<<22&4294967295|S>>>10),S=R+(O^I&(V^O))+N[12]+1804603682&4294967295,R=I+(S<<7&4294967295|S>>>25),S=O+(V^R&(I^V))+N[13]+4254626195&4294967295,O=R+(S<<12&4294967295|S>>>20),S=V+(I^O&(R^I))+N[14]+2792965006&4294967295,V=O+(S<<17&4294967295|S>>>15),S=I+(R^V&(O^R))+N[15]+1236535329&4294967295,I=V+(S<<22&4294967295|S>>>10),S=R+(V^O&(I^V))+N[1]+4129170786&4294967295,R=I+(S<<5&4294967295|S>>>27),S=O+(I^V&(R^I))+N[6]+3225465664&4294967295,O=R+(S<<9&4294967295|S>>>23),S=V+(R^I&(O^R))+N[11]+643717713&4294967295,V=O+(S<<14&4294967295|S>>>18),S=I+(O^R&(V^O))+N[0]+3921069994&4294967295,I=V+(S<<20&4294967295|S>>>12),S=R+(V^O&(I^V))+N[5]+3593408605&4294967295,R=I+(S<<5&4294967295|S>>>27),S=O+(I^V&(R^I))+N[10]+38016083&4294967295,O=R+(S<<9&4294967295|S>>>23),S=V+(R^I&(O^R))+N[15]+3634488961&4294967295,V=O+(S<<14&4294967295|S>>>18),S=I+(O^R&(V^O))+N[4]+3889429448&4294967295,I=V+(S<<20&4294967295|S>>>12),S=R+(V^O&(I^V))+N[9]+568446438&4294967295,R=I+(S<<5&4294967295|S>>>27),S=O+(I^V&(R^I))+N[14]+3275163606&4294967295,O=R+(S<<9&4294967295|S>>>23),S=V+(R^I&(O^R))+N[3]+4107603335&4294967295,V=O+(S<<14&4294967295|S>>>18),S=I+(O^R&(V^O))+N[8]+1163531501&4294967295,I=V+(S<<20&4294967295|S>>>12),S=R+(V^O&(I^V))+N[13]+2850285829&4294967295,R=I+(S<<5&4294967295|S>>>27),S=O+(I^V&(R^I))+N[2]+4243563512&4294967295,O=R+(S<<9&4294967295|S>>>23),S=V+(R^I&(O^R))+N[7]+1735328473&4294967295,V=O+(S<<14&4294967295|S>>>18),S=I+(O^R&(V^O))+N[12]+2368359562&4294967295,I=V+(S<<20&4294967295|S>>>12),S=R+(I^V^O)+N[5]+4294588738&4294967295,R=I+(S<<4&4294967295|S>>>28),S=O+(R^I^V)+N[8]+2272392833&4294967295,O=R+(S<<11&4294967295|S>>>21),S=V+(O^R^I)+N[11]+1839030562&4294967295,V=O+(S<<16&4294967295|S>>>16),S=I+(V^O^R)+N[14]+4259657740&4294967295,I=V+(S<<23&4294967295|S>>>9),S=R+(I^V^O)+N[1]+2763975236&4294967295,R=I+(S<<4&4294967295|S>>>28),S=O+(R^I^V)+N[4]+1272893353&4294967295,O=R+(S<<11&4294967295|S>>>21),S=V+(O^R^I)+N[7]+4139469664&4294967295,V=O+(S<<16&4294967295|S>>>16),S=I+(V^O^R)+N[10]+3200236656&4294967295,I=V+(S<<23&4294967295|S>>>9),S=R+(I^V^O)+N[13]+681279174&4294967295,R=I+(S<<4&4294967295|S>>>28),S=O+(R^I^V)+N[0]+3936430074&4294967295,O=R+(S<<11&4294967295|S>>>21),S=V+(O^R^I)+N[3]+3572445317&4294967295,V=O+(S<<16&4294967295|S>>>16),S=I+(V^O^R)+N[6]+76029189&4294967295,I=V+(S<<23&4294967295|S>>>9),S=R+(I^V^O)+N[9]+3654602809&4294967295,R=I+(S<<4&4294967295|S>>>28),S=O+(R^I^V)+N[12]+3873151461&4294967295,O=R+(S<<11&4294967295|S>>>21),S=V+(O^R^I)+N[15]+530742520&4294967295,V=O+(S<<16&4294967295|S>>>16),S=I+(V^O^R)+N[2]+3299628645&4294967295,I=V+(S<<23&4294967295|S>>>9),S=R+(V^(I|~O))+N[0]+4096336452&4294967295,R=I+(S<<6&4294967295|S>>>26),S=O+(I^(R|~V))+N[7]+1126891415&4294967295,O=R+(S<<10&4294967295|S>>>22),S=V+(R^(O|~I))+N[14]+2878612391&4294967295,V=O+(S<<15&4294967295|S>>>17),S=I+(O^(V|~R))+N[5]+4237533241&4294967295,I=V+(S<<21&4294967295|S>>>11),S=R+(V^(I|~O))+N[12]+1700485571&4294967295,R=I+(S<<6&4294967295|S>>>26),S=O+(I^(R|~V))+N[3]+2399980690&4294967295,O=R+(S<<10&4294967295|S>>>22),S=V+(R^(O|~I))+N[10]+4293915773&4294967295,V=O+(S<<15&4294967295|S>>>17),S=I+(O^(V|~R))+N[1]+2240044497&4294967295,I=V+(S<<21&4294967295|S>>>11),S=R+(V^(I|~O))+N[8]+1873313359&4294967295,R=I+(S<<6&4294967295|S>>>26),S=O+(I^(R|~V))+N[15]+4264355552&4294967295,O=R+(S<<10&4294967295|S>>>22),S=V+(R^(O|~I))+N[6]+2734768916&4294967295,V=O+(S<<15&4294967295|S>>>17),S=I+(O^(V|~R))+N[13]+1309151649&4294967295,I=V+(S<<21&4294967295|S>>>11),S=R+(V^(I|~O))+N[4]+4149444226&4294967295,R=I+(S<<6&4294967295|S>>>26),S=O+(I^(R|~V))+N[11]+3174756917&4294967295,O=R+(S<<10&4294967295|S>>>22),S=V+(R^(O|~I))+N[2]+718787259&4294967295,V=O+(S<<15&4294967295|S>>>17),S=I+(O^(V|~R))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+O&4294967295}a.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var I=R-this.blockSize,N=this.B,V=this.h,O=0;O<R;){if(V==0)for(;O<=I;)o(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<R;)if(N[V++]=M.charCodeAt(O++),V==this.blockSize){o(this,N),V=0;break}}else for(;O<R;)if(N[V++]=M[O++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=R},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var I=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=I&255,I/=256;for(this.u(M),M=Array(16),R=I=0;4>R;++R)for(var N=0;32>N;N+=8)M[I++]=this.g[R]>>>N&255;return M};function u(M,R){var I=d;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=R(M)}function h(M,R){this.h=R;for(var I=[],N=!0,V=M.length-1;0<=V;V--){var O=M[V]|0;N&&O==R||(I[V]=O,N=!1)}this.g=I}var d={};function g(M){return-128<=M&&128>M?u(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return z(p(-M));for(var R=[],I=1,N=0;M>=I;N++)R[N]=M/I|0,I*=4294967296;return new h(R,0)}function v(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return z(v(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(R,8)),N=w,V=0;V<M.length;V+=8){var O=Math.min(8,M.length-V),S=parseInt(M.substring(V,V+O),R);8>O?(O=p(Math.pow(R,O)),N=N.j(O).add(p(S))):(N=N.j(I),N=N.add(p(S)))}return N}var w=g(0),b=g(1),D=g(16777216);r=h.prototype,r.m=function(){if(B(this))return-z(this).m();for(var M=0,R=1,I=0;I<this.g.length;I++){var N=this.i(I);M+=(0<=N?N:4294967296+N)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(B(this))return"-"+z(this).toString(M);for(var R=p(Math.pow(M,6)),I=this,N="";;){var V=le(I,R).g;I=U(I,V.j(R));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=V,C(I))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function B(M){return M.h==-1}r.l=function(M){return M=U(this,M),B(M)?-1:C(M)?0:1};function z(M){for(var R=M.g.length,I=[],N=0;N<R;N++)I[N]=~M.g[N];return new h(I,~M.h).add(b)}r.abs=function(){return B(this)?z(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],N=0,V=0;V<=R;V++){var O=N+(this.i(V)&65535)+(M.i(V)&65535),S=(O>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);N=S>>>16,O&=65535,S&=65535,I[V]=S<<16|O}return new h(I,I[I.length-1]&-2147483648?-1:0)};function U(M,R){return M.add(z(R))}r.j=function(M){if(C(this)||C(M))return w;if(B(this))return B(M)?z(this).j(z(M)):z(z(this).j(M));if(B(M))return z(this.j(z(M)));if(0>this.l(D)&&0>M.l(D))return p(this.m()*M.m());for(var R=this.g.length+M.g.length,I=[],N=0;N<2*R;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<M.g.length;V++){var O=this.i(N)>>>16,S=this.i(N)&65535,oe=M.i(V)>>>16,Ee=M.i(V)&65535;I[2*N+2*V]+=S*Ee,X(I,2*N+2*V),I[2*N+2*V+1]+=O*Ee,X(I,2*N+2*V+1),I[2*N+2*V+1]+=S*oe,X(I,2*N+2*V+1),I[2*N+2*V+2]+=O*oe,X(I,2*N+2*V+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new h(I,0)};function X(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function $(M,R){this.g=M,this.h=R}function le(M,R){if(C(R))throw Error("division by zero");if(C(M))return new $(w,w);if(B(M))return R=le(z(M),R),new $(z(R.g),z(R.h));if(B(R))return R=le(M,z(R)),new $(z(R.g),R.h);if(30<M.g.length){if(B(M)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,N=R;0>=N.l(M);)I=he(I),N=he(N);var V=P(I,1),O=P(N,1);for(N=P(N,2),I=P(I,2);!C(N);){var S=O.add(N);0>=S.l(M)&&(V=V.add(I),O=S),N=P(N,1),I=P(I,1)}return R=U(M,V.j(R)),new $(V,R)}for(V=w;0<=M.l(R);){for(I=Math.max(1,Math.floor(M.m()/R.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=p(I),S=O.j(R);B(S)||0<S.l(M);)I-=N,O=p(I),S=O.j(R);C(O)&&(O=b),V=V.add(O),M=U(M,S)}return new $(V,M)}r.A=function(M){return le(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)&M.i(N);return new h(I,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)|M.i(N);return new h(I,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)^M.i(N);return new h(I,this.h^M.h)};function he(M){for(var R=M.g.length+1,I=[],N=0;N<R;N++)I[N]=M.i(N)<<1|M.i(N-1)>>>31;return new h(I,M.h)}function P(M,R){var I=R>>5;R%=32;for(var N=M.g.length-I,V=[],O=0;O<N;O++)V[O]=0<R?M.i(O+I)>>>R|M.i(O+I+1)<<32-R:M.i(O+I);return new h(V,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,hT=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=v,xa=h}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fT,Gl,dT,Wc,Am,mT,gT,pT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var x=0;x<c.length-1;x++){var K=c[x];if(!(K in _))break e;_=_[K]}c=c[c.length-1],x=_[c],y=y(x),y!=x&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,x=!1,K={next:function(){if(!x&&_<c.length){var ie=_++;return{value:y(ie,c[ie]),done:!1}}return x=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,x),c.apply(y,K)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,b.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function C(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(x,K,ie){for(var ve=Array(arguments.length-2),at=2;at<arguments.length;at++)ve[at-2]=arguments[at];return y.prototype[K].apply(x,ve)}}function B(c){const y=c.length;if(0<y){const _=Array(y);for(let x=0;x<y;x++)_[x]=c[x];return _}return[]}function z(c,y){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(g(x)){const K=c.length||0,ie=x.length||0;c.length=K+ie;for(let ve=0;ve<ie;ve++)c[K+ve]=x[ve]}else c.push(x)}}class U{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function le(c){return le[" "](c),c}le[" "]=function(){};var he=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function P(c,y,_){for(const x in c)y.call(_,c[x],x,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,x;for(let K=1;K<arguments.length;K++){x=arguments[K];for(_ in x)c[_]=x[_];for(let ie=0;ie<I.length;ie++)_=I[ie],Object.prototype.hasOwnProperty.call(x,_)&&(c[_]=x[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function O(c){d.setTimeout(()=>{throw c},0)}function S(){var c=_e;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class oe{constructor(){this.h=this.g=null}add(y,_){const x=Ee.get();x.set(y,_),this.h?this.h.next=x:this.g=x,this.h=x}}var Ee=new U(()=>new j,c=>c.reset());class j{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,re=!1,_e=new oe,k=()=>{const c=d.Promise.resolve(void 0);ee=()=>{c.then(Y)}};var Y=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(_){O(_)}var y=Ee;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}re=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function be(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{le(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}C(be,ae);var Te={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Et(c,y,_,x,K){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!x,this.ha=K,this.key=++Ve,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function an(c){this.src=c,this.g={},this.h=0}an.prototype.add=function(c,y,_,x,K){var ie=c.toString();c=this.g[ie],c||(c=this.g[ie]=[],this.h++);var ve=ir(c,y,x,K);return-1<ve?(y=c[ve],_||(y.fa=!1)):(y=new Et(y,this.src,ie,!!x,K),y.fa=_,c.push(y)),y};function kn(c,y){var _=y.type;if(_ in c.g){var x=c.g[_],K=Array.prototype.indexOf.call(x,y,void 0),ie;(ie=0<=K)&&Array.prototype.splice.call(x,K,1),ie&&(mt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ir(c,y,_,x){for(var K=0;K<c.length;++K){var ie=c[K];if(!ie.da&&ie.listener==y&&ie.capture==!!_&&ie.ha==x)return K}return-1}var Dn="closure_lm_"+(1e6*Math.random()|0),La={};function Cs(c,y,_,x,K){if(Array.isArray(y)){for(var ie=0;ie<y.length;ie++)Cs(c,y[ie],_,x,K);return null}return _=Gi(_),c&&c[rt]?c.K(y,_,p(x)?!!x.capture:!1,K):Cn(c,y,_,!1,x,K)}function Cn(c,y,_,x,K,ie){if(!y)throw Error("Invalid event type");var ve=p(K)?!!K.capture:!!K,at=ar(c);if(at||(c[Dn]=at=new an(c)),_=at.add(y,_,x,ve,ie),_.proxy)return _;if(x=jo(),_.proxy=x,x.src=c,x.listener=_,c.addEventListener)ue||(K=ve),K===void 0&&(K=!1),c.addEventListener(y.toString(),x,K);else if(c.attachEvent)c.attachEvent(di(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jo(){function c(_){return y.call(c.src,c.listener,_)}const y=Dr;return c}function Ua(c,y,_,x,K){if(Array.isArray(y))for(var ie=0;ie<y.length;ie++)Ua(c,y[ie],_,x,K);else x=p(x)?!!x.capture:!!x,_=Gi(_),c&&c[rt]?(c=c.i,y=String(y).toString(),y in c.g&&(ie=c.g[y],_=ir(ie,_,x,K),-1<_&&(mt(ie[_]),Array.prototype.splice.call(ie,_,1),ie.length==0&&(delete c.g[y],c.h--)))):c&&(c=ar(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ir(y,_,x,K)),(_=-1<c?y[c]:null)&&qi(_))}function qi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[rt])kn(y.i,c);else{var _=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(_,x,c.capture):y.detachEvent?y.detachEvent(di(_),x):y.addListener&&y.removeListener&&y.removeListener(x),(_=ar(y))?(kn(_,c),_.h==0&&(_.src=null,y[Dn]=null)):mt(c)}}}function di(c){return c in La?La[c]:La[c]="on"+c}function Dr(c,y){if(c.da)c=!0;else{y=new be(y,this);var _=c.listener,x=c.ha||c.src;c.fa&&qi(c),c=_.call(x,y)}return c}function ar(c){return c=c[Dn],c instanceof an?c:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(c){return typeof c=="function"?c:(c[Fi]||(c[Fi]=function(y){return c.handleEvent(y)}),c[Fi])}function ft(){pe.call(this),this.i=new an(this),this.M=this,this.F=null}C(ft,pe),ft.prototype[rt]=!0,ft.prototype.removeEventListener=function(c,y,_,x){Ua(this,c,y,_,x)};function $e(c,y){var _,x=c.F;if(x)for(_=[];x;x=x.F)_.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var K=y;y=new ae(x,c),N(y,K)}if(K=!0,_)for(var ie=_.length-1;0<=ie;ie--){var ve=y.g=_[ie];K=Tn(ve,x,!0,y)&&K}if(ve=y.g=c,K=Tn(ve,x,!0,y)&&K,K=Tn(ve,x,!1,y)&&K,_)for(ie=0;ie<_.length;ie++)ve=y.g=_[ie],K=Tn(ve,x,!1,y)&&K}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],x=0;x<_.length;x++)mt(_[x]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,_,x){return this.i.add(String(c),y,!1,_,x)},ft.prototype.L=function(c,y,_,x){return this.i.add(String(c),y,!0,_,x)};function Tn(c,y,_,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,ie=0;ie<y.length;++ie){var ve=y[ie];if(ve&&!ve.da&&ve.capture==_){var at=ve.listener,Jt=ve.ha||ve.src;ve.fa&&kn(c.i,ve),K=at.call(Jt,x)!==!1&&K}}return K&&!x.defaultPrevented}function qt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Is(c){c.g=qt(()=>{c.g=null,c.i&&(c.i=!1,Is(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sr extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(c){pe.call(this),this.h=c,this.g={}}C(jr,pe);var Lr=[];function Ur(c){P(c.g,function(y,_){this.g.hasOwnProperty(_)&&qi(y)},c),c.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Ur(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=d.JSON.stringify,mi=d.JSON.parse,or=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function $i(){}$i.prototype.h=null;function gi(c){return c.h||(c.h=c.i())}function Ba(){}var lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){ae.call(this,"d")}C(Cr,ae);function Yi(){ae.call(this,"c")}C(Yi,ae);var In={},Br=null;function zr(){return Br=Br||new ft}In.La="serverreachability";function Qi(c){ae.call(this,In.La,c)}C(Qi,ae);function H(c){const y=zr();$e(y,new Qi(y))}In.STAT_EVENT="statevent";function Q(c,y){ae.call(this,In.STAT_EVENT,c),this.stat=y}C(Q,ae);function Z(c){const y=zr();$e(y,new Q(y,c))}In.Ma="timingevent";function me(c,y){ae.call(this,In.Ma,c),this.size=y}C(me,ae);function ye(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function Oe(c,y,_,x,K,ie){c.info(function(){if(c.g)if(ie)for(var ve="",at=ie.split("&"),Jt=0;Jt<at.length;Jt++){var st=at[Jt].split("=");if(1<st.length){var on=st[0];st=st[1];var en=on.split("_");ve=2<=en.length&&en[1]=="type"?ve+(on+"="+st+"&"):ve+(on+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+x+") [attempt "+K+"]: "+y+`
`+_+`
`+ve})}function xe(c,y,_,x,K,ie,ve){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+K+"]: "+y+`
`+_+`
`+ie+" "+ve})}function Ce(c,y,_,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ke(c,_)+(x?" "+x:"")})}function De(c,y){c.info(function(){return"TIMEOUT: "+y})}Ae.prototype.info=function(){};function ke(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var x=_[c];if(!(2>x.length)){var K=x[1];if(Array.isArray(K)&&!(1>K.length)){var ie=K[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<K.length;ve++)K[ve]=""}}}}return Fn(_)}catch{return y}}var Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ze;function gt(){}C(gt,$i),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},Ze=new gt;function ct(c,y,_,x){this.j=c,this.i=y,this.l=_,this.R=x||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new it}function it(){this.i=null,this.g="",this.h=!1}var Ke={},ur={};function Zt(c,y,_){c.L=1,c.v=qa(Yn(y)),c.m=_,c.P=!0,Nn(c,null)}function Nn(c,y){c.F=Date.now(),Gn(c),c.A=Yn(c.v);var _=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),Ho(_.i,"t",x),c.C=0,_=c.j.J,c.h=new it,c.g=Pu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new sr(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,x=c.ca;var K="readystatechange";Array.isArray(K)||(K&&(Lr[0]=K.toString()),K=Lr);for(var ie=0;ie<K.length;ie++){var ve=Cs(_,K[ie],x||y.handleEvent,!1,y.h||y);if(!ve)break;y.g[ve.key]=ve}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),H(),Oe(c.i,c.u,c.A,c.l,c.R,c.m)}ct.prototype.ca=function(c){c=c.target;const y=this.M;y&&mr(c)==3?y.j():this.Y(c)},ct.prototype.Y=function(c){try{if(c==this.g)e:{const en=mr(this.g);var y=this.g.Ba();const Si=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||en!=4||y==7||(y==8||0>=Si?H(3):H(2)),bn(this);var _=this.g.Z();this.X=_;t:if(fn(this)){var x=xu(this.g);c="";var K=x.length,ie=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),On(this);var ve="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,c+=this.h.i.decode(x[y],{stream:!(ie&&y==K-1)});x.length=0,this.h.g+=c,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=_==200,xe(this.i,this.u,this.A,this.l,this.R,en,_),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Jt=this.g;if((at=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(at)){var st=at;break t}}st=null}if(_=st)Ce(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ft(this,_);else{this.o=!1,this.s=3,Z(12),ze(this),On(this);break e}}if(this.P){_=!0;let mn;for(;!this.J&&this.C<ve.length;)if(mn=Hr(this,ve),mn==ur){en==4&&(this.s=4,Z(14),_=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Ke){this.s=4,Z(15),Ce(this.i,this.l,ve,"[Invalid Chunk]"),_=!1;break}else Ce(this.i,this.l,mn,null),Ft(this,mn);if(fn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ve.length!=0||this.h.h||(this.s=1,Z(16),_=!1),this.o=this.o&&_,!_)Ce(this.i,this.l,ve,"[Invalid Chunked Response]"),ze(this),On(this);else if(0<ve.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Wa(on),on.M=!0,Z(11))}}else Ce(this.i,this.l,ve,null),Ft(this,ve);en==4&&ze(this),this.o&&!this.J&&(en==4?Nu(this.j,this):(this.o=!1,Gn(this)))}else Kh(this.g),_==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),ze(this),On(this)}}}catch{}finally{}};function fn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hr(c,y){var _=c.C,x=y.indexOf(`
`,_);return x==-1?ur:(_=Number(y.substring(_,x)),isNaN(_)?Ke:(x+=1,x+_>y.length?ur:(y=y.slice(x,x+_),c.C=x+_,y)))}ct.prototype.cancel=function(){this.J=!0,ze(this)};function Gn(c){c.S=Date.now()+c.I,Ki(c,c.I)}function Ki(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ye(b(c.ba,c),y)}function bn(c){c.B&&(d.clearTimeout(c.B),c.B=null)}ct.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(De(this.i,this.A),this.L!=2&&(H(),Z(17)),ze(this),this.s=2,On(this)):Ki(this,this.S-c)};function On(c){c.j.G==0||c.J||Nu(c.j,c)}function ze(c){bn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ur(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ft(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||cr(_.h,c))){if(!c.K&&cr(_.h,c)&&_.G==3){try{var x=_.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var K=x;if(K[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Us(_),js(_);else break e;Yo(_),Z(18)}}else _.za=K[1],0<_.za-_.T&&37500>K[2]&&_.F&&_.v==0&&!_.C&&(_.C=ye(b(_.Za,_),6e3));if(1>=At(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((c.K||_.g==c)&&Us(_),!X(y))for(K=_.Da.g.parse(y),y=0;y<K.length;y++){let st=K[y];if(_.T=st[0],st=st[1],_.G==2)if(st[0]=="c"){_.K=st[1],_.ia=st[2];const on=st[3];on!=null&&(_.la=on,_.j.info("VER="+_.la));const en=st[4];en!=null&&(_.Aa=en,_.j.info("SVER="+_.Aa));const Si=st[5];Si!=null&&typeof Si=="number"&&0<Si&&(x=1.5*Si,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const mn=c.g;if(mn){const Xr=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var ie=x.h;ie.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(pi(ie,ie.h),ie.h=null))}if(x.D){const Ko=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(x.ya=Ko,Tt(x.I,x.D,Ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var ve=c;if(x.qa=Mu(x,x.J?x.ia:null,x.W),ve.K){dn(x.h,ve);var at=ve,Jt=x.L;Jt&&(at.I=Jt),at.B&&(bn(at),Gn(at)),x.g=ve}else Cu(x);0<_.i.length&&Ls(_)}else st[0]!="stop"&&st[0]!="close"||bi(_,7);else _.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?bi(_,7):Go(_):st[0]!="noop"&&_.l&&_.l.ta(st),_.v=0)}}H(4)}catch{}}var $n=class{constructor(c,y){this.g=c,this.map=y}};function jn(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function At(c){return c.h?1:c.g?c.g.size:0}function cr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function pi(c,y){c.g?c.g.add(y):c.h=y}function dn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jn.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return B(c.i)}function Gh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,x=0;x<_;x++)y.push(c[x]);return y}y=[],_=0;for(x in c)y[_++]=c[x];return y}function Ns(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const x in c)y[_++]=x;return y}}}function Uo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ns(c),x=Gh(c),K=x.length,ie=0;ie<K;ie++)y.call(void 0,x[ie],_&&_[ie],c)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $h(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var x=c[_].indexOf("="),K=null;if(0<=x){var ie=c[_].substring(0,x);K=c[_].substring(x+1)}else ie=c[_];y(ie,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gt){this.h=c.h,Ha(this,c.j),this.o=c.o,this.g=c.g,Xi(this,c.s),this.l=c.l;var y=c.i,_=new vi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),yi(this,_),this.m=c.m}else c&&(y=String(c).match(za))?(this.h=!1,Ha(this,y[1]||"",!0),this.o=hr(y[2]||""),this.g=hr(y[3]||"",!0),Xi(this,y[4]),this.l=hr(y[5]||"",!0),yi(this,y[6]||"",!0),this.m=hr(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Gt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Fa(y,Bo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Fa(y,Bo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Fa(_,_.charAt(0)=="/"?Yh:zo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Fa(_,Os)),c.join("")};function Yn(c){return new Gt(c)}function Ha(c,y,_){c.j=_?hr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Xi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function yi(c,y,_){y instanceof vi?(c.i=y,wu(c.i,c.h)):(_||(y=Fa(y,Qh)),c.i=new vi(y,c.h))}function Tt(c,y,_){c.i.set(y,_)}function qa(c){return Tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function hr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fa(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Su),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Bo=/[#\/\?@]/g,zo=/[#\?:]/g,Yh=/[#\?]/g,Qh=/[#\?@]/g,Os=/#/g;function vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function fr(c){c.g||(c.g=new Map,c.h=0,c.i&&$h(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=vi.prototype,r.add=function(c,y){fr(this),this.i=null,c=Fr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function _i(c,y){fr(c),y=Fr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ei(c,y){return fr(c),y=Fr(c,y),c.g.has(y)}r.forEach=function(c,y){fr(this),this.g.forEach(function(_,x){_.forEach(function(K){c.call(y,K,x,this)},this)},this)},r.na=function(){fr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let x=0;x<y.length;x++){const K=c[x];for(let ie=0;ie<K.length;ie++)_.push(y[x])}return _},r.V=function(c){fr(this);let y=[];if(typeof c=="string")Ei(this,c)&&(y=y.concat(this.g.get(Fr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return fr(this),this.i=null,c=Fr(this,c),Ei(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ho(c,y,_){_i(c,y),0<_.length&&(c.i=null,c.g.set(Fr(c,y),B(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var x=y[_];const ie=encodeURIComponent(String(x)),ve=this.V(x);for(x=0;x<ve.length;x++){var K=ie;ve[x]!==""&&(K+="="+encodeURIComponent(String(ve[x]))),c.push(K)}}return this.i=c.join("&")};function Fr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function wu(c,y){y&&!c.j&&(fr(c),c.i=null,c.g.forEach(function(_,x){var K=x.toLowerCase();x!=K&&(_i(this,x),Ho(this,K,_))},c)),c.j=y}function Ga(c,y){const _=new Ae;if(d.Image){const x=new Image;x.onload=D(dr,_,"TestLoadImage: loaded",!0,y,x),x.onerror=D(dr,_,"TestLoadImage: error",!1,y,x),x.onabort=D(dr,_,"TestLoadImage: abort",!1,y,x),x.ontimeout=D(dr,_,"TestLoadImage: timeout",!1,y,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function Ir(c,y){const _=new Ae,x=new AbortController,K=setTimeout(()=>{x.abort(),dr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(ie=>{clearTimeout(K),ie.ok?dr(_,"TestPingServer: ok",!0,y):dr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),dr(_,"TestPingServer: error",!1,y)})}function dr(c,y,_,x,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),x(_)}catch{}}function $a(){this.g=new or}function Gr(c,y,_){const x=_||"";try{Uo(c,function(K,ie){let ve=K;p(K)&&(ve=Fn(K)),y.push(x+ie+"="+encodeURIComponent(ve))})}catch(K){throw y.push(x+"type="+encodeURIComponent("_badmap")),K}}function Wi(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Wi,$i),Wi.prototype.g=function(){return new Ti(this.l,this.j)},Wi.prototype.i=function(c){return function(){return c}}({});function Ti(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ti,ft),r=Ti.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Yr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?$r(this):Yr(this),this.readyState==3&&qo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$r(this))},r.Qa=function(c){this.g&&(this.response=c,$r(this))},r.ga=function(){this.g&&$r(this)};function $r(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fo(c){let y="";return P(c,function(_,x){y+=x,y+=":",y+=_,y+=`\r
`}),y}function sn(c,y,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=Fo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Tt(c,y,_))}function pt(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(pt,ft);var Ms=/^https?$/i,Ya=["POST","PUT"];r=pt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ze.g(),this.v=this.o?gi(this.o):gi(Ze),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(ie){Au(this,ie);return}if(c=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var K in x)_.set(K,x[K]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ie of x.keys())_.set(ie,x.get(ie));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(ie=>ie.toLowerCase()=="content-type"),K=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ya,y,void 0))||x||K||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of _)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qa(this),this.u=!0,this.g.send(c),this.u=!1}catch(ie){Au(this,ie)}};function Au(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ps(c),Qr(c)}function Ps(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),Qr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),pt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Vs(this):this.bb())},r.bb=function(){Vs(this)};function Vs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||mr(c)!=4||c.Z()!=2)){if(c.u&&mr(c)==4)qt(c.Ea,0,c);else if($e(c,"readystatechange"),mr(c)==4){c.h=!1;try{const ve=c.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var x;if(x=ve===0){var K=String(c.D).match(za)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),x=!Ms.test(K?K.toLowerCase():"")}_=x}if(_)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var ie=2<mr(c)?c.g.statusText:""}catch{ie=""}c.l=ie+" ["+c.Z()+"]",Ps(c)}}finally{Qr(c)}}}}function Qr(c,y){if(c.g){Qa(c);const _=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||$e(c,"ready");try{_.onreadystatechange=x}catch{}}}function Qa(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function mr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mi(y)}};function xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Kh(c){const y={};c=(c.g&&2<=mr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(X(c[x]))continue;var _=V(c[x]);const K=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ie=y[K]||[];y[K]=ie,ie.push(_)}M(y,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ks(c){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,c),this.cb=Ka("retryDelaySeedMs",1e4,c),this.Wa=Ka("forwardChannelMaxRetries",2,c),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jn(c&&c.concurrentRequestLimit),this.Da=new $a,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ks.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,x){Z(0),this.W=c,this.H=y||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=Mu(this,null,this.W),Ls(this)};function Go(c){if(Ru(c),c.G==3){var y=c.U++,_=Yn(c.I);if(Tt(_,"SID",c.K),Tt(_,"RID",y),Tt(_,"TYPE","terminate"),Xa(c,_),y=new ct(c,c.j,y),y.L=2,y.v=qa(Yn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Pu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Gn(y)}Ou(c)}function js(c){c.g&&(Wa(c),c.g.cancel(),c.g=null)}function Ru(c){js(c),c.u&&(d.clearTimeout(c.u),c.u=null),Us(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ls(c){if(!qr(c.h)&&!c.s){c.s=!0;var y=c.Ga;ee||k(),re||(ee(),re=!0),_e.add(y,c),c.B=0}}function Xh(c,y){return At(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ye(b(c.Ga,c,y),Qo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const K=new ct(this,this.j,c);let ie=this.o;if(this.S&&(ie?(ie=R(ie),N(ie,this.S)):ie=this.S),this.m!==null||this.O||(K.H=ie,ie=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Du(this,K,y),_=Yn(this.I),Tt(_,"RID",c),Tt(_,"CVER",22),this.D&&Tt(_,"X-HTTP-Session-Id",this.D),Xa(this,_),ie&&(this.O?y="headers="+encodeURIComponent(String(Fo(ie)))+"&"+y:this.m&&sn(_,this.m,ie)),pi(this.h,K),this.Ua&&Tt(_,"TYPE","init"),this.P?(Tt(_,"$req",y),Tt(_,"SID","null"),K.T=!0,Zt(K,_,null)):Zt(K,_,y),this.G=2}}else this.G==3&&(c?$o(this,c):this.i.length==0||qr(this.h)||$o(this))};function $o(c,y){var _;y?_=y.l:_=c.U++;const x=Yn(c.I);Tt(x,"SID",c.K),Tt(x,"RID",_),Tt(x,"AID",c.T),Xa(c,x),c.m&&c.o&&sn(x,c.m,c.o),_=new ct(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Du(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),pi(c.h,_),Zt(_,x,y)}function Xa(c,y){c.H&&P(c.H,function(_,x){Tt(y,x,_)}),c.l&&Uo({},function(_,x){Tt(y,x,_)})}function Du(c,y,_){_=Math.min(c.i.length,_);var x=c.l?b(c.l.Na,c.l,c):null;e:{var K=c.i;let ie=-1;for(;;){const ve=["count="+_];ie==-1?0<_?(ie=K[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let at=!0;for(let Jt=0;Jt<_;Jt++){let st=K[Jt].g;const on=K[Jt].map;if(st-=ie,0>st)ie=Math.max(0,K[Jt].g-100),at=!1;else try{Gr(on,ve,"req"+st+"_")}catch{x&&x(on)}}if(at){x=ve.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,x}function Cu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ee||k(),re||(ee(),re=!0),_e.add(y,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ye(b(c.Fa,c),Qo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ye(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),js(this),Iu(this))};function Wa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new ct(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Yn(c.qa);Tt(y,"RID","rpc"),Tt(y,"SID",c.K),Tt(y,"AID",c.T),Tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Tt(y,"TO",c.ja),Tt(y,"TYPE","xmlhttp"),Xa(c,y),c.m&&c.o&&sn(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=qa(Yn(y)),_.m=null,_.P=!0,Nn(_,c)}r.Za=function(){this.C!=null&&(this.C=null,js(this),Yo(this),Z(19))};function Us(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Nu(c,y){var _=null;if(c.g==y){Us(c),Wa(c),c.g=null;var x=2}else if(cr(c.h,y))_=y.D,dn(c.h,y),x=1;else return;if(c.G!=0){if(y.o)if(x==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var K=c.B;x=zr(),$e(x,new me(x,_)),Ls(c)}else Cu(c);else if(K=y.s,K==3||K==0&&0<y.X||!(x==1&&Xh(c,y)||x==2&&Yo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),K){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Qo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function bi(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),x=c.Xa;const K=!x;x=new Gt(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ha(x,"https"),qa(x),K?Ga(x.toString(),_):Ir(x.toString(),_)}else Z(2);c.G=0,c.l&&c.l.sa(y),Ou(c),Ru(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function Ou(c){if(c.G=0,c.ka=[],c.l){const y=Lo(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function Mu(c,y,_){var x=_ instanceof Gt?Yn(_):new Gt(_);if(x.g!="")y&&(x.g=y+"."+x.g),Xi(x,x.s);else{var K=d.location;x=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var ie=new Gt(null);x&&Ha(ie,x),y&&(ie.g=y),K&&Xi(ie,K),_&&(ie.l=_),x=ie}return _=c.D,y=c.ya,_&&y&&Tt(x,_,y),Tt(x,"VER",c.la),Xa(c,x),x}function Pu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new pt(new Wi({eb:_})):new pt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Bs(){}Bs.prototype.g=function(c,y){return new Mn(c,y)};function Mn(c,y){ft.call(this),this.g=new ks(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Kr(this)}C(Mn,ft),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Go(this.g)},Mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Fn(c),c=_);y.i.push(new $n(y.Ya++,c)),y.G==3&&Ls(y)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,Mn.aa.N.call(this)};function ku(c){Cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}C(ku,Cr);function ju(){Yi.call(this),this.status=1}C(ju,Yi);function Kr(c){this.g=c}C(Kr,Vu),Kr.prototype.ua=function(){$e(this.g,"a")},Kr.prototype.ta=function(c){$e(this.g,new ku(c))},Kr.prototype.sa=function(c){$e(this.g,new ju)},Kr.prototype.ra=function(){$e(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,pT=function(){return new Bs},gT=function(){return zr()},mT=In,Am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,Wc=Me,Ue.COMPLETE="complete",dT=Ue,Ba.EventType=lr,lr.OPEN="a",lr.CLOSE="b",lr.ERROR="c",lr.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Gl=Ba,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,fT=pt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const J_="@firebase/firestore",e0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new tT("@firebase/firestore");function vo(){return _s.logLevel}function we(r,...e){if(_s.logLevel<=ut.DEBUG){const n=e.map(lg);_s.debug(`Firestore (${No}): ${r}`,...n)}}function Ui(r,...e){if(_s.logLevel<=ut.ERROR){const n=e.map(lg);_s.error(`Firestore (${No}): ${r}`,...n)}}function Ca(r,...e){if(_s.logLevel<=ut.WARN){const n=e.map(lg);_s.warn(`Firestore (${No}): ${r}`,...n)}}function lg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,yT(r,a,n)}function yT(r,e,n){let a=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ui(a),new Error(a)}function yt(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||yT(e,o,a)}function qe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class KR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XR{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ji,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ji)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(yt(typeof a.accessToken=="string",31837,{l:a}),new vT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class WR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new WR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,aT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yt(this.o===void 0,3512);const a=u=>{u.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,we("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new t0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new t0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=eD(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Qe(r,e){return r<e?-1:r>e?1:0}function xm(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Qe(a,o);{const u=_T(),h=tD(u.encode(n0(r,n)),u.encode(n0(e,n)));return h!==0?h:Qe(a,o)}}n+=a>65535?2:1}return Qe(r.length,e.length)}function n0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function tD(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Qe(r[n],e[n]);return Qe(r.length,e.length)}function xo(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__name__";class ni{constructor(e,n,a){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Le(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Qe(e.length,n.length)}static compareSegments(e,n){const a=ni.isNumericId(e),o=ni.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ni.extractNumericId(e).compare(ni.extractNumericId(n)):xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}}class Dt extends ni{construct(e,n,a){return new Dt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Se(fe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const nD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends ni{construct(e,n,a){return new _n(e,n,a)}static isValidIdentifier(e){return nD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new _n([r0])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Se(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Se(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Se(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new Se(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Dt.fromString(e))}static fromName(e){return new Ne(Dt.fromString(e).popFirst(5))}static empty(){return new Ne(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(r,e,n){if(!n)throw new Se(fe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function rD(r,e,n,a){if(e===!0&&a===!0)throw new Se(fe.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function i0(r){if(!Ne.isDocumentKey(r))throw new Se(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function a0(r){if(Ne.isDocumentKey(r))throw new Se(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function TT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Le(12329,{type:typeof r})}function Ia(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Se(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ah(r);throw new Se(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function pu(r,e){if(!TT(r))throw new Se(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const h=r[a];if(o&&typeof h!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new Se(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=-62135596800,o0=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*o0);return new Ct(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<s0)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o0}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:Xt("string",Ct._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Ct(0,0))}static max(){return new He(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function iD(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=He.fromTimestamp(a===1e9?new Ct(n+1,0):new Ct(n,a));return new Na(o,Ne.empty(),e)}function aD(r){return new Na(r.readTime,r.key,su)}class Na{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Na(He.min(),Ne.empty(),su)}static max(){return new Na(He.max(),Ne.empty(),su)}}function sD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(r.documentKey,e.documentKey),n!==0?n:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r){if(r.code!==fe.FAILED_PRECONDITION||r.message!==oD)throw r;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.reject(n)}static resolve(e){return new ge((n,a)=>{n(e)})}static reject(e){return new ge((n,a)=>{a(e)})}static waitFor(e){return new ge((n,a)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&n()},g=>a(g))}),h=!0,u===o&&n()})}static or(e){let n=ge.resolve(!1);for(const a of e)n=n.next(o=>o?ge.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ge((a,o)=>{const u=e.length,h=new Array(u);let d=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(v=>{h[p]=v,++d,d===u&&a(h)},v=>o(v))}})}static doWhile(e,n){return new ge((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function uD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this._e(a),this.ae=a=>n.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}xh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function Rh(r){return r==null}function hh(r){return r===0&&1/r==-1/0}function cD(r){return typeof r=="number"&&Number.isInteger(r)&&!hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="";function hD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=l0(e)),e=fD(r.get(n),e);return l0(e)}function fD(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case bT:n+="";break;default:n+=u}}return n}function l0(r){return r+bT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function As(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ST(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??vn.RED,this.left=o??vn.EMPTY,this.right=u??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new vn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c0(this.data.getIterator())}getIteratorFrom(e){return new c0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class c0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new rn(_n.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wT("Invalid base64 string: "+u):u}}(e);return new En(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const dD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(r){if(yt(!!r,39018),typeof r=="string"){let e=0;const n=dD.exec(r);if(yt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:zt(r.seconds),nanos:zt(r.nanos)}}function zt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ma(r){return typeof r=="string"?En.fromBase64String(r):En.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="server_timestamp",xT="__type__",RT="__previous_value__",DT="__local_write_time__";function hg(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[xT])===null||n===void 0?void 0:n.stringValue)===AT}function Dh(r){const e=r.mapValue.fields[RT];return hg(e)?Dh(e):e}function ou(r){const e=Oa(r.mapValue.fields[DT].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,a,o,u,h,d,g,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const fh="(default)";class lu{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="__type__",gD="__max__",Hc={mapValue:{}},IT="__vector__",dh="value";function Pa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hg(r)?4:yD(r)?9007199254740991:pD(r)?10:11:Le(28295,{value:r})}function hi(r,e){if(r===e)return!0;const n=Pa(r);if(n!==Pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ou(r).isEqual(ou(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Oa(o.timestampValue),d=Oa(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Ma(o.bytesValue).isEqual(Ma(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return zt(o.geoPointValue.latitude)===zt(u.geoPointValue.latitude)&&zt(o.geoPointValue.longitude)===zt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return zt(o.integerValue)===zt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=zt(o.doubleValue),d=zt(u.doubleValue);return h===d?hh(h)===hh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return xo(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(u0(h)!==u0(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!hi(h[g],d[g])))return!1;return!0}(r,e);default:return Le(52216,{left:r})}}function uu(r,e){return(r.values||[]).find(n=>hi(n,e))!==void 0}function Ro(r,e){if(r===e)return 0;const n=Pa(r),a=Pa(e);if(n!==a)return Qe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=zt(u.integerValue||u.doubleValue),g=zt(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,e);case 3:return h0(r.timestampValue,e.timestampValue);case 4:return h0(ou(r),ou(e));case 5:return xm(r.stringValue,e.stringValue);case 6:return function(u,h){const d=Ma(u),g=Ma(h);return d.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),g=h.split("/");for(let p=0;p<d.length&&p<g.length;p++){const v=Qe(d[p],g[p]);if(v!==0)return v}return Qe(d.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Qe(zt(u.latitude),zt(h.latitude));return d!==0?d:Qe(zt(u.longitude),zt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return f0(r.arrayValue,e.arrayValue);case 10:return function(u,h){var d,g,p,v;const w=u.fields||{},b=h.fields||{},D=(d=w[dh])===null||d===void 0?void 0:d.arrayValue,C=(g=b[dh])===null||g===void 0?void 0:g.arrayValue,B=Qe(((p=D?.values)===null||p===void 0?void 0:p.length)||0,((v=C?.values)===null||v===void 0?void 0:v.length)||0);return B!==0?B:f0(D,C)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===Hc.mapValue&&h===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(h===Hc.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),p=h.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let w=0;w<g.length&&w<v.length;++w){const b=xm(g[w],v[w]);if(b!==0)return b;const D=Ro(d[g[w]],p[v[w]]);if(D!==0)return D}return Qe(g.length,v.length)}(r.mapValue,e.mapValue);default:throw Le(23264,{le:n})}}function h0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const n=Oa(r),a=Oa(e),o=Qe(n.seconds,a.seconds);return o!==0?o:Qe(n.nanos,a.nanos)}function f0(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Ro(n[o],a[o]);if(u)return u}return Qe(n.length,a.length)}function Do(r){return Rm(r)}function Rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Oa(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ma(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ne.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Rm(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${Rm(n.fields[h])}`;return o+"}"}(r.mapValue):Le(61005,{value:r})}function Zc(r){switch(Pa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(r);return e?16+Zc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ma(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Zc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return As(a.fields,(u,h)=>{o+=u.length+Zc(h)}),o}(r.mapValue);default:throw Le(13486,{value:r})}}function d0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Dm(r){return!!r&&"integerValue"in r}function fg(r){return!!r&&"arrayValue"in r}function m0(r){return!!r&&"nullValue"in r}function g0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function pD(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[CT])===null||n===void 0?void 0:n.stringValue)===IT}function Xl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return As(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Xl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function yD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.value=e}static empty(){return new Ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=_n.emptyPath(),a={},o=[];e.forEach((h,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=d.popLast()}h?a[d.lastSegment()]=Xl(h):o.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){As(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new Ar(Xl(this.value))}}function NT(r){const e=[];return As(r.fields,(n,a)=>{const o=new _n([n]);if(Jc(a)){const u=NT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,a,o,u,h,d){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Rn(e,0,He.min(),He.min(),He.min(),Ar.empty(),0)}static newFoundDocument(e,n,a,o){return new Rn(e,1,n,He.min(),a,o,0)}static newNoDocument(e,n){return new Rn(e,2,n,He.min(),He.min(),Ar.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,He.min(),He.min(),Ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.position=e,this.inclusive=n}}function p0(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?a=Ne.comparator(Ne.fromName(h.referenceValue),n.key):a=Ro(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function y0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function vD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{}class Kt extends OT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new ED(e,n,a):n==="array-contains"?new SD(e,a):n==="in"?new wD(e,a):n==="not-in"?new AD(e,a):n==="array-contains-any"?new xD(e,a):new Kt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new TD(e,a):new bD(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&Pa(this.value)===Pa(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends OT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new kr(e,n)}matches(e){return MT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function MT(r){return r.op==="and"}function PT(r){return _D(r)&&MT(r)}function _D(r){for(const e of r.filters)if(e instanceof kr)return!1;return!0}function Cm(r){if(r instanceof Kt)return r.field.canonicalString()+r.op.toString()+Do(r.value);if(PT(r))return r.filters.map(e=>Cm(e)).join(",");{const e=r.filters.map(n=>Cm(n)).join(",");return`${r.op}(${e})`}}function VT(r,e){return r instanceof Kt?function(a,o){return o instanceof Kt&&a.op===o.op&&a.field.isEqual(o.field)&&hi(a.value,o.value)}(r,e):r instanceof kr?function(a,o){return o instanceof kr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,d)=>u&&VT(h,o.filters[d]),!0):!1}(r,e):void Le(19439)}function kT(r){return r instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`}(r):r instanceof kr?function(n){return n.op.toString()+" {"+n.getFilters().map(kT).join(" ,")+"}"}(r):"Filter"}class ED extends Kt{constructor(e,n,a){super(e,n,a),this.key=Ne.fromName(a.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class TD extends Kt{constructor(e,n){super(e,"in",n),this.keys=jT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bD extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=jT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ne.fromName(a.referenceValue))}class SD extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&uu(n.arrayValue,this.value)}}class wD extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class AD extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class xD extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>uu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n=null,a=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Pe=null}}function v0(r,e=null,n=[],a=[],o=null,u=null,h=null){return new RD(r,e,n,a,o,u,h)}function dg(r){const e=qe(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Cm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Do(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Do(a)).join(",")),e.Pe=n}return e.Pe}function mg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!vD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!VT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!y0(r.startAt,e.startAt)&&y0(r.endAt,e.endAt)}function Im(r){return Ne.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,a=[],o=[],u=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function DD(r,e,n,a,o,u,h,d){return new yu(r,e,n,a,o,u,h,d)}function gg(r){return new yu(r)}function _0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function LT(r){return r.collectionGroup!==null}function Wl(r){const e=qe(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new rn(_n.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new gh(u,a))}),n.has(_n.keyField().canonicalString())||e.Te.push(new gh(_n.keyField(),a))}return e.Te}function ai(r){const e=qe(r);return e.Ie||(e.Ie=CD(e,Wl(r))),e.Ie}function CD(r,e){if(r.limitType==="F")return v0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gh(o.field,u)});const n=r.endAt?new mh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new mh(r.startAt.position,r.startAt.inclusive):null;return v0(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Nm(r,e){const n=r.filters.concat([e]);return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Om(r,e,n){return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ch(r,e){return mg(ai(r),ai(e))&&r.limitType===e.limitType}function UT(r){return`${dg(ai(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>kT(o)).join(", ")}]`),Rh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Do(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Do(o)).join(",")),`Target(${a})`}(ai(r))}; limitType=${r.limitType})`}function Ih(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ne.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of Wl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(h,d,g){const p=p0(h,d,g);return h.inclusive?p<=0:p<0}(a.startAt,Wl(a),o)||a.endAt&&!function(h,d,g){const p=p0(h,d,g);return h.inclusive?p>=0:p>0}(a.endAt,Wl(a),o))}(r,e)}function ID(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BT(r){return(e,n)=>{let a=!1;for(const o of Wl(r)){const u=ND(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function ND(r,e,n){const a=r.field.isKeyField()?Ne.comparator(e.key,n.key):function(u,h,d){const g=h.data.field(u),p=d.data.field(u);return g!==null&&p!==null?Ro(g,p):Le(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Le(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return ST(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new Mt(Ne.comparator);function Bi(){return OD}const zT=new Mt(Ne.comparator);function $l(...r){let e=zT;for(const n of r)e=e.insert(n.key,n);return e}function HT(r){let e=zT;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function ps(){return Zl()}function qT(){return Zl()}function Zl(){return new xs(r=>r.toString(),(r,e)=>r.isEqual(e))}const MD=new Mt(Ne.comparator),PD=new rn(Ne.comparator);function nt(...r){let e=PD;for(const n of r)e=e.add(n);return e}const VD=new rn(Qe);function kD(){return VD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function FT(r){return{integerValue:""+r}}function jD(r,e){return cD(e)?FT(e):pg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function LD(r,e,n){return r instanceof ph?function(o,u){const h={fields:{[xT]:{stringValue:AT},[DT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hg(u)&&(u=Dh(u)),u&&(h.fields[RT]=u),{mapValue:h}}(n,e):r instanceof cu?$T(r,e):r instanceof hu?YT(r,e):function(o,u){const h=GT(o,u),d=E0(h)+E0(o.Ee);return Dm(h)&&Dm(o.Ee)?FT(d):pg(o.serializer,d)}(r,e)}function UD(r,e,n){return r instanceof cu?$T(r,e):r instanceof hu?YT(r,e):n}function GT(r,e){return r instanceof yh?function(a){return Dm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class ph extends Nh{}class cu extends Nh{constructor(e){super(),this.elements=e}}function $T(r,e){const n=QT(e);for(const a of r.elements)n.some(o=>hi(o,a))||n.push(a);return{arrayValue:{values:n}}}class hu extends Nh{constructor(e){super(),this.elements=e}}function YT(r,e){let n=QT(e);for(const a of r.elements)n=n.filter(o=>!hi(o,a));return{arrayValue:{values:n}}}class yh extends Nh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function E0(r){return zt(r.integerValue||r.doubleValue)}function QT(r){return fg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function BD(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof cu&&o instanceof cu||a instanceof hu&&o instanceof hu?xo(a.elements,o.elements,hi):a instanceof yh&&o instanceof yh?hi(a.Ee,o.Ee):a instanceof ph&&o instanceof ph}(r.transform,e.transform)}class zD{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oh{}function KT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new yg(r.key,si.none()):new vu(r.key,r.data,si.none());{const n=r.data,a=Ar.empty();let o=new rn(_n.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Rs(r.key,a,new Pr(o.toArray()),si.none())}}function HD(r,e,n){r instanceof vu?function(o,u,h){const d=o.value.clone(),g=b0(o.fieldTransforms,u,h.transformResults);d.setAll(g),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,n):r instanceof Rs?function(o,u,h){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=b0(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(XT(o)),g.setAll(d),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Jl(r,e,n,a){return r instanceof vu?function(u,h,d,g){if(!eh(u.precondition,h))return d;const p=u.value.clone(),v=S0(u.fieldTransforms,g,h);return p.setAll(v),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(r,e,n,a):r instanceof Rs?function(u,h,d,g){if(!eh(u.precondition,h))return d;const p=S0(u.fieldTransforms,g,h),v=h.data;return v.setAll(XT(u)),v.setAll(p),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,a):function(u,h,d){return eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,n)}function qD(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=GT(a.transform,o||null);u!=null&&(n===null&&(n=Ar.empty()),n.set(a.field,u))}return n||null}function T0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&xo(a,o,(u,h)=>BD(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vu extends Oh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rs extends Oh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function XT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function b0(r,e,n){const a=new Map;yt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);a.set(u.field,UD(h,d,n[o]))}return a}function S0(r,e,n){const a=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);a.set(o.field,LD(u,h,e))}return a}class yg extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FD extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&HD(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Jl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Jl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=qT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=n.has(o.key)?null:d;const g=KT(h,d);g!==null&&a.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(He.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,a)=>T0(n,a))&&xo(this.baseMutations,e.baseMutations,(n,a)=>T0(n,a))}}class vg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){yt(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=function(){return MD}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new vg(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,lt;function QD(r){switch(r){case fe.OK:return Le(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Le(15467,{code:r})}}function WT(r){if(r===void 0)return Ui("GRPC error has no .code"),fe.UNKNOWN;switch(r){case Qt.OK:return fe.OK;case Qt.CANCELLED:return fe.CANCELLED;case Qt.UNKNOWN:return fe.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return fe.INTERNAL;case Qt.UNAVAILABLE:return fe.UNAVAILABLE;case Qt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Qt.NOT_FOUND:return fe.NOT_FOUND;case Qt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Qt.ABORTED:return fe.ABORTED;case Qt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Qt.DATA_LOSS:return fe.DATA_LOSS;default:return Le(39323,{code:r})}}(lt=Qt||(Qt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new xa([4294967295,4294967295],0);function w0(r){const e=_T().encode(r),n=new hT;return n.update(e),new Uint8Array(n.digest())}function A0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new xa([n,a],0),new xa([o,u],0)]}class _g{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(a<0)throw new Yl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=xa.fromNumber(this.fe)}pe(e,n,a){let o=e.add(n.multiply(xa.fromNumber(a)));return o.compare(KD)===1&&(o=new xa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=w0(e),[a,o]=A0(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(a,o,u);if(!this.ye(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new _g(u,o,n);return a.forEach(d=>h.insert(d)),h}insert(e){if(this.fe===0)return;const n=w0(e),[a,o]=A0(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(a,o,u);this.we(h)}}we(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Mh(He.min(),o,new Mt(Qe),Bi(),nt())}}class _u{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new _u(a,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.be=o}}class ZT{constructor(e,n){this.targetId=e,this.De=n}}class JT{constructor(e,n,a=En.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class x0{constructor(){this.ve=0,this.Ce=R0(),this.Fe=En.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=nt(),n=nt(),a=nt();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Le(38017,{changeType:u})}}),new _u(this.Fe,this.Me,e,n,a)}ke(){this.xe=!1,this.Ce=R0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class XD{constructor(e){this.We=e,this.Ge=new Map,this.ze=Bi(),this.je=qc(),this.Je=qc(),this.He=new Mt(Qe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const a=this.tt(n);switch(e.state){case 0:this.nt(n)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),a.Be(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((a,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,a=e.De.count,o=this.st(n);if(o){const u=o.target;if(Im(u))if(a===0){const h=new Ne(u.path);this.Xe(n,h,Rn.newNoDocument(h,He.min()))}else yt(a===1,20013,{expectedCount:a});else{const h=this.ot(n);if(h!==a){const d=this._t(e),g=d?this.ut(d,e,h):1;if(g!==0){this.rt(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,d;try{h=Ma(a).toUint8Array()}catch(g){if(g instanceof wT)return Ca("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new _g(h,o,u)}catch(g){return Ca(g instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.fe===0?null:d}ut(e,n,a){return n.De.count===a-this.ht(e,n.targetId)?0:2}ht(e,n){const a=this.We.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,h)=>{const d=this.st(h);if(d){if(u.current&&Im(d.target)){const g=new Ne(d.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,Rn.newNoDocument(g,e))}u.Ne&&(n.set(h,u.Le()),u.ke())}});let a=nt();this.Je.forEach((u,h)=>{let d=!0;h.forEachWhile(g=>{const p=this.st(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new Mh(e,n,this.He,this.ze,a);return this.ze=Bi(),this.je=qc(),this.Je=qc(),this.He=new Mt(Qe),o}Ze(e,n){if(!this.nt(e))return;const a=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,a),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),a&&(this.ze=this.ze.insert(n,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new x0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new rn(Qe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new rn(Qe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new x0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function qc(){return new Mt(Ne.comparator)}function R0(){return new Mt(Ne.comparator)}const WD={asc:"ASCENDING",desc:"DESCENDING"},ZD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JD={and:"AND",or:"OR"};class e2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mm(r,e){return r.useProto3Json||Rh(e)?e:{value:e}}function vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function t2(r,e){return vh(r,e.toTimestamp())}function oi(r){return yt(!!r,49232),He.fromTimestamp(function(n){const a=Oa(n);return new Ct(a.seconds,a.nanos)}(r))}function Eg(r,e){return Pm(r,e).canonicalString()}function Pm(r,e){const n=function(o){return new Dt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function tb(r){const e=Dt.fromString(r);return yt(sb(e),10190,{key:e.toString()}),e}function Vm(r,e){return Eg(r.databaseId,e.path)}function rm(r,e){const n=tb(e);if(n.get(1)!==r.databaseId.projectId)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ne(rb(n))}function nb(r,e){return Eg(r.databaseId,e)}function n2(r){const e=tb(r);return e.length===4?Dt.emptyPath():rb(e)}function km(r){return new Dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rb(r){return yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function D0(r,e,n){return{name:Vm(r,e),fields:n.value.mapValue.fields}}function r2(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,v){return p.useProto3Json?(yt(v===void 0||typeof v=="string",58123),En.fromBase64String(v||"")):(yt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),En.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(p){const v=p.code===void 0?fe.UNKNOWN:WT(p.code);return new Se(v,p.message||"")}(h);n=new JT(a,o,u,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=rm(r,a.document.name),u=oi(a.document.updateTime),h=a.document.createTime?oi(a.document.createTime):He.min(),d=new Ar({mapValue:{fields:a.document.fields}}),g=Rn.newFoundDocument(o,u,h,d),p=a.targetIds||[],v=a.removedTargetIds||[];n=new th(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=rm(r,a.document),u=a.readTime?oi(a.readTime):He.min(),h=Rn.newNoDocument(o,u),d=a.removedTargetIds||[];n=new th([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=rm(r,a.document),u=a.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return Le(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new YD(o,u),d=a.targetId;n=new ZT(d,h)}}return n}function i2(r,e){let n;if(e instanceof vu)n={update:D0(r,e.key,e.value)};else if(e instanceof yg)n={delete:Vm(r,e.key)};else if(e instanceof Rs)n={update:D0(r,e.key,e.data),updateMask:d2(e.fieldMask)};else{if(!(e instanceof FD))return Le(16599,{Rt:e.type});n={verify:Vm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof cu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof hu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof yh)return{fieldPath:h.field.canonicalString(),increment:d.Ee};throw Le(20930,{transform:h.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:t2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Le(27497)}(r,e.precondition)),n}function a2(r,e){return r&&r.length>0?(yt(e!==void 0,14353),r.map(n=>function(o,u){let h=o.updateTime?oi(o.updateTime):oi(u);return h.isEqual(He.min())&&(h=oi(u)),new zD(h,o.transformResults||[])}(n,e))):[]}function s2(r,e){return{documents:[nb(r,e.path)]}}function o2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=nb(r,o);const u=function(p){if(p.length!==0)return ab(kr.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(p){if(p.length!==0)return p.map(v=>function(b){return{field:Eo(b.field),direction:c2(b.dir)}}(v))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const d=Mm(r,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:n,parent:o}}function l2(r){let e=n2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){yt(a===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(w){const b=ib(w);return b instanceof kr&&PT(b)?b.getFilters():[b]}(n.where));let h=[];n.orderBy&&(h=function(w){return w.map(b=>function(C){return new gh(To(C.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(b))}(n.orderBy));let d=null;n.limit&&(d=function(w){let b;return b=typeof w=="object"?w.value:w,Rh(b)?null:b}(n.limit));let g=null;n.startAt&&(g=function(w){const b=!!w.before,D=w.values||[];return new mh(D,b)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const b=!w.before,D=w.values||[];return new mh(D,b)}(n.endAt)),DD(e,o,h,u,d,"F",g,p)}function u2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ib(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=To(n.unaryFilter.field);return Kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=To(n.unaryFilter.field);return Kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=To(n.unaryFilter.field);return Kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(n.unaryFilter.field);return Kt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(r):r.fieldFilter!==void 0?function(n){return Kt.create(To(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return kr.create(n.compositeFilter.filters.map(a=>ib(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(r):Le(30097,{filter:r})}function c2(r){return WD[r]}function h2(r){return ZD[r]}function f2(r){return JD[r]}function Eo(r){return{fieldPath:r.canonicalString()}}function To(r){return _n.fromServerFormat(r.fieldPath)}function ab(r){return r instanceof Kt?function(n){if(n.op==="=="){if(g0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(m0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(m0(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:h2(n.op),value:n.value}}}(r):r instanceof kr?function(n){const a=n.getFilters().map(o=>ab(o));return a.length===1?a[0]:{compositeFilter:{op:f2(n.op),filters:a}}}(r):Le(54877,{filter:r})}function d2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,a,o,u=He.min(),h=He.min(),d=En.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.gt=e}}function g2(r){const e=l2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.Dn=new y2}addToCollectionParentIndex(e,n){return this.Dn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Na.min())}updateCollectionGroup(e,n,a){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class y2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new rn(Dt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new rn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ob=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(ob,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Co(0)}static ur(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="LruGarbageCollector",v2=1048576;function N0([r,e],[n,a]){const o=Qe(r,n);return o===0?Qe(e,a):o}class _2{constructor(e){this.Tr=e,this.buffer=new rn(N0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();N0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){we(I0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?we(I0,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Rr(3e5)})}}class T2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(xh.ue);const a=new _2(n);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(C0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let a,o,u,h,d,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,d=Date.now(),this.removeTargets(e,a,n))).next(w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(p=Date.now(),vo()<=ut.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function b2(r,e){return new T2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.changes=new xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ge.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Jl(a.mutation,o,Pr.empty(),Ct.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,nt()).next(()=>a))}getLocalViewOfDocuments(e,n,a=nt()){const o=ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let h=$l();return u.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const a=ps();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,nt()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{n.set(h,d)})})}computeViews(e,n,a,o){let u=Bi();const h=Zl(),d=function(){return Zl()}();return n.forEach((g,p)=>{const v=a.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof Rs)?u=u.insert(p.key,p):v!==void 0?(h.set(p.key,v.mutation.getFieldMask()),Jl(v.mutation,p,v.mutation.getFieldMask(),Ct.now())):h.set(p.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,v)=>h.set(p,v)),n.forEach((p,v)=>{var w;return d.set(p,new w2(v,(w=h.get(p))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,n){const a=Zl();let o=new Mt((h,d)=>h-d),u=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const d of h)d.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let v=a.get(g)||Pr.empty();v=d.applyToLocalView(p,v),a.set(g,v);const w=(o.get(d.batchId)||nt()).add(g);o=o.insert(d.batchId,w)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,v=g.value,w=qT();v.forEach(b=>{if(!u.has(b)){const D=KT(n.get(b),a.get(b));D!==null&&w.set(b,D),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ge.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(h){return Ne.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ge.resolve(ps());let d=su,g=u;return h.next(p=>ge.forEach(p,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),u.get(v)?ge.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{g=g.insert(v,b)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,nt())).next(v=>({batchId:d,changes:HT(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(a=>{let o=$l();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let h=$l();return this.indexManager.getCollectionParents(e,u).next(d=>ge.forEach(d,g=>{const p=function(w,b){return new yu(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next(v=>{v.forEach((w,b)=>{h=h.insert(w,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(h=>{u.forEach((g,p)=>{const v=p.getKey();h.get(v)===null&&(h=h.insert(v,Rn.newInvalidDocument(v)))});let d=$l();return h.forEach((g,p)=>{const v=u.get(g);v!==void 0&&Jl(v.mutation,p,Pr.empty(),Ct.now()),Ih(n,p)&&(d=d.insert(g,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ge.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:g2(o.bundledQuery),readTime:oi(o.readTime)}}(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.overlays=new Mt(Ne.comparator),this.kr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ps();return ge.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.wt(e,n,u)}),ge.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(a)),ge.resolve()}getOverlaysForCollection(e,n,a){const o=ps(),u=n.length+1,h=new Ne(n.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Mt((p,v)=>p-v);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let v=u.get(p.largestBatchId);v===null&&(v=ps(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=ps(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=o)););return ge.resolve(d)}wt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new $D(n,a));let u=this.kr.get(n);u===void 0&&(u=nt(),this.kr.set(n,u)),this.kr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.qr=new rn(hn.Qr),this.$r=new rn(hn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const a=new hn(e,n);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Wr(new hn(e,n))}Gr(e,n){e.forEach(a=>this.removeReference(a,n))}zr(e){const n=new Ne(new Dt([])),a=new hn(n,e),o=new hn(n,e+1),u=[];return this.$r.forEachInRange([a,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ne(new Dt([])),a=new hn(n,e),o=new hn(n,e+1);let u=nt();return this.$r.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new hn(e,0),a=this.qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class hn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ne.comparator(e.key,n.key)||Qe(e.Hr,n.Hr)}static Ur(e,n){return Qe(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new rn(hn.Qr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new GD(u,n,a,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new hn(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ge.resolve(h)}lookupMutationBatch(e,n){return ge.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return ge.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?cg:this.er-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new hn(n,0),o=new hn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([a,o],h=>{const d=this.Zr(h.Hr);u.push(d)}),ge.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new rn(Qe);return n.forEach(o=>{const u=new hn(o,0),h=new hn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],d=>{a=a.add(d.Hr)})}),ge.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ne.isDocumentKey(u)||(u=u.child(""));const h=new hn(new Ne(u),0);let d=new rn(Qe);return this.Yr.forEachWhile(g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(d=d.add(g.Hr)),!0)},h),ge.resolve(this.ei(d))}ei(e){const n=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){yt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return ge.forEach(n.mutations,o=>{const u=new hn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,n){const a=new hn(n,0),o=this.Yr.firstAfterOrEqual(a);return ge.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.ni=e,this.docs=function(){return new Mt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ge.resolve(a?a.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let a=Bi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Rn.newInvalidDocument(o))}),ge.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Bi();const h=n.path,d=new Ne(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||sD(aD(v),a)<=0||(o.has(v.key)||Ih(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ge.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Le(9500)}ri(e,n){return ge.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new N2(this)}getSize(e){return ge.resolve(this.size)}}class N2 extends S2{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),ge.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.persistence=e,this.ii=new xs(n=>dg(n),mg),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.si=0,this.oi=new Tg,this.targetCount=0,this._i=Co.ar()}forEachTarget(e,n){return this.ii.forEach((a,o)=>n(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.si&&(this.si=n),ge.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.hr(n),ge.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ii.forEach((h,d)=>{d.sequenceNumber<=n&&a.get(d.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ge.waitFor(u).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const a=this.ii.get(n)||null;return ge.resolve(a)}addMatchingKeys(e,n,a){return this.oi.Kr(n,a),ge.resolve()}removeMatchingKeys(e,n,a){this.oi.Gr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ge.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const a=this.oi.Jr(n);return ge.resolve(a)}containsKey(e,n){return ge.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.ai={},this.overlays={},this.ui=new xh(0),this.ci=!1,this.ci=!0,this.li=new D2,this.referenceDelegate=e(this),this.hi=new O2(this),this.indexManager=new p2,this.remoteDocumentCache=function(o){return new I2(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new m2(n),this.Ti=new x2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ai[e.toKey()];return a||(a=new C2(n,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,a){we("MemoryPersistence","Starting transaction:",e);const o=new M2(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return ge.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,n)))}}class M2 extends lD{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Ai=new Tg,this.Ri=null}static Vi(e){return new bg(e)}get mi(){if(this.Ri)return this.Ri;throw Le(60996)}addReference(e,n,a){return this.Ai.addReference(a,n),this.mi.delete(a.toString()),ge.resolve()}removeReference(e,n,a){return this.Ai.removeReference(a,n),this.mi.add(a.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.mi,a=>{const o=Ne.fromPath(a);return this.fi(e,o).next(u=>{u||n.removeEntry(o,He.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(a=>{a?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ge.or([()=>ge.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class _h{constructor(e,n){this.persistence=e,this.gi=new xs(a=>hD(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=b2(this,n)}static Vi(e,n){return new _h(e,n)}Ii(){}di(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}yr(e){let n=0;return this.gr(e,a=>{n++}).next(()=>n)}gr(e,n){return ge.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(u=>u?ge.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,n).next(d=>{d||(a++,u.removeEntry(h,He.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,a){return this.gi.set(a,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ge.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}Sr(e,n,a){return ge.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return ge.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Is=a,this.ds=o}static Es(e,n){let a=nt(),o=nt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Sg(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Ox()?8:uD(Ix())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ps(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,n,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new P2;return this.ws(e,n,h).next(d=>{if(u.result=d,this.Rs)return this.Ss(e,n,h,d.size)})}).next(()=>u.result)}Ss(e,n,a,o){return a.documentReadCount<this.Vs?(vo()<=ut.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ge.resolve()):(vo()<=ut.DEBUG&&we("QueryEngine","Query:",_o(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(vo()<=ut.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):ge.resolve())}ps(e,n){if(_0(n))return ge.resolve(null);let a=ai(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Om(n,null,"F"),a=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=nt(...u);return this.gs.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,a).next(g=>{const p=this.bs(n,d);return this.Ds(n,p,h,g.readTime)?this.ps(e,Om(n,null,"F")):this.vs(e,p,n,g)}))})))}ys(e,n,a,o){return _0(n)||o.isEqual(He.min())?ge.resolve(null):this.gs.getDocuments(e,a).next(u=>{const h=this.bs(n,u);return this.Ds(n,h,a,o)?ge.resolve(null):(vo()<=ut.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(e,h,n,iD(o,su)).next(d=>d))})}bs(e,n){let a=new rn(BT(e));return n.forEach((o,u)=>{Ih(e,u)&&(a=a.add(u))}),a}Ds(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,a){return vo()<=ut.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",_o(n)),this.gs.getDocumentsMatchingQuery(e,n,Na.min(),a)}vs(e,n,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="LocalStore",k2=3e8;class j2{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Mt(Qe),this.Ms=new xs(u=>dg(u),mg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function L2(r,e,n,a){return new j2(r,e,n,a)}async function ub(r,e){const n=qe(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let g=nt();for(const p of o){h.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of u){d.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(a,g).next(p=>({Bs:p,removedBatchIds:h,addedBatchIds:d}))})})}function U2(r,e){const n=qe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(d,g,p,v){const w=p.batch,b=w.keys();let D=ge.resolve();return b.forEach(C=>{D=D.next(()=>v.getEntry(g,C)).next(B=>{const z=p.docVersions.get(C);yt(z!==null,48541),B.version.compareTo(z)<0&&(w.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),v.addEntry(B)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(g,w))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let g=nt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function cb(r){const e=qe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function B2(r,e){const n=qe(r),a=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const d=[];e.targetChanges.forEach((v,w)=>{const b=o.get(w);if(!b)return;d.push(n.hi.removeMatchingKeys(u,v.removedDocuments,w).next(()=>n.hi.addMatchingKeys(u,v.addedDocuments,w)));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(En.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,a)),o=o.insert(w,D),function(B,z,U){return B.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=k2?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(b,D,v)&&d.push(n.hi.updateTargetData(u,D))});let g=Bi(),p=nt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(z2(u,h,e.documentUpdates).next(v=>{g=v.Ls,p=v.ks})),!a.isEqual(He.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next(w=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(v)}return ge.waitFor(d).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Fs=o,u))}function z2(r,e,n){let a=nt(),o=nt();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let h=Bi();return n.forEach((d,g)=>{const p=u.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(He.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):we(wg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)}),{Ls:h,ks:o}})}function H2(r,e){const n=qe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=cg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function q2(r,e){const n=qe(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.hi.getTargetData(a,e).next(u=>u?(o=u,ge.resolve(o)):n.hi.allocateTargetId(a).next(h=>(o=new ba(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(a.targetId,a),n.Ms.set(e,a.targetId)),a})}async function jm(r,e,n){const a=qe(r),o=a.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Mo(h))throw h;we(wg,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function O0(r,e,n){const a=qe(r);let o=He.min(),u=nt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(g,p,v){const w=qe(g),b=w.Ms.get(v);return b!==void 0?ge.resolve(w.Fs.get(b)):w.hi.getTargetData(p,v)}(a,h,ai(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(h,d.targetId).next(g=>{u=g})}).next(()=>a.Cs.getDocumentsMatchingQuery(h,e,n?o:He.min(),n?u:nt())).next(d=>(F2(a,ID(e),d),{documents:d,qs:u})))}function F2(r,e,n){let a=r.xs.get(e)||He.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.xs.set(e,a)}class M0{constructor(){this.activeTargetIds=kD()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G2{constructor(){this.Fo=new M0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,a){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new M0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="ConnectivityMonitor";class V0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){we(P0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){we(P0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function Lm(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",Y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q2{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===fh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,u){const h=Lm(),d=this.Go(e,n.toUriEncodedString());we(im,`Sending RPC '${e}' ${h}:`,d,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:p}=new URL(d),v=gu(p);return this.jo(e,d,g,a,v).then(w=>(we(im,`Received RPC '${e}' ${h}: `,w),w),w=>{throw Ca(im,`RPC '${e}' ${h} failed with error: `,w,"url: ",d,"request:",a),w})}Jo(e,n,a,o,u,h){return this.Wo(e,n,a,o,u)}zo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const a=Y2[e];return`${this.$o}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class X2 extends Q2{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,a,o,u){const h=Lm();return new Promise((d,g)=>{const p=new fT;p.setWithCredentials(!0),p.listenOnce(dT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Wc.NO_ERROR:const w=p.getResponseJson();we(An,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),d(w);break;case Wc.TIMEOUT:we(An,`RPC '${e}' ${h} timed out`),g(new Se(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const b=p.getStatus();if(we(An,`RPC '${e}' ${h} failed with status:`,b,"response text:",p.getResponseText()),b>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const C=D?.error;if(C&&C.status&&C.message){const B=function(U){const X=U.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(X)>=0?X:fe.UNKNOWN}(C.status);g(new Se(B,C.message))}else g(new Se(fe.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new Se(fe.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{c_:e,streamId:h,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{we(An,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);we(An,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",v,a,15)})}P_(e,n,a){const o=Lm(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=pT(),d=gT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const v=u.join("");we(An,`Creating RPC '${e}' stream ${o}: ${v}`,g);const w=h.createWebChannel(v,g);this.T_(w);let b=!1,D=!1;const C=new K2({Ho:z=>{D?we(An,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(b||(we(An,`Opening RPC '${e}' stream ${o} transport.`),w.open(),b=!0),we(An,`RPC '${e}' stream ${o} sending:`,z),w.send(z))},Yo:()=>w.close()}),B=(z,U,X)=>{z.listen(U,$=>{try{X($)}catch(le){setTimeout(()=>{throw le},0)}})};return B(w,Gl.EventType.OPEN,()=>{D||(we(An,`RPC '${e}' stream ${o} transport opened.`),C.s_())}),B(w,Gl.EventType.CLOSE,()=>{D||(D=!0,we(An,`RPC '${e}' stream ${o} transport closed`),C.__(),this.I_(w))}),B(w,Gl.EventType.ERROR,z=>{D||(D=!0,Ca(An,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),C.__(new Se(fe.UNAVAILABLE,"The operation could not be completed")))}),B(w,Gl.EventType.MESSAGE,z=>{var U;if(!D){const X=z.data[0];yt(!!X,16349);const $=X,le=$?.error||((U=$[0])===null||U===void 0?void 0:U.error);if(le){we(An,`RPC '${e}' stream ${o} received error:`,le);const he=le.status;let P=function(I){const N=Qt[I];if(N!==void 0)return WT(N)}(he),M=le.message;P===void 0&&(P=fe.INTERNAL,M="Unknown error status: "+he+" with message "+le.message),D=!0,C.__(new Se(P,M)),w.close()}else we(An,`RPC '${e}' stream ${o} received:`,X),C.a_(X)}}),B(d,mT.STAT_EVENT,z=>{z.stat===Am.PROXY?we(An,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Am.NOPROXY&&we(An,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(r){return new e2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=a,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-a);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="PersistentStream";class fb{constructor(e,n,a,o,u,h,d,g){this.Fi=e,this.w_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new hb(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===n&&this.W_(a,o)},a=>{e(()=>{const o=new Se(fe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,n){const a=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return we(k0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(we(k0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W2 extends fb{constructor(e,n,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=r2(this.serializer,e),a=function(u){if(!("targetChange"in u))return He.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?He.min():h.readTime?oi(h.readTime):He.min()}(e);return this.listener.J_(n,a)}H_(e){const n={};n.database=km(this.serializer),n.addTarget=function(u,h){let d;const g=h.target;if(d=Im(g)?{documents:s2(u,g)}:{query:o2(u,g).Vt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=eb(u,h.resumeToken);const p=Mm(u,h.expectedCount);p!==null&&(d.expectedCount=p)}else if(h.snapshotVersion.compareTo(He.min())>0){d.readTime=vh(u,h.snapshotVersion.toTimestamp());const p=Mm(u,h.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const a=u2(this.serializer,e);a&&(n.labels=a),this.k_(n)}Y_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.k_(n)}}class Z2 extends fb{constructor(e,n,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=a2(e.writeResults,e.commitTime),a=oi(e.commitTime);return this.listener.ta(a,n)}na(){const e={};e.database=km(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>i2(this.serializer,a))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{}class eC extends J2{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Pm(n,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(fe.UNKNOWN,u.toString())})}Jo(e,n,a,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Jo(e,Pm(n,a),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Se(fe.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class tC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ui(n),this._a=!1):we("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class nC{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{a.enqueueAndForget(async()=>{Ds(this)&&(we(Es,"Restarting streams for network reachability change."),await async function(g){const p=qe(g);p.Ia.add(4),await Eu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Vh(p)}(this))})}),this.Aa=new tC(a,o)}}async function Vh(r){if(Ds(r))for(const e of r.da)await e(!0)}async function Eu(r){for(const e of r.da)await e(!1)}function db(r,e){const n=qe(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Dg(n)?Rg(n):Po(n).x_()&&xg(n,e))}function Ag(r,e){const n=qe(r),a=Po(n);n.Ta.delete(e),a.x_()&&mb(n,e),n.Ta.size===0&&(a.x_()?a.B_():Ds(n)&&n.Aa.set("Unknown"))}function xg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(r).H_(e)}function mb(r,e){r.Ra.$e(e),Po(r).Y_(e)}function Rg(r){r.Ra=new XD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.Aa.aa()}function Dg(r){return Ds(r)&&!Po(r).M_()&&r.Ta.size>0}function Ds(r){return qe(r).Ia.size===0}function gb(r){r.Ra=void 0}async function rC(r){r.Aa.set("Online")}async function iC(r){r.Ta.forEach((e,n)=>{xg(r,e)})}async function aC(r,e){gb(r),Dg(r)?(r.Aa.la(e),Rg(r)):r.Aa.set("Unknown")}async function sC(r,e,n){if(r.Aa.set("Online"),e instanceof JT&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ta.delete(d),o.Ra.removeTarget(d))}(r,e)}catch(a){we(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Eh(r,a)}else if(e instanceof th?r.Ra.Ye(e):e instanceof ZT?r.Ra.it(e):r.Ra.et(e),!n.isEqual(He.min()))try{const a=await cb(r.localStore);n.compareTo(a)>=0&&await function(u,h){const d=u.Ra.Pt(h);return d.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ta.get(p);v&&u.Ta.set(p,v.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,p)=>{const v=u.Ta.get(g);if(!v)return;u.Ta.set(g,v.withResumeToken(En.EMPTY_BYTE_STRING,v.snapshotVersion)),mb(u,g);const w=new ba(v.target,g,p,v.sequenceNumber);xg(u,w)}),u.remoteSyncer.applyRemoteEvent(d)}(r,n)}catch(a){we(Es,"Failed to raise snapshot:",a),await Eh(r,a)}}async function Eh(r,e,n){if(!Mo(e))throw e;r.Ia.add(1),await Eu(r),r.Aa.set("Offline"),n||(n=()=>cb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{we(Es,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await Vh(r)})}function pb(r,e){return e().catch(n=>Eh(r,n,e))}async function kh(r){const e=qe(r),n=Va(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:cg;for(;oC(e);)try{const o=await H2(e.localStore,a);if(o===null){e.Pa.length===0&&n.B_();break}a=o.batchId,lC(e,o)}catch(o){await Eh(e,o)}yb(e)&&vb(e)}function oC(r){return Ds(r)&&r.Pa.length<10}function lC(r,e){r.Pa.push(e);const n=Va(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function yb(r){return Ds(r)&&!Va(r).M_()&&r.Pa.length>0}function vb(r){Va(r).start()}async function uC(r){Va(r).na()}async function cC(r){const e=Va(r);for(const n of r.Pa)e.X_(n.mutations)}async function hC(r,e,n){const a=r.Pa.shift(),o=vg.from(a,e,n);await pb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await kh(r)}async function fC(r,e){e&&Va(r).Z_&&await async function(a,o){if(function(h){return QD(h)&&h!==fe.ABORTED}(o.code)){const u=a.Pa.shift();Va(a).N_(),await pb(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await kh(a)}}(r,e),yb(r)&&vb(r)}async function j0(r,e){const n=qe(r);n.asyncQueue.verifyOperationInProgress(),we(Es,"RemoteStore received new credentials");const a=Ds(n);n.Ia.add(3),await Eu(n),a&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Vh(n)}async function dC(r,e){const n=qe(r);e?(n.Ia.delete(2),await Vh(n)):e||(n.Ia.add(2),await Eu(n),n.Aa.set("Unknown"))}function Po(r){return r.Va||(r.Va=function(n,a,o){const u=qe(n);return u.ia(),new W2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:rC.bind(null,r),e_:iC.bind(null,r),n_:aC.bind(null,r),J_:sC.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),Dg(r)?Rg(r):r.Aa.set("Unknown")):(await r.Va.stop(),gb(r))})),r.Va}function Va(r){return r.ma||(r.ma=function(n,a,o){const u=qe(n);return u.ia(),new Z2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:uC.bind(null,r),n_:fC.bind(null,r),ea:cC.bind(null,r),ta:hC.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await kh(r)):(await r.ma.stop(),r.Pa.length>0&&(we(Es,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const h=Date.now()+a,d=new Cg(e,n,h,o,u);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),Mo(r))return new Se(fe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ne.comparator(n.key,a.key):(n,a)=>Ne.comparator(n.key,a.key),this.keyedMap=$l(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new So;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.fa=new Mt(Ne.comparator)}track(e){const n=e.doc.key,a=this.fa.get(n);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(n,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(n):e.type===1&&a.type===2?this.fa=this.fa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Le(63341,{At:e,ga:a}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,a)=>{e.push(a)}),e}}class Io{constructor(e,n,a,o,u,h,d,g,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const h=[];return n.forEach(d=>{h.push({type:0,doc:d})}),new Io(e,n,So.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class gC{constructor(){this.queries=U0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,a){const o=qe(n),u=o.queries;o.queries=U0(),u.forEach((h,d)=>{for(const g of d.wa)g.onError(a)})})(this,new Se(fe.ABORTED,"Firestore shutting down"))}}function U0(){return new xs(r=>UT(r),Ch)}async function _b(r,e){const n=qe(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(a=2):(u=new mC,a=e.ba()?0:1);try{switch(a){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const d=Ig(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Ng(n)}async function Eb(r,e){const n=qe(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function pC(r,e){const n=qe(r);let a=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const d of h.wa)d.Ca(o)&&(a=!0);h.ya=o}}a&&Ng(n)}function yC(r,e,n){const a=qe(r),o=a.queries.get(e);if(o)for(const u of o.wa)u.onError(n);a.queries.delete(e)}function Ng(r){r.Da.forEach(e=>{e.next()})}var Um,B0;(B0=Um||(Um={})).Fa="default",B0.Cache="cache";class Tb{constructor(e,n,a){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Io(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const a=n!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.key=e}}class Sb{constructor(e){this.key=e}}class vC{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=nt(),this.mutatedKeys=nt(),this.Xa=BT(e),this.eu=new So(this.Xa)}get tu(){return this.Ha}nu(e,n){const a=n?n.ru:new L0,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const b=o.get(v),D=Ih(this.query,w)?w:null,C=!!b&&this.mutatedKeys.has(b.key),B=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;b&&D?b.data.isEqual(D.data)?C!==B&&(a.track({type:3,doc:D}),z=!0):this.iu(b,D)||(a.track({type:2,doc:D}),z=!0,(g&&this.Xa(D,g)>0||p&&this.Xa(D,p)<0)&&(d=!0)):!b&&D?(a.track({type:0,doc:D}),z=!0):b&&!D&&(a.track({type:1,doc:b}),z=!0,(g||p)&&(d=!0)),z&&(D?(h=h.add(D),u=B?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{eu:h,ru:a,Ds:d,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((v,w)=>function(D,C){const B=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{At:z})}};return B(D)-B(C)}(v.type,w.type)||this.Xa(v.doc,w.doc)),this.su(a),o=o!=null&&o;const d=n&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,p=g!==this.Ya;return this.Ya=g,h.length!==0||p?{snapshot:new Io(this.query,e.eu,u,h,e.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new L0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=nt(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const n=[];return e.forEach(a=>{this.Za.has(a)||n.push(new Sb(a))}),this.Za.forEach(a=>{e.has(a)||n.push(new bb(a))}),n}uu(e){this.Ha=e.qs,this.Za=nt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Io.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Og="SyncEngine";class _C{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class EC{constructor(e){this.key=e,this.lu=!1}}class TC{constructor(e,n,a,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new xs(d=>UT(d),Ch),this.Tu=new Map,this.Iu=new Set,this.du=new Mt(Ne.comparator),this.Eu=new Map,this.Au=new Tg,this.Ru={},this.Vu=new Map,this.mu=Co.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function bC(r,e,n=!0){const a=Cb(r);let o;const u=a.Pu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await wb(a,e,n,!0),o}async function SC(r,e){const n=Cb(r);await wb(n,e,!0,!1)}async function wb(r,e,n,a){const o=await q2(r.localStore,ai(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let d;return a&&(d=await wC(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&db(r.remoteStore,o),d}async function wC(r,e,n,a,o){r.gu=(w,b,D)=>async function(B,z,U,X){let $=z.view.nu(U);$.Ds&&($=await O0(B.localStore,z.query,!1).then(({documents:M})=>z.view.nu(M,$)));const le=X&&X.targetChanges.get(z.targetId),he=X&&X.targetMismatches.get(z.targetId)!=null,P=z.view.applyChanges($,B.isPrimaryClient,le,he);return H0(B,z.targetId,P._u),P.snapshot}(r,w,b,D);const u=await O0(r.localStore,e,!0),h=new vC(e,u.qs),d=h.nu(u.documents),g=_u.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),p=h.applyChanges(d,r.isPrimaryClient,g);H0(r,n,p._u);const v=new _C(e,n,h);return r.Pu.set(e,v),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),p.snapshot}async function AC(r,e,n){const a=qe(r),o=a.Pu.get(e),u=a.Tu.get(o.targetId);if(u.length>1)return a.Tu.set(o.targetId,u.filter(h=>!Ch(h,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Ag(a.remoteStore,o.targetId),Bm(a,o.targetId)}).catch(Oo)):(Bm(a,o.targetId),await jm(a.localStore,o.targetId,!0))}async function xC(r,e){const n=qe(r),a=n.Pu.get(e),o=n.Tu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Ag(n.remoteStore,a.targetId))}async function RC(r,e,n){const a=PC(r);try{const o=await function(h,d){const g=qe(h),p=Ct.now(),v=d.reduce((D,C)=>D.add(C.key),nt());let w,b;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let C=Bi(),B=nt();return g.Os.getEntries(D,v).next(z=>{C=z,C.forEach((U,X)=>{X.isValidDocument()||(B=B.add(U))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,C)).next(z=>{w=z;const U=[];for(const X of d){const $=qD(X,w.get(X.key).overlayedDocument);$!=null&&U.push(new Rs(X.key,$,NT($.value.mapValue),si.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,U,d)}).next(z=>{b=z;const U=z.applyToLocalDocumentSet(w,B);return g.documentOverlayCache.saveOverlays(D,z.batchId,U)})}).then(()=>({batchId:b.batchId,changes:HT(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,g){let p=h.Ru[h.currentUser.toKey()];p||(p=new Mt(Qe)),p=p.insert(d,g),h.Ru[h.currentUser.toKey()]=p}(a,o.batchId,n),await Tu(a,o.changes),await kh(a.remoteStore)}catch(o){const u=Ig(o,"Failed to persist write");n.reject(u)}}async function Ab(r,e){const n=qe(r);try{const a=await B2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?yt(h.lu,14607):o.removedDocuments.size>0&&(yt(h.lu,42227),h.lu=!1))}),await Tu(n,a,e)}catch(a){await Oo(a)}}function z0(r,e,n){const a=qe(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Pu.forEach((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const g=qe(h);g.onlineState=d;let p=!1;g.queries.forEach((v,w)=>{for(const b of w.wa)b.va(d)&&(p=!0)}),p&&Ng(g)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function DC(r,e,n){const a=qe(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Eu.get(e),u=o&&o.key;if(u){let h=new Mt(Ne.comparator);h=h.insert(u,Rn.newNoDocument(u,He.min()));const d=nt().add(u),g=new Mh(He.min(),new Map,new Mt(Qe),h,d);await Ab(a,g),a.du=a.du.remove(u),a.Eu.delete(e),Mg(a)}else await jm(a.localStore,e,!1).then(()=>Bm(a,e,n)).catch(Oo)}async function CC(r,e){const n=qe(r),a=e.batch.batchId;try{const o=await U2(n.localStore,e);Rb(n,a,null),xb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Tu(n,o)}catch(o){await Oo(o)}}async function IC(r,e,n){const a=qe(r);try{const o=await function(h,d){const g=qe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return g.mutationQueue.lookupMutationBatch(p,d).next(w=>(yt(w!==null,37113),v=w.keys(),g.mutationQueue.removeMutationBatch(p,w))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>g.localDocuments.getDocuments(p,v))})}(a.localStore,e);Rb(a,e,n),xb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Tu(a,o)}catch(o){await Oo(o)}}function xb(r,e){(r.Vu.get(e)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(e)}function Rb(r,e,n){const a=qe(r);let o=a.Ru[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function Bm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Tu.get(e))r.Pu.delete(a),n&&r.hu.pu(a,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(a=>{r.Au.containsKey(a)||Db(r,a)})}function Db(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Ag(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),Mg(r))}function H0(r,e,n){for(const a of n)a instanceof bb?(r.Au.addReference(a.key,e),NC(r,a)):a instanceof Sb?(we(Og,"Document no longer in limbo: "+a.key),r.Au.removeReference(a.key,e),r.Au.containsKey(a.key)||Db(r,a.key)):Le(19791,{yu:a})}function NC(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Iu.has(a)||(we(Og,"New document in limbo: "+n),r.Iu.add(a),Mg(r))}function Mg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Ne(Dt.fromString(e)),a=r.mu.next();r.Eu.set(a,new EC(n)),r.du=r.du.insert(n,a),db(r.remoteStore,new ba(ai(gg(n.path)),a,"TargetPurposeLimboResolution",xh.ue))}}async function Tu(r,e,n){const a=qe(r),o=[],u=[],h=[];a.Pu.isEmpty()||(a.Pu.forEach((d,g)=>{h.push(a.gu(g,e,n).then(p=>{var v;if((p||n)&&a.isPrimaryClient){const w=p?!p.fromCache:(v=n?.targetChanges.get(g.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(p){o.push(p);const w=Sg.Es(g.targetId,p);u.push(w)}}))}),await Promise.all(h),a.hu.J_(o),await async function(g,p){const v=qe(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ge.forEach(p,b=>ge.forEach(b.Is,D=>v.persistence.referenceDelegate.addReference(w,b.targetId,D)).next(()=>ge.forEach(b.ds,D=>v.persistence.referenceDelegate.removeReference(w,b.targetId,D)))))}catch(w){if(!Mo(w))throw w;we(wg,"Failed to update sequence numbers: "+w)}for(const w of p){const b=w.targetId;if(!w.fromCache){const D=v.Fs.get(b),C=D.snapshotVersion,B=D.withLastLimboFreeSnapshotVersion(C);v.Fs=v.Fs.insert(b,B)}}}(a.localStore,u))}async function OC(r,e){const n=qe(r);if(!n.currentUser.isEqual(e)){we(Og,"User change. New user:",e.toKey());const a=await ub(n.localStore,e);n.currentUser=e,function(u,h){u.Vu.forEach(d=>{d.forEach(g=>{g.reject(new Se(fe.CANCELLED,h))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Tu(n,a.Bs)}}function MC(r,e){const n=qe(r),a=n.Eu.get(e);if(a&&a.lu)return nt().add(a.key);{let o=nt();const u=n.Tu.get(e);if(!u)return o;for(const h of u){const d=n.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function Cb(r){const e=qe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ab.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DC.bind(null,e),e.hu.J_=pC.bind(null,e.eventManager),e.hu.pu=yC.bind(null,e.eventManager),e}function PC(r){const e=qe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IC.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return L2(this.persistence,new V2,e.initialUser,this.serializer)}Du(e){return new lb(bg.Vi,this.serializer)}bu(e){return new G2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class VC extends Th{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){yt(this.persistence.referenceDelegate instanceof _h,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new E2(a,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new lb(a=>_h.Vi(a,n),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>z0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=OC.bind(null,this.syncEngine),await dC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gC}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),a=function(u){return new X2(u)}(e.databaseInfo);return function(u,h,d,g){return new eC(u,h,d,g)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,h,d){return new nC(a,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,n=>z0(this.syncEngine,n,0),function(){return V0.C()?new V0:new $2}())}createSyncEngine(e,n){return function(o,u,h,d,g,p,v){const w=new TC(o,u,h,d,g,p);return v&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=qe(o);we(Es,"RemoteStore shutting down."),u.Ia.add(5),await Eu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class kC{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=xn.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{we(ka,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(we(ka,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Ig(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function sm(r,e){r.asyncQueue.verifyOperationInProgress(),we(ka,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await ub(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{Ca("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{we("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Ca("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function q0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await jC(r);we(ka,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>j0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>j0(e.remoteStore,o)),r._onlineComponents=e}async function jC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){we(ka,"Using user provided OfflineComponentProvider");try{await sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===fe.FAILED_PRECONDITION||o.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ca("Error using user provided cache. Falling back to memory cache: "+n),await sm(r,new Th)}}else we(ka,"Using default OfflineComponentProvider"),await sm(r,new VC(void 0));return r._offlineComponents}async function Nb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(we(ka,"Using user provided OnlineComponentProvider"),await q0(r,r._uninitializedComponentsProvider._online)):(we(ka,"Using default OnlineComponentProvider"),await q0(r,new zm))),r._onlineComponents}function LC(r){return Nb(r).then(e=>e.syncEngine)}async function Ob(r){const e=await Nb(r),n=e.eventManager;return n.onListen=bC.bind(null,e.syncEngine),n.onUnlisten=AC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xC.bind(null,e.syncEngine),n}function UC(r,e,n={}){const a=new ji;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,p){const v=new Ib({next:b=>{v.Ou(),h.enqueueAndForget(()=>Eb(u,w));const D=b.docs.has(d);!D&&b.fromCache?p.reject(new Se(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&g&&g.source==="server"?p.reject(new Se(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),w=new Tb(gg(d.path),v,{includeMetadataChanges:!0,ka:!0});return _b(u,w)}(await Ob(r),r.asyncQueue,e,n,a)),a.promise}function BC(r,e,n={}){const a=new ji;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,p){const v=new Ib({next:b=>{v.Ou(),h.enqueueAndForget(()=>Eb(u,w)),b.fromCache&&g.source==="server"?p.reject(new Se(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),w=new Tb(d,v,{includeMetadataChanges:!0,ka:!0});return _b(u,w)}(await Ob(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firestore.googleapis.com",G0=!0;class $0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pb,this.ssl=G0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:G0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ob;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v2)throw new Se(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mb((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new QR;switch(a.type){case"firstParty":return new ZR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Se(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=F0.get(n);a&&(we("ComponentProvider","Removing Datastore"),F0.delete(n),a.terminate())}(this),Promise.resolve()}}function zC(r,e,n,a={}){var o;r=Ia(r,jh);const u=gu(e),h=r._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${n}`;u&&(WE(`https://${g}`),JE("Firestore",!0)),h.host!==Pb&&h.host!==g&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:a});if(!uh(p,d)&&(r._setSettings(p),a.mockUserToken)){let v,w;if(typeof a.mockUserToken=="string")v=a.mockUserToken,w=xn.MOCK_USER;else{v=ZE(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new Se(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new xn(b)}r._authCredentials=new KR(new vT(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class Wt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(pu(n,Wt._jsonSchema))return new Wt(e,a||null,new Ne(Dt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Xt("string",Wt._jsonSchemaVersion),referencePath:Xt("string")};class Ra extends Vo{constructor(e,n,a){super(e,n,gg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ne(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function Hn(r,e,...n){if(r=ci(r),ET("collection","path",e),r instanceof jh){const a=Dt.fromString(e,...n);return a0(a),new Ra(r,null,a)}{if(!(r instanceof Wt||r instanceof Ra))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Dt.fromString(e,...n));return a0(a),new Ra(r.firestore,null,a)}}function Nt(r,e,...n){if(r=ci(r),arguments.length===1&&(e=ug.newId()),ET("doc","path",e),r instanceof jh){const a=Dt.fromString(e,...n);return i0(a),new Wt(r,null,new Ne(a))}{if(!(r instanceof Wt||r instanceof Ra))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Dt.fromString(e,...n));return i0(a),new Wt(r.firestore,r instanceof Ra?r.converter:null,new Ne(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="AsyncQueue";class Q0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new hb(this,"async_queue_retry"),this.oc=()=>{const a=am();a&&we(Y0,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const n=am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ji;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Mo(e))throw e;we(Y0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Ui("INTERNAL UNHANDLED ERROR: ",K0(a)),a}).then(a=>(this.nc=!1,a))));return this._c=n,n}enqueueAfterDelay(e,n,a){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=Cg.createAndSchedule(this,e,n,a,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Le(47125,{hc:K0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function K0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class bu extends jh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new Q0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q0(e),this._firestoreClient=void 0,await e}}}function HC(r,e){const n=typeof r=="object"?r:lT(),a=typeof r=="string"?r:fh,o=iT(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=KE("firestore");u&&zC(o,...u)}return o}function Pg(r){if(r._terminated)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qC(r),r._firestoreClient}function qC(r){var e,n,a;const o=r._freezeSettings(),u=function(d,g,p,v){return new mD(d,g,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Mb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new kC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const g=d?._online.build();return{_offline:d?._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xr(En.fromBase64String(e))}catch(n){throw new Se(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xr(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,xr._jsonSchema))return xr.fromBase64String(e.bytes)}}xr._jsonSchemaVersion="firestore/bytes/1.0",xr._jsonSchema={type:Xt("string",xr._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(pu(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:Xt("string",li._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ui(e.vectorValues);throw new Se(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Xt("string",ui._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=/^__.*__$/;class GC{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}function kb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ec:r})}}class kg{constructor(e,n,a,o,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:a,mc:!1});return o.fc(e),o}gc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:a,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return bh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(kb(this.Ec)&&FC.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class $C{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Ph(e)}Dc(e,n,a,o=!1){return new kg({Ec:e,methodName:n,bc:a,path:_n.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jb(r){const e=r._freezeSettings(),n=Ph(r._databaseId);return new $C(r._databaseId,!!e.ignoreUndefinedProperties,n)}function YC(r,e,n,a,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Bb("Data must be an object, but it was:",h,a);const d=Lb(a,h);let g,p;if(u.merge)g=new Pr(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const w of u.mergeFields){const b=KC(e,w,n);if(!h.contains(b))throw new Se(fe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);WC(v,b)||v.push(b)}g=new Pr(v),p=h.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,p=h.fieldTransforms;return new GC(new Ar(d),g,p)}function QC(r,e,n,a=!1){return jg(n,r.Dc(a?4:3,e))}function jg(r,e){if(Ub(r=ci(r)))return Bb("Unsupported field value:",e,r),Lb(r,e);if(r instanceof Vb)return function(a,o){if(!kb(o.Ec))throw o.wc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const d of a){let g=jg(d,o.yc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=ci(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return jD(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ct.fromDate(a);return{timestampValue:vh(o.serializer,u)}}if(a instanceof Ct){const u=new Ct(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:vh(o.serializer,u)}}if(a instanceof li)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xr)return{bytesValue:eb(o.serializer,a._byteString)};if(a instanceof Wt){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Eg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ui)return function(h,d){return{mapValue:{fields:{[CT]:{stringValue:IT},[dh]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw d.wc("VectorValues must only contain numeric values.");return pg(d.serializer,p)})}}}}}}(a,o);throw o.wc(`Unsupported field value: ${Ah(a)}`)}(r,e)}function Lb(r,e){const n={};return ST(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(r,(a,o)=>{const u=jg(o,e.Vc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function Ub(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ct||r instanceof li||r instanceof xr||r instanceof Wt||r instanceof Vb||r instanceof ui)}function Bb(r,e,n){if(!Ub(n)||!TT(n)){const a=Ah(n);throw a==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+a)}}function KC(r,e,n){if((e=ci(e))instanceof Vg)return e._internalPath;if(typeof e=="string")return zb(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const XC=new RegExp("[~\\*/\\[\\]]");function zb(r,e,n){if(e.search(XC)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Vg(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,e,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${a}`),h&&(g+=` in document ${o}`),g+=")"),new Se(fe.INVALID_ARGUMENT,d+r+g)}function WC(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZC extends Hb{data(){return super.data()}}function Lg(r,e){return typeof e=="string"?zb(r,e):e instanceof Vg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Se(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class eI extends Ug{}function X0(r,e,...n){let a=[];e instanceof Ug&&a.push(e),a=a.concat(n),function(u){const h=u.filter(g=>g instanceof Bg).length,d=u.filter(g=>g instanceof Lh).length;if(h>1||h>0&&d>0)throw new Se(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Lh extends eI{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Lh(e,n,a)}_apply(e){const n=this._parse(e);return qb(e._query,n),new Vo(e.firestore,e.converter,Nm(e._query,n))}_parse(e){const n=jb(e.firestore);return function(u,h,d,g,p,v,w){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Se(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){J0(w,v);const C=[];for(const B of w)C.push(Z0(g,u,B));b={arrayValue:{values:C}}}else b=Z0(g,u,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||J0(w,v),b=QC(d,h,w,v==="in"||v==="not-in");return Kt.create(p,v,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function W0(r,e,n){const a=e,o=Lg("where",r);return Lh._create(o,a,n)}class Bg extends Ug{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bg(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const g of d)qb(h,g),h=Nm(h,g)}(e._query,n),new Vo(e.firestore,e.converter,Nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Z0(r,e,n){if(typeof(n=ci(n))=="string"){if(n==="")throw new Se(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LT(e)&&n.indexOf("/")!==-1)throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Dt.fromString(n));if(!Ne.isDocumentKey(a))throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return d0(r,new Ne(a))}if(n instanceof Wt)return d0(r,n._key);throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(n)}.`)}function J0(r,e){if(!Array.isArray(r)||r.length===0)throw new Se(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qb(r,e){const n=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tI{convertValue(e,n="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return As(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[dh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>zt(h.doubleValue));return new ui(u)}convertGeoPoint(e){return new li(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Dh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=Oa(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Dt.fromString(e);yt(sb(a),9688,{name:e});const o=new lu(a.get(1),a.get(3)),u=new Ne(a.popFirst(5));return o.isEqual(n)||Ui(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ys extends Hb{constructor(e,n,a,o,u,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Lg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",ys._jsonSchema={type:Xt("string",ys._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class nh extends ys{data(e={}){return super.data(e)}}class wo{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new nh(this._firestore,this._userDataWriter,a.key,a,new Ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const g=new nh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ql(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const g=new nh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ql(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return d.type!==0&&(p=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:rI(d.type),doc:g,oldIndex:p,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r){r=Ia(r,Wt);const e=Ia(r.firestore,bu);return UC(Pg(e),r._key).then(n=>iI(e,r,n))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Xt("string",wo._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Fb extends tI{constructor(e){super(),this.firestore=e}convertBytes(e){return new xr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function qn(r){r=Ia(r,Vo);const e=Ia(r.firestore,bu),n=Pg(e),a=new Fb(e);return JC(r._query),BC(n,r._query).then(o=>new wo(e,a,r,o))}function kt(r,e,n){r=Ia(r,Wt);const a=Ia(r.firestore,bu),o=nI(r.converter,e,n);return Gb(a,[YC(jb(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,si.none())])}function om(r){return Gb(Ia(r.firestore,bu),[new yg(r._key,si.none())])}function Gb(r,e){return function(a,o){const u=new ji;return a.asyncQueue.enqueueAndForget(async()=>RC(await LC(a),o,u)),u.promise}(Pg(r),e)}function iI(r,e,n){const a=n.docs.get(e._key),o=new Fb(r);return new ys(r,o,e._key,a,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){No=o})(sT),iu(new Ao("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new bu(new XR(a.getProvider("auth-internal")),new JR(h,a.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(p.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Aa(J_,e0,e),Aa(J_,e0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firebasestorage.googleapis.com",Yb="storageBucket",aI=2*60*1e3,sI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends ws{constructor(e,n,a=0){super(lm(e),`Firebase Storage: ${n} (${lm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function lm(r){return"storage/"+r}function zg(){const r="An unknown error occurred, please check the error payload for server response.";return new Lt(jt.UNKNOWN,r)}function oI(r){return new Lt(jt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function lI(r){return new Lt(jt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uI(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(jt.UNAUTHENTICATED,r)}function cI(){return new Lt(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hI(r){return new Lt(jt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function fI(){return new Lt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dI(){return new Lt(jt.CANCELED,"User canceled the upload/download.")}function mI(r){return new Lt(jt.INVALID_URL,"Invalid URL '"+r+"'.")}function gI(r){return new Lt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function pI(){return new Lt(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Yb+"' property when initializing the app?")}function yI(){return new Lt(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vI(){return new Lt(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _I(r){return new Lt(jt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hm(r){return new Lt(jt.INVALID_ARGUMENT,r)}function Qb(){return new Lt(jt.APP_DELETED,"The Firebase app was deleted.")}function EI(r){return new Lt(jt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eu(r,e){return new Lt(jt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function zl(r){throw new Lt(jt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=rr.makeFromUrl(e,n)}catch{return new rr(e,"")}if(a.path==="")return a;throw gI(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function p(le){le.path_=decodeURIComponent(le.path)}const v="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",D=new RegExp(`^https?://${w}/${v}/b/${o}/o${b}`,"i"),C={bucket:1,path:3},B=n===$b?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",U=new RegExp(`^https?://${B}/${o}/${z}`,"i"),$=[{regex:d,indices:g,postModify:u},{regex:D,indices:C,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let le=0;le<$.length;le++){const he=$[le],P=he.regex.exec(e);if(P){const M=P[he.indices.bucket];let R=P[he.indices.path];R||(R=""),a=new rr(M,R),he.postModify(a);break}}if(a==null)throw mI(e);return a}}class TI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(r,e,n){let a=1,o=null,u=null,h=!1,d=0;function g(){return d===2}let p=!1;function v(...z){p||(p=!0,e.apply(null,z))}function w(z){o=setTimeout(()=>{o=null,r(D,g())},z)}function b(){u&&clearTimeout(u)}function D(z,...U){if(p){b();return}if(z){b(),v.call(null,z,...U);return}if(g()||h){b(),v.call(null,z,...U);return}a<64&&(a*=2);let $;d===1?(d=2,$=0):$=(a+Math.random())*1e3,w($)}let C=!1;function B(z){C||(C=!0,b(),!p&&(o!==null?(z||(d=2),clearTimeout(o),w(0)):z||(d=1)))}return w(0),u=setTimeout(()=>{h=!0,B(!0)},n),B}function SI(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r){return r!==void 0}function AI(r){return typeof r=="object"&&!Array.isArray(r)}function Hg(r){return typeof r=="string"||r instanceof String}function eE(r){return qg()&&r instanceof Blob}function qg(){return typeof Blob<"u"}function tE(r,e,n,a){if(a<e)throw Hm(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>n)throw Hm(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(r,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${r}`}function Kb(r){const e=encodeURIComponent;let n="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var vs;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(vs||(vs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,a,o,u,h,d,g,p,v,w,b=!0,D=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=w,this.retry=b,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,B)=>{this.resolve_=C,this.reject_=B,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Gc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const g=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===vs.NO_ERROR,g=u.getStatus();if(!d||xI(g,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===vs.ABORT;a(!1,new Gc(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;a(!0,new Gc(p,u))})},n=(a,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(d,d.getResponse());wI(g)?u(g):u()}catch(g){h(g)}else if(d!==null){const g=zg();g.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,g)):h(g)}else if(o.canceled){const g=this.appDelete_?Qb():dI();h(g)}else{const g=fI();h(g)}};this.canceled_?n(!1,new Gc(!1,null,!0)):this.backoffId_=bI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gc{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function DI(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function CI(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function II(r,e){e&&(r["X-Firebase-GMPID"]=e)}function NI(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function OI(r,e,n,a,o,u,h=!0,d=!1){const g=Kb(r.urlParams),p=r.url+g,v=Object.assign({},r.headers);return II(v,e),DI(v,n),CI(v,u),NI(v,a),new RI(p,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PI(...r){const e=MI();if(e!==void 0){const n=new e;for(let a=0;a<r.length;a++)n.append(r[a]);return n.getBlob()}else{if(qg())return new Blob(r);throw new Lt(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VI(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r){if(typeof atob>"u")throw _I("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class um{constructor(e,n){this.data=e,this.contentType=n||null}}function jI(r,e){switch(r){case ri.RAW:return new um(Xb(e));case ri.BASE64:case ri.BASE64URL:return new um(Wb(r,e));case ri.DATA_URL:return new um(UI(e),BI(e))}throw zg()}function Xb(r){const e=[];for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=a,h=r.charCodeAt(++n);a=65536|(u&1023)<<10|h&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function LI(r){let e;try{e=decodeURIComponent(r)}catch{throw eu(ri.DATA_URL,"Malformed data URL.")}return Xb(e)}function Wb(r,e){switch(r){case ri.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw eu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw eu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kI(e)}catch(o){throw o.message.includes("polyfill")?o:eu(r,"Invalid character found")}const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}class Zb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw eu(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=zI(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function UI(r){const e=new Zb(r);return e.base64?Wb(ri.BASE64,e.rest):LI(e.rest)}function BI(r){return new Zb(r).contentType}function zI(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){let a=0,o="";eE(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(eE(this.data_)){const a=this.data_,o=VI(a,e,n);return o===null?null:new Ta(o)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new Ta(a,!0)}}static getBlob(...e){if(qg()){const n=e.map(a=>a instanceof Ta?a.data_:a);return new Ta(PI.apply(null,n))}else{const n=e.map(h=>Hg(h)?jI(ri.RAW,h).data:h.data_);let a=0;n.forEach(h=>{a+=h.byteLength});const o=new Uint8Array(a);let u=0;return n.forEach(h=>{for(let d=0;d<h.length;d++)o[u++]=h[d]}),new Ta(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(r){let e;try{e=JSON.parse(r)}catch{return null}return AI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function qI(r,e){const n=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?n:r+"/"+n}function eS(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r,e){return e}class Vn{constructor(e,n,a,o){this.server=e,this.local=n||e,this.writable=!!a,this.xform=o||FI}}let $c=null;function GI(r){return!Hg(r)||r.length<2?r:eS(r)}function tS(){if($c)return $c;const r=[];r.push(new Vn("bucket")),r.push(new Vn("generation")),r.push(new Vn("metageneration")),r.push(new Vn("name","fullPath",!0));function e(u,h){return GI(h)}const n=new Vn("name");n.xform=e,r.push(n);function a(u,h){return h!==void 0?Number(h):h}const o=new Vn("size");return o.xform=a,r.push(o),r.push(new Vn("timeCreated")),r.push(new Vn("updated")),r.push(new Vn("md5Hash",null,!0)),r.push(new Vn("cacheControl",null,!0)),r.push(new Vn("contentDisposition",null,!0)),r.push(new Vn("contentEncoding",null,!0)),r.push(new Vn("contentLanguage",null,!0)),r.push(new Vn("contentType",null,!0)),r.push(new Vn("metadata","customMetadata",!0)),$c=r,$c}function $I(r,e){function n(){const a=r.bucket,o=r.fullPath,u=new rr(a,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function YI(r,e,n){const a={};a.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];a[h.local]=h.xform(a,e[h.server])}return $I(a,r),a}function nS(r,e,n){const a=Jb(e);return a===null?null:YI(r,a,n)}function QI(r,e,n,a){const o=Jb(e);if(o===null||!Hg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(p=>{const v=r.bucket,w=r.fullPath,b="/b/"+h(v)+"/o/"+h(w),D=Fg(b,n,a),C=Kb({alt:"media",token:p});return D+C})[0]}function KI(r,e){const n={},a=e.length;for(let o=0;o<a;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class rS{constructor(e,n,a,o){this.url=e,this.method=n,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(r){if(!r)throw zg()}function XI(r,e){function n(a,o){const u=nS(r,o,e);return iS(u!==null),u}return n}function WI(r,e){function n(a,o){const u=nS(r,o,e);return iS(u!==null),QI(u,o,r.host,r._protocol)}return n}function aS(r){function e(n,a){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=cI():o=uI():n.getStatus()===402?o=lI(r.bucket):n.getStatus()===403?o=hI(r.path):o=a,o.status=n.getStatus(),o.serverResponse=a.serverResponse,o}return e}function ZI(r){const e=aS(r);function n(a,o){let u=e(a,o);return a.getStatus()===404&&(u=oI(r.path)),u.serverResponse=o.serverResponse,u}return n}function JI(r,e,n){const a=e.fullServerUrl(),o=Fg(a,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,d=new rS(o,u,WI(r,n),h);return d.errorHandler=ZI(e),d}function eN(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function tN(r,e,n){const a=Object.assign({},n);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=eN(null,e)),a}function nN(r,e,n,a,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function d(){let $="";for(let le=0;le<2;le++)$=$+Math.random().toString().slice(2);return $}const g=d();h["Content-Type"]="multipart/related; boundary="+g;const p=tN(e,a,o),v=KI(p,n),w="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+g+"--",D=Ta.getBlob(w,a,b);if(D===null)throw yI();const C={name:p.fullPath},B=Fg(u,r.host,r._protocol),z="POST",U=r.maxUploadRetryTime,X=new rS(B,z,XI(r,n),U);return X.urlParams=C,X.headers=h,X.body=D.uploadData(),X.errorHandler=aS(e),X}class rN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,o,u){if(this.sent_)throw zl("cannot .send() more than once");if(gu(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iN extends rN{initXhr(){this.xhr_.responseType="text"}}function sS(){return new iN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ts(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eS(this._location.path)}get storage(){return this._service}get parent(){const e=HI(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new Ts(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw EI(e)}}function aN(r,e,n){r._throwIfRoot("uploadBytes");const a=nN(r.storage,r._location,tS(),new Ta(e,!0),n);return r.storage.makeRequestWithTokens(a,sS).then(o=>({metadata:o,ref:r}))}function sN(r){r._throwIfRoot("getDownloadURL");const e=JI(r.storage,r._location,tS());return r.storage.makeRequestWithTokens(e,sS).then(n=>{if(n===null)throw vI();return n})}function oN(r,e){const n=qI(r._location.path,e),a=new rr(r._location.bucket,n);return new Ts(r.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(r){return/^[A-Za-z]+:\/\//.test(r)}function uN(r,e){return new Ts(r,e)}function oS(r,e){if(r instanceof Gg){const n=r;if(n._bucket==null)throw pI();const a=new Ts(n,n._bucket);return e!=null?oS(a,e):a}else return e!==void 0?oN(r,e):r}function cN(r,e){if(e&&lN(e)){if(r instanceof Gg)return uN(r,e);throw Hm("To use ref(service, url), the first argument must be a Storage instance.")}else return oS(r,e)}function nE(r,e){const n=e?.[Yb];return n==null?null:rr.makeFromBucketSpec(n,r)}function hN(r,e,n,a={}){r.host=`${e}:${n}`;const o=gu(e);o&&(WE(`https://${r.host}/b`),JE("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(r._overrideAuthToken=typeof u=="string"?u:ZE(u,r.app.options.projectId))}class Gg{constructor(e,n,a,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=$b,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aI,this._maxUploadRetryTime=sI,this._requests=new Set,o!=null?this._bucket=rr.makeFromBucketSpec(o,this._host):this._bucket=nE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=nE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(aT(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ts(this,e)}_makeRequest(e,n,a,o,u=!0){if(this._deleted)return new TI(Qb());{const h=OI(e,this._appId,a,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const rE="@firebase/storage",iE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="storage";function fN(r,e,n){return r=ci(r),aN(r,e,n)}function dN(r){return r=ci(r),sN(r)}function mN(r,e){return r=ci(r),cN(r,e)}function gN(r=lT(),e){r=ci(r);const a=iT(r,lS).getImmediate({identifier:e}),o=KE("storage");return o&&pN(a,...o),a}function pN(r,e,n,a={}){hN(r,e,n,a)}function yN(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Gg(n,a,o,e,sT)}function vN(){iu(new Ao(lS,yN,"PUBLIC").setMultipleInstances(!0)),Aa(rE,iE,""),Aa(rE,iE,"esm2017")}vN();const _N={apiKey:"AIzaSyAfEeMMgpZr8-1NGeatOe6K4NdG23HPCvI",authDomain:"saint-mark-leagues.firebaseapp.com",databaseURL:"https://saint-mark-leagues-default-rtdb.firebaseio.com",projectId:"saint-mark-leagues",storageBucket:"saint-mark-leagues.firebasestorage.app",messagingSenderId:"974377360398",appId:"1:974377360398:web:0b5865d69deff9adb6f05f"},uS=oT(_N),We=HC(uS),EN=gN(uS),TN=()=>E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Saint Mark Leagues"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",id:"active",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),bN=()=>E.jsxs("aside",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",id:"active",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),SN=()=>{const[r,e]=q.useState(""),[n,a]=q.useState(""),[o,u]=q.useState("A"),[h,d]=q.useState(["","","","",""]),[g,p]=q.useState([null,null,null,null,null]),[v,w]=q.useState(!1),[b,D]=q.useState(""),C=(U,X)=>{d($=>$.map((le,he)=>he===U?X:le))},B=(U,X)=>{p($=>$.map((le,he)=>he===U?X:le))},z=async U=>{if(U.preventDefault(),D(""),!r.trim()||!n.trim()){D("League and team name required!");return}w(!0);try{const X=Nt(We,"leagues",r),le=!(await qn(X0(Hn(We,"leagues"),W0("name","==",r)))).empty;if(!le){const I={name:r,matchMinutes:document.getElementById("matchMinutes")?.value||10,maxTeams:document.getElementById("maxTeams")?.value||4,maxPlayers:document.getElementById("maxPlayers")?.value||5,pointsWin:document.getElementById("pointsWin")?.value||3,pointsDraw:document.getElementById("pointsDraw")?.value||1,pointsLose:document.getElementById("pointsLose")?.value||0,classification:o};await kt(X,I)}const he=r,P=Nt(We,`leagues/${he}/teams`,n);if(!(await qn(X0(Hn(We,`leagues/${he}/teams`),W0("name","==",n)))).empty){D("Team or league already exists!"),w(!1);return}const R=await Promise.all(h.map(async(I,N)=>{if(!I.trim())return null;let V="";if(g[N]){const O=mN(EN,`leagues/${he}/teams/${n}/players/${I}_${Date.now()}`);await fN(O,g[N]),V=await dN(O)}return{name:I,image:V,goals:0,assists:0,POTM:0}}));await kt(P,{name:n,DG:0,GA:0,Dif:0,Points:0,players:R.filter(Boolean),classification:o}),D(le?`Added ${n} team to ${r} league!`:"League, team, and players assigned!"),a(""),d(["","","","",""]),p([null,null,null,null,null])}catch(X){D("Error assigning league: "+X.message)}w(!1)};return E.jsxs("main",{className:"dashboard-main",children:[E.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",zIndex:100},children:E.jsx(TN,{})}),E.jsxs("div",{className:"d-container",children:[E.jsx("div",{className:"dashboard-sidenav",children:E.jsx(bN,{})}),E.jsx("div",{className:"dashboard-content",children:E.jsxs("section",{className:"dashboard-main-section",children:[E.jsxs("div",{className:"dashboard-card",children:[E.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:E.jsx("div",{style:{background:"#2563eb",color:"#fff",borderRadius:"50%",width:"54px",height:"54px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:900,fontSize:"1.5rem",letterSpacing:"1px"},children:"LE"})}),E.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginBottom:"24px"},children:E.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem",color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:"4px"},children:"LEAGUE SETTINGS"})}),E.jsxs("form",{className:"dashboard-form",autoComplete:"off",children:[E.jsx("input",{type:"text",id:"leagueName",name:"leagueName",placeholder:"Enter league name",value:r,onChange:U=>e(U.target.value),required:!0,className:"league-name-input"}),E.jsxs("div",{className:"dashboard-form-row",children:[E.jsx("input",{type:"number",id:"matchMinutes",name:"matchMinutes",min:"1",max:"180",placeholder:"Match Time (minutes)",className:"default-info-input"}),E.jsx("input",{type:"number",id:"maxTeams",name:"maxTeams",min:"2",max:"32",placeholder:"Max Teams in a Group",className:"default-info-input"}),E.jsx("input",{type:"number",id:"maxPlayers",name:"maxPlayers",min:"1",max:"180",placeholder:"Max Players in a Team",className:"default-info-input"}),E.jsx("input",{type:"number",id:"pointsWin",name:"pointsWin",min:"0",max:"32",placeholder:"Points per Win",className:"default-info-input",defaultValue:3}),E.jsx("input",{type:"number",id:"pointsDraw",name:"pointsDraw",min:"0",max:"32",placeholder:"Points per Draw",className:"default-info-input",defaultValue:1}),E.jsx("input",{type:"number",id:"pointsLose",name:"pointsLose",min:"0",max:"32",placeholder:"Points per Lose",className:"default-info-input",defaultValue:0})]})]})]}),E.jsxs("div",{className:"dashboard-card",children:[E.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:E.jsx("div",{style:{background:"#2563eb",color:"#fff",borderRadius:"50%",width:"54px",height:"54px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:900,fontSize:"1.5rem",letterSpacing:"1px"},children:"TP"})}),E.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginBottom:"24px"},children:E.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem",color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:"4px"},children:"ADD TEAM & PLAYERS"})}),E.jsxs("form",{className:"dashboard-form",onSubmit:z,autoComplete:"off",children:[E.jsxs("div",{className:"team-input-row",children:[E.jsx("input",{type:"text",placeholder:"Team Name",className:"team-name-input",value:n,onChange:U=>a(U.target.value),required:!0}),E.jsxs("select",{className:"team-classification-input",value:o,onChange:U=>u(U.target.value),required:!0,children:[E.jsx("option",{value:"A",children:"A"}),E.jsx("option",{value:"B",children:"B"}),E.jsx("option",{value:"C",children:"C"}),E.jsx("option",{value:"D",children:"D"})]})]}),E.jsx("div",{className:"players-list",children:h.map((U,X)=>E.jsxs("div",{className:"player-input-row",children:[E.jsx("input",{type:"text",placeholder:`Player ${X+1}`,className:"player-input",value:U,onChange:$=>C(X,$.target.value),required:!0}),E.jsx("input",{type:"file",accept:"image/*",id:`player-image-input-${X}`,style:{display:"none"},onChange:$=>{$.target.files&&$.target.files[0]&&B(X,$.target.files[0])}}),g[X]?E.jsx("img",{src:URL.createObjectURL(g[X]),alt:`Player ${X+1} Preview`,className:"player-img-preview",title:"Change Player Image",onClick:()=>document.getElementById(`player-image-input-${X}`).click()}):E.jsx("button",{type:"button",className:"add-image-btn",title:"Add Player Image",onClick:()=>document.getElementById(`player-image-input-${X}`).click(),children:""})]},X))}),E.jsx("button",{type:"submit",className:"submit-league-btn",id:"submit-league-btn",disabled:v,children:v?"Saving...":"Assign League"}),b&&E.jsx("div",{className:"dashboard-error",children:b})]})]})]})})]})]})},cS=q.createContext({dragDropManager:void 0});function br(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var aE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),sE=function(){return Math.random().toString(36).substring(7).split("").join(".")},oE={INIT:"@@redux/INIT"+sE(),REPLACE:"@@redux/REPLACE"+sE()};function wN(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function hS(r,e,n){var a;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(br(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(br(1));return n(hS)(r,e)}if(typeof r!="function")throw new Error(br(2));var o=r,u=e,h=[],d=h,g=!1;function p(){d===h&&(d=h.slice())}function v(){if(g)throw new Error(br(3));return u}function w(B){if(typeof B!="function")throw new Error(br(4));if(g)throw new Error(br(5));var z=!0;return p(),d.push(B),function(){if(z){if(g)throw new Error(br(6));z=!1,p();var X=d.indexOf(B);d.splice(X,1),h=null}}}function b(B){if(!wN(B))throw new Error(br(7));if(typeof B.type>"u")throw new Error(br(8));if(g)throw new Error(br(9));try{g=!0,u=o(u,B)}finally{g=!1}for(var z=h=d,U=0;U<z.length;U++){var X=z[U];X()}return B}function D(B){if(typeof B!="function")throw new Error(br(10));o=B,b({type:oE.REPLACE})}function C(){var B,z=w;return B={subscribe:function(X){if(typeof X!="object"||X===null)throw new Error(br(11));function $(){X.next&&X.next(v())}$();var le=z($);return{unsubscribe:le}}},B[aE]=function(){return this},B}return b({type:oE.INIT}),a={dispatch:b,subscribe:w,getState:v,replaceReducer:D},a[aE]=C,a}function Fe(r,e,...n){if(AN()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let a;if(e===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;a=new Error(e.replace(/%s/g,function(){return n[o++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}function AN(){return typeof process<"u"&&!0}function xN(r,e,n){return e.split(".").reduce((a,o)=>a&&a[o]?a[o]:n||null,r)}function RN(r,e){return r.filter(n=>n!==e)}function fS(r){return typeof r=="object"}function DN(r,e){const n=new Map,a=u=>{n.set(u,n.has(u)?n.get(u)+1:1)};r.forEach(a),e.forEach(a);const o=[];return n.forEach((u,h)=>{u===1&&o.push(h)}),o}function CN(r,e){return r.filter(n=>e.indexOf(n)>-1)}const $g="dnd-core/INIT_COORDS",Uh="dnd-core/BEGIN_DRAG",Yg="dnd-core/PUBLISH_DRAG_SOURCE",Bh="dnd-core/HOVER",zh="dnd-core/DROP",Hh="dnd-core/END_DRAG";function lE(r,e){return{type:$g,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const IN={type:$g,payload:{clientOffset:null,sourceClientOffset:null}};function NN(r){return function(n=[],a={publishSource:!0}){const{publishSource:o=!0,clientOffset:u,getSourceClientOffset:h}=a,d=r.getMonitor(),g=r.getRegistry();r.dispatch(lE(u)),ON(n,d,g);const p=VN(n,d);if(p==null){r.dispatch(IN);return}let v=null;if(u){if(!h)throw new Error("getSourceClientOffset must be defined");MN(h),v=h(p)}r.dispatch(lE(u,v));const b=g.getSource(p).beginDrag(d,p);if(b==null)return;PN(b),g.pinSource(p);const D=g.getSourceType(p);return{type:Uh,payload:{itemType:D,item:b,sourceId:p,clientOffset:u||null,sourceClientOffset:v||null,isSourcePublic:!!o}}}}function ON(r,e,n){Fe(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(a){Fe(n.getSource(a),"Expected sourceIds to be registered.")})}function MN(r){Fe(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function PN(r){Fe(fS(r),"Item must be an object.")}function VN(r,e){let n=null;for(let a=r.length-1;a>=0;a--)if(e.canDragSource(r[a])){n=r[a];break}return n}function kN(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function jN(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){kN(r,o,n[o])})}return r}function LN(r){return function(n={}){const a=r.getMonitor(),o=r.getRegistry();UN(a),HN(a).forEach((h,d)=>{const g=BN(h,d,o,a),p={type:zh,payload:{dropResult:jN({},n,g)}};r.dispatch(p)})}}function UN(r){Fe(r.isDragging(),"Cannot call drop while not dragging."),Fe(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function BN(r,e,n,a){const o=n.getTarget(r);let u=o?o.drop(a,r):void 0;return zN(u),typeof u>"u"&&(u=e===0?{}:a.getDropResult()),u}function zN(r){Fe(typeof r>"u"||fS(r),"Drop result must either be an object or undefined.")}function HN(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function qN(r){return function(){const n=r.getMonitor(),a=r.getRegistry();FN(n);const o=n.getSourceId();return o!=null&&(a.getSource(o,!0).endDrag(n,o),a.unpinSource()),{type:Hh}}}function FN(r){Fe(r.isDragging(),"Cannot call endDrag while not dragging.")}function qm(r,e){return e===null?r===null:Array.isArray(r)?r.some(n=>n===e):r===e}function GN(r){return function(n,{clientOffset:a}={}){$N(n);const o=n.slice(0),u=r.getMonitor(),h=r.getRegistry(),d=u.getItemType();return QN(o,h,d),YN(o,u,h),KN(o,u,h),{type:Bh,payload:{targetIds:o,clientOffset:a||null}}}}function $N(r){Fe(Array.isArray(r),"Expected targetIds to be an array.")}function YN(r,e,n){Fe(e.isDragging(),"Cannot call hover while not dragging."),Fe(!e.didDrop(),"Cannot call hover after drop.");for(let a=0;a<r.length;a++){const o=r[a];Fe(r.lastIndexOf(o)===a,"Expected targetIds to be unique in the passed array.");const u=n.getTarget(o);Fe(u,"Expected targetIds to be registered.")}}function QN(r,e,n){for(let a=r.length-1;a>=0;a--){const o=r[a],u=e.getTargetType(o);qm(u,n)||r.splice(a,1)}}function KN(r,e,n){r.forEach(function(a){n.getTarget(a).hover(e,a)})}function XN(r){return function(){if(r.getMonitor().isDragging())return{type:Yg}}}function WN(r){return{beginDrag:NN(r),publishDragSource:XN(r),hover:GN(r),drop:LN(r),endDrag:qN(r)}}class ZN{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function a(u){return(...h)=>{const d=u.apply(e,h);typeof d<"u"&&n(d)}}const o=WN(this);return Object.keys(o).reduce((u,h)=>{const d=o[h];return u[h]=a(d),u},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const a=this.store.getState().refCount>0;this.backend&&(a&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!a&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function JN(r,e){return{x:r.x+e.x,y:r.y+e.y}}function dS(r,e){return{x:r.x-e.x,y:r.y-e.y}}function eO(r){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:a}=r;return!e||!n||!a?null:dS(JN(e,a),n)}function tO(r){const{clientOffset:e,initialClientOffset:n}=r;return!e||!n?null:dS(e,n)}const tu=[],Qg=[];tu.__IS_NONE__=!0;Qg.__IS_ALL__=!0;function nO(r,e){return r===tu?!1:r===Qg||typeof e>"u"?!0:CN(e,r).length>0}class rO{subscribeToStateChange(e,n={}){const{handlerIds:a}=n;Fe(typeof e=="function","listener must be a function."),Fe(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const u=()=>{const h=this.store.getState(),d=h.stateId;try{d===o||d===o+1&&!nO(h.dirtyHandlerIds,a)||e()}finally{o=d}};return this.store.subscribe(u)}subscribeToOffsetChange(e){Fe(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const a=()=>{const o=this.store.getState().dragOffset;o!==n&&(n=o,e())};return this.store.subscribe(a)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return Fe(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(Fe(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const a=this.registry.getTargetType(e),o=this.getItemType();return qm(a,o)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(Fe(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const a=this.registry.getSourceType(e),o=this.getItemType();return a!==o?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:a}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),u=this.getItemType();if(u&&!qm(o,u))return!1;const h=this.getTargetIds();if(!h.length)return!1;const d=h.indexOf(e);return a?d===h.length-1:d>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return eO(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return tO(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const uE=typeof global<"u"?global:self,mS=uE.MutationObserver||uE.WebKitMutationObserver;function gS(r){return function(){const n=setTimeout(o,0),a=setInterval(o,50);function o(){clearTimeout(n),clearInterval(a),r()}}}function iO(r){let e=1;const n=new mS(r),a=document.createTextNode("");return n.observe(a,{characterData:!0}),function(){e=-e,a.data=e}}const aO=typeof mS=="function"?iO:gS;class sO{enqueueTask(e){const{queue:n,requestFlush:a}=this;n.length||(a(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let a=0,o=e.length-this.index;a<o;a++)e[a]=e[a+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=aO(this.flush),this.requestErrorThrow=gS(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class oO{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class lO{create(e){const n=this.freeTasks,a=n.length?n.pop():new oO(this.onError,o=>n[n.length]=o);return a.task=e,a}constructor(e){this.onError=e,this.freeTasks=[]}}const pS=new sO,uO=new lO(pS.registerPendingError);function cO(r){pS.enqueueTask(uO.create(r))}const Kg="dnd-core/ADD_SOURCE",Xg="dnd-core/ADD_TARGET",Wg="dnd-core/REMOVE_SOURCE",qh="dnd-core/REMOVE_TARGET";function hO(r){return{type:Kg,payload:{sourceId:r}}}function fO(r){return{type:Xg,payload:{targetId:r}}}function dO(r){return{type:Wg,payload:{sourceId:r}}}function mO(r){return{type:qh,payload:{targetId:r}}}function gO(r){Fe(typeof r.canDrag=="function","Expected canDrag to be a function."),Fe(typeof r.beginDrag=="function","Expected beginDrag to be a function."),Fe(typeof r.endDrag=="function","Expected endDrag to be a function.")}function pO(r){Fe(typeof r.canDrop=="function","Expected canDrop to be a function."),Fe(typeof r.hover=="function","Expected hover to be a function."),Fe(typeof r.drop=="function","Expected beginDrag to be a function.")}function Fm(r,e){if(e&&Array.isArray(r)){r.forEach(n=>Fm(n,!1));return}Fe(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var wr;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(wr||(wr={}));let yO=0;function vO(){return yO++}function _O(r){const e=vO().toString();switch(r){case wr.SOURCE:return`S${e}`;case wr.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function cE(r){switch(r[0]){case"S":return wr.SOURCE;case"T":return wr.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function hE(r,e){const n=r.entries();let a=!1;do{const{done:o,value:[,u]}=n.next();if(u===e)return!0;a=!!o}while(!a);return!1}class EO{addSource(e,n){Fm(e),gO(n);const a=this.addHandler(wr.SOURCE,e,n);return this.store.dispatch(hO(a)),a}addTarget(e,n){Fm(e,!0),pO(n);const a=this.addHandler(wr.TARGET,e,n);return this.store.dispatch(fO(a)),a}containsHandler(e){return hE(this.dragSources,e)||hE(this.dropTargets,e)}getSource(e,n=!1){return Fe(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Fe(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Fe(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Fe(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return cE(e)===wr.SOURCE}isTargetId(e){return cE(e)===wr.TARGET}removeSource(e){Fe(this.getSource(e),"Expected an existing source."),this.store.dispatch(dO(e)),cO(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){Fe(this.getTarget(e),"Expected an existing target."),this.store.dispatch(mO(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);Fe(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){Fe(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,a){const o=_O(e);return this.types.set(o,n),e===wr.SOURCE?this.dragSources.set(o,a):e===wr.TARGET&&this.dropTargets.set(o,a),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const TO=(r,e)=>r===e;function bO(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function SO(r,e,n=TO){if(r.length!==e.length)return!1;for(let a=0;a<r.length;++a)if(!n(r[a],e[a]))return!1;return!0}function wO(r=tu,e){switch(e.type){case Bh:break;case Kg:case Xg:case qh:case Wg:return tu;case Uh:case Yg:case Hh:case zh:default:return Qg}const{targetIds:n=[],prevTargetIds:a=[]}=e.payload,o=DN(n,a);if(!(o.length>0||!SO(n,a)))return tu;const h=a[a.length-1],d=n[n.length-1];return h!==d&&(h&&o.push(h),d&&o.push(d)),o}function AO(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function xO(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){AO(r,o,n[o])})}return r}const fE={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function RO(r=fE,e){const{payload:n}=e;switch(e.type){case $g:case Uh:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Bh:return bO(r.clientOffset,n.clientOffset)?r:xO({},r,{clientOffset:n.clientOffset});case Hh:case zh:return fE;default:return r}}function DO(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function po(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){DO(r,o,n[o])})}return r}const CO={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function IO(r=CO,e){const{payload:n}=e;switch(e.type){case Uh:return po({},r,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Yg:return po({},r,{isSourcePublic:!0});case Bh:return po({},r,{targetIds:n.targetIds});case qh:return r.targetIds.indexOf(n.targetId)===-1?r:po({},r,{targetIds:RN(r.targetIds,n.targetId)});case zh:return po({},r,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Hh:return po({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function NO(r=0,e){switch(e.type){case Kg:case Xg:return r+1;case Wg:case qh:return r-1;default:return r}}function OO(r=0){return r+1}function MO(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function PO(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){MO(r,o,n[o])})}return r}function VO(r={},e){return{dirtyHandlerIds:wO(r.dirtyHandlerIds,{type:e.type,payload:PO({},e.payload,{prevTargetIds:xN(r,"dragOperation.targetIds",[])})}),dragOffset:RO(r.dragOffset,e),refCount:NO(r.refCount,e),dragOperation:IO(r.dragOperation,e),stateId:OO(r.stateId)}}function kO(r,e=void 0,n={},a=!1){const o=jO(a),u=new rO(o,new EO(o)),h=new ZN(o,u),d=r(h,e,n);return h.receiveBackend(d),h}function jO(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return hS(VO,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function LO(r,e){if(r==null)return{};var n=UO(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function UO(r,e){if(r==null)return{};var n={},a=Object.keys(r),o,u;for(u=0;u<a.length;u++)o=a[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}let dE=0;const rh=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var BO=q.memo(function(e){var{children:n}=e,a=LO(e,["children"]);const[o,u]=zO(a);return q.useEffect(()=>{if(u){const h=yS();return++dE,()=>{--dE===0&&(h[rh]=null)}}},[]),E.jsx(cS.Provider,{value:o,children:n})});function zO(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=HO(r.backend,r.context,r.options,r.debugMode),n=!r.context;return[e,n]}function HO(r,e=yS(),n,a){const o=e;return o[rh]||(o[rh]={dragDropManager:kO(r,e,n,a)}),o[rh]}function yS(){return typeof global<"u"?global:window}var cm,mE;function qO(){return mE||(mE=1,cm=function r(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var a,o,u;if(Array.isArray(e)){if(a=e.length,a!=n.length)return!1;for(o=a;o--!==0;)if(!r(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(u=Object.keys(e),a=u.length,a!==Object.keys(n).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=a;o--!==0;){var h=u[o];if(!r(e[h],n[h]))return!1}return!0}return e!==e&&n!==n}),cm}var FO=qO();const GO=ew(FO),bs=typeof window<"u"?q.useLayoutEffect:q.useEffect;function $O(r,e,n){const[a,o]=q.useState(()=>e(r)),u=q.useCallback(()=>{const h=e(r);GO(a,h)||(o(h),n&&n())},[a,r,n]);return bs(u),[a,u]}function YO(r,e,n){const[a,o]=$O(r,e,n);return bs(function(){const h=r.getHandlerId();if(h!=null)return r.subscribeToStateChange(o,{handlerIds:[h]})},[r,o]),a}function vS(r,e,n){return YO(e,r||(()=>({})),()=>n.reconnect())}function _S(r,e){const n=[];return typeof r!="function"&&n.push(r),q.useMemo(()=>typeof r=="function"?r():r,n)}function QO(r){return q.useMemo(()=>r.hooks.dragSource(),[r])}function KO(r){return q.useMemo(()=>r.hooks.dragPreview(),[r])}let hm=!1,fm=!1;class XO{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Fe(!hm,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return hm=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{hm=!1}}isDragging(){if(!this.sourceId)return!1;Fe(!fm,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return fm=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{fm=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let dm=!1;class WO{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;Fe(!dm,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return dm=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{dm=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function ZO(r,e,n){const a=n.getRegistry(),o=a.addTarget(r,e);return[o,()=>a.removeTarget(o)]}function JO(r,e,n){const a=n.getRegistry(),o=a.addSource(r,e);return[o,()=>a.removeSource(o)]}function Gm(r,e,n,a){let o;if(o!==void 0)return!!o;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const u=Object.keys(r),h=Object.keys(e);if(u.length!==h.length)return!1;const d=Object.prototype.hasOwnProperty.bind(e);for(let g=0;g<u.length;g++){const p=u[g];if(!d(p))return!1;const v=r[p],w=e[p];if(o=void 0,o===!1||o===void 0&&v!==w)return!1}return!0}function $m(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function eM(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function tM(r){return(e=null,n=null)=>{if(!q.isValidElement(e)){const u=e;return r(u,n),u}const a=e;return eM(a),nM(a,n?u=>r(u,n):r)}}function ES(r){const e={};return Object.keys(r).forEach(n=>{const a=r[n];if(n.endsWith("Ref"))e[n]=r[n];else{const o=tM(a);e[n]=()=>o}}),e}function gE(r,e){typeof r=="function"?r(e):r.current=e}function nM(r,e){const n=r.ref;return Fe(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?q.cloneElement(r,{ref:a=>{gE(n,a),gE(e,a)}}):q.cloneElement(r,{ref:e})}class rM{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,a=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(a&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}a&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Gm(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Gm(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=ES({dragSource:(n,a)=>{this.clearDragSource(),this.dragSourceOptions=a||null,$m(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,a)=>{this.clearDragPreview(),this.dragPreviewOptions=a||null,$m(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class iM{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Gm(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=ES({dropTarget:(n,a)=>{this.clearDropTarget(),this.dropTargetOptions=a,$m(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function ko(){const{dragDropManager:r}=q.useContext(cS);return Fe(r!=null,"Expected drag drop context"),r}function aM(r,e){const n=ko(),a=q.useMemo(()=>new rM(n.getBackend()),[n]);return bs(()=>(a.dragSourceOptions=r||null,a.reconnect(),()=>a.disconnectDragSource()),[a,r]),bs(()=>(a.dragPreviewOptions=e||null,a.reconnect(),()=>a.disconnectDragPreview()),[a,e]),a}function sM(){const r=ko();return q.useMemo(()=>new XO(r),[r])}class oM{beginDrag(){const e=this.spec,n=this.monitor;let a=null;return typeof e.item=="object"?a=e.item:typeof e.item=="function"?a=e.item(n):a={},a??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const a=this.spec,o=this.monitor,{isDragging:u}=a;return u?u(o):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,a=this.connector,{end:o}=e;o&&o(n.getItem(),n),a.reconnect()}constructor(e,n,a){this.spec=e,this.monitor=n,this.connector=a}}function lM(r,e,n){const a=q.useMemo(()=>new oM(r,e,n),[e,n]);return q.useEffect(()=>{a.spec=r},[r]),a}function uM(r){return q.useMemo(()=>{const e=r.type;return Fe(e!=null,"spec.type must be defined"),e},[r])}function cM(r,e,n){const a=ko(),o=lM(r,e,n),u=uM(r);bs(function(){if(u!=null){const[d,g]=JO(u,o,a);return e.receiveHandlerId(d),n.receiveHandlerId(d),g}},[a,e,n,o,u])}function TS(r,e){const n=_S(r);Fe(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const a=sM(),o=aM(n.options,n.previewOptions);return cM(n,a,o),[vS(n.collect,a,o),QO(o),KO(o)]}function hM(r){return q.useMemo(()=>r.hooks.dropTarget(),[r])}function fM(r){const e=ko(),n=q.useMemo(()=>new iM(e.getBackend()),[e]);return bs(()=>(n.dropTargetOptions=r||null,n.reconnect(),()=>n.disconnectDropTarget()),[r]),n}function dM(){const r=ko();return q.useMemo(()=>new WO(r),[r])}function mM(r){const{accept:e}=r;return q.useMemo(()=>(Fe(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class gM{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function pM(r,e){const n=q.useMemo(()=>new gM(r,e),[e]);return q.useEffect(()=>{n.spec=r},[r]),n}function yM(r,e,n){const a=ko(),o=pM(r,e),u=mM(r);bs(function(){const[d,g]=ZO(u,o,a);return e.receiveHandlerId(d),n.receiveHandlerId(d),g},[a,e,o,n,u.map(h=>h.toString()).join("|")])}function bS(r,e){const n=_S(r),a=dM(),o=fM(n.options);return yM(n,a,o),[vS(n.collect,a,o),hM(o)]}function SS(r){let e=null;return()=>(e==null&&(e=r()),e)}function vM(r,e){return r.filter(n=>n!==e)}function _M(r,e){const n=new Set,a=u=>n.add(u);r.forEach(a),e.forEach(a);const o=[];return n.forEach(u=>o.push(u)),o}class EM{enter(e){const n=this.entered.length,a=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=_M(this.entered.filter(a),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=vM(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class TM{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(a=>{const o=this.config.exposeProperties[a];o!=null&&(n[a]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const wS="__NATIVE_FILE__",AS="__NATIVE_URL__",xS="__NATIVE_TEXT__",RS="__NATIVE_HTML__",pE=Object.freeze(Object.defineProperty({__proto__:null,FILE:wS,HTML:RS,TEXT:xS,URL:AS},Symbol.toStringTag,{value:"Module"}));function mm(r,e,n){const a=e.reduce((o,u)=>o||r.getData(u),"");return a??n}const Ym={[wS]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[RS]:{exposeProperties:{html:(r,e)=>mm(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[AS]:{exposeProperties:{urls:(r,e)=>mm(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[xS]:{exposeProperties:{text:(r,e)=>mm(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function bM(r,e){const n=Ym[r];if(!n)throw new Error(`native type ${r} has no configuration`);const a=new TM(n);return a.loadDataTransfer(e),a}function gm(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(Ym).filter(n=>{const a=Ym[n];return a?.matchesTypes?a.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}const SM=SS(()=>/firefox/i.test(navigator.userAgent)),DS=SS(()=>!!window.safari);class yE{interpolate(e){const{xs:n,ys:a,c1s:o,c2s:u,c3s:h}=this;let d=n.length-1;if(e===n[d])return a[d];let g=0,p=h.length-1,v;for(;g<=p;){v=Math.floor(.5*(g+p));const D=n[v];if(D<e)g=v+1;else if(D>e)p=v-1;else return a[v]}d=Math.max(0,p);const w=e-n[d],b=w*w;return a[d]+o[d]*w+u[d]*b+h[d]*w*b}constructor(e,n){const{length:a}=e,o=[];for(let D=0;D<a;D++)o.push(D);o.sort((D,C)=>e[D]<e[C]?-1:1);const u=[],h=[];let d,g;for(let D=0;D<a-1;D++)d=e[D+1]-e[D],g=n[D+1]-n[D],u.push(d),h.push(g/d);const p=[h[0]];for(let D=0;D<u.length-1;D++){const C=h[D],B=h[D+1];if(C*B<=0)p.push(0);else{d=u[D];const z=u[D+1],U=d+z;p.push(3*U/((U+z)/C+(U+d)/B))}}p.push(h[h.length-1]);const v=[],w=[];let b;for(let D=0;D<p.length-1;D++){b=h[D];const C=p[D],B=1/u[D],z=C+p[D+1]-b-b;v.push((b-C-z)*B),w.push(z*B*B)}this.xs=e,this.ys=n,this.c1s=p,this.c2s=v,this.c3s=w}}const wM=1;function CS(r){const e=r.nodeType===wM?r:r.parentElement;if(!e)return null;const{top:n,left:a}=e.getBoundingClientRect();return{x:a,y:n}}function Yc(r){return{x:r.clientX,y:r.clientY}}function AM(r){var e;return r.nodeName==="IMG"&&(SM()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function xM(r,e,n,a){let o=r?e.width:n,u=r?e.height:a;return DS()&&r&&(u/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:u}}function RM(r,e,n,a,o){const u=AM(e),d=CS(u?r:e),g={x:n.x-d.x,y:n.y-d.y},{offsetWidth:p,offsetHeight:v}=r,{anchorX:w,anchorY:b}=a,{dragPreviewWidth:D,dragPreviewHeight:C}=xM(u,e,p,v),B=()=>{let P=new yE([0,.5,1],[g.y,g.y/v*C,g.y+C-v]).interpolate(b);return DS()&&u&&(P+=(window.devicePixelRatio-1)*C),P},z=()=>new yE([0,.5,1],[g.x,g.x/p*D,g.x+D-p]).interpolate(w),{offsetX:U,offsetY:X}=o,$=U===0||U,le=X===0||X;return{x:$?U:z(),y:le?X:B()}}class DM{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function CM(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function vE(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){CM(r,o,n[o])})}return r}class IM{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,a){return this.sourcePreviewNodeOptions.set(e,a),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,a){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,a);const o=h=>this.handleDragStart(h,e),u=h=>this.handleSelectStart(h);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",u),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",u),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const a=h=>this.handleDragEnter(h,e),o=h=>this.handleDragOver(h,e),u=h=>this.handleDrop(h,e);return n.addEventListener("dragenter",a),n.addEventListener("dragover",o),n.addEventListener("drop",u),()=>{n.removeEventListener("dragenter",a),n.removeEventListener("dragover",o),n.removeEventListener("drop",u)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return vE({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return vE({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(pE).some(n=>pE[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=bM(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var a;return(a=this.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,a){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const u=this.sourceNodes.get(o);return u&&CS(u)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:u}=this;this.dragStartSourceIds=null;const h=Yc(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(u||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:h});const{dataTransfer:d}=o,g=gm(d);if(this.monitor.isDragging()){if(d&&typeof d.setDragImage=="function"){const v=this.monitor.getSourceId(),w=this.sourceNodes.get(v),b=this.sourcePreviewNodes.get(v)||w;if(b){const{anchorX:D,anchorY:C,offsetX:B,offsetY:z}=this.getCurrentSourcePreviewNodeOptions(),$=RM(w,b,h,{anchorX:D,anchorY:C},{offsetX:B,offsetY:z});d.setDragImage(b,$.x,$.y)}}try{d?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:p}=this.getCurrentSourcePreviewNodeOptions();p?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(g)this.beginDragNativeItem(g);else{if(d&&!d.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var u;(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:d}=o,g=gm(d);g&&this.beginDragNativeItem(g,d)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:u}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,u.length>0&&this.actions.hover(u,{clientOffset:Yc(o)}),u.some(d=>this.monitor.canDropOnTarget(d))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var u;(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:u}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=Yc(o),this.scheduleHover(u),(u||[]).some(d=>this.monitor.canDropOnTarget(d))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var u;o.preventDefault(),(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(o.dataTransfer)}else gm(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:u}=this;this.dropTargetIds=[],this.actions.hover(u,{clientOffset:Yc(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const u=o.target;typeof u.dragDrop=="function"&&(u.tagName==="INPUT"||u.tagName==="SELECT"||u.tagName==="TEXTAREA"||u.isContentEditable||(o.preventDefault(),u.dragDrop()))},this.options=new DM(n,a),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new EM(this.isNodeInDocument)}}const NM=function(e,n,a){return new IM(e,n,a)},Hl=["#00c2abff","#2563eb","#10b981","#e11d48","#6366f1","#fbbf24","#14b8a6","#f43f5e","#a3e635","#f472b6"],Fh={TEAM:"team"},OM=({team:r,groupName:e,onMoveTeam:n})=>{const[{isDragging:a},o]=TS(()=>({type:Fh.TEAM,item:{team:r,sourceGroup:e},collect:u=>({isDragging:!!u.isDragging()})}));return E.jsxs("tr",{ref:o,style:{borderBottom:"1px solid #eee",opacity:a?.5:1,cursor:"move"},children:[E.jsx("td",{style:{padding:"8px",fontWeight:600},children:r.name}),E.jsx("td",{style:{padding:"8px"},children:r.Points}),E.jsx("td",{style:{padding:"8px"},children:r.GA}),E.jsx("td",{style:{padding:"8px"},children:r.DG}),E.jsx("td",{style:{padding:"8px"},children:r.Dif})]})},MM=({team:r,onMoveTeam:e})=>{const[{isDragging:n},a]=TS(()=>({type:Fh.TEAM,item:{team:r,sourceGroup:null},collect:o=>({isDragging:!!o.isDragging()})}));return E.jsx("li",{ref:a,style:{fontWeight:600,fontSize:"1rem",color:"#222",marginBottom:"6px",opacity:n?.5:1,cursor:"move",padding:"4px",border:"1px dashed transparent",borderRadius:"4px"},onMouseOver:o=>o.target.style.border="1px dashed #2563eb",onMouseOut:o=>o.target.style.border="1px dashed transparent",children:r.name})},PM=({groupName:r,teams:e,onMoveTeam:n})=>{const a=r.charCodeAt(0)-65,o=isNaN(a)||a<0?0:a%Hl.length,[{isOver:u,canDrop:h},d]=bS(()=>({accept:Fh.TEAM,drop:v=>(n(v.team,v.sourceGroup,r),{name:`Group ${r}`}),collect:v=>({isOver:!!v.isOver(),canDrop:!!v.canDrop()})})),g=u&&h?"#f0f8ff":"#fff",p=u&&h?"#2563eb":Hl[o];return E.jsxs("div",{ref:d,className:"groups-super-card classic-group",style:{background:Hl[o],boxShadow:"0 2px 12px #0002",borderRadius:"14px",padding:"18px 14px",margin:"18px",minWidth:220,maxWidth:340,flex:"1 1 260px",color:"#fff",border:`2px solid ${p}`,position:"relative",overflow:"hidden",...u&&h?{transform:"scale(1.02)",transition:"transform 0.2s"}:{}},children:[E.jsxs("div",{className:"groups-super-label classic-group-title",style:{fontWeight:700,fontSize:"1.5rem",letterSpacing:"2px",marginBottom:12,color:"#fff",borderBottom:"2px solid #fff",paddingBottom:8},children:["Group ",r]}),E.jsxs("table",{style:{width:"100%",background:g,color:Hl[o],borderRadius:"8px",boxShadow:"0 2px 8px #0001",borderCollapse:"collapse",marginBottom:"8px",transition:"background-color 0.2s"},children:[E.jsx("thead",{children:E.jsxs("tr",{style:{background:Hl[o],color:"#fff"},children:[E.jsx("th",{style:{padding:"8px"},children:"Team"}),E.jsx("th",{style:{padding:"8px"},children:"Pts"}),E.jsx("th",{style:{padding:"8px"},children:"GA"}),E.jsx("th",{style:{padding:"8px"},children:"GD"}),E.jsx("th",{style:{padding:"8px"},children:"Dif"})]})}),E.jsx("tbody",{children:e.map(v=>E.jsx(OM,{team:v,groupName:r,onMoveTeam:n},`${r}-${v.name}`))})]})]})},VM=({teams:r,onMoveTeam:e})=>{const[{isOver:n,canDrop:a},o]=bS(()=>({accept:Fh.TEAM,drop:d=>(e(d.team,d.sourceGroup,null),{name:"Waiting Teams"}),collect:d=>({isOver:!!d.isOver(),canDrop:!!d.canDrop()})})),u=n&&a?"#f0f8ff":"#fff";return E.jsxs("div",{ref:o,className:"groups-super-card classic-group",style:{background:u,boxShadow:"0 2px 12px #0002",borderRadius:"14px",padding:"18px 14px",margin:"18px",minWidth:220,maxWidth:340,flex:"1 1 260px",color:"#2563eb",border:"2px solid #2563eb",position:"relative",overflow:"hidden",transition:"all 0.2s",...n&&a?{transform:"scale(1.02)"}:{}},children:[E.jsx("div",{className:"groups-super-label classic-group-title",style:{fontWeight:700,fontSize:"1.5rem",letterSpacing:"2px",marginBottom:12,color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:8},children:"Waiting Teams"}),E.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:r.map(d=>E.jsx(MM,{team:d,onMoveTeam:e},`waiting-${d.name}`))})]})},kM=()=>{const[r,e]=q.useState(""),[n,a]=q.useState({}),[o,u]=q.useState([]),[h,d]=q.useState(""),[g,p]=q.useState(!1),v=C=>C.sort((B,z)=>z.Points!==B.Points?z.Points-B.Points:z.GA!==B.GA?z.GA-B.GA:B.DG!==z.DG?B.DG-z.DG:z.Dif-B.Dif),w=(C,B,z)=>{B!==z&&(a(U=>{const X={...U};return B===null?u($=>$.filter(le=>le.name!==C.name)):X[B]=X[B].filter($=>$.name!==C.name),z===null?u($=>[...$,C]):(X[z]||(X[z]=[]),X[z]=[...X[z],C]),Object.keys(X).forEach($=>{X[$]&&(X[$]=v(X[$]))}),X}),z===null&&u(U=>v([...U,C])))},b=async()=>{if(!r){alert("Please enter a league name first.");return}if(window.confirm("Are you sure you want to reset all group assignments? This will remove group assignments for all teams."))try{p(!0);const C=Hn(We,`leagues/${r}/groups`),z=(await qn(C)).docs.map(le=>om(le.ref));await Promise.all(z);const U=Hn(We,`leagues/${r}/teams`),$=(await qn(U)).docs.map(le=>kt(le.ref,{group:null},{merge:!0}));await Promise.all($),a({}),u([]),alert("Group assignments have been reset successfully!")}catch(C){console.error("Error resetting group assignments:",C),alert("Error resetting group assignments: "+C.message)}finally{p(!1)}};q.useEffect(()=>{(async()=>{if(!r){a({}),u([]),d("");return}p(!0),d("");try{const B=Hn(We,`leagues/${r}/teams`),z=await qn(B);let U=[];z.forEach(P=>{const M=P.data();U.push({id:P.id,name:M.name,DG:M.DG||0,GA:M.GA||0,Dif:M.Dif||0,Points:M.Points||0,group:M.group||null})});const X={},$=[];U.forEach(P=>{P.group?(X[P.group]||(X[P.group]=[]),X[P.group].push(P)):$.push(P)});const le={};Object.keys(X).forEach(P=>{le[P]=v(X[P])});const he=v($);a(le),u(he)}catch(B){console.error("Error loading teams or groups:",B),d("Error loading teams or groups."),a({}),u([])}finally{p(!1)}})()},[r]);const D=async()=>{if(!r){alert("Please enter a league name first.");return}try{p(!0);const C=Hn(We,`leagues/${r}/groups`),z=(await qn(C)).docs.map(P=>om(P.ref));await Promise.all(z);const U=[],X=Object.keys(n).sort();for(const P of X){const M=n[P];if(M&&M.length>0){const R=Nt(We,`leagues/${r}/groups`,P);U.push(kt(R,{teams:M}));for(const I of M){const N=I.id||I.name,V=Nt(We,`leagues/${r}/teams`,N);U.push(kt(V,{group:P},{merge:!0}))}}}for(const P of o){const M=P.id||P.name,R=Nt(We,`leagues/${r}/teams`,M);U.push(kt(R,{group:null},{merge:!0}))}const $=[];let le=1;for(const P of X){const M=n[P]||[];if(M.length>1)for(let R=0;R<M.length;R++)for(let I=R+1;I<M.length;I++)$.push({group:P,matchNum:le++,teamA:M[R].name,teamB:M[I].name})}const he=Nt(We,`leagues/${r}/groups`,"matches");$.length>0?U.push(kt(he,{matches:$},{merge:!0})):U.push(om(he).catch(P=>console.log("No central matches doc to delete or error deleting:",P))),await Promise.all(U),alert("Groups and matches saved successfully!")}catch(C){console.error("Error saving groups:",C),alert("Error saving groups: "+C.message)}finally{p(!1)}};return E.jsx(BO,{backend:NM,children:E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Groups"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"#2025",children:"2025"}),E.jsx("a",{href:"#history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("div",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",id:"active",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("div",{className:"groups-super-page",style:{width:"100%"},children:[E.jsxs("header",{className:"groups-header",children:[E.jsx("h1",{className:"groups-title",children:"Groups Draw"}),E.jsxs("div",{className:"groups-controls",children:[E.jsx("input",{type:"text",className:"groups-league-input",placeholder:"Enter League Name...",value:r,onChange:C=>e(C.target.value)}),E.jsx("button",{onClick:b,style:{background:"#e11d48",color:"white",border:"none",borderRadius:"4px",padding:"8px 16px",cursor:"pointer",marginLeft:"8px"},disabled:g,children:"Reset Groups"})]})]}),h&&(!r||h!=="League not found."&&h!=="No teams found for this league.")&&E.jsx("div",{className:"groups-error",children:h}),g?E.jsx("div",{className:"groups-loading",children:"Loading groups..."}):E.jsx(E.Fragment,{children:E.jsxs("div",{className:"groups-list-super",children:[Object.keys(n).sort().map(C=>E.jsx(PM,{groupName:C,teams:n[C],onMoveTeam:w},C)),o.length>0&&E.jsx(VM,{teams:o,onMoveTeam:w})]})}),E.jsxs("div",{style:{margin:"32px 0",textAlign:"center"},children:[E.jsx("h2",{style:{fontWeight:800,fontSize:"1.3rem",marginBottom:"18px",color:"#2563eb"},children:"Stages"}),E.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"16px"},children:[{name:"Stage 32",count:32},{name:"Stage 16",count:16},{name:"Quarter Final",count:8},{name:"Semi Final",count:4},{name:"Final",count:2}].map(C=>E.jsx("button",{className:"save-groups-btn",style:{padding:"12px 28px",fontWeight:700,fontSize:"1.08rem",borderRadius:"8px",background:"#10b981",color:"#fff",border:"none",boxShadow:"0 1px 4px #0001",cursor:"pointer"},onClick:async()=>{if(window.confirm(`Are you sure to start ${C.name}?`))try{const B=[];Object.entries(n).forEach(([S,oe])=>{[...oe].sort((j,ee)=>ee.Points!==j.Points?ee.Points-j.Points:ee.GA!==j.GA?ee.GA-j.GA:j.DG!==ee.DG?j.DG-ee.DG:ee.Dif-j.Dif).forEach((j,ee)=>{B.push({...j,group:S,groupPosition:ee+1,id:j.id?.trim()||j.name?.trim(),name:j.name?.trim()})})}),console.log("All teams with group info:",B);const z=B.filter(S=>S.groupPosition===1),U=B.filter(S=>S.groupPosition===2),X=B.filter(S=>S.groupPosition===3);console.log("First place teams:",z),console.log("Second place teams:",U),console.log("Third place teams:",X);let $=[...z,...U];console.log(`Qualified teams from top 2 of each group: ${$.length}`);const le=C.count;if($.length<le){const S=le-$.length;console.log(`Need ${S} more teams from third place`);const Ee=X.sort((j,ee)=>ee.Points!==j.Points?ee.Points-j.Points:ee.GA!==j.GA?ee.GA-j.GA:j.DG!==ee.DG?j.DG-ee.DG:ee.Dif-j.Dif).slice(0,S);$=[...$,...Ee],console.log("Best third place teams added:",Ee)}if($.length<le){alert(`Not enough teams to start ${C.name}. Need ${le}, but only have ${$.length} qualified teams.`);return}const he=$.sort((S,oe)=>oe.Points!==S.Points?oe.Points-S.Points:oe.GA!==S.GA?oe.GA-S.GA:S.DG!==oe.DG?S.DG-oe.DG:oe.Dif-S.Dif).slice(0,le);console.log("Final qualified teams:",he);const P=he.slice();for(let S=P.length-1;S>0;S--){const oe=Math.floor(Math.random()*(S+1));[P[S],P[oe]]=[P[oe],P[S]]}const M=[];for(let S=0;S<P.length;S+=2)P[S+1]&&M.push({teamA:P[S].id||P[S].name,teamAName:P[S].name,teamB:P[S+1].id||P[S+1].name,teamBName:P[S+1].name,teamAGroup:P[S].group,teamBGroup:P[S+1].group,teamAPosition:P[S].groupPosition,teamBPosition:P[S+1].groupPosition});console.log("Generated matches:",M);const R=Nt(We,`leagues/${r}/knockout`,C.name);await kt(R,{teams:he.map(S=>({name:S.name,group:S.group,position:S.groupPosition,points:S.Points,goalDifference:S.Dif})),matches:M,stage:C.name,createdAt:new Date().toISOString(),qualificationMethod:{firstPlace:z.length,secondPlace:U.length,thirdPlace:he.filter(S=>S.groupPosition===3).length,totalGroups:Object.keys(n).length}});const I=he.filter(S=>S.groupPosition===1).length,N=he.filter(S=>S.groupPosition===2).length,V=he.filter(S=>S.groupPosition===3).length;let O=`Knockout stage '${C.name}' created!
`;O+=`Qualified teams (${he.length}):
`,O+=` ${I} group winners
`,O+=` ${N} group runners-up
`,V>0&&(O+=` ${V} best third-place teams
`),O+=`
Matches created: ${M.length}`,alert(O)}catch(B){console.error("Error creating knockout stage:",B),alert("Error saving knockout stage: "+B.message)}},children:C.name},C.name))})]}),E.jsx("button",{className:"save-groups-btn",style:{margin:"32px auto 0 auto",display:"block",padding:"14px 38px",fontWeight:700,fontSize:"1.2rem",borderRadius:"8px",background:"#2563eb",color:"#fff",border:"none",boxShadow:"0 2px 8px #2563eb22",cursor:"pointer"},onClick:D,disabled:g||!r,children:"Save Groups"})]})]})]})})},jM=r=>{const e=[],n=[...r];for(;n.length>0;){const a=[],o=new Set;for(let u=n.length-1;u>=0;u--){const h=n[u];if(!o.has(h.teamA)&&!o.has(h.teamB)&&(a.push(h),o.add(h.teamA),o.add(h.teamB),n.splice(u,1)),a.length===2)break}if(a.length>0&&e.push(a),e.length>r.length){console.error("Failed to schedule all matches. Potential conflict or infinite loop.");break}}return e},LM=()=>{const[r,e]=q.useState(""),[n,a]=q.useState(!1),[o,u]=q.useState([]),[h,d]=q.useState(!1),[g,p]=q.useState(""),[v,w]=q.useState(""),[b,D]=q.useState([]),[C,B]=q.useState([]),[z,U]=q.useState({}),[X,$]=q.useState({}),[le,he]=q.useState({}),P=tg();q.useEffect(()=>{if(!g){u([]),D([]),B([]),U({}),$({}),he({});return}const O=async()=>{d(!0),w("");try{const oe=Nt(We,"leagues",g);if(!(await Vr(oe)).exists()){w("League not found."),u([]),D([]),B([]),d(!1);return}const j=Hn(We,`leagues/${g}/teams`),ee=await qn(j);let re=[];ee.forEach(ae=>{const ue=ae.data();re.push({name:ue.name,DG:ue.DG||0,GA:ue.GA||0,Dif:ue.Dif||0,Points:ue.Points||0,group:ue.group||"",players:ue.players||[]})}),u(re);const _e=Nt(We,`leagues/${g}/groups`,"matches"),k=await Vr(_e);let Y=[];if(k.exists()&&Array.isArray(k.data().matches))Y=k.data().matches;else{let ae={};re.forEach(be=>{be.group&&(ae[be.group]||(ae[be.group]=[]),ae[be.group].push(be))});let ue=1;Object.keys(ae).sort().forEach(be=>{const Te=ae[be];if(Te.length>1)for(let rt=0;rt<Te.length;rt++)for(let Ve=rt+1;Ve<Te.length;Ve++)Y.push({group:be,matchNum:ue++,teamA:Te[rt].name,teamB:Te[Ve].name})})}D(Y);const pe=jM(Y);B(pe),d(!1)}catch(oe){console.error("Error fetching teams or generating matches:",oe),w("Error loading teams or matches."),u([]),D([]),B([]),d(!1)}},S=async()=>{if(g)try{const oe=Hn(We,`leagues/${g}/endedMatches`),Ee=await qn(oe);let j={};Ee.forEach(ee=>{const re=ee.data(),_e=`${re.group}_${re.matchNum}`;j[_e]={scoreA:re.scoreA,scoreB:re.scoreB,teamA:re.teamA,teamB:re.teamB}}),U(j)}catch(oe){console.error("Error fetching ended matches:",oe),U({})}};O(),S()},[g]);const M=async()=>{if(!g){alert("Enter league name first!");return}if(b.length===0){alert("No matches to save.");return}try{const O=Nt(We,`leagues/${g}/groups`,"matches");await kt(O,{matches:b},{merge:!0}),alert("All matches saved successfully!")}catch(O){console.error("Error saving matches:",O),alert("Error saving matches: "+O.message)}},R=O=>{P("/events",{state:{match:O,leagueName:g}})},I=async O=>{if(!window.confirm("Are you sure you want to finalize and hide this match result forever?"))return;const S=`${O.group}_${O.matchNum}`;let oe=!1;try{let Ee=0,j=0;if(z[S])Ee=z[S].scoreA||0,j=z[S].scoreB||0;else{const kn=`${O.group||""}_${O.matchNum}`,ir=le[kn]||{scoreA:0,scoreB:0};Ee=Number(ir.scoreA)||0,j=Number(ir.scoreB)||0}const ee=Nt(We,`leagues/${g}/endedMatches`,S);await kt(ee,{...O,scoreA:Ee,scoreB:j,endedAt:new Date().toISOString()},{merge:!0});const re=Nt(We,`leagues/${g}/teams`,O.teamA),_e=Nt(We,`leagues/${g}/teams`,O.teamB),[k,Y]=await Promise.all([Vr(re),Vr(_e)]),pe=k.exists()?k.data():{},ae=Y.exists()?Y.data():{};let ue=pe.Points||0,be=ae.Points||0,Te=pe.GA||0,rt=ae.GA||0,Ve=pe.DG||0,Et=ae.DG||0;Ee>j?ue+=3:Ee<j?be+=3:(ue+=1,be+=1),Te+=Ee,Ve+=j,rt+=j,Et+=Ee;const mt=Te-Ve,an=rt-Et;await Promise.all([kt(re,{Points:ue,GA:Te,DG:Ve,Dif:mt},{merge:!0}),kt(_e,{Points:be,GA:rt,DG:Et,Dif:an},{merge:!0})]),$(kn=>({...kn,[S]:!0})),localStorage.setItem(`checked_${g}_${S}`,"true"),oe=!0,alert("Match result saved and stats updated successfully!")}catch(Ee){console.error("Error saving match result:",Ee),alert("Error saving match result: "+(Ee.message||"Unknown error")),oe=!1}},V=r.trim()?C.map(O=>O.filter(S=>S.teamA.toLowerCase().includes(r.toLowerCase())||S.teamB.toLowerCase().includes(r.toLowerCase()))).filter(O=>O.length>0):C;return E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Fixtures"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"#2025",children:"2025"}),E.jsx("a",{href:"#history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("div",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",id:"active",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("section",{className:"fix-section-main",children:[E.jsx("h1",{className:"groups-title",style:{textAlign:"center"},children:"Group Stage Fixtures"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"24px 0"},children:[E.jsx("div",{className:"fix-league-input-row",style:{width:"100%",maxWidth:"340px",marginBottom:"12px"},children:E.jsx("input",{type:"text",className:"fix-league-input",placeholder:"Enter League Name...",value:g,onChange:O=>p(O.target.value),style:{width:"100%",textAlign:"center"}})}),E.jsx("div",{className:"fix-search-row",style:{width:"100%",maxWidth:"340px"},children:E.jsx("input",{type:"text",className:"fix-league-input",placeholder:"Search team match...",value:r,onChange:O=>e(O.target.value),style:{width:"100%",textAlign:"center"}})})]}),v&&(!g||v!=="League not found."&&v!=="No teams found for this league.")&&E.jsx("div",{className:"fix-error",children:v}),h?E.jsx("div",{className:"fix-loading",children:"Loading fixtures..."}):E.jsx(E.Fragment,{children:b.length===0&&!v&&g?E.jsx("div",{className:"fix-error",children:"No group matches found. Please ensure teams are assigned to groups in the 'Groups' section."}):b.length===0?E.jsx("div",{className:"fix-error",children:"Please enter a league name to generate or load fixtures."}):E.jsx("div",{className:"fix-matches-list",children:V.length===0&&r?E.jsxs("div",{className:"fix-error",children:['No matches found for "',r,'".']}):V.length===0?E.jsx("div",{className:"fix-error",children:"No matches scheduled."}):V.map((O,S)=>E.jsx("div",{style:{width:"100%"},children:O.map((oe,Ee)=>{const j=`${oe.group}_${oe.matchNum}`,ee=z[j];if(X[j]||localStorage.getItem(`checked_${g}_${j}`))return null;const _e=`${oe.group||""}_${oe.matchNum}`,k=le[_e]||{scoreA:"",scoreB:""},Y=ee,pe=Ee===0?"Stadium 1":"Stadium 2",ae=`slot-${S}-match-${Ee}`;return E.jsxs("div",{className:"fix-match-card",style:{marginBottom:"24px",minHeight:"120px",width:"100%",maxWidth:"620px",border:"3px solid #000",borderRadius:"18px",background:"#fff",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"24px",boxSizing:"border-box",boxShadow:"0 2px 8px #0001",marginLeft:"auto",marginRight:"auto"},children:[E.jsxs("div",{style:{textAlign:"center",fontWeight:700,fontSize:"1.3rem",color:"#222",marginBottom:"12px"},children:["Match ",S+1," "]}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:"12px"},children:[E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"left"},children:oe.teamA}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"18px"},children:[E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:Y&&ee?E.jsx("h2",{style:{margin:"0",color:"#2563eb"},children:ee.scoreA}):E.jsx("input",{type:"number",min:"0",max:"99",className:"fix-score-input",placeholder:"",style:{width:"40px",height:"40px",fontSize:"1.2rem",textAlign:"center",border:"none"},value:k.scoreA,onChange:ue=>{const be=ue.target.value;he(Te=>({...Te,[_e]:{...Te[_e],scoreA:be}}))},disabled:Y})}),E.jsx("span",{style:{fontWeight:700,fontSize:"1.2rem",color:"#222"},children:"vs"}),E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:Y&&ee?E.jsx("h2",{style:{margin:"0",color:"#2563eb"},children:ee.scoreB}):E.jsx("input",{type:"number",min:"0",max:"99",className:"fix-score-input",placeholder:"",style:{width:"40px",height:"40px",fontSize:"1.2rem",textAlign:"center",border:"none"},value:k.scoreB,onChange:ue=>{const be=ue.target.value;he(Te=>({...Te,[_e]:{...Te[_e],scoreB:be}}))},disabled:Y})})]}),E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"right"},children:oe.teamB})]}),E.jsxs("div",{className:"fix-stadium",style:{textAlign:"center",marginTop:"8px",fontWeight:500,color:"#222"},children:[pe," "]}),E.jsxs("div",{className:"fix-match-actions",style:{display:"flex",justifyContent:"center",gap:"16px",marginTop:"12px"},children:[E.jsxs("button",{className:"fix-check-btn",onClick:()=>I(oe),children:[E.jsx("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:E.jsx("path",{d:"M5 10l4 4 6-8",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Check Match"]}),E.jsxs("button",{className:"fix-events-btn",onClick:()=>R(oe),children:[E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:[E.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"#fff",strokeWidth:"2"}),E.jsx("rect",{x:"8",y:"6",width:"4",height:"8",rx:"2",fill:"#fff"})]}),"Events"]})]})]},ae)})},`slot-${S}`))})}),g&&b.length>0&&E.jsx("div",{style:{textAlign:"center",margin:"24px 0"},children:E.jsx("button",{className:"fix-save-btn",onClick:M,children:"Save All Matches"})})]})]})]})},_E=E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[E.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"#2563eb",strokeWidth:"2"}),E.jsx("circle",{cx:"10",cy:"10",r:"4",fill:"#2563eb"})]}),EE=E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[E.jsx("rect",{x:"4",y:"12",width:"12",height:"4",rx:"2",fill:"#10b981"}),E.jsx("path",{d:"M4 12L8 8L16 8",stroke:"#10b981",strokeWidth:"2"})]}),UM=()=>{const r=ja(),e=r.state?.match,n=r.state?.leagueName||"",[a,o]=q.useState([]),[u,h]=q.useState({}),[d,g]=q.useState({}),[p,v]=q.useState(0),[w,b]=q.useState(0),[D,C]=q.useState([]),[B,z]=q.useState([]),[U,X]=q.useState(!0);q.useEffect(()=>{(async()=>{if(!e||!n){X(!1);return}X(!0);try{const{teamA:M,teamB:R}=e;console.log("Fetching players for:",M,"vs",R,"in league:",n);const I=async O=>{try{const S=Nt(We,`leagues/${n}/teams`,O),oe=await Vr(S);let Ee=[];if(oe.exists()){const j=oe.data();console.log(`Team ${O} data:`,j),Ee=(j.players||[]).map(re=>({name:re.name||re,image:re.image||"",team:O}))}else console.log(`Team ${O} document does not exist`);return Ee}catch(S){return console.error(`Error fetching players for team ${O}:`,S),[]}},[N,V]=await Promise.all([I(M),I(R)]);console.log("Team A Players:",N),console.log("Team B Players:",V),C(N),z(V),o([...N,...V])}catch(M){console.error("Error fetching players:",M),o([]),C([]),z([])}X(!1)})()},[e,n]);const $=P=>{console.log(` Adding goal for ${P} (local only)`),h(R=>{const I={...R,[P]:(R[P]||0)+1};return console.log("Updated local goals state:",I),I});const M=a.find(R=>R.name===P);M&&(M.team===e.teamA?v(R=>R+1):M.team===e.teamB&&b(R=>R+1))},le=P=>{console.log(` Adding assist for ${P} (local only)`),g(M=>{const R={...M,[P]:(M[P]||0)+1};return console.log("Updated local assists state:",R),R})},he=async()=>{if(window.confirm("Are you sure you want to end this match? This will save all goals and assists to the database."))try{console.log(" Ending match and saving to database..."),console.log("Final goals:",u),console.log("Final assists:",d),console.log("Final scores:",{scoreA:p,scoreB:w}),console.log(" Updating player stats in database...");for(const[N,V]of Object.entries(u))if(V>0){const O=a.find(S=>S.name===N);if(O)try{console.log(`Updating ${V} goals for ${N} in team ${O.team}`);const S=Nt(We,`leagues/${n}/teams`,O.team),oe=await Vr(S);if(oe.exists()){const Ee=oe.data(),j=Ee.players||[],ee=j.findIndex(re=>re.name===N);ee!==-1&&(j[ee]={...j[ee],goals:(j[ee].goals||0)+V},await kt(S,{...Ee,players:j}),console.log(` Updated goals for ${N}. New total: ${j[ee].goals}`))}}catch(S){console.error(` Error updating goals for ${N}:`,S)}}for(const[N,V]of Object.entries(d))if(V>0){const O=a.find(S=>S.name===N);if(O)try{console.log(`Updating ${V} assists for ${N} in team ${O.team}`);const S=Nt(We,`leagues/${n}/teams`,O.team),oe=await Vr(S);if(oe.exists()){const Ee=oe.data(),j=Ee.players||[],ee=j.findIndex(re=>re.name===N);ee!==-1&&(j[ee]={...j[ee],assists:(j[ee].assists||0)+V},await kt(S,{...Ee,players:j}),console.log(` Updated assists for ${N}. New total: ${j[ee].assists}`))}}catch(S){console.error(` Error updating assists for ${N}:`,S)}}const P=[],M=[];Object.entries(u).forEach(([N,V])=>{const O=a.find(S=>S.name===N);if(O)for(let S=0;S<V;S++)P.push({name:N,team:O.team})}),Object.entries(d).forEach(([N,V])=>{const O=a.find(S=>S.name===N);if(O)for(let S=0;S<V;S++)M.push({name:N,team:O.team})}),console.log("Goals array for match record:",P),console.log("Assists array for match record:",M);const R={...e,scoreA:p,scoreB:w,goals:P,assists:M,endedAt:new Date().toISOString()},I=`${e.group||"group"}_${e.matchNum||Date.now()}`;console.log("Saving match with ID:",I),await kt(Nt(We,`leagues/${n}/endedMatches`,I),R),console.log(" Match ended and all data saved successfully"),alert("Match ended successfully! All goals and assists have been recorded in the database."),window.location.href="/saint-mark-leagues/#/fixtures"}catch(P){console.error(" Error saving match result:",P),alert("Error saving match result: "+P.message)}};return e?U?E.jsx("div",{style:{textAlign:"center",marginTop:"48px",padding:"20px"},children:E.jsx("h2",{children:"Loading players..."})}):E.jsxs("div",{className:"events-page",style:{maxWidth:"620px",margin:"32px auto",padding:"0 16px"},children:[E.jsxs("div",{className:"fix-match-card",style:{marginBottom:"24px",minHeight:"120px",width:"100%",border:"3px solid #000",borderRadius:"18px",background:"#fff",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"24px",boxSizing:"border-box",boxShadow:"0 2px 8px #0001"},children:[E.jsxs("div",{style:{textAlign:"center",fontWeight:700,fontSize:"1.3rem",color:"#222",marginBottom:"12px"},children:["Match ",e.matchNum||"N/A"]}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:"12px"},children:[E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"left"},children:e.teamA}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"18px"},children:[E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:p}),E.jsx("span",{style:{fontWeight:700,fontSize:"1.2rem",color:"#222"},children:"vs"}),E.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:w})]}),E.jsx("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"right"},children:e.teamB})]}),E.jsxs("div",{className:"fix-stadium",style:{textAlign:"center",marginTop:"8px",fontWeight:500,color:"#222"},children:["Stadium: ",e.stadium||"N/A"]})]}),E.jsx("div",{style:{marginBottom:"18px",fontWeight:700,fontSize:"1.1rem",color:"#2563eb",textAlign:"center"},children:'Assign Goals & Assists (Click "End Match" to save to database)'}),D.length>0&&E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsxs("h3",{style:{fontWeight:600,fontSize:"1.1rem",color:"#fff",marginBottom:"12px",background:"#2563eb",padding:"8px 16px",borderRadius:"8px",textAlign:"center"},children:[e.teamA," (",D.length," players)"]}),E.jsx("div",{className:"events-players-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:D.map((P,M)=>E.jsxs("div",{className:"events-player-card",style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px #0001",padding:"12px 18px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",border:"2px solid #2563eb22"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx("img",{src:P.image||`https://ui-avatars.com/api/?name=${encodeURIComponent(P.name)}&background=2563eb&color=fff`,alt:P.name,style:{width:"44px",height:"44px",borderRadius:"50%",objectFit:"cover",background:"#eee",border:"2px solid #2563eb"}}),E.jsx("span",{style:{fontWeight:600,fontSize:"1.08rem",color:"#222",minWidth:"120px",maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:P.name})]}),E.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[E.jsxs("button",{onClick:()=>$(P.name),style:{background:"none",border:"2px solid #2563eb",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Goal",children:[_E,E.jsx("span",{style:{fontWeight:600,color:"#2563eb"},children:u[P.name]||0})]}),E.jsxs("button",{onClick:()=>le(P.name),style:{background:"none",border:"2px solid #10b981",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Assist",children:[EE,E.jsx("span",{style:{fontWeight:600,color:"#10b981"},children:d[P.name]||0})]})]})]},`${P.name}-${M}`))})]}),B.length>0&&E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsxs("h3",{style:{fontWeight:600,fontSize:"1.1rem",color:"#fff",marginBottom:"12px",background:"#e11d48",padding:"8px 16px",borderRadius:"8px",textAlign:"center"},children:[e.teamB," (",B.length," players)"]}),E.jsx("div",{className:"events-players-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:B.map((P,M)=>E.jsxs("div",{className:"events-player-card",style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px #0001",padding:"12px 18px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",border:"2px solid #e11d4822"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx("img",{src:P.image||`https://ui-avatars.com/api/?name=${encodeURIComponent(P.name)}&background=e11d48&color=fff`,alt:P.name,style:{width:"44px",height:"44px",borderRadius:"50%",objectFit:"cover",background:"#eee",border:"2px solid #e11d48"}}),E.jsx("span",{style:{fontWeight:600,fontSize:"1.08rem",color:"#222",minWidth:"120px",maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:P.name})]}),E.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[E.jsxs("button",{onClick:()=>$(P.name),style:{background:"none",border:"2px solid #2563eb",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Goal",children:[_E,E.jsx("span",{style:{fontWeight:600,color:"#2563eb"},children:u[P.name]||0})]}),E.jsxs("button",{onClick:()=>le(P.name),style:{background:"none",border:"2px solid #10b981",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px"},title:"Add Assist",children:[EE,E.jsx("span",{style:{fontWeight:600,color:"#10b981"},children:d[P.name]||0})]})]})]},`${P.name}-${M}`))})]}),E.jsx("div",{style:{textAlign:"center",margin:"24px 0"},children:E.jsx("button",{className:"fix-save-btn",style:{padding:"12px 32px",fontSize:"1.1rem"},onClick:he,children:"End Match"})})]}):E.jsxs("div",{style:{textAlign:"center",marginTop:"48px",padding:"20px"},children:[E.jsx("h2",{children:"No match selected"}),E.jsx("p",{children:"Please select a match to record events."})]})},BM=()=>{const[r,e]=q.useState(""),[n,a]=q.useState([]),[o,u]=q.useState(!1),[h,d]=q.useState(""),[g,p]=q.useState("2025");return q.useEffect(()=>{r&&(u(!0),d(""),(async()=>{try{const v=Hn(We,`leagues/${r}/teams`),w=await qn(v);let b=[];w.forEach(D=>{const C=D.data(),B=C.name;(Array.isArray(C.players)?C.players:[]).forEach(U=>{typeof U.goals=="number"&&U.goals>0&&b.push({name:U.name,goals:U.goals,assists:U.assists||0,team:B})})}),b.sort((D,C)=>C.goals-D.goals),a(b.slice(0,20))}catch{d("Error loading scorers.")}u(!1)})())},[r,g]),E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Top Scorers"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top assisters"}),E.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("aside",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",id:"active",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("div",{className:"scorers-container",children:[E.jsx("div",{className:"scorers-controls",children:E.jsx("input",{type:"text",className:"scorers-league-input",placeholder:"Enter League Name...",value:r,onChange:v=>e(v.target.value)})}),h&&E.jsx("div",{className:"scorers-error",children:h}),o?E.jsx("div",{className:"scorers-loading",children:"Loading..."}):E.jsx("div",{className:"scorers-table-wrapper",style:{maxWidth:"1200px",margin:"0 auto"},children:E.jsxs("table",{className:"scorers-table",style:{width:"100%"},children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Rank"}),E.jsx("th",{children:"Player"}),E.jsx("th",{children:"Team"}),E.jsx("th",{children:"Goals"})]})}),E.jsx("tbody",{children:n.map((v,w)=>E.jsxs("tr",{children:[E.jsx("td",{children:w+1}),E.jsx("td",{children:v.name}),E.jsx("td",{children:v.team}),E.jsx("td",{children:v.goals})]},v.name+v.team))})]})})]})]})]})},zM=()=>{const[r,e]=q.useState(""),[n,a]=q.useState([]),[o,u]=q.useState(!1),[h,d]=q.useState(""),[g,p]=q.useState("2025");return q.useEffect(()=>{r&&(u(!0),d(""),(async()=>{try{const v=Hn(We,`leagues/${r}/teams`),w=await qn(v);let b=[];w.forEach(D=>{const C=D.data(),B=C.name;(Array.isArray(C.players)?C.players:[]).forEach(U=>{typeof U.assists=="number"&&U.assists>0&&b.push({name:U.name,assists:U.assists,assists:U.assists||0,team:B})})}),b.sort((D,C)=>C.assists-D.assists),a(b.slice(0,20))}catch{d("Error loading scorers.")}u(!1)})())},[r,g]),E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Top Scorers"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top assisters"}),E.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("aside",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",id:"active",children:"Top assisters"})]}),E.jsxs("div",{className:"scorers-container",children:[E.jsx("div",{className:"scorers-controls",children:E.jsx("input",{type:"text",className:"scorers-league-input",placeholder:"Enter League Name...",value:r,onChange:v=>e(v.target.value)})}),h&&E.jsx("div",{className:"scorers-error",children:h}),o?E.jsx("div",{className:"scorers-loading",children:"Loading..."}):E.jsx("div",{className:"scorers-table-wrapper",style:{maxWidth:"1200px",margin:"0 auto"},children:E.jsxs("table",{className:"scorers-table",style:{width:"100%"},children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Rank"}),E.jsx("th",{children:"Player"}),E.jsx("th",{children:"Team"}),E.jsx("th",{children:"assists"})]})}),E.jsx("tbody",{children:n.map((v,w)=>E.jsxs("tr",{children:[E.jsx("td",{children:w+1}),E.jsx("td",{children:v.name}),E.jsx("td",{children:v.team}),E.jsx("td",{children:v.assists})]},v.name+v.team))})]})})]})]})]})},HM=()=>{const[r,e]=q.useState(""),[n,a]=q.useState(!1),[o,u]=q.useState(""),[h,d]=q.useState(""),[g,p]=q.useState([]),[v,w]=q.useState({}),[b,D]=q.useState({}),[C,B]=q.useState({}),[z,U]=q.useState([]),[X,$]=q.useState([]);q.useEffect(()=>{(async()=>{if(o)try{const V=Hn(We,`leagues/${o}/stages`),S=(await qn(V)).docs.map(oe=>oe.data().name);U(S)}catch(V){console.error("Error fetching stages:",V)}})()},[o]),q.useEffect(()=>{(async()=>{if(o)try{const V=Hn(We,`leagues/${o}/teams`),O=await qn(V),S=[];O.forEach(oe=>{const Ee=oe.data();S.push({name:Ee.name,group:Ee.group||"Unknown",players:Ee.players||[]})}),$(S)}catch(V){console.error("Error fetching teams:",V),$([])}})()},[o]),q.useEffect(()=>{if(!o)return;const N=async()=>{a(!0),d("");try{const O=Nt(We,"leagues",o);if(!(await Vr(O)).exists()){d("League not found."),p([]),a(!1);return}const oe=Hn(We,`leagues/${o}/knockout`),Ee=await qn(oe);let j=[];Ee.forEach(re=>{const _e=re.data(),k=re.id,pe=(_e.matches||[]).map((ae,ue)=>({...ae,stage:k,matchNum:ue+1,group:k}));j.push({name:k,matches:pe,createdAt:_e.createdAt,teams:_e.teams||[]})});const ee=z.length>0?z:["Stage 32","Stage 16","Quarter Final","Semi Final","Final"];j.sort((re,_e)=>{const k=ee.indexOf(re.name),Y=ee.indexOf(_e.name);return k-Y}),p(j),a(!1)}catch{d("Error loading knockout stages."),p([]),a(!1)}},V=async()=>{if(o)try{const O=Hn(We,`leagues/${o}/endedMatches`),S=await qn(O);let oe={};S.forEach(Ee=>{const j=Ee.data(),ee=`${j.stage||j.group}_${j.matchNum}`;oe[ee]={scoreA:j.scoreA,scoreB:j.scoreB,teamA:j.teamA||j.teamAName,teamB:j.teamB||j.teamBName}}),w(oe)}catch(O){console.error("Error fetching ended matches:",O),w({})}};N(),V()},[o,z]);const le=tg(),he=N=>{le("/events",{state:{match:N,leagueName:o}})},P=async N=>{if(!window.confirm("Are you sure you want to check and hide this match forever?"))return;const V=`${N.stage}_${N.matchNum}`,O=`${N.stage||""}_${N.matchNum}`,S=C[O]||{scoreA:"",scoreB:""},oe=Number(S.scoreA)||0,Ee=Number(S.scoreB)||0;let j=!1;try{const ee=Nt(We,`leagues/${o}/endedMatches`,V);let re=[],_e=[],k=oe,Y=Ee;const pe=await Vr(ee);if(pe.exists()){const ue=pe.data();re=Array.isArray(ue.goals)?ue.goals:[],_e=Array.isArray(ue.assists)?ue.assists:[],k=ue.scoreA!==void 0?ue.scoreA:oe,Y=ue.scoreB!==void 0?ue.scoreB:Ee,await kt(ee,{...ue,scoreA:k,scoreB:Y,stage:N.stage,endedAt:new Date().toISOString()},{merge:!0})}else await kt(ee,{...N,scoreA:k,scoreB:Y,goals:[],assists:[],stage:N.stage,endedAt:new Date().toISOString()});if(console.log("Processing knockout match goals:",re),console.log("Processing knockout match assists:",_e),Array.isArray(re)&&re.length>0)for(const ue of re){if(!ue.name||!ue.team){console.log("Skipping invalid goal:",ue);continue}try{console.log(`Processing goal for ${ue.name} in team ${ue.team}`);const be=Nt(We,`leagues/${o}/teams`,ue.team),Te=await Vr(be);if(Te.exists()){const rt=Te.data(),Ve=rt.players||[],Et=Ve.findIndex(mt=>mt.name===ue.name);Et!==-1?(Ve[Et]={...Ve[Et],goals:(Ve[Et].goals||0)+1},await kt(be,{...rt,players:Ve}),console.log(` Updated goals for ${ue.name}: ${Ve[Et].goals}`)):console.log(` Player ${ue.name} not found in team ${ue.team}`)}else console.log(` Team ${ue.team} not found`)}catch(be){console.error(`Error updating goals for ${ue.name}:`,be)}}if(Array.isArray(_e)&&_e.length>0)for(const ue of _e){if(!ue.name||!ue.team){console.log("Skipping invalid assist:",ue);continue}try{console.log(`Processing assist for ${ue.name} in team ${ue.team}`);const be=Nt(We,`leagues/${o}/teams`,ue.team),Te=await Vr(be);if(Te.exists()){const rt=Te.data(),Ve=rt.players||[],Et=Ve.findIndex(mt=>mt.name===ue.name);Et!==-1?(Ve[Et]={...Ve[Et],assists:(Ve[Et].assists||0)+1},await kt(be,{...rt,players:Ve}),console.log(` Updated assists for ${ue.name}: ${Ve[Et].assists}`)):console.log(` Player ${ue.name} not found in team ${ue.team}`)}else console.log(` Team ${ue.team} not found`)}catch(be){console.error(`Error updating assists for ${ue.name}:`,be)}}const ae=Nt(We,"leagues",o);await kt(ae,{lastUpdate:new Date().toISOString()},{merge:!0}),j=!0,console.log(" Knockout match checked successfully with player stats updated")}catch(ee){console.error(" Full error details:",ee),alert("Error saving match result: "+ee.message),j=!1}j&&(D(ee=>({...ee,[V]:!0})),localStorage.setItem(`checked_${o}_${V}`,"true"))},M=async N=>{if(N<0||N>=g.length-1)return;const V=g[N],O=g[N+1];if(!V.matches.every(re=>{const _e=`${re.stage}_${re.matchNum}`;return v[_e]!==void 0})){alert("Cannot proceed to the next stage. This stage is not complete. Please complete all matches first.");return}const oe=V.matches.map(re=>{const _e=`${re.stage}_${re.matchNum}`,k=v[_e];return k.scoreA>k.scoreB?re.teamAName||re.teamA:re.teamBName||re.teamB}),j=(re=>{for(let _e=re.length-1;_e>0;_e--){const k=Math.floor(Math.random()*(_e+1));[re[_e],re[k]]=[re[k],re[_e]]}return re})([...oe]),ee=[];for(let re=0;re<j.length;re+=2)re+1<j.length&&ee.push({teamA:j[re],teamB:j[re+1],matchNum:Math.floor(re/2)+1,stage:O.name});try{const re=Nt(We,`leagues/${o}/knockoutResults`,V.name);await kt(re,{stage:V.name,matches:V.matches.map(Y=>{const pe=`${Y.stage}_${Y.matchNum}`,ae=v[pe];return{...Y,scoreA:ae?.scoreA||0,scoreB:ae?.scoreB||0,winner:ae?ae.scoreA>ae.scoreB?Y.teamAName||Y.teamA:Y.teamBName||Y.teamB:null}}),winningTeams:oe,timestamp:new Date().toISOString()});const _e=Nt(We,`leagues/${o}/knockout`,O.name);await kt(_e,{matches:ee,teams:j,stage:O.name,createdAt:O.createdAt||new Date().toISOString(),lastUpdated:new Date().toISOString()},{merge:!0}),p(Y=>{const pe=[...Y];return pe[N+1]={...pe[N+1],matches:ee,teams:j},pe});const k=oe.join(", ");alert(`${k} were transferred to ${O.name}`),setTimeout(()=>{const Y=document.getElementById(O.name);Y&&Y.scrollIntoView({behavior:"smooth"})},100)}catch(re){console.error(" Error processing next stage:",re),alert("Error advancing to next stage: "+re.message)}},R=N=>N.matches.every(V=>{const O=`${V.stage}_${V.matchNum}`;return v[O]!==void 0}),I=(N,V)=>V.trim()?N.filter(O=>{const S=V;return(O.teamAName||O.teamA||"").includes(S)||(O.teamBName||O.teamB||"").includes(S)||O.stage.includes(S)}):N;return E.jsxs("main",{children:[E.jsxs("header",{className:"d-top",style:{width:"117vw"},children:[E.jsx("div",{className:"d-logo",children:E.jsx("h1",{children:"Knockout Fixtures"})}),E.jsxs("nav",{className:"d-tabs",children:[E.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),E.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),E.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsx("span",{className:"hamburger-bar"}),E.jsxs("div",{className:"hamburger-dropdown",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),E.jsx("a",{href:"#2025",children:"2025"}),E.jsx("a",{href:"#history",children:"History"})]})]})]}),E.jsxs("div",{className:"d-container",children:[E.jsxs("div",{className:"d-nav-left",children:[E.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),E.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),E.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",id:"active",children:"Knockout Fixtures"}),E.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),E.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),E.jsxs("section",{className:"fix-section-main",children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[E.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1f2937",marginBottom:"10px",background:"linear-gradient(90deg, #3b82f6, #8b5cf6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Knockout Tournament"}),E.jsx("p",{style:{fontSize:"1.1rem",color:"#6b7280",maxWidth:"600px",margin:"0 auto"},children:"Manage your knockout stage matches, track results, and advance teams through the tournament bracket"})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",marginBottom:"30px"},children:[E.jsx("div",{style:{width:"100%",maxWidth:"400px"},children:E.jsx("input",{type:"text",placeholder:"Enter League Name...",value:o,onChange:N=>u(N.target.value),style:{width:"100%",padding:"16px 20px",fontSize:"1.1rem",border:"2px solid #e5e7eb",borderRadius:"12px",outline:"none",textAlign:"center",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onFocus:N=>N.target.style.borderColor="#3b82f6",onBlur:N=>N.target.style.borderColor="#e5e7eb"})}),E.jsx("div",{style:{width:"100%",maxWidth:"400px"},children:E.jsx("input",{type:"text",placeholder:"Search teams, matches...",value:r,onChange:N=>e(N.target.value),style:{width:"100%",padding:"16px 20px",fontSize:"1.1rem",border:"2px solid #e5e7eb",borderRadius:"12px",outline:"none",textAlign:"center",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onFocus:N=>N.target.style.borderColor="#3b82f6",onBlur:N=>N.target.style.borderColor="#e5e7eb"})})]}),h&&(!o||h!=="League not found.")&&E.jsx("div",{style:{backgroundColor:"#fee",color:"#e44",padding:"16px",borderRadius:"8px",margin:"20px auto",maxWidth:"600px",border:"1px solid #fcc",textAlign:"center",fontWeight:"500"},children:h}),n?E.jsxs("div",{style:{textAlign:"center",padding:"60px",fontSize:"1.5rem",color:"#666",minHeight:"300px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{width:"50px",height:"50px",border:"5px solid #e5e7eb",borderTop:"5px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"}}),E.jsx("p",{children:"Loading knockout fixtures..."})]}):E.jsx(E.Fragment,{children:g.length===0?E.jsx("div",{style:{backgroundColor:"#fee",color:"#e44",padding:"20px",borderRadius:"8px",margin:"20px auto",maxWidth:"600px",border:"1px solid #fcc",textAlign:"center",fontWeight:"500"},children:"No knockout stages found. Create knockout stages from the Groups page first."}):E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"40px",maxWidth:"1000px",margin:"0 auto"},children:g.map((N,V)=>{const O=I(N.matches,r);if(O.length===0&&!N.name.includes(r))return null;const S=R(N);return E.jsxs("div",{id:N.name,style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",overflow:"hidden",border:"1px solid #e5e7eb"},children:[E.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"20px 30px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",margin:0},children:N.name}),V<g.length-1&&E.jsxs("button",{onClick:()=>M(V),disabled:!S,style:{padding:"12px 24px",backgroundColor:S?"#2563eb":"#ccc",color:"white",border:"none",borderRadius:"8px",cursor:S?"pointer":"not-allowed",fontWeight:"600",fontSize:"1.1rem",transition:"all 0.2s ease",opacity:S?1:.6,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:oe=>{S&&(oe.target.style.backgroundColor="#1d4ed8",oe.target.style.transform="translateY(-1px)")},onMouseLeave:oe=>{S&&(oe.target.style.backgroundColor="#2563eb",oe.target.style.transform="translateY(0)")},children:["Advance to ",g[V+1].name]})]}),E.jsx("div",{style:{padding:"20px 30px"},children:O.map(oe=>{const Ee=`${oe.stage}_${oe.matchNum}`,j=v[Ee],ee=b[Ee]||localStorage.getItem(`checked_${o}_${Ee}`),re=Ee,_e=C[re]||{scoreA:"",scoreB:""},k=j!==void 0;return ee?null:E.jsxs("div",{style:{marginBottom:"20px",padding:"20px",border:"2px solid #e5e7eb",borderRadius:"12px",backgroundColor:"#fff",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[E.jsxs("div",{style:{fontSize:"1.3rem",fontWeight:"700",color:"#1f2937"},children:[N.name," Match ",oe.matchNum]}),E.jsxs("div",{style:{fontSize:"0.9rem",color:"#6b7280",fontWeight:"500"},children:["Stadium: ",oe.matchNum%2===0?"Stadium 1":"Stadium 2"]})]}),E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"20px"},children:[E.jsx("div",{style:{flex:1,textAlign:"right"},children:E.jsx("div",{style:{fontWeight:"600",color:"#1f2937",fontSize:"1.1rem"},children:oe.teamAName||oe.teamA})}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[E.jsx("div",{style:{width:"60px",height:"60px",border:"3px solid #000",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",fontSize:"1.5rem",color:"#2563eb",backgroundColor:k&&j?"#eff6ff":"white"},children:k&&j?E.jsx("span",{style:{margin:0,color:"#2563eb"},children:j.scoreA}):E.jsx("input",{type:"number",min:"0",max:"9",style:{width:"40px",height:"40px",fontSize:"1.3rem",textAlign:"center",border:"none",outline:"none",backgroundColor:"transparent"},value:_e.scoreA,onChange:Y=>{const pe=Y.target.value;B(ae=>({...ae,[re]:{...ae[re],scoreA:pe}}))}})}),E.jsx("span",{style:{fontWeight:"700",fontSize:"1.3rem",color:"#4b5563"},children:"vs"}),E.jsx("div",{style:{width:"60px",height:"60px",border:"3px solid #000",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",fontSize:"1.5rem",color:"#2563eb",backgroundColor:k&&j?"#eff6ff":"white"},children:k&&j?E.jsx("span",{style:{margin:0,color:"#2563eb"},children:j.scoreB}):E.jsx("input",{type:"number",min:"0",max:"9",style:{width:"40px",height:"40px",fontSize:"1.3rem",textAlign:"center",border:"none",outline:"none",backgroundColor:"transparent"},value:_e.scoreB,onChange:Y=>{const pe=Y.target.value;B(ae=>({...ae,[re]:{...ae[re],scoreB:pe}}))}})})]}),E.jsx("div",{style:{flex:1,textAlign:"left"},children:E.jsx("div",{style:{fontWeight:"600",color:"#1f2937",fontSize:"1.1rem"},children:oe.teamBName||oe.teamB})})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginTop:"20px"},children:[E.jsxs("button",{onClick:()=>{if(!j){const Y=C[re]||{scoreA:0,scoreB:0};oe.scoreA=Number(Y.scoreA),oe.scoreB=Number(Y.scoreB)}P(oe)},style:{padding:"10px 20px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},onMouseEnter:Y=>{Y.target.style.backgroundColor="#059669",Y.target.style.transform="translateY(-1px)"},onMouseLeave:Y=>{Y.target.style.backgroundColor="#10b981",Y.target.style.transform="translateY(0)"},children:[E.jsx("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",style:{flexShrink:0},children:E.jsx("path",{d:"M5 10l4 4 6-8",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Check Match"]}),E.jsxs("button",{onClick:()=>he(oe),style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},onMouseEnter:Y=>{Y.target.style.backgroundColor="#2563eb",Y.target.style.transform="translateY(-1px)"},onMouseLeave:Y=>{Y.target.style.backgroundColor="#3b82f6",Y.target.style.transform="translateY(0)"},children:[E.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",style:{flexShrink:0},children:[E.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"white",strokeWidth:"2"}),E.jsx("rect",{x:"8",y:"6",width:"4",height:"8",rx:"2",fill:"white"})]}),"Events"]})]})]},oe.matchNum)})})]},N.name)})})})]})]}),E.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]})},qM=nx([{path:"/",element:E.jsx(px,{})},{path:"/dashboard",element:E.jsx(SN,{})},{path:"/make-groups",element:E.jsx(kM,{})},{path:"/fixtures",element:E.jsx(LM,{})},{path:"/events",element:E.jsx(UM,{})},{path:"/scorers",element:E.jsx(BM,{})},{path:"/assisters",element:E.jsx(zM,{})},{path:"/knockout",element:E.jsx(HM,{})}]);uw.createRoot(document.getElementById("root")).render(E.jsx(q.StrictMode,{children:E.jsx(gx,{router:qM})}));
