(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Rd={exports:{}},No={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function z1(){if(Cv)return No;Cv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:a,type:i,key:f,ref:l!==void 0?l:null,props:u}}return No.Fragment=e,No.jsx=n,No.jsxs=n,No}var Nv;function B1(){return Nv||(Nv=1,Rd.exports=z1()),Rd.exports}var T=B1(),Dd={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function H1(){if(Iv)return qe;Iv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function b(I){return I===null||typeof I!="object"?null:(I=A&&I[A]||I["@@iterator"],typeof I=="function"?I:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,B={};function V(I,te,ue){this.props=I,this.context=te,this.refs=B,this.updater=ue||D}V.prototype.isReactComponent={},V.prototype.setState=function(I,te){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,te,"setState")},V.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function L(){}L.prototype=V.prototype;function Z(I,te,ue){this.props=I,this.context=te,this.refs=B,this.updater=ue||D}var J=Z.prototype=new L;J.constructor=Z,N(J,V.prototype),J.isPureReactComponent=!0;var de=Array.isArray,ye={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function O(I,te,ue,ie,pe,Ce){return ue=Ce.ref,{$$typeof:a,type:I,key:te,ref:ue!==void 0?ue:null,props:Ce}}function x(I,te){return O(I.type,te,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function k(I){var te={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ue){return te[ue]})}var j=/\/+/g;function U(I,te){return typeof I=="object"&&I!==null&&I.key!=null?k(""+I.key):te.toString(36)}function C(){}function ge(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(C,C):(I.status="pending",I.then(function(te){I.status==="pending"&&(I.status="fulfilled",I.value=te)},function(te){I.status==="pending"&&(I.status="rejected",I.reason=te)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function be(I,te,ue,ie,pe){var Ce=typeof I;(Ce==="undefined"||Ce==="boolean")&&(I=null);var _e=!1;if(I===null)_e=!0;else switch(Ce){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(I.$$typeof){case a:case e:_e=!0;break;case _:return _e=I._init,be(_e(I._payload),te,ue,ie,pe)}}if(_e)return pe=pe(I),_e=ie===""?"."+U(I,0):ie,de(pe)?(ue="",_e!=null&&(ue=_e.replace(j,"$&/")+"/"),be(pe,te,ue,"",function(un){return un})):pe!=null&&(R(pe)&&(pe=x(pe,ue+(pe.key==null||I&&I.key===pe.key?"":(""+pe.key).replace(j,"$&/")+"/")+_e)),te.push(pe)),1;_e=0;var ut=ie===""?".":ie+":";if(de(I))for(var Ke=0;Ke<I.length;Ke++)ie=I[Ke],Ce=ut+U(ie,Ke),_e+=be(ie,te,ue,Ce,pe);else if(Ke=b(I),typeof Ke=="function")for(I=Ke.call(I),Ke=0;!(ie=I.next()).done;)ie=ie.value,Ce=ut+U(ie,Ke++),_e+=be(ie,te,ue,Ce,pe);else if(Ce==="object"){if(typeof I.then=="function")return be(ge(I),te,ue,ie,pe);throw te=String(I),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return _e}function H(I,te,ue){if(I==null)return I;var ie=[],pe=0;return be(I,ie,"","",function(Ce){return te.call(ue,Ce,pe++)}),ie}function re(I){if(I._status===-1){var te=I._result;te=te(),te.then(function(ue){(I._status===0||I._status===-1)&&(I._status=1,I._result=ue)},function(ue){(I._status===0||I._status===-1)&&(I._status=2,I._result=ue)}),I._status===-1&&(I._status=0,I._result=te)}if(I._status===1)return I._result.default;throw I._result}var fe=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Ae(){}return qe.Children={map:H,forEach:function(I,te,ue){H(I,function(){te.apply(this,arguments)},ue)},count:function(I){var te=0;return H(I,function(){te++}),te},toArray:function(I){return H(I,function(te){return te})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},qe.Component=V,qe.Fragment=n,qe.Profiler=l,qe.PureComponent=Z,qe.StrictMode=i,qe.Suspense=g,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye,qe.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ye.H.useMemoCache(I)}},qe.cache=function(I){return function(){return I.apply(null,arguments)}},qe.cloneElement=function(I,te,ue){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ie=N({},I.props),pe=I.key,Ce=void 0;if(te!=null)for(_e in te.ref!==void 0&&(Ce=void 0),te.key!==void 0&&(pe=""+te.key),te)!q.call(te,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&te.ref===void 0||(ie[_e]=te[_e]);var _e=arguments.length-2;if(_e===1)ie.children=ue;else if(1<_e){for(var ut=Array(_e),Ke=0;Ke<_e;Ke++)ut[Ke]=arguments[Ke+2];ie.children=ut}return O(I.type,pe,void 0,void 0,Ce,ie)},qe.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},qe.createElement=function(I,te,ue){var ie,pe={},Ce=null;if(te!=null)for(ie in te.key!==void 0&&(Ce=""+te.key),te)q.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=te[ie]);var _e=arguments.length-2;if(_e===1)pe.children=ue;else if(1<_e){for(var ut=Array(_e),Ke=0;Ke<_e;Ke++)ut[Ke]=arguments[Ke+2];pe.children=ut}if(I&&I.defaultProps)for(ie in _e=I.defaultProps,_e)pe[ie]===void 0&&(pe[ie]=_e[ie]);return O(I,Ce,void 0,void 0,null,pe)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(I){return{$$typeof:m,render:I}},qe.isValidElement=R,qe.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:re}},qe.memo=function(I,te){return{$$typeof:p,type:I,compare:te===void 0?null:te}},qe.startTransition=function(I){var te=ye.T,ue={};ye.T=ue;try{var ie=I(),pe=ye.S;pe!==null&&pe(ue,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ae,fe)}catch(Ce){fe(Ce)}finally{ye.T=te}},qe.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()},qe.use=function(I){return ye.H.use(I)},qe.useActionState=function(I,te,ue){return ye.H.useActionState(I,te,ue)},qe.useCallback=function(I,te){return ye.H.useCallback(I,te)},qe.useContext=function(I){return ye.H.useContext(I)},qe.useDebugValue=function(){},qe.useDeferredValue=function(I,te){return ye.H.useDeferredValue(I,te)},qe.useEffect=function(I,te,ue){var ie=ye.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(I,te)},qe.useId=function(){return ye.H.useId()},qe.useImperativeHandle=function(I,te,ue){return ye.H.useImperativeHandle(I,te,ue)},qe.useInsertionEffect=function(I,te){return ye.H.useInsertionEffect(I,te)},qe.useLayoutEffect=function(I,te){return ye.H.useLayoutEffect(I,te)},qe.useMemo=function(I,te){return ye.H.useMemo(I,te)},qe.useOptimistic=function(I,te){return ye.H.useOptimistic(I,te)},qe.useReducer=function(I,te,ue){return ye.H.useReducer(I,te,ue)},qe.useRef=function(I){return ye.H.useRef(I)},qe.useState=function(I){return ye.H.useState(I)},qe.useSyncExternalStore=function(I,te,ue){return ye.H.useSyncExternalStore(I,te,ue)},qe.useTransition=function(){return ye.H.useTransition()},qe.version="19.1.0",qe}var Ov;function Tm(){return Ov||(Ov=1,Dd.exports=H1()),Dd.exports}var F=Tm(),Cd={exports:{}},Io={},Nd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function q1(){return Mv||(Mv=1,function(a){function e(H,re){var fe=H.length;H.push(re);e:for(;0<fe;){var Ae=fe-1>>>1,I=H[Ae];if(0<l(I,re))H[Ae]=re,H[fe]=I,fe=Ae;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var re=H[0],fe=H.pop();if(fe!==re){H[0]=fe;e:for(var Ae=0,I=H.length,te=I>>>1;Ae<te;){var ue=2*(Ae+1)-1,ie=H[ue],pe=ue+1,Ce=H[pe];if(0>l(ie,fe))pe<I&&0>l(Ce,ie)?(H[Ae]=Ce,H[pe]=fe,Ae=pe):(H[Ae]=ie,H[ue]=fe,Ae=ue);else if(pe<I&&0>l(Ce,fe))H[Ae]=Ce,H[pe]=fe,Ae=pe;else break e}}return re}function l(H,re){var fe=H.sortIndex-re.sortIndex;return fe!==0?fe:H.id-re.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var g=[],p=[],_=1,A=null,b=3,D=!1,N=!1,B=!1,V=!1,L=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function de(H){for(var re=n(p);re!==null;){if(re.callback===null)i(p);else if(re.startTime<=H)i(p),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(p)}}function ye(H){if(B=!1,de(H),!N)if(n(g)!==null)N=!0,q||(q=!0,U());else{var re=n(p);re!==null&&be(ye,re.startTime-H)}}var q=!1,O=-1,x=5,R=-1;function k(){return V?!0:!(a.unstable_now()-R<x)}function j(){if(V=!1,q){var H=a.unstable_now();R=H;var re=!0;try{e:{N=!1,B&&(B=!1,Z(O),O=-1),D=!0;var fe=b;try{t:{for(de(H),A=n(g);A!==null&&!(A.expirationTime>H&&k());){var Ae=A.callback;if(typeof Ae=="function"){A.callback=null,b=A.priorityLevel;var I=Ae(A.expirationTime<=H);if(H=a.unstable_now(),typeof I=="function"){A.callback=I,de(H),re=!0;break t}A===n(g)&&i(g),de(H)}else i(g);A=n(g)}if(A!==null)re=!0;else{var te=n(p);te!==null&&be(ye,te.startTime-H),re=!1}}break e}finally{A=null,b=fe,D=!1}re=void 0}}finally{re?U():q=!1}}}var U;if(typeof J=="function")U=function(){J(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ge=C.port2;C.port1.onmessage=j,U=function(){ge.postMessage(null)}}else U=function(){L(j,0)};function be(H,re){O=L(function(){H(a.unstable_now())},re)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(H){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var fe=b;b=re;try{return H()}finally{b=fe}},a.unstable_requestPaint=function(){V=!0},a.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var fe=b;b=H;try{return re()}finally{b=fe}},a.unstable_scheduleCallback=function(H,re,fe){var Ae=a.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ae+fe:Ae):fe=Ae,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=fe+I,H={id:_++,callback:re,priorityLevel:H,startTime:fe,expirationTime:I,sortIndex:-1},fe>Ae?(H.sortIndex=fe,e(p,H),n(g)===null&&H===n(p)&&(B?(Z(O),O=-1):B=!0,be(ye,fe-Ae))):(H.sortIndex=I,e(g,H),N||D||(N=!0,q||(q=!0,U()))),H},a.unstable_shouldYield=k,a.unstable_wrapCallback=function(H){var re=b;return function(){var fe=b;b=re;try{return H.apply(this,arguments)}finally{b=fe}}}}(Id)),Id}var Vv;function F1(){return Vv||(Vv=1,Nd.exports=q1()),Nd.exports}var Od={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function G1(){if(kv)return Vn;kv=1;var a=Tm();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,p,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:p,implementation:_}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Vn.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,_)},Vn.flushSync=function(g){var p=f.T,_=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=p,i.p=_,i.d.f()}},Vn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},Vn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Vn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,A=m(_,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:D}):_==="script"&&i.d.X(g,{crossOrigin:A,integrity:b,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=m(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},Vn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,A=m(_,p.crossOrigin);i.d.L(g,_,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vn.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=m(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},Vn.requestFormReset=function(g){i.d.r(g)},Vn.unstable_batchedUpdates=function(g,p){return g(p)},Vn.useFormState=function(g,p,_){return f.H.useFormState(g,p,_)},Vn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Vn.version="19.1.0",Vn}var Lv;function R0(){if(Lv)return Od.exports;Lv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Od.exports=G1(),Od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function $1(){if(Pv)return Io;Pv=1;var a=F1(),e=Tm(),n=R0();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(i(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(i(188));return r!==t?null:t}for(var s=t,o=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===o)return m(h),r;d=d.sibling}throw Error(i(188))}if(s.return!==o.return)s=h,o=d;else{for(var E=!1,S=h.child;S;){if(S===s){E=!0,s=h,o=d;break}if(S===o){E=!0,o=h,s=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===s){E=!0,s=d,o=h;break}if(S===o){E=!0,o=d,s=h;break}S=S.sibling}if(!E)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),J=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case V:return"Profiler";case B:return"StrictMode";case ye:return"Suspense";case q:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case J:return(t.displayName||"Context")+".Provider";case Z:return(t._context.displayName||"Context")+".Consumer";case de:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:ge(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return ge(t(r))}catch{}}return null}var be=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ae=[],I=-1;function te(t){return{current:t}}function ue(t){0>I||(t.current=Ae[I],Ae[I]=null,I--)}function ie(t,r){I++,Ae[I]=t.current,t.current=r}var pe=te(null),Ce=te(null),_e=te(null),ut=te(null);function Ke(t,r){switch(ie(_e,r),ie(Ce,t),ie(pe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?rv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=rv(r),t=av(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(pe),ie(pe,t)}function un(){ue(pe),ue(Ce),ue(_e)}function mt(t){t.memoizedState!==null&&ie(ut,t);var r=pe.current,s=av(r,t.type);r!==s&&(ie(Ce,t),ie(pe,s))}function kt(t){Ce.current===t&&(ue(pe),ue(Ce)),ut.current===t&&(ue(ut),wo._currentValue=fe)}var yn=Object.prototype.hasOwnProperty,Ct=a.unstable_scheduleCallback,ot=a.unstable_cancelCallback,vn=a.unstable_shouldYield,Gt=a.unstable_requestPaint,Nt=a.unstable_now,Ir=a.unstable_getCurrentPriorityLevel,ya=a.unstable_ImmediatePriority,cn=a.unstable_UserBlockingPriority,jn=a.unstable_NormalPriority,_n=a.unstable_LowPriority,Lt=a.unstable_IdlePriority,Nn=a.log,cr=a.unstable_setDisableYieldValue,ft=null,Fe=null;function In(t){if(typeof Nn=="function"&&cr(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ft,t)}catch{}}var $t=Math.clz32?Math.clz32:Br,Rs=Math.log,hr=Math.LN2;function Br(t){return t>>>=0,t===0?32:31-(Rs(t)/hr|0)|0}var Hr=256,qr=4194304;function Xn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function va(t,r,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~d,o!==0?h=Xn(o):(E&=S,E!==0?h=Xn(E):s||(s=S&~t,s!==0&&(h=Xn(s))))):(S=o&~d,S!==0?h=Xn(S):E!==0?h=Xn(E):s||(s=o&~t,s!==0&&(h=Xn(s)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:h}function fr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Qa(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _a(){var t=Hr;return Hr<<=1,(Hr&4194048)===0&&(Hr=256),t}function Ui(){var t=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),t}function dr(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Or(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ya(t,r,s,o,h,d){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,M=t.expirationTimes,X=t.hiddenUpdates;for(s=E&~s;0<s;){var ae=31-$t(s),oe=1<<ae;S[ae]=0,M[ae]=-1;var W=X[ae];if(W!==null)for(X[ae]=null,ae=0;ae<W.length;ae++){var ee=W[ae];ee!==null&&(ee.lane&=-536870913)}s&=~oe}o!==0&&Un(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function Un(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-$t(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function Fr(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var o=31-$t(s),h=1<<o;h&r|t[o]&r&&(t[o]|=r),s&=~h}}function Gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ka(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function P(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Av(t.type))}function $(t,r){var s=re.p;try{return re.p=t,r()}finally{re.p=s}}var K=Math.random().toString(36).slice(2),ce="__reactFiber$"+K,me="__reactProps$"+K,Se="__reactContainer$"+K,Oe="__reactEvents$"+K,we="__reactListeners$"+K,De="__reactHandles$"+K,Re="__reactResources$"+K,ke="__reactMarker$"+K;function Me(t){delete t[ce],delete t[me],delete t[Oe],delete t[we],delete t[De]}function je(t){var r=t[ce];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Se]||s[ce]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=ov(t);t!==null;){if(s=t[ce])return s;t=ov(t)}return r}t=s,s=t.parentNode}return null}function Xe(t){if(t=t[ce]||t[Se]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function gt(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function ct(t){var r=t[Re];return r||(r=t[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function nt(t){t[ke]=!0}var Qe=new Set,mr={};function tn(t,r){zn(t,r),zn(t+"Capture",r)}function zn(t,r){for(mr[t]=r,t=0;t<r.length;t++)Qe.add(r[t])}var En=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$r={},Wn={};function Xa(t){return yn.call(Wn,t)?!0:yn.call($r,t)?!1:En.test(t)?Wn[t]=!0:($r[t]=!0,!1)}function On(t,r,s){if(Xa(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Bn(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function ze(t,r,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+o)}}var Qt,Zn;function Gn(t){if(Qt===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Qt=r&&r[1]||"",Zn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qt+t+Zn}var Qr=!1;function St(t,r){if(!t||Qr)return"";Qr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var W=ee}Reflect.construct(t,[],oe)}else{try{oe.call()}catch(ee){W=ee}t.call(oe.prototype)}}else{try{throw Error()}catch(ee){W=ee}(oe=t())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&W&&typeof ee.stack=="string")return[ee.stack,W.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var M=E.split(`
`),X=S.split(`
`);for(h=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;if(o===M.length||h===X.length)for(o=M.length-1,h=X.length-1;1<=o&&0<=h&&M[o]!==X[h];)h--;for(;1<=o&&0<=h;o--,h--)if(M[o]!==X[h]){if(o!==1||h!==1)do if(o--,h--,0>h||M[o]!==X[h]){var ae=`
`+M[o].replace(" at new "," at ");return t.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",t.displayName)),ae}while(1<=o&&0<=h);break}}}finally{Qr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Gn(s):""}function gr(t){switch(t.tag){case 26:case 27:case 5:return Gn(t.type);case 16:return Gn("Lazy");case 13:return Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return St(t.type,!1);case 11:return St(t.type.render,!1);case 1:return St(t.type,!0);case 31:return Gn("Activity");default:return""}}function Ea(t){try{var r="";do r+=gr(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ol(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nh(t){var r=Ol(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){o=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ds(t){t._valueTracker||(t._valueTracker=Nh(t))}function Ml(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return t&&(o=Ol(t)?t.checked?"true":"false":t.value),t=o,t!==s?(r.setValue(t),!0):!1}function zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ih=/[\n"\\]/g;function Yt(t){return t.replace(Ih,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Jn(t,r,s,o,h,d,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Tn(r)):t.value!==""+Tn(r)&&(t.value=""+Tn(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Wa(t,E,Tn(r)):s!=null?Wa(t,E,Tn(s)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Tn(S):t.removeAttribute("name")}function Bi(t,r,s,o,h,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+Tn(s):"",r=r!=null?""+Tn(r):s,S||r===t.value||(t.value=r),t.defaultValue=r}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Wa(t,r,s){r==="number"&&zi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ta(t,r,s,o){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Tn(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Et(t,r,s){if(r!=null&&(r=""+Tn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+Tn(s):""}function Hi(t,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(i(92));if(be(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=Tn(r),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function pr(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var qi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(t,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,s):typeof s!="number"||s===0||qi.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Vl(t,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in r)o=r[h],r.hasOwnProperty(h)&&s[h]!==o&&pu(t,h,o)}else for(var d in r)r.hasOwnProperty(d)&&pu(t,d,r[d])}function kl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cs(t){return Mh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ba=null;function yr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Aa=null,Sa=null;function Ll(t){var r=Xe(t);if(r&&(t=r.stateNode)){var s=t[me]||null;e:switch(t=r.stateNode,r.type){case"input":if(Jn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Yt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==t&&o.form===t.form){var h=o[me]||null;if(!h)throw Error(i(90));Jn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===t.form&&Ml(o)}break e;case"textarea":Et(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Ta(t,!!s.multiple,r,!1)}}}var Yr=!1;function yu(t,r,s){if(Yr)return t(r,s);Yr=!0;try{var o=t(r);return o}finally{if(Yr=!1,(Aa!==null||Sa!==null)&&(cc(),Aa&&(r=Aa,t=Sa,Sa=Aa=null,Ll(r),t)))for(r=0;r<t.length;r++)Ll(t[r])}}function Fi(t,r){var s=t.stateNode;if(s===null)return null;var o=s[me]||null;if(o===null)return null;s=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Mr)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{vr=!1}var Kr=null,Za=null,wa=null;function Pl(){if(wa)return wa;var t,r=Za,s=r.length,o,h="value"in Kr?Kr.value:Kr.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var E=s-t;for(o=1;o<=E&&r[s-o]===h[d-o];o++);return wa=h.slice(t,1<o?1-o:void 0)}function Xr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Wr(){return!0}function jl(){return!1}function hn(t){function r(s,o,h,d,E){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wr:jl,this.isPropagationStopped=jl,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),r}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=hn(pt),$i=_({},pt,{view:0,detail:0}),vu=hn($i),Is,Os,Zr,Qi=_({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zr&&(Zr&&t.type==="mousemove"?(Is=t.screenX-Zr.screenX,Os=t.screenY-Zr.screenY):Os=Is=0,Zr=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:Os}}),_r=hn(Qi),_u=_({},Qi,{dataTransfer:0}),Vh=hn(_u),Yi=_({},$i,{relatedTarget:0}),Ms=hn(Yi),Ul=_({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),Vs=hn(Ul),Eu=_({},pt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ks=hn(Eu),kh=_({},pt,{data:0}),zl=hn(kh),Ki={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bl(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=bu[t])?!!r[t]:!1}function Xi(){return Bl}var Au=_({},$i,{key:function(t){if(t.key){var r=Ki[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(t){return t.type==="keypress"?Xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ls=hn(Au),Su=_({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=hn(Su),xa=_({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),wu=hn(xa),xu=_({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=hn(xu),Du=_({},Qi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ps=hn(Du),Hn=_({},pt,{newState:0,oldState:0}),Cu=hn(Hn),Nu=[9,13,27,32],Jr=Mr&&"CompositionEvent"in window,c=null;Mr&&"documentMode"in document&&(c=document.documentMode);var y=Mr&&"TextEvent"in window&&!c,v=Mr&&(!Jr||c&&8<c&&11>=c),w=" ",Q=!1;function ne(t,r){switch(t){case"keyup":return Nu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rt=!1;function nn(t,r){switch(t){case"compositionend":return ve(r);case"keypress":return r.which!==32?null:(Q=!0,w);case"textInput":return t=r.data,t===w&&Q?null:t;default:return null}}function at(t,r){if(rt)return t==="compositionend"||!Jr&&ne(t,r)?(t=Pl(),wa=Za=Kr=null,rt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rn(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!fn[t.type]:r==="textarea"}function Ra(t,r,s,o){Aa?Sa?Sa.push(o):Sa=[o]:Aa=o,r=pc(r,"onChange"),0<r.length&&(s=new Ns("onChange","change",null,s,o),t.push({event:s,listeners:r}))}var bn=null,ea=null;function ql(t){Zy(t,0)}function Iu(t){var r=gt(t);if(Ml(r))return t}function _g(t,r){if(t==="change")return r}var Eg=!1;if(Mr){var Lh;if(Mr){var Ph="oninput"in document;if(!Ph){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Ph=typeof Tg.oninput=="function"}Lh=Ph}else Lh=!1;Eg=Lh&&(!document.documentMode||9<document.documentMode)}function bg(){bn&&(bn.detachEvent("onpropertychange",Ag),ea=bn=null)}function Ag(t){if(t.propertyName==="value"&&Iu(ea)){var r=[];Ra(r,ea,t,yr(t)),yu(ql,r)}}function pb(t,r,s){t==="focusin"?(bg(),bn=r,ea=s,bn.attachEvent("onpropertychange",Ag)):t==="focusout"&&bg()}function yb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(ea)}function vb(t,r){if(t==="click")return Iu(r)}function _b(t,r){if(t==="input"||t==="change")return Iu(r)}function Eb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var er=typeof Object.is=="function"?Object.is:Eb;function Fl(t,r){if(er(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!yn.call(r,h)||!er(t[h],r[h]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,r){var s=Sg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=r&&o>=r)return{node:s,offset:r-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sg(s)}}function xg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?xg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=zi(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=zi(t.document)}return r}function jh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Tb=Mr&&"documentMode"in document&&11>=document.documentMode,js=null,Uh=null,Gl=null,zh=!1;function Dg(t,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||js==null||js!==zi(o)||(o=js,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Gl&&Fl(Gl,o)||(Gl=o,o=pc(Uh,"onSelect"),0<o.length&&(r=new Ns("onSelect","select",null,r,s),t.push({event:r,listeners:o}),r.target=js)))}function Wi(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Us={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionrun:Wi("Transition","TransitionRun"),transitionstart:Wi("Transition","TransitionStart"),transitioncancel:Wi("Transition","TransitionCancel"),transitionend:Wi("Transition","TransitionEnd")},Bh={},Cg={};Mr&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Zi(t){if(Bh[t])return Bh[t];if(!Us[t])return t;var r=Us[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Cg)return Bh[t]=r[s];return t}var Ng=Zi("animationend"),Ig=Zi("animationiteration"),Og=Zi("animationstart"),bb=Zi("transitionrun"),Ab=Zi("transitionstart"),Sb=Zi("transitioncancel"),Mg=Zi("transitionend"),Vg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Vr(t,r){Vg.set(t,r),tn(r,[t])}var kg=new WeakMap;function Er(t,r){if(typeof t=="object"&&t!==null){var s=kg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:Ea(r)},kg.set(t,r),r)}return{value:t,source:r,stack:Ea(r)}}var Tr=[],zs=0,qh=0;function Ou(){for(var t=zs,r=qh=zs=0;r<t;){var s=Tr[r];Tr[r++]=null;var o=Tr[r];Tr[r++]=null;var h=Tr[r];Tr[r++]=null;var d=Tr[r];if(Tr[r++]=null,o!==null&&h!==null){var E=o.pending;E===null?h.next=h:(h.next=E.next,E.next=h),o.pending=h}d!==0&&Lg(s,h,d)}}function Mu(t,r,s,o){Tr[zs++]=t,Tr[zs++]=r,Tr[zs++]=s,Tr[zs++]=o,qh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Fh(t,r,s,o){return Mu(t,r,s,o),Vu(t)}function Bs(t,r){return Mu(t,null,null,r),Vu(t)}function Lg(t,r,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-$t(s),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[r]:o.push(r),r.lane=s|536870912),d):null}function Vu(t){if(50<yo)throw yo=0,Wf=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Hs={};function wb(t,r,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,r,s,o){return new wb(t,r,s,o)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Da(t,r){var s=t.alternate;return s===null?(s=tr(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Pg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ku(t,r,s,o,h,d){var E=0;if(o=t,typeof t=="function")Gh(t)&&(E=1);else if(typeof t=="string")E=R1(t,s,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=tr(31,s,r,h),t.elementType=R,t.lanes=d,t;case N:return Ji(s.children,h,d,r);case B:E=8,h|=24;break;case V:return t=tr(12,s,r,h|2),t.elementType=V,t.lanes=d,t;case ye:return t=tr(13,s,r,h),t.elementType=ye,t.lanes=d,t;case q:return t=tr(19,s,r,h),t.elementType=q,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:case J:E=10;break e;case Z:E=9;break e;case de:E=11;break e;case O:E=14;break e;case x:E=16,o=null;break e}E=29,s=Error(i(130,t===null?"null":typeof t,"")),o=null}return r=tr(E,s,r,h),r.elementType=t,r.type=o,r.lanes=d,r}function Ji(t,r,s,o){return t=tr(7,t,o,r),t.lanes=s,t}function $h(t,r,s){return t=tr(6,t,null,r),t.lanes=s,t}function Qh(t,r,s){return r=tr(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var qs=[],Fs=0,Lu=null,Pu=0,br=[],Ar=0,es=null,Ca=1,Na="";function ts(t,r){qs[Fs++]=Pu,qs[Fs++]=Lu,Lu=t,Pu=r}function jg(t,r,s){br[Ar++]=Ca,br[Ar++]=Na,br[Ar++]=es,es=t;var o=Ca;t=Na;var h=32-$t(o)-1;o&=~(1<<h),s+=1;var d=32-$t(r)+h;if(30<d){var E=h-h%5;d=(o&(1<<E)-1).toString(32),o>>=E,h-=E,Ca=1<<32-$t(r)+h|s<<h|o,Na=d+t}else Ca=1<<d|s<<h|o,Na=t}function Yh(t){t.return!==null&&(ts(t,1),jg(t,1,0))}function Kh(t){for(;t===Lu;)Lu=qs[--Fs],qs[Fs]=null,Pu=qs[--Fs],qs[Fs]=null;for(;t===es;)es=br[--Ar],br[Ar]=null,Na=br[--Ar],br[Ar]=null,Ca=br[--Ar],br[Ar]=null}var qn=null,Pt=null,dt=!1,ns=null,ta=!1,Xh=Error(i(519));function rs(t){var r=Error(i(418,""));throw Yl(Er(r,t)),Xh}function Ug(t){var r=t.stateNode,s=t.type,o=t.memoizedProps;switch(r[ce]=t,r[me]=o,s){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(s=0;s<_o.length;s++)Ze(_o[s],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Ze("invalid",r),Bi(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ds(r);break;case"select":Ze("invalid",r);break;case"textarea":Ze("invalid",r),Hi(r,o.value,o.defaultValue,o.children),Ds(r)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||nv(r.textContent,s)?(o.popover!=null&&(Ze("beforetoggle",r),Ze("toggle",r)),o.onScroll!=null&&Ze("scroll",r),o.onScrollEnd!=null&&Ze("scrollend",r),o.onClick!=null&&(r.onclick=yc),r=!0):r=!1,r||rs(t)}function zg(t){for(qn=t.return;qn;)switch(qn.tag){case 5:case 13:ta=!1;return;case 27:case 3:ta=!0;return;default:qn=qn.return}}function $l(t){if(t!==qn)return!1;if(!dt)return zg(t),dt=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||dd(t.type,t.memoizedProps)),s=!s),s&&Pt&&rs(t),zg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){Pt=Lr(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}Pt=null}}else r===27?(r=Pt,mi(t.type)?(t=yd,yd=null,Pt=t):Pt=r):Pt=qn?Lr(t.stateNode.nextSibling):null;return!0}function Ql(){Pt=qn=null,dt=!1}function Bg(){var t=ns;return t!==null&&(Yn===null?Yn=t:Yn.push.apply(Yn,t),ns=null),t}function Yl(t){ns===null?ns=[t]:ns.push(t)}var Wh=te(null),as=null,Ia=null;function Ja(t,r,s){ie(Wh,r._currentValue),r._currentValue=s}function Oa(t){t._currentValue=Wh.current,ue(Wh)}function Zh(t,r,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===s)break;t=t.return}}function Jh(t,r,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var M=0;M<r.length;M++)if(S.context===r[M]){d.lanes|=s,S=d.alternate,S!==null&&(S.lanes|=s),Zh(d.return,s,t),o||(E=null);break e}d=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),Zh(E,s,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Kl(t,r,s,o){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=h.type;er(h.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(h===ut.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wo):t=[wo])}h=h.return}t!==null&&Jh(r,t,s,o),r.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!er(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function is(t){as=t,Ia=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Mn(t){return Hg(as,t)}function Uu(t,r){return as===null&&is(t),Hg(t,r)}function Hg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Ia===null){if(t===null)throw Error(i(308));Ia=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ia=Ia.next=r;return s}var xb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},Rb=a.unstable_scheduleCallback,Db=a.unstable_NormalPriority,an={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new xb,data:new Map,refCount:0}}function Xl(t){t.refCount--,t.refCount===0&&Rb(Db,function(){t.controller.abort()})}var Wl=null,tf=0,Gs=0,$s=null;function Cb(t,r){if(Wl===null){var s=Wl=[];tf=0,Gs=ad(),$s={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,r.then(qg,qg),r}function qg(){if(--tf===0&&Wl!==null){$s!==null&&($s.status="fulfilled");var t=Wl;Wl=null,Gs=0,$s=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Nb(t,r){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Fg=H.S;H.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Cb(t,r),Fg!==null&&Fg(t,r)};var ss=te(null);function nf(){var t=ss.current;return t!==null?t:xt.pooledCache}function zu(t,r){r===null?ie(ss,ss.current):ie(ss,r.pool)}function Gg(){var t=nf();return t===null?null:{parent:an._currentValue,pool:t}}var Zl=Error(i(460)),$g=Error(i(474)),Bu=Error(i(542)),rf={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hu(){}function Yg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Hu,Hu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Xg(t),t;default:if(typeof r.status=="string")r.then(Hu,Hu);else{if(t=xt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=o}},function(o){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Xg(t),t}throw Jl=r,Zl}}var Jl=null;function Kg(){if(Jl===null)throw Error(i(459));var t=Jl;return Jl=null,t}function Xg(t){if(t===Zl||t===Bu)throw Error(i(483))}var ei=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ti(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ni(t,r,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(vt&2)!==0){var h=o.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),o.pending=r,r=Vu(t),Lg(t,null,s),r}return Mu(t,o,r,s),Vu(t)}function eo(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Fr(t,s)}}function lf(t,r){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var of=!1;function to(){if(of){var t=$s;if(t!==null)throw t}}function no(t,r,s,o){of=!1;var h=t.updateQueue;ei=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var M=S,X=M.next;M.next=null,E===null?d=X:E.next=X,E=M;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,S=ae.lastBaseUpdate,S!==E&&(S===null?ae.firstBaseUpdate=X:S.next=X,ae.lastBaseUpdate=M))}if(d!==null){var oe=h.baseState;E=0,ae=X=M=null,S=d;do{var W=S.lane&-536870913,ee=W!==S.lane;if(ee?(it&W)===W:(o&W)===W){W!==0&&W===Gs&&(of=!0),ae!==null&&(ae=ae.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ue=t,Ve=S;W=r;var At=s;switch(Ve.tag){case 1:if(Ue=Ve.payload,typeof Ue=="function"){oe=Ue.call(At,oe,W);break e}oe=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ve.payload,W=typeof Ue=="function"?Ue.call(At,oe,W):Ue,W==null)break e;oe=_({},oe,W);break e;case 2:ei=!0}}W=S.callback,W!==null&&(t.flags|=64,ee&&(t.flags|=8192),ee=h.callbacks,ee===null?h.callbacks=[W]:ee.push(W))}else ee={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ae===null?(X=ae=ee,M=oe):ae=ae.next=ee,E|=W;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,h.lastBaseUpdate=ee,h.shared.pending=null}}while(!0);ae===null&&(M=oe),h.baseState=M,h.firstBaseUpdate=X,h.lastBaseUpdate=ae,d===null&&(h.shared.lanes=0),ci|=E,t.lanes=E,t.memoizedState=oe}}function Wg(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Zg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Wg(s[t],r)}var Qs=te(null),qu=te(0);function Jg(t,r){t=Ua,ie(qu,t),ie(Qs,r),Ua=t|r.baseLanes}function uf(){ie(qu,Ua),ie(Qs,Qs.current)}function cf(){Ua=qu.current,ue(Qs),ue(qu)}var ri=0,Ge=null,Tt=null,Kt=null,Fu=!1,Ys=!1,ls=!1,Gu=0,ro=0,Ks=null,Ib=0;function Bt(){throw Error(i(321))}function hf(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!er(t[s],r[s]))return!1;return!0}function ff(t,r,s,o,h,d){return ri=d,Ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=t===null||t.memoizedState===null?Lp:Pp,ls=!1,d=s(o,h),ls=!1,Ys&&(d=tp(r,s,o,h)),ep(t),d}function ep(t){H.H=Wu;var r=Tt!==null&&Tt.next!==null;if(ri=0,Kt=Tt=Ge=null,Fu=!1,ro=0,Ks=null,r)throw Error(i(300));t===null||dn||(t=t.dependencies,t!==null&&ju(t)&&(dn=!0))}function tp(t,r,s,o){Ge=t;var h=0;do{if(Ys&&(Ks=null),ro=0,Ys=!1,25<=h)throw Error(i(301));if(h+=1,Kt=Tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=jb,d=r(s,o)}while(Ys);return d}function Ob(){var t=H.H,r=t.useState()[0];return r=typeof r.then=="function"?ao(r):r,t=t.useState()[0],(Tt!==null?Tt.memoizedState:null)!==t&&(Ge.flags|=1024),r}function df(){var t=Gu!==0;return Gu=0,t}function mf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function gf(t){if(Fu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Fu=!1}ri=0,Kt=Tt=Ge=null,Ys=!1,ro=Gu=0,Ks=null}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Ge.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function Xt(){if(Tt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var r=Kt===null?Ge.memoizedState:Kt.next;if(r!==null)Kt=r,Tt=t;else{if(t===null)throw Ge.alternate===null?Error(i(467)):Error(i(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Kt===null?Ge.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var r=ro;return ro+=1,Ks===null&&(Ks=[]),t=Yg(Ks,t,r),r=Ge,(Kt===null?r.memoizedState:Kt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?Lp:Pp),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===J)return Mn(t)}throw Error(i(438,String(t)))}function yf(t){var r=null,s=Ge.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=Ge.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=pf(),Ge.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),o=0;o<t;o++)s[o]=k;return r.index++,s}function Ma(t,r){return typeof r=="function"?r(t):r}function Qu(t){var r=Xt();return vf(r,Tt,t)}function vf(t,r,s){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}r.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var S=E=null,M=null,X=r,ae=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(it&oe)===oe:(ri&oe)===oe){var W=X.revertLane;if(W===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===Gs&&(ae=!0);else if((ri&W)===W){X=X.next,W===Gs&&(ae=!0);continue}else oe={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},M===null?(S=M=oe,E=d):M=M.next=oe,Ge.lanes|=W,ci|=W;oe=X.action,ls&&s(d,oe),d=X.hasEagerState?X.eagerState:s(d,oe)}else W={lane:oe,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},M===null?(S=M=W,E=d):M=M.next=W,Ge.lanes|=oe,ci|=oe;X=X.next}while(X!==null&&X!==r);if(M===null?E=d:M.next=S,!er(d,t.memoizedState)&&(dn=!0,ae&&(s=$s,s!==null)))throw s;t.memoizedState=d,t.baseState=E,t.baseQueue=M,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function _f(t){var r=Xt(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);er(d,r.memoizedState)||(dn=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,o]}function np(t,r,s){var o=Ge,h=Xt(),d=dt;if(d){if(s===void 0)throw Error(i(407));s=s()}else s=r();var E=!er((Tt||h).memoizedState,s);E&&(h.memoizedState=s,dn=!0),h=h.queue;var S=ip.bind(null,o,h,t);if(io(2048,8,S,[t]),h.getSnapshot!==r||E||Kt!==null&&Kt.memoizedState.tag&1){if(o.flags|=2048,Xs(9,Yu(),ap.bind(null,o,h,s,r),null),xt===null)throw Error(i(349));d||(ri&124)!==0||rp(o,r,s)}return s}function rp(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Ge.updateQueue,r===null?(r=pf(),Ge.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function ap(t,r,s,o){r.value=s,r.getSnapshot=o,sp(r)&&lp(t)}function ip(t,r,s){return s(function(){sp(r)&&lp(t)})}function sp(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!er(t,s)}catch{return!0}}function lp(t){var r=Bs(t,2);r!==null&&sr(r,t,2)}function Ef(t){var r=$n();if(typeof t=="function"){var s=t;if(t=s(),ls){In(!0);try{s()}finally{In(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},r}function op(t,r,s,o){return t.baseState=s,vf(t,Tt,typeof o=="function"?o:Ma)}function Mb(t,r,s,o,h){if(Xu(t))throw Error(i(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};H.T!==null?s(!0):d.isTransition=!1,o(d),s=r.pending,s===null?(d.next=r.pending=d,up(r,d)):(d.next=s.next,r.pending=s.next=d)}}function up(t,r){var s=r.action,o=r.payload,h=t.state;if(r.isTransition){var d=H.T,E={};H.T=E;try{var S=s(h,o),M=H.S;M!==null&&M(E,S),cp(t,r,S)}catch(X){Tf(t,r,X)}finally{H.T=d}}else try{d=s(h,o),cp(t,r,d)}catch(X){Tf(t,r,X)}}function cp(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){hp(t,r,o)},function(o){return Tf(t,r,o)}):hp(t,r,s)}function hp(t,r,s){r.status="fulfilled",r.value=s,fp(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,up(t,s)))}function Tf(t,r,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,fp(r),r=r.next;while(r!==o)}t.action=null}function fp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function dp(t,r){return r}function mp(t,r){if(dt){var s=xt.formState;if(s!==null){e:{var o=Ge;if(dt){if(Pt){t:{for(var h=Pt,d=ta;h.nodeType!==8;){if(!d){h=null;break t}if(h=Lr(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Pt=Lr(h.nextSibling),o=h.data==="F!";break e}}rs(o)}o=!1}o&&(r=s[0])}}return s=$n(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:r},s.queue=o,s=Mp.bind(null,Ge,o),o.dispatch=s,o=Ef(!1),d=xf.bind(null,Ge,!1,o.queue),o=$n(),h={state:r,dispatch:null,action:t,pending:null},o.queue=h,s=Mb.bind(null,Ge,h,d,s),h.dispatch=s,o.memoizedState=t,[r,s,!1]}function gp(t){var r=Xt();return pp(r,Tt,t)}function pp(t,r,s){if(r=vf(t,r,dp)[0],t=Qu(Ma)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=ao(r)}catch(E){throw E===Zl?Bu:E}else o=r;r=Xt();var h=r.queue,d=h.dispatch;return s!==r.memoizedState&&(Ge.flags|=2048,Xs(9,Yu(),Vb.bind(null,h,s),null)),[o,d,t]}function Vb(t,r){t.action=r}function yp(t){var r=Xt(),s=Tt;if(s!==null)return pp(r,s,t);Xt(),r=r.memoizedState,s=Xt();var o=s.queue.dispatch;return s.memoizedState=t,[r,o,!1]}function Xs(t,r,s,o){return t={tag:t,create:s,deps:o,inst:r,next:null},r=Ge.updateQueue,r===null&&(r=pf(),Ge.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,r.lastEffect=t),t}function Yu(){return{destroy:void 0,resource:void 0}}function vp(){return Xt().memoizedState}function Ku(t,r,s,o){var h=$n();o=o===void 0?null:o,Ge.flags|=t,h.memoizedState=Xs(1|r,Yu(),s,o)}function io(t,r,s,o){var h=Xt();o=o===void 0?null:o;var d=h.memoizedState.inst;Tt!==null&&o!==null&&hf(o,Tt.memoizedState.deps)?h.memoizedState=Xs(r,d,s,o):(Ge.flags|=t,h.memoizedState=Xs(1|r,d,s,o))}function _p(t,r){Ku(8390656,8,t,r)}function Ep(t,r){io(2048,8,t,r)}function Tp(t,r){return io(4,2,t,r)}function bp(t,r){return io(4,4,t,r)}function Ap(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Sp(t,r,s){s=s!=null?s.concat([t]):null,io(4,4,Ap.bind(null,r,t),s)}function bf(){}function wp(t,r){var s=Xt();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&hf(r,o[1])?o[0]:(s.memoizedState=[t,r],t)}function xp(t,r){var s=Xt();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&hf(r,o[1]))return o[0];if(o=t(),ls){In(!0);try{t()}finally{In(!1)}}return s.memoizedState=[o,r],o}function Af(t,r,s){return s===void 0||(ri&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=Cy(),Ge.lanes|=t,ci|=t,s)}function Rp(t,r,s,o){return er(s,r)?s:Qs.current!==null?(t=Af(t,s,o),er(t,r)||(dn=!0),t):(ri&42)===0?(dn=!0,t.memoizedState=s):(t=Cy(),Ge.lanes|=t,ci|=t,r)}function Dp(t,r,s,o,h){var d=re.p;re.p=d!==0&&8>d?d:8;var E=H.T,S={};H.T=S,xf(t,!1,r,s);try{var M=h(),X=H.S;if(X!==null&&X(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ae=Nb(M,o);so(t,r,ae,ir(t))}else so(t,r,o,ir(t))}catch(oe){so(t,r,{then:function(){},status:"rejected",reason:oe},ir())}finally{re.p=d,H.T=E}}function kb(){}function Sf(t,r,s,o){if(t.tag!==5)throw Error(i(476));var h=Cp(t).queue;Dp(t,h,r,fe,s===null?kb:function(){return Np(t),s(o)})}function Cp(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:fe},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Np(t){var r=Cp(t).next.queue;so(t,r,{},ir())}function wf(){return Mn(wo)}function Ip(){return Xt().memoizedState}function Op(){return Xt().memoizedState}function Lb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=ir();t=ti(s);var o=ni(r,t,s);o!==null&&(sr(o,r,s),eo(o,r,s)),r={cache:ef()},t.payload=r;return}r=r.return}}function Pb(t,r,s){var o=ir();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Xu(t)?Vp(r,s):(s=Fh(t,r,s,o),s!==null&&(sr(s,t,o),kp(s,r,o)))}function Mp(t,r,s){var o=ir();so(t,r,s,o)}function so(t,r,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))Vp(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,S=d(E,s);if(h.hasEagerState=!0,h.eagerState=S,er(S,E))return Mu(t,r,h,0),xt===null&&Ou(),!1}catch{}finally{}if(s=Fh(t,r,h,o),s!==null)return sr(s,t,o),kp(s,r,o),!0}return!1}function xf(t,r,s,o){if(o={lane:2,revertLane:ad(),action:o,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(r)throw Error(i(479))}else r=Fh(t,s,o,2),r!==null&&sr(r,t,2)}function Xu(t){var r=t.alternate;return t===Ge||r!==null&&r===Ge}function Vp(t,r){Ys=Fu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function kp(t,r,s){if((s&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Fr(t,s)}}var Wu={readContext:Mn,use:$u,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},Lp={readContext:Mn,use:$u,useCallback:function(t,r){return $n().memoizedState=[t,r===void 0?null:r],t},useContext:Mn,useEffect:_p,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Ku(4194308,4,Ap.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Ku(4194308,4,t,r)},useInsertionEffect:function(t,r){Ku(4,2,t,r)},useMemo:function(t,r){var s=$n();r=r===void 0?null:r;var o=t();if(ls){In(!0);try{t()}finally{In(!1)}}return s.memoizedState=[o,r],o},useReducer:function(t,r,s){var o=$n();if(s!==void 0){var h=s(r);if(ls){In(!0);try{s(r)}finally{In(!1)}}}else h=r;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Pb.bind(null,Ge,t),[o.memoizedState,t]},useRef:function(t){var r=$n();return t={current:t},r.memoizedState=t},useState:function(t){t=Ef(t);var r=t.queue,s=Mp.bind(null,Ge,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(t,r){var s=$n();return Af(s,t,r)},useTransition:function(){var t=Ef(!1);return t=Dp.bind(null,Ge,t.queue,!0,!1),$n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var o=Ge,h=$n();if(dt){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),xt===null)throw Error(i(349));(it&124)!==0||rp(o,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,_p(ip.bind(null,o,d,t),[t]),o.flags|=2048,Xs(9,Yu(),ap.bind(null,o,d,s,r),null),s},useId:function(){var t=$n(),r=xt.identifierPrefix;if(dt){var s=Na,o=Ca;s=(o&~(1<<32-$t(o)-1)).toString(32)+s,r="«"+r+"R"+s,s=Gu++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=Ib++,r="«"+r+"r"+s.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:wf,useFormState:mp,useActionState:mp,useOptimistic:function(t){var r=$n();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=xf.bind(null,Ge,!0,s),s.dispatch=r,[t,r]},useMemoCache:yf,useCacheRefresh:function(){return $n().memoizedState=Lb.bind(null,Ge)}},Pp={readContext:Mn,use:$u,useCallback:wp,useContext:Mn,useEffect:Ep,useImperativeHandle:Sp,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:xp,useReducer:Qu,useRef:vp,useState:function(){return Qu(Ma)},useDebugValue:bf,useDeferredValue:function(t,r){var s=Xt();return Rp(s,Tt.memoizedState,t,r)},useTransition:function(){var t=Qu(Ma)[0],r=Xt().memoizedState;return[typeof t=="boolean"?t:ao(t),r]},useSyncExternalStore:np,useId:Ip,useHostTransitionStatus:wf,useFormState:gp,useActionState:gp,useOptimistic:function(t,r){var s=Xt();return op(s,Tt,t,r)},useMemoCache:yf,useCacheRefresh:Op},jb={readContext:Mn,use:$u,useCallback:wp,useContext:Mn,useEffect:Ep,useImperativeHandle:Sp,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:xp,useReducer:_f,useRef:vp,useState:function(){return _f(Ma)},useDebugValue:bf,useDeferredValue:function(t,r){var s=Xt();return Tt===null?Af(s,t,r):Rp(s,Tt.memoizedState,t,r)},useTransition:function(){var t=_f(Ma)[0],r=Xt().memoizedState;return[typeof t=="boolean"?t:ao(t),r]},useSyncExternalStore:np,useId:Ip,useHostTransitionStatus:wf,useFormState:yp,useActionState:yp,useOptimistic:function(t,r){var s=Xt();return Tt!==null?op(s,Tt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Op},Ws=null,lo=0;function Zu(t){var r=lo;return lo+=1,Ws===null&&(Ws=[]),Yg(Ws,t,r)}function oo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ju(t,r){throw r.$$typeof===A?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function jp(t){var r=t._init;return r(t._payload)}function Up(t){function r(G,z){if(t){var Y=G.deletions;Y===null?(G.deletions=[z],G.flags|=16):Y.push(z)}}function s(G,z){if(!t)return null;for(;z!==null;)r(G,z),z=z.sibling;return null}function o(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function h(G,z){return G=Da(G,z),G.index=0,G.sibling=null,G}function d(G,z,Y){return G.index=Y,t?(Y=G.alternate,Y!==null?(Y=Y.index,Y<z?(G.flags|=67108866,z):Y):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function E(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function S(G,z,Y,se){return z===null||z.tag!==6?(z=$h(Y,G.mode,se),z.return=G,z):(z=h(z,Y),z.return=G,z)}function M(G,z,Y,se){var xe=Y.type;return xe===N?ae(G,z,Y.props.children,se,Y.key):z!==null&&(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===x&&jp(xe)===z.type)?(z=h(z,Y.props),oo(z,Y),z.return=G,z):(z=ku(Y.type,Y.key,Y.props,null,G.mode,se),oo(z,Y),z.return=G,z)}function X(G,z,Y,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=Qh(Y,G.mode,se),z.return=G,z):(z=h(z,Y.children||[]),z.return=G,z)}function ae(G,z,Y,se,xe){return z===null||z.tag!==7?(z=Ji(Y,G.mode,se,xe),z.return=G,z):(z=h(z,Y),z.return=G,z)}function oe(G,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=$h(""+z,G.mode,Y),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return Y=ku(z.type,z.key,z.props,null,G.mode,Y),oo(Y,z),Y.return=G,Y;case D:return z=Qh(z,G.mode,Y),z.return=G,z;case x:var se=z._init;return z=se(z._payload),oe(G,z,Y)}if(be(z)||U(z))return z=Ji(z,G.mode,Y,null),z.return=G,z;if(typeof z.then=="function")return oe(G,Zu(z),Y);if(z.$$typeof===J)return oe(G,Uu(G,z),Y);Ju(G,z)}return null}function W(G,z,Y,se){var xe=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:S(G,z,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Y.key===xe?M(G,z,Y,se):null;case D:return Y.key===xe?X(G,z,Y,se):null;case x:return xe=Y._init,Y=xe(Y._payload),W(G,z,Y,se)}if(be(Y)||U(Y))return xe!==null?null:ae(G,z,Y,se,null);if(typeof Y.then=="function")return W(G,z,Zu(Y),se);if(Y.$$typeof===J)return W(G,z,Uu(G,Y),se);Ju(G,Y)}return null}function ee(G,z,Y,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(Y)||null,S(z,G,""+se,xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return G=G.get(se.key===null?Y:se.key)||null,M(z,G,se,xe);case D:return G=G.get(se.key===null?Y:se.key)||null,X(z,G,se,xe);case x:var Ye=se._init;return se=Ye(se._payload),ee(G,z,Y,se,xe)}if(be(se)||U(se))return G=G.get(Y)||null,ae(z,G,se,xe,null);if(typeof se.then=="function")return ee(G,z,Y,Zu(se),xe);if(se.$$typeof===J)return ee(G,z,Y,Uu(z,se),xe);Ju(z,se)}return null}function Ue(G,z,Y,se){for(var xe=null,Ye=null,Ne=z,Le=z=0,gn=null;Ne!==null&&Le<Y.length;Le++){Ne.index>Le?(gn=Ne,Ne=null):gn=Ne.sibling;var ht=W(G,Ne,Y[Le],se);if(ht===null){Ne===null&&(Ne=gn);break}t&&Ne&&ht.alternate===null&&r(G,Ne),z=d(ht,z,Le),Ye===null?xe=ht:Ye.sibling=ht,Ye=ht,Ne=gn}if(Le===Y.length)return s(G,Ne),dt&&ts(G,Le),xe;if(Ne===null){for(;Le<Y.length;Le++)Ne=oe(G,Y[Le],se),Ne!==null&&(z=d(Ne,z,Le),Ye===null?xe=Ne:Ye.sibling=Ne,Ye=Ne);return dt&&ts(G,Le),xe}for(Ne=o(Ne);Le<Y.length;Le++)gn=ee(Ne,G,Le,Y[Le],se),gn!==null&&(t&&gn.alternate!==null&&Ne.delete(gn.key===null?Le:gn.key),z=d(gn,z,Le),Ye===null?xe=gn:Ye.sibling=gn,Ye=gn);return t&&Ne.forEach(function(_i){return r(G,_i)}),dt&&ts(G,Le),xe}function Ve(G,z,Y,se){if(Y==null)throw Error(i(151));for(var xe=null,Ye=null,Ne=z,Le=z=0,gn=null,ht=Y.next();Ne!==null&&!ht.done;Le++,ht=Y.next()){Ne.index>Le?(gn=Ne,Ne=null):gn=Ne.sibling;var _i=W(G,Ne,ht.value,se);if(_i===null){Ne===null&&(Ne=gn);break}t&&Ne&&_i.alternate===null&&r(G,Ne),z=d(_i,z,Le),Ye===null?xe=_i:Ye.sibling=_i,Ye=_i,Ne=gn}if(ht.done)return s(G,Ne),dt&&ts(G,Le),xe;if(Ne===null){for(;!ht.done;Le++,ht=Y.next())ht=oe(G,ht.value,se),ht!==null&&(z=d(ht,z,Le),Ye===null?xe=ht:Ye.sibling=ht,Ye=ht);return dt&&ts(G,Le),xe}for(Ne=o(Ne);!ht.done;Le++,ht=Y.next())ht=ee(Ne,G,Le,ht.value,se),ht!==null&&(t&&ht.alternate!==null&&Ne.delete(ht.key===null?Le:ht.key),z=d(ht,z,Le),Ye===null?xe=ht:Ye.sibling=ht,Ye=ht);return t&&Ne.forEach(function(U1){return r(G,U1)}),dt&&ts(G,Le),xe}function At(G,z,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===N&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:e:{for(var xe=Y.key;z!==null;){if(z.key===xe){if(xe=Y.type,xe===N){if(z.tag===7){s(G,z.sibling),se=h(z,Y.props.children),se.return=G,G=se;break e}}else if(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===x&&jp(xe)===z.type){s(G,z.sibling),se=h(z,Y.props),oo(se,Y),se.return=G,G=se;break e}s(G,z);break}else r(G,z);z=z.sibling}Y.type===N?(se=Ji(Y.props.children,G.mode,se,Y.key),se.return=G,G=se):(se=ku(Y.type,Y.key,Y.props,null,G.mode,se),oo(se,Y),se.return=G,G=se)}return E(G);case D:e:{for(xe=Y.key;z!==null;){if(z.key===xe)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){s(G,z.sibling),se=h(z,Y.children||[]),se.return=G,G=se;break e}else{s(G,z);break}else r(G,z);z=z.sibling}se=Qh(Y,G.mode,se),se.return=G,G=se}return E(G);case x:return xe=Y._init,Y=xe(Y._payload),At(G,z,Y,se)}if(be(Y))return Ue(G,z,Y,se);if(U(Y)){if(xe=U(Y),typeof xe!="function")throw Error(i(150));return Y=xe.call(Y),Ve(G,z,Y,se)}if(typeof Y.then=="function")return At(G,z,Zu(Y),se);if(Y.$$typeof===J)return At(G,z,Uu(G,Y),se);Ju(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(s(G,z.sibling),se=h(z,Y),se.return=G,G=se):(s(G,z),se=$h(Y,G.mode,se),se.return=G,G=se),E(G)):s(G,z)}return function(G,z,Y,se){try{lo=0;var xe=At(G,z,Y,se);return Ws=null,xe}catch(Ne){if(Ne===Zl||Ne===Bu)throw Ne;var Ye=tr(29,Ne,null,G.mode);return Ye.lanes=se,Ye.return=G,Ye}finally{}}}var Zs=Up(!0),zp=Up(!1),Sr=te(null),na=null;function ai(t){var r=t.alternate;ie(sn,sn.current&1),ie(Sr,t),na===null&&(r===null||Qs.current!==null||r.memoizedState!==null)&&(na=t)}function Bp(t){if(t.tag===22){if(ie(sn,sn.current),ie(Sr,t),na===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(na=t)}}else ii()}function ii(){ie(sn,sn.current),ie(Sr,Sr.current)}function Va(t){ue(Sr),na===t&&(na=null),ue(sn)}var sn=te(0);function ec(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||pd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Rf(t,r,s,o){r=t.memoizedState,s=s(o,r),s=s==null?r:_({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Df={enqueueSetState:function(t,r,s){t=t._reactInternals;var o=ir(),h=ti(o);h.payload=r,s!=null&&(h.callback=s),r=ni(t,h,o),r!==null&&(sr(r,t,o),eo(r,t,o))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var o=ir(),h=ti(o);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=ni(t,h,o),r!==null&&(sr(r,t,o),eo(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=ir(),o=ti(s);o.tag=2,r!=null&&(o.callback=r),r=ni(t,o,s),r!==null&&(sr(r,t,s),eo(r,t,s))}};function Hp(t,r,s,o,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,E):r.prototype&&r.prototype.isPureReactComponent?!Fl(s,o)||!Fl(h,d):!0}function qp(t,r,s,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==t&&Df.enqueueReplaceState(r,r.state,null)}function os(t,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(t=t.defaultProps){s===r&&(s=_({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fp(t){tc(t)}function Gp(t){console.error(t)}function $p(t){tc(t)}function nc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function Qp(t,r,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(t,r,s){return s=ti(s),s.tag=3,s.payload={element:null},s.callback=function(){nc(t,r)},s}function Yp(t){return t=ti(t),t.tag=3,t}function Kp(t,r,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Qp(r,s,o)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Qp(r,s,o),typeof h!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function Ub(t,r,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&Kl(r,s,h,!0),s=Sr.current,s!==null){switch(s.tag){case 13:return na===null?Jf():s.alternate===null&&jt===0&&(jt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===rf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),td(t,o,h)),!1;case 22:return s.flags|=65536,o===rf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),td(t,o,h)),!1}throw Error(i(435,s.tag))}return td(t,o,h),Jf(),!1}if(dt)return r=Sr.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,o!==Xh&&(t=Error(i(422),{cause:o}),Yl(Er(t,s)))):(o!==Xh&&(r=Error(i(423),{cause:o}),Yl(Er(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Er(o,s),h=Cf(t.stateNode,o,h),lf(t,h),jt!==4&&(jt=2)),!1;var d=Error(i(520),{cause:o});if(d=Er(d,s),po===null?po=[d]:po.push(d),jt!==4&&(jt=2),r===null)return!0;o=Er(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Cf(s.stateNode,o,t),lf(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hi===null||!hi.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Yp(h),Kp(h,t,s,o),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Xp=Error(i(461)),dn=!1;function An(t,r,s,o){r.child=t===null?zp(r,null,s,o):Zs(r,t.child,s,o)}function Wp(t,r,s,o,h){s=s.render;var d=r.ref;if("ref"in o){var E={};for(var S in o)S!=="ref"&&(E[S]=o[S])}else E=o;return is(r),o=ff(t,r,s,E,d,h),S=df(),t!==null&&!dn?(mf(t,r,h),ka(t,r,h)):(dt&&S&&Yh(r),r.flags|=1,An(t,r,o,h),r.child)}function Zp(t,r,s,o,h){if(t===null){var d=s.type;return typeof d=="function"&&!Gh(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Jp(t,r,d,o,h)):(t=ku(s.type,null,o,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Pf(t,h)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:Fl,s(E,o)&&t.ref===r.ref)return ka(t,r,h)}return r.flags|=1,t=Da(d,o),t.ref=r.ref,t.return=r,r.child=t}function Jp(t,r,s,o,h){if(t!==null){var d=t.memoizedProps;if(Fl(d,o)&&t.ref===r.ref)if(dn=!1,r.pendingProps=o=d,Pf(t,h))(t.flags&131072)!==0&&(dn=!0);else return r.lanes=t.lanes,ka(t,r,h)}return Nf(t,r,s,o,h)}function ey(t,r,s){var o=r.pendingProps,h=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~o}else r.childLanes=0,r.child=null;return ty(t,r,o,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(r,d!==null?d.cachePool:null),d!==null?Jg(r,d):uf(),Bp(r);else return r.lanes=r.childLanes=536870912,ty(t,r,d!==null?d.baseLanes|s:s,s)}else d!==null?(zu(r,d.cachePool),Jg(r,d),ii(),r.memoizedState=null):(t!==null&&zu(r,null),uf(),ii());return An(t,r,h,s),r.child}function ty(t,r,s,o){var h=nf();return h=h===null?null:{parent:an._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&zu(r,null),uf(),Bp(r),t!==null&&Kl(t,r,o,!0),null}function rc(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Nf(t,r,s,o,h){return is(r),s=ff(t,r,s,o,void 0,h),o=df(),t!==null&&!dn?(mf(t,r,h),ka(t,r,h)):(dt&&o&&Yh(r),r.flags|=1,An(t,r,s,h),r.child)}function ny(t,r,s,o,h,d){return is(r),r.updateQueue=null,s=tp(r,o,s,h),ep(t),o=df(),t!==null&&!dn?(mf(t,r,d),ka(t,r,d)):(dt&&o&&Yh(r),r.flags|=1,An(t,r,s,d),r.child)}function ry(t,r,s,o,h){if(is(r),r.stateNode===null){var d=Hs,E=s.contextType;typeof E=="object"&&E!==null&&(d=Mn(E)),d=new s(o,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Df,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=o,d.state=r.memoizedState,d.refs={},af(r),E=s.contextType,d.context=typeof E=="object"&&E!==null?Mn(E):Hs,d.state=r.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Rf(r,s,E,o),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Df.enqueueReplaceState(d,d.state,null),no(r,o,d,h),to(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){d=r.stateNode;var S=r.memoizedProps,M=os(s,S);d.props=M;var X=d.context,ae=s.contextType;E=Hs,typeof ae=="object"&&ae!==null&&(E=Mn(ae));var oe=s.getDerivedStateFromProps;ae=typeof oe=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ae||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||X!==E)&&qp(r,d,o,E),ei=!1;var W=r.memoizedState;d.state=W,no(r,o,d,h),to(),X=r.memoizedState,S||W!==X||ei?(typeof oe=="function"&&(Rf(r,s,oe,o),X=r.memoizedState),(M=ei||Hp(r,s,M,o,W,X,E))?(ae||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=X),d.props=o,d.state=X,d.context=E,o=M):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{d=r.stateNode,sf(t,r),E=r.memoizedProps,ae=os(s,E),d.props=ae,oe=r.pendingProps,W=d.context,X=s.contextType,M=Hs,typeof X=="object"&&X!==null&&(M=Mn(X)),S=s.getDerivedStateFromProps,(X=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==oe||W!==M)&&qp(r,d,o,M),ei=!1,W=r.memoizedState,d.state=W,no(r,o,d,h),to();var ee=r.memoizedState;E!==oe||W!==ee||ei||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof S=="function"&&(Rf(r,s,S,o),ee=r.memoizedState),(ae=ei||Hp(r,s,ae,o,W,ee,M)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(X||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,ee,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,ee,M)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=ee),d.props=o,d.state=ee,d.context=M,o=ae):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&W===t.memoizedState||(r.flags|=1024),o=!1)}return d=o,rc(t,r),o=(r.flags&128)!==0,d||o?(d=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&o?(r.child=Zs(r,t.child,null,h),r.child=Zs(r,null,s,h)):An(t,r,s,h),r.memoizedState=d.state,t=r.child):t=ka(t,r,h),t}function ay(t,r,s,o){return Ql(),r.flags|=256,An(t,r,s,o),r.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(t){return{baseLanes:t,cachePool:Gg()}}function Mf(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=wr),t}function iy(t,r,s){var o=r.pendingProps,h=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(sn.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(dt){if(h?ai(r):ii(),dt){var S=Pt,M;if(M=S){e:{for(M=S,S=ta;M.nodeType!==8;){if(!S){S=null;break e}if(M=Lr(M.nextSibling),M===null){S=null;break e}}S=M}S!==null?(r.memoizedState={dehydrated:S,treeContext:es!==null?{id:Ca,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},M=tr(18,null,null,0),M.stateNode=S,M.return=r,r.child=M,qn=r,Pt=null,M=!0):M=!1}M||rs(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return pd(S)?r.lanes=32:r.lanes=536870912,null;Va(r)}return S=o.children,o=o.fallback,h?(ii(),h=r.mode,S=ac({mode:"hidden",children:S},h),o=Ji(o,h,s,null),S.return=r,o.return=r,S.sibling=o,r.child=S,h=r.child,h.memoizedState=Of(s),h.childLanes=Mf(t,E,s),r.memoizedState=If,o):(ai(r),Vf(r,S))}if(M=t.memoizedState,M!==null&&(S=M.dehydrated,S!==null)){if(d)r.flags&256?(ai(r),r.flags&=-257,r=kf(t,r,s)):r.memoizedState!==null?(ii(),r.child=t.child,r.flags|=128,r=null):(ii(),h=o.fallback,S=r.mode,o=ac({mode:"visible",children:o.children},S),h=Ji(h,S,s,null),h.flags|=2,o.return=r,h.return=r,o.sibling=h,r.child=o,Zs(r,t.child,null,s),o=r.child,o.memoizedState=Of(s),o.childLanes=Mf(t,E,s),r.memoizedState=If,r=h);else if(ai(r),pd(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var X=E.dgst;E=X,o=Error(i(419)),o.stack="",o.digest=E,Yl({value:o,source:null,stack:null}),r=kf(t,r,s)}else if(dn||Kl(t,r,s,!1),E=(s&t.childLanes)!==0,dn||E){if(E=xt,E!==null&&(o=s&-s,o=(o&42)!==0?1:Gr(o),o=(o&(E.suspendedLanes|s))!==0?0:o,o!==0&&o!==M.retryLane))throw M.retryLane=o,Bs(t,o),sr(E,t,o),Xp;S.data==="$?"||Jf(),r=kf(t,r,s)}else S.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=M.treeContext,Pt=Lr(S.nextSibling),qn=r,dt=!0,ns=null,ta=!1,t!==null&&(br[Ar++]=Ca,br[Ar++]=Na,br[Ar++]=es,Ca=t.id,Na=t.overflow,es=r),r=Vf(r,o.children),r.flags|=4096);return r}return h?(ii(),h=o.fallback,S=r.mode,M=t.child,X=M.sibling,o=Da(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&65011712,X!==null?h=Da(X,h):(h=Ji(h,S,s,null),h.flags|=2),h.return=r,o.return=r,o.sibling=h,r.child=o,o=h,h=r.child,S=t.child.memoizedState,S===null?S=Of(s):(M=S.cachePool,M!==null?(X=an._currentValue,M=M.parent!==X?{parent:X,pool:X}:M):M=Gg(),S={baseLanes:S.baseLanes|s,cachePool:M}),h.memoizedState=S,h.childLanes=Mf(t,E,s),r.memoizedState=If,o):(ai(r),s=t.child,t=s.sibling,s=Da(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=s,r.memoizedState=null,s)}function Vf(t,r){return r=ac({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ac(t,r){return t=tr(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function kf(t,r,s){return Zs(r,t.child,null,s),t=Vf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function sy(t,r,s){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Zh(t.return,r,s)}function Lf(t,r,s,o,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=h)}function ly(t,r,s){var o=r.pendingProps,h=o.revealOrder,d=o.tail;if(An(t,r,o.children,s),o=sn.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,s,r);else if(t.tag===19)sy(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(ie(sn,o),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&ec(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Lf(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Lf(r,!0,s,null,d);break;case"together":Lf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ka(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),ci|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Kl(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,s=Da(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Da(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Pf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function zb(t,r,s){switch(r.tag){case 3:Ke(r,r.stateNode.containerInfo),Ja(r,an,t.memoizedState.cache),Ql();break;case 27:case 5:mt(r);break;case 4:Ke(r,r.stateNode.containerInfo);break;case 10:Ja(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(ai(r),r.flags|=128,null):(s&r.child.childLanes)!==0?iy(t,r,s):(ai(r),t=ka(t,r,s),t!==null?t.sibling:null);ai(r);break;case 19:var h=(t.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(Kl(t,r,s,!1),o=(s&r.childLanes)!==0),h){if(o)return ly(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(sn,sn.current),o)break;return null;case 22:case 23:return r.lanes=0,ey(t,r,s);case 24:Ja(r,an,t.memoizedState.cache)}return ka(t,r,s)}function oy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)dn=!0;else{if(!Pf(t,s)&&(r.flags&128)===0)return dn=!1,zb(t,r,s);dn=(t.flags&131072)!==0}else dn=!1,dt&&(r.flags&1048576)!==0&&jg(r,Pu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,h=o._init;if(o=h(o._payload),r.type=o,typeof o=="function")Gh(o)?(t=os(o,t),r.tag=1,r=ry(null,r,o,t,s)):(r.tag=0,r=Nf(null,r,o,t,s));else{if(o!=null){if(h=o.$$typeof,h===de){r.tag=11,r=Wp(null,r,o,t,s);break e}else if(h===O){r.tag=14,r=Zp(null,r,o,t,s);break e}}throw r=ge(o)||o,Error(i(306,r,""))}}return r;case 0:return Nf(t,r,r.type,r.pendingProps,s);case 1:return o=r.type,h=os(o,r.pendingProps),ry(t,r,o,h,s);case 3:e:{if(Ke(r,r.stateNode.containerInfo),t===null)throw Error(i(387));o=r.pendingProps;var d=r.memoizedState;h=d.element,sf(t,r),no(r,o,null,s);var E=r.memoizedState;if(o=E.cache,Ja(r,an,o),o!==d.cache&&Jh(r,[an],s,!0),to(),o=E.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=ay(t,r,o,s);break e}else if(o!==h){h=Er(Error(i(424)),r),Yl(h),r=ay(t,r,o,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pt=Lr(t.firstChild),qn=r,dt=!0,ns=null,ta=!0,s=zp(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ql(),o===h){r=ka(t,r,s);break e}An(t,r,o,s)}r=r.child}return r;case 26:return rc(t,r),t===null?(s=fv(r.type,null,r.pendingProps,null))?r.memoizedState=s:dt||(s=r.type,t=r.pendingProps,o=vc(_e.current).createElement(s),o[ce]=r,o[me]=t,wn(o,s,t),nt(o),r.stateNode=o):r.memoizedState=fv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return mt(r),t===null&&dt&&(o=r.stateNode=uv(r.type,r.pendingProps,_e.current),qn=r,ta=!0,h=Pt,mi(r.type)?(yd=h,Pt=Lr(o.firstChild)):Pt=h),An(t,r,r.pendingProps.children,s),rc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&dt&&((h=o=Pt)&&(o=m1(o,r.type,r.pendingProps,ta),o!==null?(r.stateNode=o,qn=r,Pt=Lr(o.firstChild),ta=!1,h=!0):h=!1),h||rs(r)),mt(r),h=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,o=d.children,dd(h,d)?o=null:E!==null&&dd(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=ff(t,r,Ob,null,null,s),wo._currentValue=h),rc(t,r),An(t,r,o,s),r.child;case 6:return t===null&&dt&&((t=s=Pt)&&(s=g1(s,r.pendingProps,ta),s!==null?(r.stateNode=s,qn=r,Pt=null,t=!0):t=!1),t||rs(r)),null;case 13:return iy(t,r,s);case 4:return Ke(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Zs(r,null,o,s):An(t,r,o,s),r.child;case 11:return Wp(t,r,r.type,r.pendingProps,s);case 7:return An(t,r,r.pendingProps,s),r.child;case 8:return An(t,r,r.pendingProps.children,s),r.child;case 12:return An(t,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,Ja(r,r.type,o.value),An(t,r,o.children,s),r.child;case 9:return h=r.type._context,o=r.pendingProps.children,is(r),h=Mn(h),o=o(h),r.flags|=1,An(t,r,o,s),r.child;case 14:return Zp(t,r,r.type,r.pendingProps,s);case 15:return Jp(t,r,r.type,r.pendingProps,s);case 19:return ly(t,r,s);case 31:return o=r.pendingProps,s=r.mode,o={mode:o.mode,children:o.children},t===null?(s=ac(o,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=Da(t.child,o),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return ey(t,r,s);case 24:return is(r),o=Mn(an),t===null?(h=nf(),h===null&&(h=xt,d=ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:o,cache:h},af(r),Ja(r,an,h)):((t.lanes&s)!==0&&(sf(t,r),no(r,null,null,s),to()),h=t.memoizedState,d=r.memoizedState,h.parent!==o?(h={parent:o,cache:o},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ja(r,an,o)):(o=d.cache,Ja(r,an,o),o!==h.cache&&Jh(r,[an],s,!0))),An(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function La(t){t.flags|=4}function uy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yv(r)){if(r=Sr.current,r!==null&&((it&4194048)===it?na!==null:(it&62914560)!==it&&(it&536870912)===0||r!==na))throw Jl=rf,$g;t.flags|=8192}}function ic(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ui():536870912,t.lanes|=r,nl|=r)}function uo(t,r){if(!dt)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Mt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,r}function Bb(t,r,s){var o=r.pendingProps;switch(Kh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(r),null;case 1:return Mt(r),null;case 3:return s=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Oa(an),un(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&($l(r)?La(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bg())),Mt(r),null;case 26:return s=r.memoizedState,t===null?(La(r),s!==null?(Mt(r),uy(r,s)):(Mt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(La(r),Mt(r),uy(r,s)):(Mt(r),r.flags&=-16777217):(t.memoizedProps!==o&&La(r),Mt(r),r.flags&=-16777217),null;case 27:kt(r),s=_e.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&La(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Mt(r),null}t=pe.current,$l(r)?Ug(r):(t=uv(h,o,s),r.stateNode=t,La(r))}return Mt(r),null;case 5:if(kt(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&La(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Mt(r),null}if(t=pe.current,$l(r))Ug(r);else{switch(h=vc(_e.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}t[ce]=r,t[me]=o;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(wn(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&La(r)}}return Mt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&La(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(t=_e.current,$l(r)){if(t=r.stateNode,s=r.memoizedProps,o=null,h=qn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[ce]=r,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||nv(t.nodeValue,s)),t||rs(r)}else t=vc(t).createTextNode(o),t[ce]=r,r.stateNode=t}return Mt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=$l(r),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[ce]=r}else Ql(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Mt(r),h=!1}else h=Bg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Va(r),r):(Va(r),null)}if(Va(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=r.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),ic(r,r.updateQueue),Mt(r),null;case 4:return un(),t===null&&od(r.stateNode.containerInfo),Mt(r),null;case 10:return Oa(r.type),Mt(r),null;case 19:if(ue(sn),h=r.memoizedState,h===null)return Mt(r),null;if(o=(r.flags&128)!==0,d=h.rendering,d===null)if(o)uo(h,!1);else{if(jt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=ec(t),d!==null){for(r.flags|=128,uo(h,!1),t=d.updateQueue,r.updateQueue=t,ic(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Pg(s,t),s=s.sibling;return ie(sn,sn.current&1|2),r.child}t=t.sibling}h.tail!==null&&Nt()>oc&&(r.flags|=128,o=!0,uo(h,!1),r.lanes=4194304)}else{if(!o)if(t=ec(d),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,ic(r,t),uo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!dt)return Mt(r),null}else 2*Nt()-h.renderingStartTime>oc&&s!==536870912&&(r.flags|=128,o=!0,uo(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Nt(),r.sibling=null,t=sn.current,ie(sn,o?t&1|2:t&1),r):(Mt(r),null);case 22:case 23:return Va(r),cf(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(Mt(r),r.subtreeFlags&6&&(r.flags|=8192)):Mt(r),s=r.updateQueue,s!==null&&ic(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),t!==null&&ue(ss),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Oa(an),Mt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Hb(t,r){switch(Kh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Oa(an),un(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return kt(r),null;case 13:if(Va(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ql()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(sn),null;case 4:return un(),null;case 10:return Oa(r.type),null;case 22:case 23:return Va(r),cf(),t!==null&&ue(ss),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Oa(an),null;case 25:return null;default:return null}}function cy(t,r){switch(Kh(r),r.tag){case 3:Oa(an),un();break;case 26:case 27:case 5:kt(r);break;case 4:un();break;case 13:Va(r);break;case 19:ue(sn);break;case 10:Oa(r.type);break;case 22:case 23:Va(r),cf(),t!==null&&ue(ss);break;case 24:Oa(an)}}function co(t,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var d=s.create,E=s.inst;o=d(),E.destroy=o}s=s.next}while(s!==h)}}catch(S){wt(r,r.return,S)}}function si(t,r,s){try{var o=r.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var E=o.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=r;var M=s,X=S;try{X()}catch(ae){wt(h,M,ae)}}}o=o.next}while(o!==d)}}catch(ae){wt(r,r.return,ae)}}function hy(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Zg(r,s)}catch(o){wt(t,t.return,o)}}}function fy(t,r,s){s.props=os(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){wt(t,r,o)}}function ho(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){wt(t,r,h)}}function ra(t,r){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){wt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){wt(t,r,h)}else s.current=null}function dy(t){var r=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){wt(t,t.return,h)}}function jf(t,r,s){try{var o=t.stateNode;u1(o,t.type,s,r),o[me]=r}catch(h){wt(t,t.return,h)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mi(t.type)||t.tag===4}function Uf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=yc));else if(o!==4&&(o===27&&mi(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(zf(t,r,s),t=t.sibling;t!==null;)zf(t,r,s),t=t.sibling}function sc(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(o!==4&&(o===27&&mi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(sc(t,r,s),t=t.sibling;t!==null;)sc(t,r,s),t=t.sibling}function gy(t){var r=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);wn(r,o,s),r[ce]=t,r[me]=s}catch(d){wt(t,t.return,d)}}var Pa=!1,Ht=!1,Bf=!1,py=typeof WeakSet=="function"?WeakSet:Set,mn=null;function qb(t,r){if(t=t.containerInfo,hd=Sc,t=Rg(t),jh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var E=0,S=-1,M=-1,X=0,ae=0,oe=t,W=null;t:for(;;){for(var ee;oe!==s||h!==0&&oe.nodeType!==3||(S=E+h),oe!==d||o!==0&&oe.nodeType!==3||(M=E+o),oe.nodeType===3&&(E+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)W=oe,oe=ee;for(;;){if(oe===t)break t;if(W===s&&++X===h&&(S=E),W===d&&++ae===o&&(M=E),(ee=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=ee}s=S===-1||M===-1?null:{start:S,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:t,selectionRange:s},Sc=!1,mn=r;mn!==null;)if(r=mn,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,mn=t;else for(;mn!==null;){switch(r=mn,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Ue=os(s.type,h,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Ue,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){wt(s,s.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)gd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,mn=t;break}mn=r.return}}function yy(t,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:li(t,s),o&4&&co(5,s);break;case 1:if(li(t,s),o&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(E){wt(s,s.return,E)}else{var h=os(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){wt(s,s.return,E)}}o&64&&hy(s),o&512&&ho(s,s.return);break;case 3:if(li(t,s),o&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Zg(t,r)}catch(E){wt(s,s.return,E)}}break;case 27:r===null&&o&4&&gy(s);case 26:case 5:li(t,s),r===null&&o&4&&dy(s),o&512&&ho(s,s.return);break;case 12:li(t,s);break;case 13:li(t,s),o&4&&Ey(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Zb.bind(null,s),p1(t,s))));break;case 22:if(o=s.memoizedState!==null||Pa,!o){r=r!==null&&r.memoizedState!==null||Ht,h=Pa;var d=Ht;Pa=o,(Ht=r)&&!d?oi(t,s,(s.subtreeFlags&8772)!==0):li(t,s),Pa=h,Ht=d}break;case 30:break;default:li(t,s)}}function vy(t){var r=t.alternate;r!==null&&(t.alternate=null,vy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Me(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,Qn=!1;function ja(t,r,s){for(s=s.child;s!==null;)_y(t,r,s),s=s.sibling}function _y(t,r,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ft,s)}catch{}switch(s.tag){case 26:Ht||ra(s,r),ja(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ht||ra(s,r);var o=Ot,h=Qn;mi(s.type)&&(Ot=s.stateNode,Qn=!1),ja(t,r,s),To(s.stateNode),Ot=o,Qn=h;break;case 5:Ht||ra(s,r);case 6:if(o=Ot,h=Qn,Ot=null,ja(t,r,s),Ot=o,Qn=h,Ot!==null)if(Qn)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(s.stateNode)}catch(d){wt(s,r,d)}else try{Ot.removeChild(s.stateNode)}catch(d){wt(s,r,d)}break;case 18:Ot!==null&&(Qn?(t=Ot,lv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Co(t)):lv(Ot,s.stateNode));break;case 4:o=Ot,h=Qn,Ot=s.stateNode.containerInfo,Qn=!0,ja(t,r,s),Ot=o,Qn=h;break;case 0:case 11:case 14:case 15:Ht||si(2,s,r),Ht||si(4,s,r),ja(t,r,s);break;case 1:Ht||(ra(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&fy(s,r,o)),ja(t,r,s);break;case 21:ja(t,r,s);break;case 22:Ht=(o=Ht)||s.memoizedState!==null,ja(t,r,s),Ht=o;break;default:ja(t,r,s)}}function Ey(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Co(t)}catch(s){wt(r,r.return,s)}}function Fb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new py),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new py),r;default:throw Error(i(435,t.tag))}}function Hf(t,r){var s=Fb(t);r.forEach(function(o){var h=Jb.bind(null,t,o);s.has(o)||(s.add(o),o.then(h,h))})}function nr(t,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],d=t,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(mi(S.type)){Ot=S.stateNode,Qn=!1;break e}break;case 5:Ot=S.stateNode,Qn=!1;break e;case 3:case 4:Ot=S.stateNode.containerInfo,Qn=!0;break e}S=S.return}if(Ot===null)throw Error(i(160));_y(d,E,h),Ot=null,Qn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ty(r,t),r=r.sibling}var kr=null;function Ty(t,r){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nr(r,t),rr(t),o&4&&(si(3,t,t.return),co(3,t),si(5,t,t.return));break;case 1:nr(r,t),rr(t),o&512&&(Ht||s===null||ra(s,s.return)),o&64&&Pa&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=kr;if(nr(r,t),rr(t),o&512&&(Ht||s===null||ra(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ke]||d[ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),wn(d,o,s),d[ce]=t,nt(d),o=d;break e;case"link":var E=gv("link","href",h).get(o+(s.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(S,1);break t}}d=h.createElement(o),wn(d,o,s),h.head.appendChild(d);break;case"meta":if(E=gv("meta","content",h).get(o+(s.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(S,1);break t}}d=h.createElement(o),wn(d,o,s),h.head.appendChild(d);break;default:throw Error(i(468,o))}d[ce]=t,nt(d),o=d}t.stateNode=o}else pv(h,t.type,t.stateNode);else t.stateNode=mv(h,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?pv(h,t.type,t.stateNode):mv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&jf(t,t.memoizedProps,s.memoizedProps)}break;case 27:nr(r,t),rr(t),o&512&&(Ht||s===null||ra(s,s.return)),s!==null&&o&4&&jf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(nr(r,t),rr(t),o&512&&(Ht||s===null||ra(s,s.return)),t.flags&32){h=t.stateNode;try{pr(h,"")}catch(ee){wt(t,t.return,ee)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,jf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Bf=!0);break;case 6:if(nr(r,t),rr(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ee){wt(t,t.return,ee)}}break;case 3:if(Tc=null,h=kr,kr=_c(r.containerInfo),nr(r,t),kr=h,rr(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Co(r.containerInfo)}catch(ee){wt(t,t.return,ee)}Bf&&(Bf=!1,by(t));break;case 4:o=kr,kr=_c(t.stateNode.containerInfo),nr(r,t),rr(t),kr=o;break;case 12:nr(r,t),rr(t);break;case 13:nr(r,t),rr(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yf=Nt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hf(t,o)));break;case 22:h=t.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,X=Pa,ae=Ht;if(Pa=X||h,Ht=ae||M,nr(r,t),Ht=ae,Pa=X,rr(t),o&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||M||Pa||Ht||us(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){M=s=r;try{if(d=M.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=M.stateNode;var oe=M.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ee){wt(M,M.return,ee)}}}else if(r.tag===6){if(s===null){M=r;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(ee){wt(M,M.return,ee)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Hf(t,s))));break;case 19:nr(r,t),rr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hf(t,o)));break;case 30:break;case 21:break;default:nr(r,t),rr(t)}}function rr(t){var r=t.flags;if(r&2){try{for(var s,o=t.return;o!==null;){if(my(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var h=s.stateNode,d=Uf(t);sc(t,d,h);break;case 5:var E=s.stateNode;s.flags&32&&(pr(E,""),s.flags&=-33);var S=Uf(t);sc(t,S,E);break;case 3:case 4:var M=s.stateNode.containerInfo,X=Uf(t);zf(t,X,M);break;default:throw Error(i(161))}}catch(ae){wt(t,t.return,ae)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function by(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;by(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function li(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)yy(t,r.alternate,r),r=r.sibling}function us(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:si(4,r,r.return),us(r);break;case 1:ra(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&fy(r,r.return,s),us(r);break;case 27:To(r.stateNode);case 26:case 5:ra(r,r.return),us(r);break;case 22:r.memoizedState===null&&us(r);break;case 30:us(r);break;default:us(r)}t=t.sibling}}function oi(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,h=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:oi(h,d,s),co(4,d);break;case 1:if(oi(h,d,s),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(X){wt(o,o.return,X)}if(o=d,h=o.updateQueue,h!==null){var S=o.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)Wg(M[h],S)}catch(X){wt(o,o.return,X)}}s&&E&64&&hy(d),ho(d,d.return);break;case 27:gy(d);case 26:case 5:oi(h,d,s),s&&o===null&&E&4&&dy(d),ho(d,d.return);break;case 12:oi(h,d,s);break;case 13:oi(h,d,s),s&&E&4&&Ey(h,d);break;case 22:d.memoizedState===null&&oi(h,d,s),ho(d,d.return);break;case 30:break;default:oi(h,d,s)}r=r.sibling}}function qf(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Xl(s))}function Ff(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xl(t))}function aa(t,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ay(t,r,s,o),r=r.sibling}function Ay(t,r,s,o){var h=r.flags;switch(r.tag){case 0:case 11:case 15:aa(t,r,s,o),h&2048&&co(9,r);break;case 1:aa(t,r,s,o);break;case 3:aa(t,r,s,o),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xl(t)));break;case 12:if(h&2048){aa(t,r,s,o),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){wt(r,r.return,M)}}else aa(t,r,s,o);break;case 13:aa(t,r,s,o);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?aa(t,r,s,o):fo(t,r):d._visibility&2?aa(t,r,s,o):(d._visibility|=2,Js(t,r,s,o,(r.subtreeFlags&10256)!==0)),h&2048&&qf(E,r);break;case 24:aa(t,r,s,o),h&2048&&Ff(r.alternate,r);break;default:aa(t,r,s,o)}}function Js(t,r,s,o,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,S=s,M=o,X=E.flags;switch(E.tag){case 0:case 11:case 15:Js(d,E,S,M,h),co(8,E);break;case 23:break;case 22:var ae=E.stateNode;E.memoizedState!==null?ae._visibility&2?Js(d,E,S,M,h):fo(d,E):(ae._visibility|=2,Js(d,E,S,M,h)),h&&X&2048&&qf(E.alternate,E);break;case 24:Js(d,E,S,M,h),h&&X&2048&&Ff(E.alternate,E);break;default:Js(d,E,S,M,h)}r=r.sibling}}function fo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,o=r,h=o.flags;switch(o.tag){case 22:fo(s,o),h&2048&&qf(o.alternate,o);break;case 24:fo(s,o),h&2048&&Ff(o.alternate,o);break;default:fo(s,o)}r=r.sibling}}var mo=8192;function el(t){if(t.subtreeFlags&mo)for(t=t.child;t!==null;)Sy(t),t=t.sibling}function Sy(t){switch(t.tag){case 26:el(t),t.flags&mo&&t.memoizedState!==null&&C1(kr,t.memoizedState,t.memoizedProps);break;case 5:el(t);break;case 3:case 4:var r=kr;kr=_c(t.stateNode.containerInfo),el(t),kr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=mo,mo=16777216,el(t),mo=r):el(t));break;default:el(t)}}function wy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function go(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];mn=o,Ry(o,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xy(t),t=t.sibling}function xy(t){switch(t.tag){case 0:case 11:case 15:go(t),t.flags&2048&&si(9,t,t.return);break;case 3:go(t);break;case 12:go(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,lc(t)):go(t);break;default:go(t)}}function lc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];mn=o,Ry(o,t)}wy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:si(8,r,r.return),lc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,lc(r));break;default:lc(r)}t=t.sibling}}function Ry(t,r){for(;mn!==null;){var s=mn;switch(s.tag){case 0:case 11:case 15:si(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,mn=o;else e:for(s=t;mn!==null;){o=mn;var h=o.sibling,d=o.return;if(vy(o),o===s){mn=null;break e}if(h!==null){h.return=d,mn=h;break e}mn=d}}}var Gb={getCacheForType:function(t){var r=Mn(an),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},$b=typeof WeakMap=="function"?WeakMap:Map,vt=0,xt=null,We=null,it=0,_t=0,ar=null,ui=!1,tl=!1,Gf=!1,Ua=0,jt=0,ci=0,cs=0,$f=0,wr=0,nl=0,po=null,Yn=null,Qf=!1,Yf=0,oc=1/0,uc=null,hi=null,Sn=0,fi=null,rl=null,al=0,Kf=0,Xf=null,Dy=null,yo=0,Wf=null;function ir(){if((vt&2)!==0&&it!==0)return it&-it;if(H.T!==null){var t=Gs;return t!==0?t:ad()}return P()}function Cy(){wr===0&&(wr=(it&536870912)===0||dt?_a():536870912);var t=Sr.current;return t!==null&&(t.flags|=32),wr}function sr(t,r,s){(t===xt&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(il(t,0),di(t,it,wr,!1)),Or(t,s),((vt&2)===0||t!==xt)&&(t===xt&&((vt&2)===0&&(cs|=s),jt===4&&di(t,it,wr,!1)),ia(t))}function Ny(t,r,s){if((vt&6)!==0)throw Error(i(327));var o=!s&&(r&124)===0&&(r&t.expiredLanes)===0||fr(t,r),h=o?Kb(t,r):ed(t,r,!0),d=o;do{if(h===0){tl&&!o&&di(t,r,0,!1);break}else{if(s=t.current.alternate,d&&!Qb(s)){h=ed(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=t;h=po;var M=S.current.memoizedState.isDehydrated;if(M&&(il(S,E).flags|=256),E=ed(S,E,!1),E!==2){if(Gf&&!M){S.errorRecoveryDisabledLanes|=d,cs|=d,h=4;break e}d=Yn,Yn=h,d!==null&&(Yn===null?Yn=d:Yn.push.apply(Yn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){il(t,0),di(t,r,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:di(o,r,wr,!ui);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(h=Yf+300-Nt(),10<h)){if(di(o,r,wr,!ui),va(o,0,!0)!==0)break e;o.timeoutHandle=iv(Iy.bind(null,o,s,Yn,uc,Qf,r,wr,cs,nl,ui,d,2,-0,0),h);break e}Iy(o,s,Yn,uc,Qf,r,wr,cs,nl,ui,d,0,-0,0)}}break}while(!0);ia(t)}function Iy(t,r,s,o,h,d,E,S,M,X,ae,oe,W,ee){if(t.timeoutHandle=-1,oe=r.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(So={stylesheets:null,count:0,unsuspend:D1},Sy(r),oe=N1(),oe!==null)){t.cancelPendingCommit=oe(jy.bind(null,t,r,d,s,o,h,E,S,M,ae,1,W,ee)),di(t,d,E,!X);return}jy(t,r,d,s,o,h,E,S,M)}function Qb(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],d=h.getSnapshot;h=h.value;try{if(!er(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function di(t,r,s,o){r&=~$f,r&=~cs,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var h=r;0<h;){var d=31-$t(h),E=1<<d;o[d]=-1,h&=~E}s!==0&&Un(t,s,r)}function cc(){return(vt&6)===0?(vo(0),!1):!0}function Zf(){if(We!==null){if(_t===0)var t=We.return;else t=We,Ia=as=null,gf(t),Ws=null,lo=0,t=We;for(;t!==null;)cy(t.alternate,t),t=t.return;We=null}}function il(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,h1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Zf(),xt=t,We=s=Da(t.current,null),it=r,_t=0,ar=null,ui=!1,tl=fr(t,r),Gf=!1,nl=wr=$f=cs=ci=jt=0,Yn=po=null,Qf=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var h=31-$t(o),d=1<<h;r|=t[h],o&=~d}return Ua=r,Ou(),s}function Oy(t,r){Ge=null,H.H=Wu,r===Zl||r===Bu?(r=Kg(),_t=3):r===$g?(r=Kg(),_t=4):_t=r===Xp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ar=r,We===null&&(jt=1,nc(t,Er(r,t.current)))}function My(){var t=H.H;return H.H=Wu,t===null?Wu:t}function Vy(){var t=H.A;return H.A=Gb,t}function Jf(){jt=4,ui||(it&4194048)!==it&&Sr.current!==null||(tl=!0),(ci&134217727)===0&&(cs&134217727)===0||xt===null||di(xt,it,wr,!1)}function ed(t,r,s){var o=vt;vt|=2;var h=My(),d=Vy();(xt!==t||it!==r)&&(uc=null,il(t,r)),r=!1;var E=jt;e:do try{if(_t!==0&&We!==null){var S=We,M=ar;switch(_t){case 8:Zf(),E=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(r=!0);var X=_t;if(_t=0,ar=null,sl(t,S,M,X),s&&tl){E=0;break e}break;default:X=_t,_t=0,ar=null,sl(t,S,M,X)}}Yb(),E=jt;break}catch(ae){Oy(t,ae)}while(!0);return r&&t.shellSuspendCounter++,Ia=as=null,vt=o,H.H=h,H.A=d,We===null&&(xt=null,it=0,Ou()),E}function Yb(){for(;We!==null;)ky(We)}function Kb(t,r){var s=vt;vt|=2;var o=My(),h=Vy();xt!==t||it!==r?(uc=null,oc=Nt()+500,il(t,r)):tl=fr(t,r);e:do try{if(_t!==0&&We!==null){r=We;var d=ar;t:switch(_t){case 1:_t=0,ar=null,sl(t,r,d,1);break;case 2:case 9:if(Qg(d)){_t=0,ar=null,Ly(r);break}r=function(){_t!==2&&_t!==9||xt!==t||(_t=7),ia(t)},d.then(r,r);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Qg(d)?(_t=0,ar=null,Ly(r)):(_t=0,ar=null,sl(t,r,d,7));break;case 5:var E=null;switch(We.tag){case 26:E=We.memoizedState;case 5:case 27:var S=We;if(!E||yv(E)){_t=0,ar=null;var M=S.sibling;if(M!==null)We=M;else{var X=S.return;X!==null?(We=X,hc(X)):We=null}break t}}_t=0,ar=null,sl(t,r,d,5);break;case 6:_t=0,ar=null,sl(t,r,d,6);break;case 8:Zf(),jt=6;break e;default:throw Error(i(462))}}Xb();break}catch(ae){Oy(t,ae)}while(!0);return Ia=as=null,H.H=o,H.A=h,vt=s,We!==null?0:(xt=null,it=0,Ou(),jt)}function Xb(){for(;We!==null&&!vn();)ky(We)}function ky(t){var r=oy(t.alternate,t,Ua);t.memoizedProps=t.pendingProps,r===null?hc(t):We=r}function Ly(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=ny(s,r,r.pendingProps,r.type,void 0,it);break;case 11:r=ny(s,r,r.pendingProps,r.type.render,r.ref,it);break;case 5:gf(r);default:cy(s,r),r=We=Pg(r,Ua),r=oy(s,r,Ua)}t.memoizedProps=t.pendingProps,r===null?hc(t):We=r}function sl(t,r,s,o){Ia=as=null,gf(r),Ws=null,lo=0;var h=r.return;try{if(Ub(t,h,r,s,it)){jt=1,nc(t,Er(s,t.current)),We=null;return}}catch(d){if(h!==null)throw We=h,d;jt=1,nc(t,Er(s,t.current)),We=null;return}r.flags&32768?(dt||o===1?t=!0:tl||(it&536870912)!==0?t=!1:(ui=t=!0,(o===2||o===9||o===3||o===6)&&(o=Sr.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(r,t)):hc(r)}function hc(t){var r=t;do{if((r.flags&32768)!==0){Py(r,ui);return}t=r.return;var s=Bb(r.alternate,r,Ua);if(s!==null){We=s;return}if(r=r.sibling,r!==null){We=r;return}We=r=t}while(r!==null);jt===0&&(jt=5)}function Py(t,r){do{var s=Hb(t.alternate,t);if(s!==null){s.flags&=32767,We=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){We=t;return}We=t=s}while(t!==null);jt=6,We=null}function jy(t,r,s,o,h,d,E,S,M){t.cancelPendingCommit=null;do fc();while(Sn!==0);if((vt&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(d=r.lanes|r.childLanes,d|=qh,Ya(t,s,d,E,S,M),t===xt&&(We=xt=null,it=0),rl=r,fi=t,al=s,Kf=d,Xf=h,Dy=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,e1(jn,function(){return qy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=re.p,re.p=2,E=vt,vt|=4;try{qb(t,r,s)}finally{vt=E,re.p=h,H.T=o}}Sn=1,Uy(),zy(),By()}}function Uy(){if(Sn===1){Sn=0;var t=fi,r=rl,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=re.p;re.p=2;var h=vt;vt|=4;try{Ty(r,t);var d=fd,E=Rg(t.containerInfo),S=d.focusedElem,M=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&xg(S.ownerDocument.documentElement,S)){if(M!==null&&jh(S)){var X=M.start,ae=M.end;if(ae===void 0&&(ae=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(ae,S.value.length);else{var oe=S.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var ee=W.getSelection(),Ue=S.textContent.length,Ve=Math.min(M.start,Ue),At=M.end===void 0?Ve:Math.min(M.end,Ue);!ee.extend&&Ve>At&&(E=At,At=Ve,Ve=E);var G=wg(S,Ve),z=wg(S,At);if(G&&z&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==z.node||ee.focusOffset!==z.offset)){var Y=oe.createRange();Y.setStart(G.node,G.offset),ee.removeAllRanges(),Ve>At?(ee.addRange(Y),ee.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),ee.addRange(Y))}}}}for(oe=[],ee=S;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var se=oe[S];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Sc=!!hd,fd=hd=null}finally{vt=h,re.p=o,H.T=s}}t.current=r,Sn=2}}function zy(){if(Sn===2){Sn=0;var t=fi,r=rl,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=re.p;re.p=2;var h=vt;vt|=4;try{yy(t,r.alternate,r)}finally{vt=h,re.p=o,H.T=s}}Sn=3}}function By(){if(Sn===4||Sn===3){Sn=0,Gt();var t=fi,r=rl,s=al,o=Dy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Sn=5:(Sn=0,rl=fi=null,Hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(hi=null),Ka(s),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=H.T,h=re.p,re.p=2,H.T=null;try{for(var d=t.onRecoverableError,E=0;E<o.length;E++){var S=o[E];d(S.value,{componentStack:S.stack})}}finally{H.T=r,re.p=h}}(al&3)!==0&&fc(),ia(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Wf?yo++:(yo=0,Wf=t):yo=0,vo(0)}}function Hy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Xl(r)))}function fc(t){return Uy(),zy(),By(),qy()}function qy(){if(Sn!==5)return!1;var t=fi,r=Kf;Kf=0;var s=Ka(al),o=H.T,h=re.p;try{re.p=32>s?32:s,H.T=null,s=Xf,Xf=null;var d=fi,E=al;if(Sn=0,rl=fi=null,al=0,(vt&6)!==0)throw Error(i(331));var S=vt;if(vt|=4,xy(d.current),Ay(d,d.current,E,s),vt=S,vo(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{re.p=h,H.T=o,Hy(t,r)}}function Fy(t,r,s){r=Er(s,r),r=Cf(t.stateNode,r,2),t=ni(t,r,2),t!==null&&(Or(t,2),ia(t))}function wt(t,r,s){if(t.tag===3)Fy(t,t,s);else for(;r!==null;){if(r.tag===3){Fy(r,t,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hi===null||!hi.has(o))){t=Er(s,t),s=Yp(2),o=ni(r,s,2),o!==null&&(Kp(s,o,r,t),Or(o,2),ia(o));break}}r=r.return}}function td(t,r,s){var o=t.pingCache;if(o===null){o=t.pingCache=new $b;var h=new Set;o.set(r,h)}else h=o.get(r),h===void 0&&(h=new Set,o.set(r,h));h.has(s)||(Gf=!0,h.add(s),t=Wb.bind(null,t,r,s),r.then(t,t))}function Wb(t,r,s){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,xt===t&&(it&s)===s&&(jt===4||jt===3&&(it&62914560)===it&&300>Nt()-Yf?(vt&2)===0&&il(t,0):$f|=s,nl===it&&(nl=0)),ia(t)}function Gy(t,r){r===0&&(r=Ui()),t=Bs(t,r),t!==null&&(Or(t,r),ia(t))}function Zb(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Gy(t,s)}function Jb(t,r){var s=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),Gy(t,s)}function e1(t,r){return Ct(t,r)}var dc=null,ll=null,nd=!1,mc=!1,rd=!1,hs=0;function ia(t){t!==ll&&t.next===null&&(ll===null?dc=ll=t:ll=ll.next=t),mc=!0,nd||(nd=!0,n1())}function vo(t,r){if(!rd&&mc){rd=!0;do for(var s=!1,o=dc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var E=o.suspendedLanes,S=o.pingedLanes;d=(1<<31-$t(42|t)+1)-1,d&=h&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Ky(o,d))}else d=it,d=va(o,o===xt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||fr(o,d)||(s=!0,Ky(o,d));o=o.next}while(s);rd=!1}}function t1(){$y()}function $y(){mc=nd=!1;var t=0;hs!==0&&(c1()&&(t=hs),hs=0);for(var r=Nt(),s=null,o=dc;o!==null;){var h=o.next,d=Qy(o,r);d===0?(o.next=null,s===null?dc=h:s.next=h,h===null&&(ll=s)):(s=o,(t!==0||(d&3)!==0)&&(mc=!0)),o=h}vo(t)}function Qy(t,r){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-$t(d),S=1<<E,M=h[E];M===-1?((S&s)===0||(S&o)!==0)&&(h[E]=Qa(S,r)):M<=r&&(t.expiredLanes|=S),d&=~S}if(r=xt,s=it,s=va(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===r&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ot(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||fr(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(o!==null&&ot(o),Ka(s)){case 2:case 8:s=cn;break;case 32:s=jn;break;case 268435456:s=Lt;break;default:s=jn}return o=Yy.bind(null,t),s=Ct(s,o),t.callbackPriority=r,t.callbackNode=s,r}return o!==null&&o!==null&&ot(o),t.callbackPriority=2,t.callbackNode=null,2}function Yy(t,r){if(Sn!==0&&Sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(fc()&&t.callbackNode!==s)return null;var o=it;return o=va(t,t===xt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ny(t,o,r),Qy(t,Nt()),t.callbackNode!=null&&t.callbackNode===s?Yy.bind(null,t):null)}function Ky(t,r){if(fc())return null;Ny(t,r,!0)}function n1(){f1(function(){(vt&6)!==0?Ct(ya,t1):$y()})}function ad(){return hs===0&&(hs=_a()),hs}function Xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cs(""+t)}function Wy(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function r1(t,r,s,o,h){if(r==="submit"&&s&&s.stateNode===h){var d=Xy((h[me]||null).action),E=o.submitter;E&&(r=(r=E[me]||null)?Xy(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var S=new Ns("action","action",null,o,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(hs!==0){var M=E?Wy(h,E):new FormData(h);Sf(s,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(S.preventDefault(),M=E?Wy(h,E):new FormData(h),Sf(s,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var id=0;id<Hh.length;id++){var sd=Hh[id],a1=sd.toLowerCase(),i1=sd[0].toUpperCase()+sd.slice(1);Vr(a1,"on"+i1)}Vr(Ng,"onAnimationEnd"),Vr(Ig,"onAnimationIteration"),Vr(Og,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(bb,"onTransitionRun"),Vr(Ab,"onTransitionStart"),Vr(Sb,"onTransitionCancel"),Vr(Mg,"onTransitionEnd"),zn("onMouseEnter",["mouseout","mouseover"]),zn("onMouseLeave",["mouseout","mouseover"]),zn("onPointerEnter",["pointerout","pointerover"]),zn("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function Zy(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var d=void 0;if(r)for(var E=o.length-1;0<=E;E--){var S=o[E],M=S.instance,X=S.currentTarget;if(S=S.listener,M!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=X;try{d(h)}catch(ae){tc(ae)}h.currentTarget=null,d=M}else for(E=0;E<o.length;E++){if(S=o[E],M=S.instance,X=S.currentTarget,S=S.listener,M!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=X;try{d(h)}catch(ae){tc(ae)}h.currentTarget=null,d=M}}}}function Ze(t,r){var s=r[Oe];s===void 0&&(s=r[Oe]=new Set);var o=t+"__bubble";s.has(o)||(Jy(r,t,2,!1),s.add(o))}function ld(t,r,s){var o=0;r&&(o|=4),Jy(s,t,o,r)}var gc="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[gc]){t[gc]=!0,Qe.forEach(function(s){s!=="selectionchange"&&(s1.has(s)||ld(s,!1,t),ld(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[gc]||(r[gc]=!0,ld("selectionchange",!1,r))}}function Jy(t,r,s,o){switch(Av(r)){case 2:var h=M1;break;case 8:h=V1;break;default:h=bd}s=h.bind(null,r,s,t),h=void 0,!vr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function ud(t,r,s,o,h){var d=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var S=o.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=o.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=je(S),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){o=d=E;continue e}S=S.parentNode}}o=o.return}yu(function(){var X=d,ae=yr(s),oe=[];e:{var W=Vg.get(t);if(W!==void 0){var ee=Ns,Ue=t;switch(t){case"keypress":if(Xr(s)===0)break e;case"keydown":case"keyup":ee=Ls;break;case"focusin":Ue="focus",ee=Ms;break;case"focusout":Ue="blur",ee=Ms;break;case"beforeblur":case"afterblur":ee=Ms;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=_r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=wu;break;case Ng:case Ig:case Og:ee=Vs;break;case Mg:ee=Ru;break;case"scroll":case"scrollend":ee=vu;break;case"wheel":ee=Ps;break;case"copy":case"cut":case"paste":ee=ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Hl;break;case"toggle":case"beforetoggle":ee=Cu}var Ve=(r&4)!==0,At=!Ve&&(t==="scroll"||t==="scrollend"),G=Ve?W!==null?W+"Capture":null:W;Ve=[];for(var z=X,Y;z!==null;){var se=z;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||G===null||(se=Fi(z,G),se!=null&&Ve.push(Eo(z,se,Y))),At)break;z=z.return}0<Ve.length&&(W=new ee(W,Ue,null,s,ae),oe.push({event:W,listeners:Ve}))}}if((r&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",W&&s!==ba&&(Ue=s.relatedTarget||s.fromElement)&&(je(Ue)||Ue[Se]))break e;if((ee||W)&&(W=ae.window===ae?ae:(W=ae.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(Ue=s.relatedTarget||s.toElement,ee=X,Ue=Ue?je(Ue):null,Ue!==null&&(At=u(Ue),Ve=Ue.tag,Ue!==At||Ve!==5&&Ve!==27&&Ve!==6)&&(Ue=null)):(ee=null,Ue=X),ee!==Ue)){if(Ve=_r,se="onMouseLeave",G="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=Hl,se="onPointerLeave",G="onPointerEnter",z="pointer"),At=ee==null?W:gt(ee),Y=Ue==null?W:gt(Ue),W=new Ve(se,z+"leave",ee,s,ae),W.target=At,W.relatedTarget=Y,se=null,je(ae)===X&&(Ve=new Ve(G,z+"enter",Ue,s,ae),Ve.target=Y,Ve.relatedTarget=At,se=Ve),At=se,ee&&Ue)t:{for(Ve=ee,G=Ue,z=0,Y=Ve;Y;Y=ol(Y))z++;for(Y=0,se=G;se;se=ol(se))Y++;for(;0<z-Y;)Ve=ol(Ve),z--;for(;0<Y-z;)G=ol(G),Y--;for(;z--;){if(Ve===G||G!==null&&Ve===G.alternate)break t;Ve=ol(Ve),G=ol(G)}Ve=null}else Ve=null;ee!==null&&ev(oe,W,ee,Ve,!1),Ue!==null&&At!==null&&ev(oe,At,Ue,Ve,!0)}}e:{if(W=X?gt(X):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var xe=_g;else if(rn(W))if(Eg)xe=_b;else{xe=yb;var Ye=pb}else ee=W.nodeName,!ee||ee.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&kl(X.elementType)&&(xe=_g):xe=vb;if(xe&&(xe=xe(t,X))){Ra(oe,xe,s,ae);break e}Ye&&Ye(t,W,X),t==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&Wa(W,"number",W.value)}switch(Ye=X?gt(X):window,t){case"focusin":(rn(Ye)||Ye.contentEditable==="true")&&(js=Ye,Uh=X,Gl=null);break;case"focusout":Gl=Uh=js=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Dg(oe,s,ae);break;case"selectionchange":if(Tb)break;case"keydown":case"keyup":Dg(oe,s,ae)}var Ne;if(Jr)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else rt?ne(t,s)&&(Le="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Le="onCompositionStart");Le&&(v&&s.locale!=="ko"&&(rt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&rt&&(Ne=Pl()):(Kr=ae,Za="value"in Kr?Kr.value:Kr.textContent,rt=!0)),Ye=pc(X,Le),0<Ye.length&&(Le=new zl(Le,t,null,s,ae),oe.push({event:Le,listeners:Ye}),Ne?Le.data=Ne:(Ne=ve(s),Ne!==null&&(Le.data=Ne)))),(Ne=y?nn(t,s):at(t,s))&&(Le=pc(X,"onBeforeInput"),0<Le.length&&(Ye=new zl("onBeforeInput","beforeinput",null,s,ae),oe.push({event:Ye,listeners:Le}),Ye.data=Ne)),r1(oe,t,X,s,ae)}Zy(oe,r)})}function Eo(t,r,s){return{instance:t,listener:r,currentTarget:s}}function pc(t,r){for(var s=r+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fi(t,s),h!=null&&o.unshift(Eo(t,h,d)),h=Fi(t,r),h!=null&&o.push(Eo(t,h,d))),t.tag===3)return o;t=t.return}return[]}function ol(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ev(t,r,s,o,h){for(var d=r._reactName,E=[];s!==null&&s!==o;){var S=s,M=S.alternate,X=S.stateNode;if(S=S.tag,M!==null&&M===o)break;S!==5&&S!==26&&S!==27||X===null||(M=X,h?(X=Fi(s,d),X!=null&&E.unshift(Eo(s,X,M))):h||(X=Fi(s,d),X!=null&&E.push(Eo(s,X,M)))),s=s.return}E.length!==0&&t.push({event:r,listeners:E})}var l1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function tv(t){return(typeof t=="string"?t:""+t).replace(l1,`
`).replace(o1,"")}function nv(t,r){return r=tv(r),tv(t)===r}function yc(){}function bt(t,r,s,o,h,d){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||pr(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&pr(t,""+o);break;case"className":Bn(t,"class",o);break;case"tabIndex":Bn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,s,o);break;case"style":Vl(t,o,d);break;case"data":if(r!=="object"){Bn(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Cs(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&bt(t,r,"name",h.name,h,null),bt(t,r,"formEncType",h.formEncType,h,null),bt(t,r,"formMethod",h.formMethod,h,null),bt(t,r,"formTarget",h.formTarget,h,null)):(bt(t,r,"encType",h.encType,h,null),bt(t,r,"method",h.method,h,null),bt(t,r,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Cs(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=yc);break;case"onScroll":o!=null&&Ze("scroll",t);break;case"onScrollEnd":o!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Cs(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),On(t,"popover",o);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":On(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Oh.get(s)||s,On(t,s,o))}}function cd(t,r,s,o,h,d){switch(s){case"style":Vl(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof o=="string"?pr(t,o):(typeof o=="number"||typeof o=="bigint")&&pr(t,""+o);break;case"onScroll":o!=null&&Ze("scroll",t);break;case"onScrollEnd":o!=null&&Ze("scrollend",t);break;case"onClick":o!=null&&(t.onclick=yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[me]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):On(t,s,o)}}}function wn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var o=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:bt(t,r,d,E,s,null)}}h&&bt(t,r,"srcSet",s.srcSet,s,null),o&&bt(t,r,"src",s.src,s,null);return;case"input":Ze("invalid",t);var S=d=E=h=null,M=null,X=null;for(o in s)if(s.hasOwnProperty(o)){var ae=s[o];if(ae!=null)switch(o){case"name":h=ae;break;case"type":E=ae;break;case"checked":M=ae;break;case"defaultChecked":X=ae;break;case"value":d=ae;break;case"defaultValue":S=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,r));break;default:bt(t,r,o,ae,s,null)}}Bi(t,d,S,M,X,E,h,!1),Ds(t);return;case"select":Ze("invalid",t),o=E=d=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":o=S;default:bt(t,r,h,S,s,null)}r=d,s=E,t.multiple=!!o,r!=null?Ta(t,!!o,r,!1):s!=null&&Ta(t,!!o,s,!0);return;case"textarea":Ze("invalid",t),d=h=o=null;for(E in s)if(s.hasOwnProperty(E)&&(S=s[E],S!=null))switch(E){case"value":o=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:bt(t,r,E,S,s,null)}Hi(t,o,h,d),Ds(t);return;case"option":for(M in s)if(s.hasOwnProperty(M)&&(o=s[M],o!=null))switch(M){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:bt(t,r,M,o,s,null)}return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(o=0;o<_o.length;o++)Ze(_o[o],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in s)if(s.hasOwnProperty(X)&&(o=s[X],o!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:bt(t,r,X,o,s,null)}return;default:if(kl(r)){for(ae in s)s.hasOwnProperty(ae)&&(o=s[ae],o!==void 0&&cd(t,r,ae,o,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(o=s[S],o!=null&&bt(t,r,S,o,s,null))}function u1(t,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,S=null,M=null,X=null,ae=null;for(ee in s){var oe=s[ee];if(s.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":M=oe;default:o.hasOwnProperty(ee)||bt(t,r,ee,null,o,oe)}}for(var W in o){var ee=o[W];if(oe=s[W],o.hasOwnProperty(W)&&(ee!=null||oe!=null))switch(W){case"type":d=ee;break;case"name":h=ee;break;case"checked":X=ee;break;case"defaultChecked":ae=ee;break;case"value":E=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,r));break;default:ee!==oe&&bt(t,r,W,ee,o,oe)}}Jn(t,E,S,M,X,ae,d,h);return;case"select":ee=E=S=W=null;for(d in s)if(M=s[d],s.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":ee=M;default:o.hasOwnProperty(d)||bt(t,r,d,null,o,M)}for(h in o)if(d=o[h],M=s[h],o.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":W=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==M&&bt(t,r,h,d,o,M)}r=S,s=E,o=ee,W!=null?Ta(t,!!s,W,!1):!!o!=!!s&&(r!=null?Ta(t,!!s,r,!0):Ta(t,!!s,s?[]:"",!1));return;case"textarea":ee=W=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:bt(t,r,S,null,o,h)}for(E in o)if(h=o[E],d=s[E],o.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":W=h;break;case"defaultValue":ee=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==d&&bt(t,r,E,h,o,d)}Et(t,W,ee);return;case"option":for(var Ue in s)if(W=s[Ue],s.hasOwnProperty(Ue)&&W!=null&&!o.hasOwnProperty(Ue))switch(Ue){case"selected":t.selected=!1;break;default:bt(t,r,Ue,null,o,W)}for(M in o)if(W=o[M],ee=s[M],o.hasOwnProperty(M)&&W!==ee&&(W!=null||ee!=null))switch(M){case"selected":t.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:bt(t,r,M,W,o,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in s)W=s[Ve],s.hasOwnProperty(Ve)&&W!=null&&!o.hasOwnProperty(Ve)&&bt(t,r,Ve,null,o,W);for(X in o)if(W=o[X],ee=s[X],o.hasOwnProperty(X)&&W!==ee&&(W!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:bt(t,r,X,W,o,ee)}return;default:if(kl(r)){for(var At in s)W=s[At],s.hasOwnProperty(At)&&W!==void 0&&!o.hasOwnProperty(At)&&cd(t,r,At,void 0,o,W);for(ae in o)W=o[ae],ee=s[ae],!o.hasOwnProperty(ae)||W===ee||W===void 0&&ee===void 0||cd(t,r,ae,W,o,ee);return}}for(var G in s)W=s[G],s.hasOwnProperty(G)&&W!=null&&!o.hasOwnProperty(G)&&bt(t,r,G,null,o,W);for(oe in o)W=o[oe],ee=s[oe],!o.hasOwnProperty(oe)||W===ee||W==null&&ee==null||bt(t,r,oe,W,o,ee)}var hd=null,fd=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function dd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var md=null;function c1(){var t=window.event;return t&&t.type==="popstate"?t===md?!1:(md=t,!0):(md=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,h1=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,f1=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(d1)}:iv;function d1(t){setTimeout(function(){throw t})}function mi(t){return t==="head"}function lv(t,r){var s=r,o=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var E=t.ownerDocument;if(s&1&&To(E.documentElement),s&2&&To(E.body),s&4)for(s=E.head,To(s),E=s.firstChild;E;){var S=E.nextSibling,M=E.nodeName;E[ke]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=S}}if(h===0){t.removeChild(d),Co(r);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);Co(r)}function gd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),Me(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function m1(t,r,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ke])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Lr(t.nextSibling),t===null)break}return null}function g1(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Lr(t.nextSibling),t===null))return null;return t}function pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function p1(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Lr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var yd=null;function ov(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function uv(t,r,s){switch(r=vc(s),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function To(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Me(t)}var xr=new Map,cv=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var za=re.d;re.d={f:y1,r:v1,D:_1,C:E1,L:T1,m:b1,X:S1,S:A1,M:w1};function y1(){var t=za.f(),r=cc();return t||r}function v1(t){var r=Xe(t);r!==null&&r.tag===5&&r.type==="form"?Np(r):za.r(t)}var ul=typeof document>"u"?null:document;function hv(t,r,s){var o=ul;if(o&&typeof r=="string"&&r){var h=Yt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),cv.has(h)||(cv.add(h),t={rel:t,crossOrigin:s,href:r},o.querySelector(h)===null&&(r=o.createElement("link"),wn(r,"link",t),nt(r),o.head.appendChild(r)))}}function _1(t){za.D(t),hv("dns-prefetch",t,null)}function E1(t,r){za.C(t,r),hv("preconnect",t,r)}function T1(t,r,s){za.L(t,r,s);var o=ul;if(o&&t&&r){var h='link[rel="preload"][as="'+Yt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Yt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Yt(s.imageSizes)+'"]')):h+='[href="'+Yt(t)+'"]';var d=h;switch(r){case"style":d=cl(t);break;case"script":d=hl(t)}xr.has(d)||(t=_({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),xr.set(d,t),o.querySelector(h)!==null||r==="style"&&o.querySelector(bo(d))||r==="script"&&o.querySelector(Ao(d))||(r=o.createElement("link"),wn(r,"link",t),nt(r),o.head.appendChild(r)))}}function b1(t,r){za.m(t,r);var s=ul;if(s&&t){var o=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Yt(o)+'"][href="'+Yt(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=hl(t)}if(!xr.has(d)&&(t=_({rel:"modulepreload",href:t},r),xr.set(d,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ao(d)))return}o=s.createElement("link"),wn(o,"link",t),nt(o),s.head.appendChild(o)}}}function A1(t,r,s){za.S(t,r,s);var o=ul;if(o&&t){var h=ct(o).hoistableStyles,d=cl(t);r=r||"default";var E=h.get(d);if(!E){var S={loading:0,preload:null};if(E=o.querySelector(bo(d)))S.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},s),(s=xr.get(d))&&vd(t,s);var M=E=o.createElement("link");nt(M),wn(M,"link",t),M._p=new Promise(function(X,ae){M.onload=X,M.onerror=ae}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ec(E,r,o)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(d,E)}}}function S1(t,r){za.X(t,r);var s=ul;if(s&&t){var o=ct(s).hoistableScripts,h=hl(t),d=o.get(h);d||(d=s.querySelector(Ao(h)),d||(t=_({src:t,async:!0},r),(r=xr.get(h))&&_d(t,r),d=s.createElement("script"),nt(d),wn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function w1(t,r){za.M(t,r);var s=ul;if(s&&t){var o=ct(s).hoistableScripts,h=hl(t),d=o.get(h);d||(d=s.querySelector(Ao(h)),d||(t=_({src:t,async:!0,type:"module"},r),(r=xr.get(h))&&_d(t,r),d=s.createElement("script"),nt(d),wn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function fv(t,r,s,o){var h=(h=_e.current)?_c(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=cl(s.href),s=ct(h).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=cl(s.href);var d=ct(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(bo(t)))&&!d._p&&(E.instance=d,E.state.loading=5),xr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xr.set(t,s),d||x1(h,t,s,E.state))),r&&o===null)throw Error(i(528,""));return E}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=hl(s),s=ct(h).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function cl(t){return'href="'+Yt(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function dv(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function x1(t,r,s,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),wn(r,"link",s),nt(r),t.head.appendChild(r))}function hl(t){return'[src="'+Yt(t)+'"]'}function Ao(t){return"script[async]"+t}function mv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+Yt(s.href)+'"]');if(o)return r.instance=o,nt(o),o;var h=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),nt(o),wn(o,"style",h),Ec(o,s.precedence,t),r.instance=o;case"stylesheet":h=cl(s.href);var d=t.querySelector(bo(h));if(d)return r.state.loading|=4,r.instance=d,nt(d),d;o=dv(s),(h=xr.get(h))&&vd(o,h),d=(t.ownerDocument||t).createElement("link"),nt(d);var E=d;return E._p=new Promise(function(S,M){E.onload=S,E.onerror=M}),wn(d,"link",o),r.state.loading|=4,Ec(d,s.precedence,t),r.instance=d;case"script":return d=hl(s.src),(h=t.querySelector(Ao(d)))?(r.instance=h,nt(h),h):(o=s,(h=xr.get(d))&&(o=_({},s),_d(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),nt(h),wn(h,"link",o),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Ec(o,s.precedence,t));return r.instance}function Ec(t,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,E=0;E<o.length;E++){var S=o[E];if(S.dataset.precedence===r)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function vd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function _d(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Tc=null;function gv(t,r,s){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(s,o)}else h=Tc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[ke]||d[ce]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var S=o.get(E);S?S.push(d):o.set(E,[d])}}return o}function pv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function R1(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function yv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var So=null;function D1(){}function C1(t,r,s){if(So===null)throw Error(i(475));var o=So;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=cl(s.href),d=t.querySelector(bo(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=bc.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=d,nt(d);return}d=t.ownerDocument||t,s=dv(s),(h=xr.get(h))&&vd(s,h),d=d.createElement("link"),nt(d);var E=d;E._p=new Promise(function(S,M){E.onload=S,E.onerror=M}),wn(d,"link",s),r.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=bc.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function N1(){if(So===null)throw Error(i(475));var t=So;return t.stylesheets&&t.count===0&&Ed(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Ed(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function bc(){if(this.count--,this.count===0){if(this.stylesheets)Ed(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Ed(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,r.forEach(I1,t),Ac=null,bc.call(t))}function I1(t,r){if(!(r.state.loading&4)){var s=Ac.get(t);if(s)var o=s.get(null);else{s=new Map,Ac.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),o=E)}o&&s.set(null,o)}h=r.instance,E=h.getAttribute("data-precedence"),d=s.get(E)||o,d===o&&s.set(null,h),s.set(E,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var wo={$$typeof:J,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function O1(t,r,s,o,h,d,E,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function vv(t,r,s,o,h,d,E,S,M,X,ae,oe){return t=new O1(t,r,s,E,S,M,X,oe),r=1,d===!0&&(r|=24),d=tr(3,null,null,r),t.current=d,d.stateNode=t,r=ef(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:r},af(d),t}function _v(t){return t?(t=Hs,t):Hs}function Ev(t,r,s,o,h,d){h=_v(h),o.context===null?o.context=h:o.pendingContext=h,o=ti(r),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=ni(t,o,r),s!==null&&(sr(s,t,r),eo(s,t,r))}function Tv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Td(t,r){Tv(t,r),(t=t.alternate)&&Tv(t,r)}function bv(t){if(t.tag===13){var r=Bs(t,67108864);r!==null&&sr(r,t,67108864),Td(t,67108864)}}var Sc=!0;function M1(t,r,s,o){var h=H.T;H.T=null;var d=re.p;try{re.p=2,bd(t,r,s,o)}finally{re.p=d,H.T=h}}function V1(t,r,s,o){var h=H.T;H.T=null;var d=re.p;try{re.p=8,bd(t,r,s,o)}finally{re.p=d,H.T=h}}function bd(t,r,s,o){if(Sc){var h=Ad(o);if(h===null)ud(t,r,o,wc,s),Sv(t,o);else if(L1(h,t,r,s,o))o.stopPropagation();else if(Sv(t,o),r&4&&-1<k1.indexOf(t)){for(;h!==null;){var d=Xe(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Xn(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var M=1<<31-$t(E);S.entanglements[1]|=M,E&=~M}ia(d),(vt&6)===0&&(oc=Nt()+500,vo(0))}}break;case 13:S=Bs(d,2),S!==null&&sr(S,d,2),cc(),Td(d,2)}if(d=Ad(o),d===null&&ud(t,r,o,wc,s),d===h)break;h=d}h!==null&&o.stopPropagation()}else ud(t,r,o,null,s)}}function Ad(t){return t=yr(t),Sd(t)}var wc=null;function Sd(t){if(wc=null,t=je(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return wc=t,null}function Av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ir()){case ya:return 2;case cn:return 8;case jn:case _n:return 32;case Lt:return 268435456;default:return 32}default:return 32}}var wd=!1,gi=null,pi=null,yi=null,xo=new Map,Ro=new Map,vi=[],k1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(t,r){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":xo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(r.pointerId)}}function Do(t,r,s,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Xe(r),r!==null&&bv(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function L1(t,r,s,o,h){switch(r){case"focusin":return gi=Do(gi,t,r,s,o,h),!0;case"dragenter":return pi=Do(pi,t,r,s,o,h),!0;case"mouseover":return yi=Do(yi,t,r,s,o,h),!0;case"pointerover":var d=h.pointerId;return xo.set(d,Do(xo.get(d)||null,t,r,s,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Ro.set(d,Do(Ro.get(d)||null,t,r,s,o,h)),!0}return!1}function wv(t){var r=je(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,$(t.priority,function(){if(s.tag===13){var o=ir();o=Gr(o);var h=Bs(s,o);h!==null&&sr(h,s,o),Td(s,o)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Ad(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);ba=o,s.target.dispatchEvent(o),ba=null}else return r=Xe(s),r!==null&&bv(r),t.blockedOn=s,!1;r.shift()}return!0}function xv(t,r,s){xc(t)&&s.delete(r)}function P1(){wd=!1,gi!==null&&xc(gi)&&(gi=null),pi!==null&&xc(pi)&&(pi=null),yi!==null&&xc(yi)&&(yi=null),xo.forEach(xv),Ro.forEach(xv)}function Rc(t,r){t.blockedOn===r&&(t.blockedOn=null,wd||(wd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,P1)))}var Dc=null;function Rv(t){Dc!==t&&(Dc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var r=0;r<t.length;r+=3){var s=t[r],o=t[r+1],h=t[r+2];if(typeof o!="function"){if(Sd(o||s)===null)continue;break}var d=Xe(s);d!==null&&(t.splice(r,3),r-=3,Sf(d,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Co(t){function r(M){return Rc(M,t)}gi!==null&&Rc(gi,t),pi!==null&&Rc(pi,t),yi!==null&&Rc(yi,t),xo.forEach(r),Ro.forEach(r);for(var s=0;s<vi.length;s++){var o=vi[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<vi.length&&(s=vi[0],s.blockedOn===null);)wv(s),s.blockedOn===null&&vi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],d=s[o+1],E=h[me]||null;if(typeof d=="function")E||Rv(s);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[me]||null)S=E.formAction;else if(Sd(h)!==null)continue}else S=E.action;typeof S=="function"?s[o+1]=S:(s.splice(o,3),o-=3),Rv(s)}}}function xd(t){this._internalRoot=t}Cc.prototype.render=xd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,o=ir();Ev(s,o,t,r,null,null)},Cc.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ev(t.current,2,null,t,null,null),cc(),r[Se]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var r=P();t={blockedOn:null,target:t,priority:r};for(var s=0;s<vi.length&&r!==0&&r<vi[s].priority;s++);vi.splice(s,0,t),s===0&&wv(t)}};var Dv=e.version;if(Dv!=="19.1.0")throw Error(i(527,Dv,"19.1.0"));re.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var j1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{ft=Nc.inject(j1),Fe=Nc}catch{}}return Io.createRoot=function(t,r){if(!l(t))throw Error(i(299));var s=!1,o="",h=Fp,d=Gp,E=$p,S=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=vv(t,1,!1,null,null,s,o,h,d,E,S,null),t[Se]=r.current,od(t),new xd(r)},Io.hydrateRoot=function(t,r,s){if(!l(t))throw Error(i(299));var o=!1,h="",d=Fp,E=Gp,S=$p,M=null,X=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks),s.formState!==void 0&&(X=s.formState)),r=vv(t,1,!0,r,s??null,o,h,d,E,S,M,X),r.context=_v(null),s=r.current,o=ir(),o=Gr(o),h=ti(o),h.callback=null,ni(s,h,o),s=o,r.current.lanes=s,Or(r,s),ia(r),t[Se]=r.current,od(t),new Cc(r)},Io.version="19.1.0",Io}var jv;function Q1(){if(jv)return Cd.exports;jv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Cd.exports=$1(),Cd.exports}var Y1=Q1(),Oo={},Uv;function K1(){if(Uv)return Oo;Uv=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.parse=f,Oo.serialize=p;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,D){const N=new u,B=b.length;if(B<2)return N;const V=D?.decode||_;let L=0;do{const Z=b.indexOf("=",L);if(Z===-1)break;const J=b.indexOf(";",L),de=J===-1?B:J;if(Z>de){L=b.lastIndexOf(";",Z-1)+1;continue}const ye=m(b,L,Z),q=g(b,Z,ye),O=b.slice(ye,q);if(N[O]===void 0){let x=m(b,Z+1,de),R=g(b,de,x);const k=V(b.slice(x,R));N[O]=k}L=de+1}while(L<B);return N}function m(b,D,N){do{const B=b.charCodeAt(D);if(B!==32&&B!==9)return D}while(++D<N);return N}function g(b,D,N){for(;D>N;){const B=b.charCodeAt(--D);if(B!==32&&B!==9)return D+1}return N}function p(b,D,N){const B=N?.encode||encodeURIComponent;if(!a.test(b))throw new TypeError(`argument name is invalid: ${b}`);const V=B(D);if(!e.test(V))throw new TypeError(`argument val is invalid: ${D}`);let L=b+"="+V;if(!N)return L;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);L+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);L+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);L+="; Path="+N.path}if(N.expires){if(!A(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);L+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(L+="; HttpOnly"),N.secure&&(L+="; Secure"),N.partitioned&&(L+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return L}function _(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function A(b){return l.call(b)==="[object Date]"}return Oo}K1();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var D0=a=>{throw TypeError(a)},X1=(a,e,n)=>e.has(a)||D0("Cannot "+n),Md=(a,e,n)=>(X1(a,e,"read from private field"),n?n.call(a):e.get(a)),W1=(a,e,n)=>e.has(a)?D0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,n),zv="popstate";function Z1(a={}){function e(l,u){let{pathname:f="/",search:m="",hash:g=""}=Ga(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Ko("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=l.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:Ci(u))}function i(l,u){Ft(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return eA(e,n,i,a)}function et(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Ft(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J1(){return Math.random().toString(36).substring(2,10)}function Bv(a,e){return{usr:a.state,key:a.key,idx:e}}function Ko(a,e,n=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ga(e):e,state:n,key:e&&e.key||i||J1()}}function Ci({pathname:a="/",search:e="",hash:n=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function Ga(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substring(n),a=a.substring(0,n));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function eA(a,e,n,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,f=l.history,m="POP",g=null,p=_();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function _(){return(f.state||{idx:null}).idx}function A(){m="POP";let V=_(),L=V==null?null:V-p;p=V,g&&g({action:m,location:B.location,delta:L})}function b(V,L){m="PUSH";let Z=Ko(B.location,V,L);n&&n(Z,V),p=_()+1;let J=Bv(Z,p),de=B.createHref(Z);try{f.pushState(J,"",de)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;l.location.assign(de)}u&&g&&g({action:m,location:B.location,delta:1})}function D(V,L){m="REPLACE";let Z=Ko(B.location,V,L);n&&n(Z,V),p=_();let J=Bv(Z,p),de=B.createHref(Z);f.replaceState(J,"",de),u&&g&&g({action:m,location:B.location,delta:0})}function N(V){return C0(V)}let B={get action(){return m},get location(){return a(l,f)},listen(V){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(zv,A),g=V,()=>{l.removeEventListener(zv,A),g=null}},createHref(V){return e(l,V)},createURL:N,encodeLocation(V){let L=N(V);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:D,go(V){return f.go(V)}};return B}function C0(a,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),et(n,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:Ci(a);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var Po,Hv=class{constructor(a){if(W1(this,Po,new Map),a)for(let[e,n]of a)this.set(e,n)}get(a){if(Md(this,Po).has(a))return Md(this,Po).get(a);if(a.defaultValue!==void 0)return a.defaultValue;throw new Error("No value found for context")}set(a,e){Md(this,Po).set(a,e)}};Po=new WeakMap;var tA=new Set(["lazy","caseSensitive","path","id","index","children"]);function nA(a){return tA.has(a)}var rA=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function aA(a){return rA.has(a)}function iA(a){return a.index===!0}function Kc(a,e,n=[],i={}){return a.map((l,u)=>{let f=[...n,String(u)],m=typeof l.id=="string"?l.id:f.join("-");if(et(l.index!==!0||!l.children,"Cannot specify children on an index route"),et(!i[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),iA(l)){let g={...l,...e(l),id:m};return i[m]=g,g}else{let g={...l,...e(l),id:m,children:void 0};return i[m]=g,l.children&&(g.children=Kc(l.children,e,f,i)),g}})}function Ti(a,e,n="/"){return zc(a,e,n,!1)}function zc(a,e,n,i){let l=typeof e=="string"?Ga(e):e,u=Nr(l.pathname||"/",n);if(u==null)return null;let f=N0(a);lA(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=vA(u);m=pA(f[g],p,i)}return m}function sA(a,e){let{route:n,pathname:i,params:l}=a;return{id:n.id,pathname:i,params:l,data:e[n.id],handle:n.handle}}function N0(a,e=[],n=[],i=""){let l=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(et(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let p=oa([i,g.relativePath]),_=n.concat(g);u.children&&u.children.length>0&&(et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),N0(u.children,e,_,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:mA(p,u.index),routesMeta:_})};return a.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of I0(u.path))l(u,f,m)}),e}function I0(a){let e=a.split("/");if(e.length===0)return[];let[n,...i]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let f=I0(i.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...f),m.map(g=>a.startsWith("/")&&g===""?"/":g)}function lA(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:gA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var oA=/^:[\w-]+$/,uA=3,cA=2,hA=1,fA=10,dA=-2,qv=a=>a==="*";function mA(a,e){let n=a.split("/"),i=n.length;return n.some(qv)&&(i+=dA),e&&(i+=cA),n.filter(l=>!qv(l)).reduce((l,u)=>l+(oA.test(u)?uA:u===""?hA:fA),i)}function gA(a,e){return a.length===e.length&&a.slice(0,-1).every((i,l)=>i===e[l])?a[a.length-1]-e[e.length-1]:0}function pA(a,e,n=!1){let{routesMeta:i}=a,l={},u="/",f=[];for(let m=0;m<i.length;++m){let g=i[m],p=m===i.length-1,_=u==="/"?e:e.slice(u.length)||"/",A=Xc({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},_),b=g.route;if(!A&&p&&n&&!i[i.length-1].route.index&&(A=Xc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!A)return null;Object.assign(l,A.params),f.push({params:l,pathname:oa([u,A.pathname]),pathnameBase:TA(oa([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=oa([u,A.pathnameBase]))}return f}function Xc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,i]=yA(a.path,a.caseSensitive,a.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((p,{paramName:_,isOptional:A},b)=>{if(_==="*"){let N=m[b]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const D=m[b];return A&&!D?p[_]=void 0:p[_]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:a}}function yA(a,e=!1,n=!0){Ft(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function vA(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ft(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Nr(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=a.charAt(n);return i&&i!=="/"?null:a.slice(n)||"/"}function _A(a,e="/"){let{pathname:n,search:i="",hash:l=""}=typeof a=="string"?Ga(a):a;return{pathname:n?n.startsWith("/")?n:EA(n,e):e,search:bA(i),hash:AA(l)}}function EA(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Vd(a,e,n,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O0(a){return a.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bm(a){let e=O0(a);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Am(a,e,n,i=!1){let l;typeof a=="string"?l=Ga(a):(l={...a},et(!l.pathname||!l.pathname.includes("?"),Vd("?","pathname","search",l)),et(!l.pathname||!l.pathname.includes("#"),Vd("#","pathname","hash",l)),et(!l.search||!l.search.includes("#"),Vd("#","search","hash",l)));let u=a===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!i&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),A-=1;l.pathname=b.join("/")}m=A>=0?e[A]:"/"}let g=_A(l,m),p=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||_)&&(g.pathname+="/"),g}var oa=a=>a.join("/").replace(/\/\/+/g,"/"),TA=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),bA=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,AA=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,Wc=class{constructor(a,e,n,i=!1){this.status=a,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Xo(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var M0=["POST","PUT","PATCH","DELETE"],SA=new Set(M0),wA=["GET",...M0],xA=new Set(wA),RA=new Set([301,302,303,307,308]),DA=new Set([307,308]),kd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},CA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Sm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NA=a=>({hasErrorBoundary:!!a.hasErrorBoundary}),V0="remix-router-transitions",k0=Symbol("ResetLoaderData");function IA(a){const e=a.window?a.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";et(a.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=a.hydrationRouteProperties||[],l=a.mapRouteProperties||NA,u={},f=Kc(a.routes,l,void 0,u),m,g=a.basename||"/",p=a.dataStrategy||LA,_={unstable_middleware:!1,...a.future},A=null,b=new Set,D=null,N=null,B=null,V=a.hydrationData!=null,L=Ti(f,a.history.location,g),Z=!1,J=null,de;if(L==null&&!a.patchRoutesOnNavigation){let P=Rr(404,{pathname:a.history.location.pathname}),{matches:$,route:K}=t_(f);de=!0,L=$,J={[K.id]:P}}else if(L&&!a.hydrationData&&Un(L,f,a.history.location.pathname).active&&(L=null),L)if(L.some(P=>P.route.lazy))de=!1;else if(!L.some(P=>P.route.loader))de=!0;else{let P=a.hydrationData?a.hydrationData.loaderData:null,$=a.hydrationData?a.hydrationData.errors:null;if($){let K=L.findIndex(ce=>$[ce.route.id]!==void 0);de=L.slice(0,K+1).every(ce=>!Kd(ce.route,P,$))}else de=L.every(K=>!Kd(K.route,P,$))}else{de=!1,L=[];let P=Un(null,f,a.history.location.pathname);P.active&&P.matches&&(Z=!0,L=P.matches)}let ye,q={historyAction:a.history.action,location:a.history.location,matches:L,initialized:de,navigation:kd,restoreScrollPosition:a.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:a.hydrationData&&a.hydrationData.loaderData||{},actionData:a.hydrationData&&a.hydrationData.actionData||null,errors:a.hydrationData&&a.hydrationData.errors||J,fetchers:new Map,blockers:new Map},O="POP",x=!1,R,k=!1,j=new Map,U=null,C=!1,ge=!1,be=new Set,H=new Map,re=0,fe=-1,Ae=new Map,I=new Set,te=new Map,ue=new Map,ie=new Set,pe=new Map,Ce,_e=null;function ut(){if(A=a.history.listen(({action:P,location:$,delta:K})=>{if(Ce){Ce(),Ce=void 0;return}Ft(pe.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=Qa({currentLocation:q.location,nextLocation:$,historyAction:P});if(ce&&K!=null){let me=new Promise(Se=>{Ce=Se});a.history.go(K*-1),fr(ce,{state:"blocked",location:$,proceed(){fr(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),me.then(()=>a.history.go(K))},reset(){let Se=new Map(q.blockers);Se.set(ce,Mo),mt({blockers:Se})}});return}return ot(P,$)}),n){QA(e,j);let P=()=>YA(e,j);e.addEventListener("pagehide",P),U=()=>e.removeEventListener("pagehide",P)}return q.initialized||ot("POP",q.location,{initialHydration:!0}),ye}function Ke(){A&&A(),U&&U(),b.clear(),R&&R.abort(),q.fetchers.forEach((P,$)=>$t($)),q.blockers.forEach((P,$)=>va($))}function un(P){return b.add(P),()=>b.delete(P)}function mt(P,$={}){q={...q,...P};let K=[],ce=[];q.fetchers.forEach((me,Se)=>{me.state==="idle"&&(ie.has(Se)?K.push(Se):ce.push(Se))}),ie.forEach(me=>{!q.fetchers.has(me)&&!H.has(me)&&K.push(me)}),[...b].forEach(me=>me(q,{deletedFetchers:K,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),K.forEach(me=>$t(me)),ce.forEach(me=>q.fetchers.delete(me))}function kt(P,$,{flushSync:K}={}){let ce=q.actionData!=null&&q.navigation.formMethod!=null&&or(q.navigation.formMethod)&&q.navigation.state==="loading"&&P.state?._isRedirect!==!0,me;$.actionData?Object.keys($.actionData).length>0?me=$.actionData:me=null:ce?me=q.actionData:me=null;let Se=$.loaderData?Jv(q.loaderData,$.loaderData,$.matches||[],$.errors):q.loaderData,Oe=q.blockers;Oe.size>0&&(Oe=new Map(Oe),Oe.forEach((Re,ke)=>Oe.set(ke,Mo)));let we=x===!0||q.navigation.formMethod!=null&&or(q.navigation.formMethod)&&P.state?._isRedirect!==!0;m&&(f=m,m=void 0),C||O==="POP"||(O==="PUSH"?a.history.push(P,P.state):O==="REPLACE"&&a.history.replace(P,P.state));let De;if(O==="POP"){let Re=j.get(q.location.pathname);Re&&Re.has(P.pathname)?De={currentLocation:q.location,nextLocation:P}:j.has(P.pathname)&&(De={currentLocation:P,nextLocation:q.location})}else if(k){let Re=j.get(q.location.pathname);Re?Re.add(P.pathname):(Re=new Set([P.pathname]),j.set(q.location.pathname,Re)),De={currentLocation:q.location,nextLocation:P}}mt({...$,actionData:me,loaderData:Se,historyAction:O,location:P,initialized:!0,navigation:kd,revalidation:"idle",restoreScrollPosition:Ya(P,$.matches||q.matches),preventScrollReset:we,blockers:Oe},{viewTransitionOpts:De,flushSync:K===!0}),O="POP",x=!1,k=!1,C=!1,ge=!1,_e?.resolve(),_e=null}async function yn(P,$){if(typeof P=="number"){a.history.go(P);return}let K=Yd(q.location,q.matches,g,P,$?.fromRouteId,$?.relative),{path:ce,submission:me,error:Se}=Fv(!1,K,$),Oe=q.location,we=Ko(q.location,ce,$&&$.state);we={...we,...a.history.encodeLocation(we)};let De=$&&$.replace!=null?$.replace:void 0,Re="PUSH";De===!0?Re="REPLACE":De===!1||me!=null&&or(me.formMethod)&&me.formAction===q.location.pathname+q.location.search&&(Re="REPLACE");let ke=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Me=($&&$.flushSync)===!0,je=Qa({currentLocation:Oe,nextLocation:we,historyAction:Re});if(je){fr(je,{state:"blocked",location:we,proceed(){fr(je,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),yn(P,$)},reset(){let Xe=new Map(q.blockers);Xe.set(je,Mo),mt({blockers:Xe})}});return}await ot(Re,we,{submission:me,pendingError:Se,preventScrollReset:ke,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Me})}function Ct(){_e||(_e=KA()),cr(),mt({revalidation:"loading"});let P=_e.promise;return q.navigation.state==="submitting"?P:q.navigation.state==="idle"?(ot(q.historyAction,q.location,{startUninterruptedRevalidation:!0}),P):(ot(O||q.historyAction,q.navigation.location,{overrideNavigation:q.navigation,enableViewTransition:k===!0}),P)}async function ot(P,$,K){R&&R.abort(),R=null,O=P,C=(K&&K.startUninterruptedRevalidation)===!0,Or(q.location,q.matches),x=(K&&K.preventScrollReset)===!0,k=(K&&K.enableViewTransition)===!0;let ce=m||f,me=K&&K.overrideNavigation,Se=K?.initialHydration&&q.matches&&q.matches.length>0&&!Z?q.matches:Ti(ce,$,g),Oe=(K&&K.flushSync)===!0;if(Se&&q.initialized&&!ge&&HA(q.location,$)&&!(K&&K.submission&&or(K.submission.formMethod))){kt($,{matches:Se},{flushSync:Oe});return}let we=Un(Se,ce,$.pathname);if(we.active&&we.matches&&(Se=we.matches),!Se){let{error:ct,notFoundMatches:nt,route:Qe}=_a($.pathname);kt($,{matches:nt,loaderData:{},errors:{[Qe.id]:ct}},{flushSync:Oe});return}R=new AbortController;let De=dl(a.history,$,R.signal,K&&K.submission),Re=new Hv(a.unstable_getContext?await a.unstable_getContext():void 0),ke;if(K&&K.pendingError)ke=[ds(Se).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&or(K.submission.formMethod)){let ct=await vn(De,$,K.submission,Se,Re,we.active,K&&K.initialHydration===!0,{replace:K.replace,flushSync:Oe});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[nt,Qe]=ct.pendingActionResult;if(lr(Qe)&&Xo(Qe.error)&&Qe.error.status===404){R=null,kt($,{matches:ct.matches,loaderData:{},errors:{[nt]:Qe.error}});return}}Se=ct.matches||Se,ke=ct.pendingActionResult,me=Ld($,K.submission),Oe=!1,we.active=!1,De=dl(a.history,De.url,De.signal)}let{shortCircuited:Me,matches:je,loaderData:Xe,errors:gt}=await Gt(De,$,Se,Re,we.active,me,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Oe,ke);Me||(R=null,kt($,{matches:je||Se,...e_(ke),loaderData:Xe,errors:gt}))}async function vn(P,$,K,ce,me,Se,Oe,we={}){cr();let De=GA($,K);if(mt({navigation:De},{flushSync:we.flushSync===!0}),Se){let Me=await Fr(ce,$.pathname,P.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){let je=ds(Me.partialMatches).route.id;return{matches:Me.partialMatches,pendingActionResult:[je,{type:"error",error:Me.error}]}}else if(Me.matches)ce=Me.matches;else{let{notFoundMatches:je,error:Xe,route:gt}=_a($.pathname);return{matches:je,pendingActionResult:[gt.id,{type:"error",error:Xe}]}}}let Re,ke=jo(ce,$);if(!ke.route.action&&!ke.route.lazy)Re={type:"error",error:Rr(405,{method:P.method,pathname:$.pathname,routeId:ke.route.id})};else{let Me=vl(l,u,P,ce,ke,Oe?[]:i,me),je=await Lt(P,Me,me,null);if(Re=je[ke.route.id],!Re){for(let Xe of ce)if(je[Xe.route.id]){Re=je[Xe.route.id];break}}if(P.signal.aborted)return{shortCircuited:!0}}if(ms(Re)){let Me;return we&&we.replace!=null?Me=we.replace:Me=Xv(Re.response.headers.get("Location"),new URL(P.url),g)===q.location.pathname+q.location.search,await _n(P,Re,!0,{submission:K,replace:Me}),{shortCircuited:!0}}if(lr(Re)){let Me=ds(ce,ke.route.id);return(we&&we.replace)!==!0&&(O="PUSH"),{matches:ce,pendingActionResult:[Me.route.id,Re,ke.route.id]}}return{matches:ce,pendingActionResult:[ke.route.id,Re]}}async function Gt(P,$,K,ce,me,Se,Oe,we,De,Re,ke,Me){let je=Se||Ld($,Oe),Xe=Oe||we||r_(je),gt=!C&&!Re;if(me){if(gt){let Qt=Nt(Me);mt({navigation:je,...Qt!==void 0?{actionData:Qt}:{}},{flushSync:ke})}let ze=await Fr(K,$.pathname,P.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Qt=ds(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Qt]:ze.error}}}else if(ze.matches)K=ze.matches;else{let{error:Qt,notFoundMatches:Zn,route:Gn}=_a($.pathname);return{matches:Zn,loaderData:{},errors:{[Gn.id]:Qt}}}}let ct=m||f,{dsMatches:nt,revalidatingFetchers:Qe}=Gv(P,ce,l,u,a.history,q,K,Xe,$,Re?[]:i,Re===!0,ge,be,ie,te,I,ct,g,a.patchRoutesOnNavigation!=null,Me);if(fe=++re,!a.dataStrategy&&!nt.some(ze=>ze.shouldLoad)&&Qe.length===0){let ze=Hr();return kt($,{matches:K,loaderData:{},errors:Me&&lr(Me[1])?{[Me[0]]:Me[1].error}:null,...e_(Me),...ze?{fetchers:new Map(q.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(gt){let ze={};if(!me){ze.navigation=je;let Qt=Nt(Me);Qt!==void 0&&(ze.actionData=Qt)}Qe.length>0&&(ze.fetchers=Ir(Qe)),mt(ze,{flushSync:ke})}Qe.forEach(ze=>{hr(ze.key),ze.controller&&H.set(ze.key,ze.controller)});let mr=()=>Qe.forEach(ze=>hr(ze.key));R&&R.signal.addEventListener("abort",mr);let{loaderResults:tn,fetcherResults:zn}=await Nn(nt,Qe,P,ce);if(P.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",mr),Qe.forEach(ze=>H.delete(ze.key));let En=Ic(tn);if(En)return await _n(P,En.result,!0,{replace:De}),{shortCircuited:!0};if(En=Ic(zn),En)return I.add(En.key),await _n(P,En.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:$r,errors:Wn}=Zv(q,K,tn,Me,Qe,zn);Re&&q.errors&&(Wn={...q.errors,...Wn});let Xa=Hr(),On=qr(fe),Bn=Xa||On||Qe.length>0;return{matches:K,loaderData:$r,errors:Wn,...Bn?{fetchers:new Map(q.fetchers)}:{}}}function Nt(P){if(P&&!lr(P[1]))return{[P[0]]:P[1].data};if(q.actionData)return Object.keys(q.actionData).length===0?null:q.actionData}function Ir(P){return P.forEach($=>{let K=q.fetchers.get($.key),ce=Vo(void 0,K?K.data:void 0);q.fetchers.set($.key,ce)}),new Map(q.fetchers)}async function ya(P,$,K,ce){hr(P);let me=(ce&&ce.flushSync)===!0,Se=m||f,Oe=Yd(q.location,q.matches,g,K,$,ce?.relative),we=Ti(Se,Oe,g),De=Un(we,Se,Oe);if(De.active&&De.matches&&(we=De.matches),!we){Fe(P,$,Rr(404,{pathname:Oe}),{flushSync:me});return}let{path:Re,submission:ke,error:Me}=Fv(!0,Oe,ce);if(Me){Fe(P,$,Me,{flushSync:me});return}let je=jo(we,Re),Xe=new Hv(a.unstable_getContext?await a.unstable_getContext():void 0),gt=(ce&&ce.preventScrollReset)===!0;if(ke&&or(ke.formMethod)){await cn(P,$,Re,je,we,Xe,De.active,me,gt,ke);return}te.set(P,{routeId:$,path:Re}),await jn(P,$,Re,je,we,Xe,De.active,me,gt,ke)}async function cn(P,$,K,ce,me,Se,Oe,we,De,Re){cr(),te.delete(P);function ke(St){if(!St.route.action&&!St.route.lazy){let gr=Rr(405,{method:Re.formMethod,pathname:K,routeId:$});return Fe(P,$,gr,{flushSync:we}),!0}return!1}if(!Oe&&ke(ce))return;let Me=q.fetchers.get(P);ft(P,$A(Re,Me),{flushSync:we});let je=new AbortController,Xe=dl(a.history,K,je.signal,Re);if(Oe){let St=await Fr(me,K,Xe.signal,P);if(St.type==="aborted")return;if(St.type==="error"){Fe(P,$,St.error,{flushSync:we});return}else if(St.matches){if(me=St.matches,ce=jo(me,K),ke(ce))return}else{Fe(P,$,Rr(404,{pathname:K}),{flushSync:we});return}}H.set(P,je);let gt=re,ct=vl(l,u,Xe,me,ce,i,Se),Qe=(await Lt(Xe,ct,Se,P))[ce.route.id];if(Xe.signal.aborted){H.get(P)===je&&H.delete(P);return}if(ie.has(P)){if(ms(Qe)||lr(Qe)){ft(P,Ei(void 0));return}}else{if(ms(Qe))if(H.delete(P),fe>gt){ft(P,Ei(void 0));return}else return I.add(P),ft(P,Vo(Re)),_n(Xe,Qe,!1,{fetcherSubmission:Re,preventScrollReset:De});if(lr(Qe)){Fe(P,$,Qe.error);return}}let mr=q.navigation.location||q.location,tn=dl(a.history,mr,je.signal),zn=m||f,En=q.navigation.state!=="idle"?Ti(zn,q.navigation.location,g):q.matches;et(En,"Didn't find any matches after fetcher action");let $r=++re;Ae.set(P,$r);let Wn=Vo(Re,Qe.data);q.fetchers.set(P,Wn);let{dsMatches:Xa,revalidatingFetchers:On}=Gv(tn,Se,l,u,a.history,q,En,Re,mr,i,!1,ge,be,ie,te,I,zn,g,a.patchRoutesOnNavigation!=null,[ce.route.id,Qe]);On.filter(St=>St.key!==P).forEach(St=>{let gr=St.key,Ea=q.fetchers.get(gr),Tn=Vo(void 0,Ea?Ea.data:void 0);q.fetchers.set(gr,Tn),hr(gr),St.controller&&H.set(gr,St.controller)}),mt({fetchers:new Map(q.fetchers)});let Bn=()=>On.forEach(St=>hr(St.key));je.signal.addEventListener("abort",Bn);let{loaderResults:ze,fetcherResults:Qt}=await Nn(Xa,On,tn,Se);if(je.signal.aborted)return;if(je.signal.removeEventListener("abort",Bn),Ae.delete(P),H.delete(P),On.forEach(St=>H.delete(St.key)),q.fetchers.has(P)){let St=Ei(Qe.data);q.fetchers.set(P,St)}let Zn=Ic(ze);if(Zn)return _n(tn,Zn.result,!1,{preventScrollReset:De});if(Zn=Ic(Qt),Zn)return I.add(Zn.key),_n(tn,Zn.result,!1,{preventScrollReset:De});let{loaderData:Gn,errors:Qr}=Zv(q,En,ze,void 0,On,Qt);qr($r),q.navigation.state==="loading"&&$r>fe?(et(O,"Expected pending action"),R&&R.abort(),kt(q.navigation.location,{matches:En,loaderData:Gn,errors:Qr,fetchers:new Map(q.fetchers)})):(mt({errors:Qr,loaderData:Jv(q.loaderData,Gn,En,Qr),fetchers:new Map(q.fetchers)}),ge=!1)}async function jn(P,$,K,ce,me,Se,Oe,we,De,Re){let ke=q.fetchers.get(P);ft(P,Vo(Re,ke?ke.data:void 0),{flushSync:we});let Me=new AbortController,je=dl(a.history,K,Me.signal);if(Oe){let Qe=await Fr(me,K,je.signal,P);if(Qe.type==="aborted")return;if(Qe.type==="error"){Fe(P,$,Qe.error,{flushSync:we});return}else if(Qe.matches)me=Qe.matches,ce=jo(me,K);else{Fe(P,$,Rr(404,{pathname:K}),{flushSync:we});return}}H.set(P,Me);let Xe=re,gt=vl(l,u,je,me,ce,i,Se),nt=(await Lt(je,gt,Se,P))[ce.route.id];if(H.get(P)===Me&&H.delete(P),!je.signal.aborted){if(ie.has(P)){ft(P,Ei(void 0));return}if(ms(nt))if(fe>Xe){ft(P,Ei(void 0));return}else{I.add(P),await _n(je,nt,!1,{preventScrollReset:De});return}if(lr(nt)){Fe(P,$,nt.error);return}ft(P,Ei(nt.data))}}async function _n(P,$,K,{submission:ce,fetcherSubmission:me,preventScrollReset:Se,replace:Oe}={}){$.response.headers.has("X-Remix-Revalidate")&&(ge=!0);let we=$.response.headers.get("Location");et(we,"Expected a Location header on the redirect Response"),we=Xv(we,new URL(P.url),g);let De=Ko(q.location,we,{_isRedirect:!0});if(n){let gt=!1;if($.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(Sm.test(we)){const ct=C0(we,!0);gt=ct.origin!==e.location.origin||Nr(ct.pathname,g)==null}if(gt){Oe?e.location.replace(we):e.location.assign(we);return}}R=null;let Re=Oe===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Me,formEncType:je}=q.navigation;!ce&&!me&&ke&&Me&&je&&(ce=r_(q.navigation));let Xe=ce||me;if(DA.has($.response.status)&&Xe&&or(Xe.formMethod))await ot(Re,De,{submission:{...Xe,formAction:we},preventScrollReset:Se||x,enableViewTransition:K?k:void 0});else{let gt=Ld(De,ce);await ot(Re,De,{overrideNavigation:gt,fetcherSubmission:me,preventScrollReset:Se||x,enableViewTransition:K?k:void 0})}}async function Lt(P,$,K,ce){let me,Se={};try{me=await PA(p,P,$,ce,K,!1)}catch(Oe){return $.filter(we=>we.shouldLoad).forEach(we=>{Se[we.route.id]={type:"error",error:Oe}}),Se}if(P.signal.aborted)return Se;for(let[Oe,we]of Object.entries(me))if(qA(we)){let De=we.result;Se[Oe]={type:"redirect",response:zA(De,P,Oe,$,g)}}else Se[Oe]=await UA(we);return Se}async function Nn(P,$,K,ce){let me=Lt(K,P,ce,null),Se=Promise.all($.map(async De=>{if(De.matches&&De.match&&De.request&&De.controller){let ke=(await Lt(De.request,De.matches,ce,De.key))[De.match.route.id];return{[De.key]:ke}}else return Promise.resolve({[De.key]:{type:"error",error:Rr(404,{pathname:De.path})}})})),Oe=await me,we=(await Se).reduce((De,Re)=>Object.assign(De,Re),{});return{loaderResults:Oe,fetcherResults:we}}function cr(){ge=!0,te.forEach((P,$)=>{H.has($)&&be.add($),hr($)})}function ft(P,$,K={}){q.fetchers.set(P,$),mt({fetchers:new Map(q.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Fe(P,$,K,ce={}){let me=ds(q.matches,$);$t(P),mt({errors:{[me.route.id]:K},fetchers:new Map(q.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function In(P){return ue.set(P,(ue.get(P)||0)+1),ie.has(P)&&ie.delete(P),q.fetchers.get(P)||CA}function $t(P){let $=q.fetchers.get(P);H.has(P)&&!($&&$.state==="loading"&&Ae.has(P))&&hr(P),te.delete(P),Ae.delete(P),I.delete(P),ie.delete(P),be.delete(P),q.fetchers.delete(P)}function Rs(P){let $=(ue.get(P)||0)-1;$<=0?(ue.delete(P),ie.add(P)):ue.set(P,$),mt({fetchers:new Map(q.fetchers)})}function hr(P){let $=H.get(P);$&&($.abort(),H.delete(P))}function Br(P){for(let $ of P){let K=In($),ce=Ei(K.data);q.fetchers.set($,ce)}}function Hr(){let P=[],$=!1;for(let K of I){let ce=q.fetchers.get(K);et(ce,`Expected fetcher: ${K}`),ce.state==="loading"&&(I.delete(K),P.push(K),$=!0)}return Br(P),$}function qr(P){let $=[];for(let[K,ce]of Ae)if(ce<P){let me=q.fetchers.get(K);et(me,`Expected fetcher: ${K}`),me.state==="loading"&&(hr(K),Ae.delete(K),$.push(K))}return Br($),$.length>0}function Xn(P,$){let K=q.blockers.get(P)||Mo;return pe.get(P)!==$&&pe.set(P,$),K}function va(P){q.blockers.delete(P),pe.delete(P)}function fr(P,$){let K=q.blockers.get(P)||Mo;et(K.state==="unblocked"&&$.state==="blocked"||K.state==="blocked"&&$.state==="blocked"||K.state==="blocked"&&$.state==="proceeding"||K.state==="blocked"&&$.state==="unblocked"||K.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${$.state}`);let ce=new Map(q.blockers);ce.set(P,$),mt({blockers:ce})}function Qa({currentLocation:P,nextLocation:$,historyAction:K}){if(pe.size===0)return;pe.size>1&&Ft(!1,"A router only supports one blocker at a time");let ce=Array.from(pe.entries()),[me,Se]=ce[ce.length-1],Oe=q.blockers.get(me);if(!(Oe&&Oe.state==="proceeding")&&Se({currentLocation:P,nextLocation:$,historyAction:K}))return me}function _a(P){let $=Rr(404,{pathname:P}),K=m||f,{matches:ce,route:me}=t_(K);return{notFoundMatches:ce,route:me,error:$}}function Ui(P,$,K){if(D=P,B=$,N=K||null,!V&&q.navigation===kd){V=!0;let ce=Ya(q.location,q.matches);ce!=null&&mt({restoreScrollPosition:ce})}return()=>{D=null,B=null,N=null}}function dr(P,$){return N&&N(P,$.map(ce=>sA(ce,q.loaderData)))||P.key}function Or(P,$){if(D&&B){let K=dr(P,$);D[K]=B()}}function Ya(P,$){if(D){let K=dr(P,$),ce=D[K];if(typeof ce=="number")return ce}return null}function Un(P,$,K){if(a.patchRoutesOnNavigation)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:zc($,K,g,!0)}}else return{active:!0,matches:zc($,K,g,!0)||[]};return{active:!1,matches:null}}async function Fr(P,$,K,ce){if(!a.patchRoutesOnNavigation)return{type:"success",matches:P};let me=P;for(;;){let Se=m==null,Oe=m||f,we=u;try{await a.patchRoutesOnNavigation({signal:K,path:$,matches:me,fetcherKey:ce,patch:(ke,Me)=>{K.aborted||$v(ke,Me,Oe,we,l)}})}catch(ke){return{type:"error",error:ke,partialMatches:me}}finally{Se&&!K.aborted&&(f=[...f])}if(K.aborted)return{type:"aborted"};let De=Ti(Oe,$,g);if(De)return{type:"success",matches:De};let Re=zc(Oe,$,g,!0);if(!Re||me.length===Re.length&&me.every((ke,Me)=>ke.route.id===Re[Me].route.id))return{type:"success",matches:null};me=Re}}function Gr(P){u={},m=Kc(P,l,void 0,u)}function Ka(P,$){let K=m==null;$v(P,$,m||f,u,l),K&&(f=[...f],mt({}))}return ye={get basename(){return g},get future(){return _},get state(){return q},get routes(){return f},get window(){return e},initialize:ut,subscribe:un,enableScrollRestoration:Ui,navigate:yn,fetch:ya,revalidate:Ct,createHref:P=>a.history.createHref(P),encodeLocation:P=>a.history.encodeLocation(P),getFetcher:In,deleteFetcher:Rs,dispose:Ke,getBlocker:Xn,deleteBlocker:va,patchRoutes:Ka,_internalFetchControllers:H,_internalSetRoutes:Gr},ye}function OA(a){return a!=null&&("formData"in a&&a.formData!=null||"body"in a&&a.body!==void 0)}function Yd(a,e,n,i,l,u){let f,m;if(l){f=[];for(let p of e)if(f.push(p),p.route.id===l){m=p;break}}else f=e,m=e[e.length-1];let g=Am(i||".",bm(f),Nr(a.pathname,n)||a.pathname,u==="path");if(i==null&&(g.search=a.search,g.hash=a.hash),(i==null||i===""||i===".")&&m){let p=wm(g.search);if(m.route.index&&!p)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&p){let _=new URLSearchParams(g.search),A=_.getAll("index");_.delete("index"),A.filter(D=>D).forEach(D=>_.append("index",D));let b=_.toString();g.search=b?`?${b}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:oa([n,g.pathname])),Ci(g)}function Fv(a,e,n){if(!n||!OA(n))return{path:e};if(n.formMethod&&!FA(n.formMethod))return{path:e,error:Rr(405,{method:n.formMethod})};let i=()=>({path:e,error:Rr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=B0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!or(u))return i();let A=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[D,N])=>`${b}${D}=${N}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:A}}}else if(n.formEncType==="application/json"){if(!or(u))return i();try{let A=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:A,text:void 0}}}catch{return i()}}}et(typeof FormData=="function","FormData is not available in this environment");let m,g;if(n.formData)m=Wd(n.formData),g=n.formData;else if(n.body instanceof FormData)m=Wd(n.body),g=n.body;else if(n.body instanceof URLSearchParams)m=n.body,g=Wv(m);else if(n.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(n.body),g=Wv(m)}catch{return i()}let p={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(or(p.formMethod))return{path:e,submission:p};let _=Ga(e);return a&&_.search&&wm(_.search)&&m.append("index",""),_.search=`?${m}`,{path:Ci(_),submission:p}}function Gv(a,e,n,i,l,u,f,m,g,p,_,A,b,D,N,B,V,L,Z,J){let de=J?lr(J[1])?J[1].error:J[1].data:void 0,ye=l.createURL(u.location),q=l.createURL(g),O;if(_&&u.errors){let C=Object.keys(u.errors)[0];O=f.findIndex(ge=>ge.route.id===C)}else if(J&&lr(J[1])){let C=J[0];O=f.findIndex(ge=>ge.route.id===C)-1}let x=J?J[1].statusCode:void 0,R=x&&x>=400,k={currentUrl:ye,currentParams:u.matches[0]?.params||{},nextUrl:q,nextParams:f[0].params,...m,actionResult:de,actionStatus:x},j=f.map((C,ge)=>{let{route:be}=C,H=null;if(O!=null&&ge>O?H=!1:be.lazy?H=!0:be.loader==null?H=!1:_?H=Kd(be,u.loaderData,u.errors):MA(u.loaderData,u.matches[ge],C)&&(H=!0),H!==null)return Xd(n,i,a,C,p,e,H);let re=R?!1:A||ye.pathname+ye.search===q.pathname+q.search||ye.search!==q.search||VA(u.matches[ge],C),fe={...k,defaultShouldRevalidate:re},Ae=Zc(C,fe);return Xd(n,i,a,C,p,e,Ae,fe)}),U=[];return N.forEach((C,ge)=>{if(_||!f.some(ue=>ue.route.id===C.routeId)||D.has(ge))return;let be=u.fetchers.get(ge),H=be&&be.state!=="idle"&&be.data===void 0,re=Ti(V,C.path,L);if(!re){if(Z&&H)return;U.push({key:ge,routeId:C.routeId,path:C.path,matches:null,match:null,request:null,controller:null});return}if(B.has(ge))return;let fe=jo(re,C.path),Ae=new AbortController,I=dl(l,C.path,Ae.signal),te=null;if(b.has(ge))b.delete(ge),te=vl(n,i,I,re,fe,p,e);else if(H)A&&(te=vl(n,i,I,re,fe,p,e));else{let ue={...k,defaultShouldRevalidate:R?!1:A};Zc(fe,ue)&&(te=vl(n,i,I,re,fe,p,e,ue))}te&&U.push({key:ge,routeId:C.routeId,path:C.path,matches:te,match:fe,request:I,controller:Ae})}),{dsMatches:j,revalidatingFetchers:U}}function Kd(a,e,n){if(a.lazy)return!0;if(!a.loader)return!1;let i=e!=null&&a.id in e,l=n!=null&&n[a.id]!==void 0;return!i&&l?!1:typeof a.loader=="function"&&a.loader.hydrate===!0?!0:!i&&!l}function MA(a,e,n){let i=!e||n.route.id!==e.route.id,l=!a.hasOwnProperty(n.route.id);return i||l}function VA(a,e){let n=a.route.path;return a.pathname!==e.pathname||n!=null&&n.endsWith("*")&&a.params["*"]!==e.params["*"]}function Zc(a,e){if(a.route.shouldRevalidate){let n=a.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function $v(a,e,n,i,l){let u;if(a){let g=i[a];et(g,`No route found to patch children into: routeId = ${a}`),g.children||(g.children=[]),u=g.children}else u=n;let f=e.filter(g=>!u.some(p=>L0(g,p))),m=Kc(f,l,[a||"_","patch",String(u?.length||"0")],i);u.push(...m)}function L0(a,e){return"id"in a&&"id"in e&&a.id===e.id?!0:a.index===e.index&&a.path===e.path&&a.caseSensitive===e.caseSensitive?(!a.children||a.children.length===0)&&(!e.children||e.children.length===0)?!0:a.children.every((n,i)=>e.children?.some(l=>L0(n,l))):!1}var Qv=new WeakMap,P0=({key:a,route:e,manifest:n,mapRouteProperties:i})=>{let l=n[e.id];if(et(l,"No route found in manifest"),!l.lazy||typeof l.lazy!="object")return;let u=l.lazy[a];if(!u)return;let f=Qv.get(l);f||(f={},Qv.set(l,f));let m=f[a];if(m)return m;let g=(async()=>{let p=nA(a),A=l[a]!==void 0&&a!=="hasErrorBoundary";if(p)Ft(!p,"Route property "+a+" is not a supported lazy route property. This property will be ignored."),f[a]=Promise.resolve();else if(A)Ft(!1,`Route "${l.id}" has a static property "${a}" defined. The lazy property will be ignored.`);else{let b=await u();b!=null&&(Object.assign(l,{[a]:b}),Object.assign(l,i(l)))}typeof l.lazy=="object"&&(l.lazy[a]=void 0,Object.values(l.lazy).every(b=>b===void 0)&&(l.lazy=void 0))})();return f[a]=g,g},Yv=new WeakMap;function kA(a,e,n,i,l){let u=n[a.id];if(et(u,"No route found in manifest"),!a.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof a.lazy=="function"){let _=Yv.get(u);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let A=(async()=>{et(typeof a.lazy=="function","No lazy route function found");let b=await a.lazy(),D={};for(let N in b){let B=b[N];if(B===void 0)continue;let V=aA(N),Z=u[N]!==void 0&&N!=="hasErrorBoundary";V?Ft(!V,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Z?Ft(!Z,`Route "${u.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):D[N]=B}Object.assign(u,D),Object.assign(u,{...i(u),lazy:void 0})})();return Yv.set(u,A),A.catch(()=>{}),{lazyRoutePromise:A,lazyHandlerPromise:A}}let f=Object.keys(a.lazy),m=[],g;for(let _ of f){if(l&&l.includes(_))continue;let A=P0({key:_,route:a,manifest:n,mapRouteProperties:i});A&&(m.push(A),_===e&&(g=A))}let p=m.length>0?Promise.all(m).then(()=>{}):void 0;return p?.catch(()=>{}),g?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:g}}async function Kv(a){let e=a.matches.filter(l=>l.shouldLoad),n={};return(await Promise.all(e.map(l=>l.resolve()))).forEach((l,u)=>{n[e[u].route.id]=l}),n}async function LA(a){return a.matches.some(e=>e.route.unstable_middleware)?j0(a,!1,()=>Kv(a),(e,n)=>({[n]:{type:"error",result:e}})):Kv(a)}async function j0(a,e,n,i){let{matches:l,request:u,params:f,context:m}=a,g={handlerResult:void 0};try{let p=l.flatMap(A=>A.route.unstable_middleware?A.route.unstable_middleware.map(b=>[A.route.id,b]):[]),_=await U0({request:u,params:f,context:m},p,e,g,n);return e?_:g.handlerResult}catch(p){if(!g.middlewareError)throw p;let _=await i(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,_):_}}async function U0(a,e,n,i,l,u=0){let{request:f}=a;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let m=e[u];if(!m)return i.handlerResult=await l(),i.handlerResult;let[g,p]=m,_=!1,A,b=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0,await U0(a,e,n,i,l,u+1)};try{let D=await p({request:a.request,params:a.params,context:a.context},b);return _?D===void 0?A:D:b()}catch(D){throw i.middlewareError?i.middlewareError.error!==D&&(i.middlewareError={routeId:g,error:D}):i.middlewareError={routeId:g,error:D},D}}function z0(a,e,n,i,l){let u=P0({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:a}),f=kA(i.route,or(n.method)?"action":"loader",e,a,l);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Xd(a,e,n,i,l,u,f,m=null){let g=!1,p=z0(a,e,n,i,l);return{...i,_lazyPromises:p,shouldLoad:f,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(_){return g=!0,m?typeof _=="boolean"?Zc(i,{...m,defaultShouldRevalidate:_}):Zc(i,m):f},resolve(_){return g||f||_&&n.method==="GET"&&(i.route.lazy||i.route.loader)?jA({request:n,match:i,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:_,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function vl(a,e,n,i,l,u,f,m=null){return i.map(g=>g.route.id!==l.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:z0(a,e,n,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Xd(a,e,n,g,u,f,!0,m))}async function PA(a,e,n,i,l,u){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let f={request:e,params:n[0].params,context:l,matches:n},g=await a({...f,fetcherKey:i,unstable_runClientMiddleware:p=>{let _=f;return j0(_,!1,()=>p({..._,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(A,b)=>({[b]:{type:"error",result:A}}))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return g}async function jA({request:a,match:e,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:l,scopedContext:u}){let f,m,g=or(a.method),p=g?"action":"loader",_=A=>{let b,D=new Promise((V,L)=>b=L);m=()=>b(),a.signal.addEventListener("abort",m);let N=V=>typeof A!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):A({request:a,params:e.params,context:u},...V!==void 0?[V]:[]),B=(async()=>{try{return{type:"data",result:await(l?l(L=>N(L)):N())}}catch(V){return{type:"error",result:V}}})();return Promise.race([B,D])};try{let A=g?e.route.action:e.route.loader;if(n||i)if(A){let b,[D]=await Promise.all([_(A).catch(N=>{b=N}),n,i]);if(b!==void 0)throw b;f=D}else{await n;let b=g?e.route.action:e.route.loader;if(b)[f]=await Promise.all([_(b),i]);else if(p==="action"){let D=new URL(a.url),N=D.pathname+D.search;throw Rr(405,{method:a.method,pathname:N,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(A)f=await _(A);else{let b=new URL(a.url),D=b.pathname+b.search;throw Rr(404,{pathname:D})}}catch(A){return{type:"error",result:A}}finally{m&&a.signal.removeEventListener("abort",m)}return f}async function UA(a){let{result:e,type:n}=a;if(H0(e)){let i;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?i=null:i=await e.json():i=await e.text()}catch(l){return{type:"error",error:l}}return n==="error"?{type:"error",error:new Wc(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return n==="error"?n_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Wc(e.init?.status||500,void 0,e.data),statusCode:Xo(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Xo(e)?e.status:void 0}:n_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function zA(a,e,n,i,l){let u=a.headers.get("Location");if(et(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Sm.test(u)){let f=i.slice(0,i.findIndex(m=>m.route.id===n)+1);u=Yd(new URL(e.url),f,l,u),a.headers.set("Location",u)}return a}function Xv(a,e,n){if(Sm.test(a)){let i=a,l=i.startsWith("//")?new URL(e.protocol+i):new URL(i),u=Nr(l.pathname,n)!=null;if(l.origin===e.origin&&u)return l.pathname+l.search+l.hash}return a}function dl(a,e,n,i){let l=a.createURL(B0(e)).toString(),u={signal:n};if(i&&or(i.formMethod)){let{formMethod:f,formEncType:m}=i;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(i.json)):m==="text/plain"?u.body=i.text:m==="application/x-www-form-urlencoded"&&i.formData?u.body=Wd(i.formData):u.body=i.formData}return new Request(l,u)}function Wd(a){let e=new URLSearchParams;for(let[n,i]of a.entries())e.append(n,typeof i=="string"?i:i.name);return e}function Wv(a){let e=new FormData;for(let[n,i]of a.entries())e.append(n,i);return e}function BA(a,e,n,i=!1,l=!1){let u={},f=null,m,g=!1,p={},_=n&&lr(n[1])?n[1].error:void 0;return a.forEach(A=>{if(!(A.route.id in e))return;let b=A.route.id,D=e[b];if(et(!ms(D),"Cannot handle redirect results in processLoaderData"),lr(D)){let N=D.error;if(_!==void 0&&(N=_,_=void 0),f=f||{},l)f[b]=N;else{let B=ds(a,b);f[B.route.id]==null&&(f[B.route.id]=N)}i||(u[b]=k0),g||(g=!0,m=Xo(D.error)?D.error.status:500),D.headers&&(p[b]=D.headers)}else u[b]=D.data,D.statusCode&&D.statusCode!==200&&!g&&(m=D.statusCode),D.headers&&(p[b]=D.headers)}),_!==void 0&&n&&(f={[n[0]]:_},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:p}}function Zv(a,e,n,i,l,u){let{loaderData:f,errors:m}=BA(e,n,i);return l.filter(g=>!g.matches||g.matches.some(p=>p.shouldLoad)).forEach(g=>{let{key:p,match:_,controller:A}=g,b=u[p];if(et(b,"Did not find corresponding fetcher result"),!(A&&A.signal.aborted))if(lr(b)){let D=ds(a.matches,_?.route.id);m&&m[D.route.id]||(m={...m,[D.route.id]:b.error}),a.fetchers.delete(p)}else if(ms(b))et(!1,"Unhandled fetcher revalidation redirect");else{let D=Ei(b.data);a.fetchers.set(p,D)}}),{loaderData:f,errors:m}}function Jv(a,e,n,i){let l=Object.entries(e).filter(([,u])=>u!==k0).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&a.hasOwnProperty(f)&&u.route.loader&&(l[f]=a[f]),i&&i.hasOwnProperty(f))break}return l}function e_(a){return a?lr(a[1])?{actionData:{}}:{actionData:{[a[0]]:a[1].data}}:{}}function ds(a,e){return(e?a.slice(0,a.findIndex(i=>i.route.id===e)+1):[...a]).reverse().find(i=>i.route.hasErrorBoundary===!0)||a[0]}function t_(a){let e=a.length===1?a[0]:a.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Rr(a,{pathname:e,routeId:n,method:i,type:l,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return a===400?(f="Bad Request",i&&e&&n?m=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:l==="invalid-body"&&(m="Unable to encode submission body")):a===403?(f="Forbidden",m=`Route "${n}" does not match URL "${e}"`):a===404?(f="Not Found",m=`No route matches URL "${e}"`):a===405&&(f="Method Not Allowed",i&&e&&n?m=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(m=`Invalid request method "${i.toUpperCase()}"`)),new Wc(a||500,f,new Error(m),!0)}function Ic(a){let e=Object.entries(a);for(let n=e.length-1;n>=0;n--){let[i,l]=e[n];if(ms(l))return{key:i,result:l}}}function B0(a){let e=typeof a=="string"?Ga(a):a;return Ci({...e,hash:""})}function HA(a,e){return a.pathname!==e.pathname||a.search!==e.search?!1:a.hash===""?e.hash!=="":a.hash===e.hash?!0:e.hash!==""}function qA(a){return H0(a.result)&&RA.has(a.result.status)}function lr(a){return a.type==="error"}function ms(a){return(a&&a.type)==="redirect"}function n_(a){return typeof a=="object"&&a!=null&&"type"in a&&"data"in a&&"init"in a&&a.type==="DataWithResponseInit"}function H0(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.headers=="object"&&typeof a.body<"u"}function FA(a){return xA.has(a.toUpperCase())}function or(a){return SA.has(a.toUpperCase())}function wm(a){return new URLSearchParams(a).getAll("index").some(e=>e==="")}function jo(a,e){let n=typeof e=="string"?Ga(e).search:e.search;if(a[a.length-1].route.index&&wm(n||""))return a[a.length-1];let i=O0(a);return i[i.length-1]}function r_(a){let{formMethod:e,formAction:n,formEncType:i,text:l,formData:u,json:f}=a;if(!(!e||!n||!i)){if(l!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:l};if(u!=null)return{formMethod:e,formAction:n,formEncType:i,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:f,text:void 0}}}function Ld(a,e){return e?{state:"loading",location:a,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function GA(a,e){return{state:"submitting",location:a,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Vo(a,e){return a?{state:"loading",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $A(a,e){return{state:"submitting",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:e?e.data:void 0}}function Ei(a){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function QA(a,e){try{let n=a.sessionStorage.getItem(V0);if(n){let i=JSON.parse(n);for(let[l,u]of Object.entries(i||{}))u&&Array.isArray(u)&&e.set(l,new Set(u||[]))}}catch{}}function YA(a,e){if(e.size>0){let n={};for(let[i,l]of e)n[i]=[...l];try{a.sessionStorage.setItem(V0,JSON.stringify(n))}catch(i){Ft(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function KA(){let a,e,n=new Promise((i,l)=>{a=async u=>{i(u);try{await n}catch{}},e=async u=>{l(u);try{await n}catch{}}});return{promise:n,resolve:a,reject:e}}var Ts=F.createContext(null);Ts.displayName="DataRouter";var iu=F.createContext(null);iu.displayName="DataRouterState";var xm=F.createContext({isTransitioning:!1});xm.displayName="ViewTransition";var q0=F.createContext(new Map);q0.displayName="Fetchers";var XA=F.createContext(null);XA.displayName="Await";var pa=F.createContext(null);pa.displayName="Navigation";var mh=F.createContext(null);mh.displayName="Location";var $a=F.createContext({outlet:null,matches:[],isDataRoute:!1});$a.displayName="Route";var Rm=F.createContext(null);Rm.displayName="RouteError";function WA(a,{relative:e}={}){et(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=F.useContext(pa),{hash:l,pathname:u,search:f}=lu(a,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:oa([n,u])),i.createHref({pathname:m,search:f,hash:l})}function su(){return F.useContext(mh)!=null}function ji(){return et(su(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(mh).location}var F0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G0(a){F.useContext(pa).static||F.useLayoutEffect(a)}function Dm(){let{isDataRoute:a}=F.useContext($a);return a?cS():ZA()}function ZA(){et(su(),"useNavigate() may be used only in the context of a <Router> component.");let a=F.useContext(Ts),{basename:e,navigator:n}=F.useContext(pa),{matches:i}=F.useContext($a),{pathname:l}=ji(),u=JSON.stringify(bm(i)),f=F.useRef(!1);return G0(()=>{f.current=!0}),F.useCallback((g,p={})=>{if(Ft(f.current,F0),!f.current)return;if(typeof g=="number"){n.go(g);return}let _=Am(g,JSON.parse(u),l,p.relative==="path");a==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:oa([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,u,l,a])}F.createContext(null);function lu(a,{relative:e}={}){let{matches:n}=F.useContext($a),{pathname:i}=ji(),l=JSON.stringify(bm(n));return F.useMemo(()=>Am(a,JSON.parse(l),i,e==="path"),[a,l,i,e])}function JA(a,e,n,i){et(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=F.useContext(pa),{matches:u}=F.useContext($a),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",p=f?f.pathnameBase:"/",_=f&&f.route;{let L=_&&_.path||"";$0(g,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let A=ji(),b;b=A;let D=b.pathname||"/",N=D;if(p!=="/"){let L=p.replace(/^\//,"").split("/");N="/"+D.replace(/^\//,"").split("/").slice(L.length).join("/")}let B=Ti(a,{pathname:N});return Ft(_||B!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ft(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),aS(B&&B.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:oa([p,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:oa([p,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,n,i)}function eS(){let a=uS(),e=Xo(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:l},n):null,f)}var tS=F.createElement(eS,null),nS=class extends F.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?F.createElement($a.Provider,{value:this.props.routeContext},F.createElement(Rm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rS({routeContext:a,match:e,children:n}){let i=F.useContext(Ts);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement($a.Provider,{value:a},n)}function aS(a,e=[],n=null,i=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let l=a,u=n?.errors;if(u!=null){let g=l.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<l.length;g++){let p=l[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:_,errors:A}=n,b=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!A||A[p.route.id]===void 0);if(p.route.lazy||b){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,p,_)=>{let A,b=!1,D=null,N=null;n&&(A=u&&p.route.id?u[p.route.id]:void 0,D=p.route.errorElement||tS,f&&(m<0&&_===0?($0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):m===_&&(b=!0,N=p.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,_+1)),V=()=>{let L;return A?L=D:b?L=N:p.route.Component?L=F.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=g,F.createElement(rS,{match:p,routeContext:{outlet:g,matches:B,isDataRoute:n!=null},children:L})};return n&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?F.createElement(nS,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:V(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):V()},null)}function Cm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iS(a){let e=F.useContext(Ts);return et(e,Cm(a)),e}function sS(a){let e=F.useContext(iu);return et(e,Cm(a)),e}function lS(a){let e=F.useContext($a);return et(e,Cm(a)),e}function Nm(a){let e=lS(a),n=e.matches[e.matches.length-1];return et(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function oS(){return Nm("useRouteId")}function uS(){let a=F.useContext(Rm),e=sS("useRouteError"),n=Nm("useRouteError");return a!==void 0?a:e.errors?.[n]}function cS(){let{router:a}=iS("useNavigate"),e=Nm("useNavigate"),n=F.useRef(!1);return G0(()=>{n.current=!0}),F.useCallback(async(l,u={})=>{Ft(n.current,F0),n.current&&(typeof l=="number"?a.navigate(l):await a.navigate(l,{fromRouteId:e,...u}))},[a,e])}var a_={};function $0(a,e,n){!e&&!a_[a]&&(a_[a]=!0,Ft(!1,n))}var i_={};function s_(a,e){!a&&!i_[e]&&(i_[e]=!0,console.warn(e))}function hS(a){let e={hasErrorBoundary:a.hasErrorBoundary||a.ErrorBoundary!=null||a.errorElement!=null};return a.Component&&(a.element&&Ft(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(a.Component),Component:void 0})),a.HydrateFallback&&(a.hydrateFallbackElement&&Ft(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(a.HydrateFallback),HydrateFallback:void 0})),a.ErrorBoundary&&(a.errorElement&&Ft(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(a.ErrorBoundary),ErrorBoundary:void 0})),e}var fS=["HydrateFallback","hydrateFallbackElement"],dS=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function mS({router:a,flushSync:e}){let[n,i]=F.useState(a.state),[l,u]=F.useState(),[f,m]=F.useState({isTransitioning:!1}),[g,p]=F.useState(),[_,A]=F.useState(),[b,D]=F.useState(),N=F.useRef(new Map),B=F.useCallback((J,{deletedFetchers:de,flushSync:ye,viewTransitionOpts:q})=>{J.fetchers.forEach((x,R)=>{x.data!==void 0&&N.current.set(R,x.data)}),de.forEach(x=>N.current.delete(x)),s_(ye===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=a.window!=null&&a.window.document!=null&&typeof a.window.document.startViewTransition=="function";if(s_(q==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!q||!O){e&&ye?e(()=>i(J)):F.startTransition(()=>i(J));return}if(e&&ye){e(()=>{_&&(g&&g.resolve(),_.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:q.currentLocation,nextLocation:q.nextLocation})});let x=a.window.document.startViewTransition(()=>{e(()=>i(J))});x.finished.finally(()=>{e(()=>{p(void 0),A(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>A(x));return}_?(g&&g.resolve(),_.skipTransition(),D({state:J,currentLocation:q.currentLocation,nextLocation:q.nextLocation})):(u(J),m({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}))},[a.window,e,_,g]);F.useLayoutEffect(()=>a.subscribe(B),[a,B]),F.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new dS)},[f]),F.useEffect(()=>{if(g&&l&&a.window){let J=l,de=g.promise,ye=a.window.document.startViewTransition(async()=>{F.startTransition(()=>i(J)),await de});ye.finished.finally(()=>{p(void 0),A(void 0),u(void 0),m({isTransitioning:!1})}),A(ye)}},[l,g,a.window]),F.useEffect(()=>{g&&l&&n.location.key===l.location.key&&g.resolve()},[g,_,n.location,l]),F.useEffect(()=>{!f.isTransitioning&&b&&(u(b.state),m({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),D(void 0))},[f.isTransitioning,b]);let V=F.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:J=>a.navigate(J),push:(J,de,ye)=>a.navigate(J,{state:de,preventScrollReset:ye?.preventScrollReset}),replace:(J,de,ye)=>a.navigate(J,{replace:!0,state:de,preventScrollReset:ye?.preventScrollReset})}),[a]),L=a.basename||"/",Z=F.useMemo(()=>({router:a,navigator:V,static:!1,basename:L}),[a,V,L]);return F.createElement(F.Fragment,null,F.createElement(Ts.Provider,{value:Z},F.createElement(iu.Provider,{value:n},F.createElement(q0.Provider,{value:N.current},F.createElement(xm.Provider,{value:f},F.createElement(yS,{basename:L,location:n.location,navigationType:n.historyAction,navigator:V},F.createElement(gS,{routes:a.routes,future:a.future,state:n})))))),null)}var gS=F.memo(pS);function pS({routes:a,future:e,state:n}){return JA(a,void 0,n,e)}function yS({basename:a="/",children:e=null,location:n,navigationType:i="POP",navigator:l,static:u=!1}){et(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=Ga(n));let{pathname:g="/",search:p="",hash:_="",state:A=null,key:b="default"}=n,D=F.useMemo(()=>{let N=Nr(g,f);return N==null?null:{location:{pathname:N,search:p,hash:_,state:A,key:b},navigationType:i}},[f,g,p,_,A,b,i]);return Ft(D!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement(pa.Provider,{value:m},F.createElement(mh.Provider,{children:e,value:D}))}var Bc="get",Hc="application/x-www-form-urlencoded";function gh(a){return a!=null&&typeof a.tagName=="string"}function vS(a){return gh(a)&&a.tagName.toLowerCase()==="button"}function _S(a){return gh(a)&&a.tagName.toLowerCase()==="form"}function ES(a){return gh(a)&&a.tagName.toLowerCase()==="input"}function TS(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function bS(a,e){return a.button===0&&(!e||e==="_self")&&!TS(a)}var Oc=null;function AS(){if(Oc===null)try{new FormData(document.createElement("form"),0),Oc=!1}catch{Oc=!0}return Oc}var SS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pd(a){return a!=null&&!SS.has(a)?(Ft(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):a}function wS(a,e){let n,i,l,u,f;if(_S(a)){let m=a.getAttribute("action");i=m?Nr(m,e):null,n=a.getAttribute("method")||Bc,l=Pd(a.getAttribute("enctype"))||Hc,u=new FormData(a)}else if(vS(a)||ES(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||m.getAttribute("action");if(i=g?Nr(g,e):null,n=a.getAttribute("formmethod")||m.getAttribute("method")||Bc,l=Pd(a.getAttribute("formenctype"))||Pd(m.getAttribute("enctype"))||Hc,u=new FormData(m,a),!AS()){let{name:p,type:_,value:A}=a;if(_==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,A)}}else{if(gh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bc,i=null,l=Hc,f=a}return u&&l==="text/plain"&&(f=u,u=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:u,body:f}}function Im(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function xS(a,e){if(a.id in e)return e[a.id];try{let n=await import(a.module);return e[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RS(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function DS(a,e,n){let i=await Promise.all(a.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await xS(u,n);return f.links?f.links():[]}return[]}));return OS(i.flat(1).filter(RS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function l_(a,e,n,i,l,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let _=i.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function CS(a,e,{includeHydrateFallback:n}={}){return NS(a.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function NS(a){return[...new Set(a)]}function IS(a){let e={},n=Object.keys(a).sort();for(let i of n)e[i]=a[i];return e}function OS(a,e){let n=new Set;return new Set(e),a.reduce((i,l)=>{let u=JSON.stringify(IS(l));return n.has(u)||(n.add(u),i.push({key:u,link:l})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MS=new Set([100,101,204,205]);function VS(a,e){let n=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return n.pathname==="/"?n.pathname="_root.data":e&&Nr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Q0(){let a=F.useContext(Ts);return Im(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function kS(){let a=F.useContext(iu);return Im(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Om=F.createContext(void 0);Om.displayName="FrameworkContext";function Y0(){let a=F.useContext(Om);return Im(a,"You must render this element inside a <HydratedRouter> element"),a}function LS(a,e){let n=F.useContext(Om),[i,l]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:_,onTouchStart:A}=e,b=F.useRef(null);F.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let B=L=>{L.forEach(Z=>{f(Z.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return b.current&&V.observe(b.current),()=>{V.disconnect()}}},[a]),F.useEffect(()=>{if(i){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[i]);let D=()=>{l(!0)},N=()=>{l(!1),f(!1)};return n?a!=="intent"?[u,b,{}]:[u,b,{onFocus:ko(m,D),onBlur:ko(g,N),onMouseEnter:ko(p,D),onMouseLeave:ko(_,N),onTouchStart:ko(A,D)}]:[!1,b,{}]}function ko(a,e){return n=>{a&&a(n),n.defaultPrevented||e(n)}}function PS({page:a,...e}){let{router:n}=Q0(),i=F.useMemo(()=>Ti(n.routes,a,n.basename),[n.routes,a,n.basename]);return i?F.createElement(US,{page:a,matches:i,...e}):null}function jS(a){let{manifest:e,routeModules:n}=Y0(),[i,l]=F.useState([]);return F.useEffect(()=>{let u=!1;return DS(a,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[a,e,n]),i}function US({page:a,matches:e,...n}){let i=ji(),{manifest:l,routeModules:u}=Y0(),{basename:f}=Q0(),{loaderData:m,matches:g}=kS(),p=F.useMemo(()=>l_(a,e,g,l,i,"data"),[a,e,g,l,i]),_=F.useMemo(()=>l_(a,e,g,l,i,"assets"),[a,e,g,l,i]),A=F.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let N=new Set,B=!1;if(e.forEach(L=>{let Z=l.routes[L.route.id];!Z||!Z.hasLoader||(!p.some(J=>J.route.id===L.route.id)&&L.route.id in m&&u[L.route.id]?.shouldRevalidate||Z.hasClientLoader?B=!0:N.add(L.route.id))}),N.size===0)return[];let V=VS(a,f);return B&&N.size>0&&V.searchParams.set("_routes",e.filter(L=>N.has(L.route.id)).map(L=>L.route.id).join(",")),[V.pathname+V.search]},[f,m,i,l,p,e,a,u]),b=F.useMemo(()=>CS(_,l),[_,l]),D=jS(_);return F.createElement(F.Fragment,null,A.map(N=>F.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),b.map(N=>F.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),D.map(({key:N,link:B})=>F.createElement("link",{key:N,...B})))}function zS(...a){return e=>{a.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var K0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K0&&(window.__reactRouterVersion="7.6.3")}catch{}function BS(a,e){return IA({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:Z1({window:e?.window}),hydrationData:HS(),routes:a,mapRouteProperties:hS,hydrationRouteProperties:fS,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function HS(){let a=window?.__staticRouterHydrationData;return a&&a.errors&&(a={...a,errors:qS(a.errors)}),a}function qS(a){if(!a)return null;let e=Object.entries(a),n={};for(let[i,l]of e)if(l&&l.__type==="RouteErrorResponse")n[i]=new Wc(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let u=window[l.__subType];if(typeof u=="function")try{let f=new u(l.message);f.stack="",n[i]=f}catch{}}if(n[i]==null){let u=new Error(l.message);u.stack="",n[i]=u}}else n[i]=l;return n}var X0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W0=F.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:l,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:_,viewTransition:A,...b},D){let{basename:N}=F.useContext(pa),B=typeof p=="string"&&X0.test(p),V,L=!1;if(typeof p=="string"&&B&&(V=p,K0))try{let R=new URL(window.location.href),k=p.startsWith("//")?new URL(R.protocol+p):new URL(p),j=Nr(k.pathname,N);k.origin===R.origin&&j!=null?p=j+k.search+k.hash:L=!0}catch{Ft(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=WA(p,{relative:l}),[J,de,ye]=LS(i,b),q=QS(p,{replace:f,state:m,target:g,preventScrollReset:_,relative:l,viewTransition:A});function O(R){e&&e(R),R.defaultPrevented||q(R)}let x=F.createElement("a",{...b,...ye,href:V||Z,onClick:L||u?e:O,ref:zS(D,de),target:g,"data-discover":!B&&n==="render"?"true":void 0});return J&&!B?F.createElement(F.Fragment,null,x,F.createElement(PS,{page:Z})):x});W0.displayName="Link";var FS=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:l=!1,style:u,to:f,viewTransition:m,children:g,...p},_){let A=lu(f,{relative:p.relative}),b=ji(),D=F.useContext(iu),{navigator:N,basename:B}=F.useContext(pa),V=D!=null&&ZS(A)&&m===!0,L=N.encodeLocation?N.encodeLocation(A).pathname:A.pathname,Z=b.pathname,J=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),J=J?J.toLowerCase():null,L=L.toLowerCase()),J&&B&&(J=Nr(J,B)||J);const de=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ye=Z===L||!l&&Z.startsWith(L)&&Z.charAt(de)==="/",q=J!=null&&(J===L||!l&&J.startsWith(L)&&J.charAt(L.length)==="/"),O={isActive:ye,isPending:q,isTransitioning:V},x=ye?e:void 0,R;typeof i=="function"?R=i(O):R=[i,ye?"active":null,q?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(O):u;return F.createElement(W0,{...p,"aria-current":x,className:R,ref:_,style:k,to:f,viewTransition:m},typeof g=="function"?g(O):g)});FS.displayName="NavLink";var GS=F.forwardRef(({discover:a="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:l,state:u,method:f=Bc,action:m,onSubmit:g,relative:p,preventScrollReset:_,viewTransition:A,...b},D)=>{let N=XS(),B=WS(m,{relative:p}),V=f.toLowerCase()==="get"?"get":"post",L=typeof m=="string"&&X0.test(m),Z=J=>{if(g&&g(J),J.defaultPrevented)return;J.preventDefault();let de=J.nativeEvent.submitter,ye=de?.getAttribute("formmethod")||f;N(de||J.currentTarget,{fetcherKey:e,method:ye,navigate:n,replace:l,state:u,relative:p,preventScrollReset:_,viewTransition:A})};return F.createElement("form",{ref:D,method:V,action:B,onSubmit:i?g:Z,...b,"data-discover":!L&&a==="render"?"true":void 0})});GS.displayName="Form";function $S(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z0(a){let e=F.useContext(Ts);return et(e,$S(a)),e}function QS(a,{target:e,replace:n,state:i,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=Dm(),g=ji(),p=lu(a,{relative:u});return F.useCallback(_=>{if(bS(_,e)){_.preventDefault();let A=n!==void 0?n:Ci(g)===Ci(p);m(a,{replace:A,state:i,preventScrollReset:l,relative:u,viewTransition:f})}},[g,m,p,n,i,e,a,l,u,f])}var YS=0,KS=()=>`__${String(++YS)}__`;function XS(){let{router:a}=Z0("useSubmit"),{basename:e}=F.useContext(pa),n=oS();return F.useCallback(async(i,l={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=wS(i,e);if(l.navigate===!1){let _=l.fetcherKey||KS();await a.fetch(_,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:p,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await a.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:p,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[a,e,n])}function WS(a,{relative:e}={}){let{basename:n}=F.useContext(pa),i=F.useContext($a);et(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...lu(a||".",{relative:e})},f=ji();if(a==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let _=m.toString();u.search=_?`?${_}`:""}}return(!a||a===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:oa([n,u.pathname])),Ci(u)}function ZS(a,e={}){let n=F.useContext(xm);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Z0("useViewTransitionState"),l=lu(a,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Nr(n.currentLocation.pathname,i)||n.currentLocation.pathname,f=Nr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Xc(l.pathname,f)!=null||Xc(l.pathname,u)!=null}[...MS];var JS=R0();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ew(a){return F.createElement(mS,{flushSync:JS.flushSync,...a})}const tw=()=>T.jsxs("main",{children:[T.jsxs("div",{className:"home-topnav",style:{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[T.jsx("div",{className:"home-league-name-section",style:{marginLeft:32},children:T.jsx("h1",{className:"home-logo",children:"Saint Mark Leagues"})}),T.jsxs("div",{className:"home-tabs desktop-tabs",style:{display:"flex",flexDirection:"row",gap:"20px",color:"black",fontWeight:"bold",cursor:"pointer",marginRight:"50px",marginTop:"10px"},children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",style:{color:"black",textDecoration:"none"},children:T.jsx("div",{className:"home-tab",children:"Dashboard"})}),T.jsx("div",{className:"home-tab",children:"2025"}),T.jsx("div",{className:"home-tab",children:"History"})]})]}),T.jsxs("div",{className:"home-tabs mobile-tabs",style:{display:"none",flexDirection:"row",gap:"20px",color:"black",fontWeight:"bold",cursor:"pointer",margin:"10px auto",justifyContent:"center",width:"100%"},children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",style:{color:"black",textDecoration:"none"},children:T.jsx("div",{className:"home-tab",children:"Dashboard"})}),T.jsx("div",{className:"home-tab",children:"2025"}),T.jsx("div",{className:"home-tab",children:"History"})]}),T.jsx("div",{className:"home-section1",children:T.jsxs("div",{className:"home-section1-left",children:[T.jsxs("h1",{className:"home-welcome",style:{color:"white",textAlign:"center",marginRight:"60px"},children:["Yalla Nel3ab ",T.jsx("br",{})," ",T.jsxs("span",{style:{display:"inline-block",width:"100%",textAlign:"center"},children:["K",T.jsx("span",{className:"home-span-not-mobile",children:"OOOOO"}),"ORA!!"]})]}),T.jsx("p",{children:"Welcome to Saint Mark Leagues, your hub for football excitement! Explore the latest league, check out the history, and get ready for the 2025 Summer season."}),T.jsx("button",{className:"home-button",children:"Yalla Nel3ab"})]})})]}),nw=()=>{};var o_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=function(a){const e=[];let n=0;for(let i=0;i<a.length;i++){let l=a.charCodeAt(i);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++i)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},rw=function(a){const e=[];let n=0,i=0;for(;n<a.length;){const l=a[n++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[n++];e[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[n++],f=a[n++],m=a[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=a[n++],f=a[n++];e[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},eE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<a.length;l+=3){const u=a[l],f=l+1<a.length,m=f?a[l+1]:0,g=l+2<a.length,p=g?a[l+2]:0,_=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,D=p&63;g||(D=64,f||(b=64)),i.push(n[_],n[A],n[b],n[D])}return i.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(J0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):rw(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<a.length;){const u=n[a.charAt(l++)],m=l<a.length?n[a.charAt(l)]:0;++l;const p=l<a.length?n[a.charAt(l)]:64;++l;const A=l<a.length?n[a.charAt(l)]:64;if(++l,u==null||m==null||p==null||A==null)throw new aw;const b=u<<2|m>>4;if(i.push(b),p!==64){const D=m<<4&240|p>>2;if(i.push(D),A!==64){const N=p<<6&192|A;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iw=function(a){const e=J0(a);return eE.encodeByteArray(e,!0)},Jc=function(a){return iw(a).replace(/\./g,"")},sw=function(a){try{return eE.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=()=>lw().__FIREBASE_DEFAULTS__,uw=()=>{if(typeof process>"u"||typeof o_>"u")return;const a=o_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},cw=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&sw(a[1]);return e&&JSON.parse(e)},Mm=()=>{try{return nw()||ow()||uw()||cw()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},hw=a=>{var e,n;return(n=(e=Mm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[a]},tE=a=>{const e=hw(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},nE=()=>{var a;return(a=Mm())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Jc(JSON.stringify(n)),Jc(JSON.stringify(f)),""].join(".")}const qo={};function dw(){const a={prod:[],emulator:[]};for(const e of Object.keys(qo))qo[e]?a.emulator.push(e):a.prod.push(e);return a}function mw(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let u_=!1;function iE(a,e){if(typeof window>"u"||typeof document>"u"||!ou(window.location.host)||qo[a]===e||qo[a]||u_)return;qo[a]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",u=dw().prod.length>0;function f(){const b=document.getElementById(i);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{u_=!0,f()},b}function _(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=mw(i),D=n("text"),N=document.getElementById(D)||document.createElement("span"),B=n("learnmore"),V=document.getElementById(B)||document.createElement("a"),L=n("preprendIcon"),Z=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const J=b.element;m(J),_(V,B);const de=p();g(Z,L),J.append(Z,N,V,de),document.body.appendChild(J)}u?(N.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pw(){var a;const e=(a=Mm())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yw(){return!pw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vw(){try{return typeof indexedDB=="object"}catch{return!1}}function _w(){return new Promise((a,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),a(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="FirebaseError";class bs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Ew,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sE.prototype.create)}}class sE{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?Tw(u,i):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new bs(l,m,i)}}function Tw(a,e){return a.replace(bw,(n,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const bw=/\{\$([^}]+)}/g;function eh(a,e){if(a===e)return!0;const n=Object.keys(a),i=Object.keys(e);for(const l of n){if(!i.includes(l))return!1;const u=a[l],f=e[l];if(c_(u)&&c_(f)){if(!eh(u,f))return!1}else if(u!==f)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function c_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(a){return a&&a._delegate?a._delegate:a}class Tl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new fw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),l=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ww(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&f.resolve(l)}return l}onInit(e,n){var i;const l=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Sw(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sw(a){return a===fs?void 0:a}function ww(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Aw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(lt||(lt={}));const Rw={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},Dw=lt.INFO,Cw={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},Nw=(a,e,...n)=>{if(e<a.logLevel)return;const i=new Date().toISOString(),l=Cw[e];if(l)console[l](`[${i}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lE{constructor(e){this.name=e,this._logLevel=Dw,this._logHandler=Nw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const Iw=(a,e)=>e.some(n=>a instanceof n);let h_,f_;function Ow(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mw(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,Zd=new WeakMap,uE=new WeakMap,jd=new WeakMap,Vm=new WeakMap;function Vw(a){const e=new Promise((n,i)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{n(Si(a.result)),l()},f=()=>{i(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&oE.set(n,a)}).catch(()=>{}),Vm.set(e,a),e}function kw(a){if(Zd.has(a))return;const e=new Promise((n,i)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{i(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Zd.set(a,e)}let Jd={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return Zd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||uE.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Lw(a){Jd=a(Jd)}function Pw(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=a.call(Ud(this),e,...n);return uE.set(i,e.sort?e.sort():[e]),Si(i)}:Mw().includes(a)?function(...e){return a.apply(Ud(this),e),Si(oE.get(this))}:function(...e){return Si(a.apply(Ud(this),e))}}function jw(a){return typeof a=="function"?Pw(a):(a instanceof IDBTransaction&&kw(a),Iw(a,Ow())?new Proxy(a,Jd):a)}function Si(a){if(a instanceof IDBRequest)return Vw(a);if(jd.has(a))return jd.get(a);const e=jw(a);return e!==a&&(jd.set(a,e),Vm.set(e,a)),e}const Ud=a=>Vm.get(a);function Uw(a,e,{blocked:n,upgrade:i,blocking:l,terminated:u}={}){const f=indexedDB.open(a,e),m=Si(f);return i&&f.addEventListener("upgradeneeded",g=>{i(Si(f.result),g.oldVersion,g.newVersion,Si(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const zw=["get","getKey","getAll","getAllKeys","count"],Bw=["put","add","delete","clear"],zd=new Map;function d_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,l=Bw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||zw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,l?"readwrite":"readonly");let p=g.store;return i&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),l&&g.done]))[0]};return zd.set(e,u),u}Lw(a=>({...a,get:(e,n,i)=>d_(e,n)||a.get(e,n,i),has:(e,n)=>!!d_(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qw(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function qw(a){const e=a.getComponent();return e?.type==="VERSION"}const em="@firebase/app",m_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new lE("@firebase/app"),Fw="@firebase/app-compat",Gw="@firebase/analytics-compat",$w="@firebase/analytics",Qw="@firebase/app-check-compat",Yw="@firebase/app-check",Kw="@firebase/auth",Xw="@firebase/auth-compat",Ww="@firebase/database",Zw="@firebase/data-connect",Jw="@firebase/database-compat",ex="@firebase/functions",tx="@firebase/functions-compat",nx="@firebase/installations",rx="@firebase/installations-compat",ax="@firebase/messaging",ix="@firebase/messaging-compat",sx="@firebase/performance",lx="@firebase/performance-compat",ox="@firebase/remote-config",ux="@firebase/remote-config-compat",cx="@firebase/storage",hx="@firebase/storage-compat",fx="@firebase/firestore",dx="@firebase/ai",mx="@firebase/firestore-compat",gx="firebase",px="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="[DEFAULT]",yx={[em]:"fire-core",[Fw]:"fire-core-compat",[$w]:"fire-analytics",[Gw]:"fire-analytics-compat",[Yw]:"fire-app-check",[Qw]:"fire-app-check-compat",[Kw]:"fire-auth",[Xw]:"fire-auth-compat",[Ww]:"fire-rtdb",[Zw]:"fire-data-connect",[Jw]:"fire-rtdb-compat",[ex]:"fire-fn",[tx]:"fire-fn-compat",[nx]:"fire-iid",[rx]:"fire-iid-compat",[ax]:"fire-fcm",[ix]:"fire-fcm-compat",[sx]:"fire-perf",[lx]:"fire-perf-compat",[ox]:"fire-rc",[ux]:"fire-rc-compat",[cx]:"fire-gcs",[hx]:"fire-gcs-compat",[fx]:"fire-fst",[mx]:"fire-fst-compat",[dx]:"fire-vertex","fire-js":"fire-js",[gx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,vx=new Map,nm=new Map;function g_(a,e){try{a.container.addComponent(e)}catch(n){Ha.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function Wo(a){const e=a.name;if(nm.has(e))return Ha.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,a);for(const n of th.values())g_(n,a);for(const n of vx.values())g_(n,a);return!0}function cE(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function hE(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new sE("app","Firebase",_x);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=px;function dE(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const i=Object.assign({name:tm,automaticDataCollectionEnabled:!0},e),l=i.name;if(typeof l!="string"||!l)throw wi.create("bad-app-name",{appName:String(l)});if(n||(n=nE()),!n)throw wi.create("no-options");const u=th.get(l);if(u){if(eh(n,u.options)&&eh(i,u.config))return u;throw wi.create("duplicate-app",{appName:l})}const f=new xw(l);for(const g of nm.values())f.addComponent(g);const m=new Ex(n,i,f);return th.set(l,m),m}function mE(a=tm){const e=th.get(a);if(!e&&a===tm&&nE())return dE();if(!e)throw wi.create("no-app",{appName:a});return e}function xi(a,e,n){var i;let l=(i=yx[a])!==null&&i!==void 0?i:a;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${e}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ha.warn(m.join(" "));return}Wo(new Tl(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="firebase-heartbeat-database",bx=1,Zo="firebase-heartbeat-store";let Bd=null;function gE(){return Bd||(Bd=Uw(Tx,bx,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(a=>{throw wi.create("idb-open",{originalErrorMessage:a.message})})),Bd}async function Ax(a){try{const n=(await gE()).transaction(Zo),i=await n.objectStore(Zo).get(pE(a));return await n.done,i}catch(e){if(e instanceof bs)Ha.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e?.message});Ha.warn(n.message)}}}async function p_(a,e){try{const i=(await gE()).transaction(Zo,"readwrite");await i.objectStore(Zo).put(e,pE(a)),await i.done}catch(n){if(n instanceof bs)Ha.warn(n.message);else{const i=wi.create("idb-set",{originalErrorMessage:n?.message});Ha.warn(i.message)}}}function pE(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=1024,wx=30;class xx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=y_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>wx){const f=Cx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ha.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y_(),{heartbeatsToSend:i,unsentEntries:l}=Rx(this._heartbeatsCache.heartbeats),u=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ha.warn(n),""}}}function y_(){return new Date().toISOString().substring(0,10)}function Rx(a,e=Sx){const n=[];let i=a.slice();for(const l of a){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),v_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),v_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vw()?_w().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ax(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return p_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return p_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function v_(a){return Jc(JSON.stringify({version:2,heartbeats:a})).length}function Cx(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let i=1;i<a.length;i++)a[i].date<n&&(n=a[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(a){Wo(new Tl("platform-logger",e=>new Hw(e),"PRIVATE")),Wo(new Tl("heartbeat",e=>new xx(e),"PRIVATE")),xi(em,m_,a),xi(em,m_,"esm2017"),xi("fire-js","")}Nx("");var Ix="firebase",Ox="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(Ix,Ox,"app");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ri,yE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function R(){}R.prototype=x.prototype,O.D=x.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(k,j,U){for(var C=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)C[ge-2]=arguments[ge];return x.prototype[j].apply(k,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,x,R){R||(R=0);var k=Array(16);if(typeof x=="string")for(var j=0;16>j;++j)k[j]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(j=0;16>j;++j)k[j]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=O.g[0],R=O.g[1],j=O.g[2];var U=O.g[3],C=x+(U^R&(j^U))+k[0]+3614090360&4294967295;x=R+(C<<7&4294967295|C>>>25),C=U+(j^x&(R^j))+k[1]+3905402710&4294967295,U=x+(C<<12&4294967295|C>>>20),C=j+(R^U&(x^R))+k[2]+606105819&4294967295,j=U+(C<<17&4294967295|C>>>15),C=R+(x^j&(U^x))+k[3]+3250441966&4294967295,R=j+(C<<22&4294967295|C>>>10),C=x+(U^R&(j^U))+k[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=U+(j^x&(R^j))+k[5]+1200080426&4294967295,U=x+(C<<12&4294967295|C>>>20),C=j+(R^U&(x^R))+k[6]+2821735955&4294967295,j=U+(C<<17&4294967295|C>>>15),C=R+(x^j&(U^x))+k[7]+4249261313&4294967295,R=j+(C<<22&4294967295|C>>>10),C=x+(U^R&(j^U))+k[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=U+(j^x&(R^j))+k[9]+2336552879&4294967295,U=x+(C<<12&4294967295|C>>>20),C=j+(R^U&(x^R))+k[10]+4294925233&4294967295,j=U+(C<<17&4294967295|C>>>15),C=R+(x^j&(U^x))+k[11]+2304563134&4294967295,R=j+(C<<22&4294967295|C>>>10),C=x+(U^R&(j^U))+k[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=U+(j^x&(R^j))+k[13]+4254626195&4294967295,U=x+(C<<12&4294967295|C>>>20),C=j+(R^U&(x^R))+k[14]+2792965006&4294967295,j=U+(C<<17&4294967295|C>>>15),C=R+(x^j&(U^x))+k[15]+1236535329&4294967295,R=j+(C<<22&4294967295|C>>>10),C=x+(j^U&(R^j))+k[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^j&(x^R))+k[6]+3225465664&4294967295,U=x+(C<<9&4294967295|C>>>23),C=j+(x^R&(U^x))+k[11]+643717713&4294967295,j=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(j^U))+k[0]+3921069994&4294967295,R=j+(C<<20&4294967295|C>>>12),C=x+(j^U&(R^j))+k[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^j&(x^R))+k[10]+38016083&4294967295,U=x+(C<<9&4294967295|C>>>23),C=j+(x^R&(U^x))+k[15]+3634488961&4294967295,j=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(j^U))+k[4]+3889429448&4294967295,R=j+(C<<20&4294967295|C>>>12),C=x+(j^U&(R^j))+k[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^j&(x^R))+k[14]+3275163606&4294967295,U=x+(C<<9&4294967295|C>>>23),C=j+(x^R&(U^x))+k[3]+4107603335&4294967295,j=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(j^U))+k[8]+1163531501&4294967295,R=j+(C<<20&4294967295|C>>>12),C=x+(j^U&(R^j))+k[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=U+(R^j&(x^R))+k[2]+4243563512&4294967295,U=x+(C<<9&4294967295|C>>>23),C=j+(x^R&(U^x))+k[7]+1735328473&4294967295,j=U+(C<<14&4294967295|C>>>18),C=R+(U^x&(j^U))+k[12]+2368359562&4294967295,R=j+(C<<20&4294967295|C>>>12),C=x+(R^j^U)+k[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^j)+k[8]+2272392833&4294967295,U=x+(C<<11&4294967295|C>>>21),C=j+(U^x^R)+k[11]+1839030562&4294967295,j=U+(C<<16&4294967295|C>>>16),C=R+(j^U^x)+k[14]+4259657740&4294967295,R=j+(C<<23&4294967295|C>>>9),C=x+(R^j^U)+k[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^j)+k[4]+1272893353&4294967295,U=x+(C<<11&4294967295|C>>>21),C=j+(U^x^R)+k[7]+4139469664&4294967295,j=U+(C<<16&4294967295|C>>>16),C=R+(j^U^x)+k[10]+3200236656&4294967295,R=j+(C<<23&4294967295|C>>>9),C=x+(R^j^U)+k[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^j)+k[0]+3936430074&4294967295,U=x+(C<<11&4294967295|C>>>21),C=j+(U^x^R)+k[3]+3572445317&4294967295,j=U+(C<<16&4294967295|C>>>16),C=R+(j^U^x)+k[6]+76029189&4294967295,R=j+(C<<23&4294967295|C>>>9),C=x+(R^j^U)+k[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=U+(x^R^j)+k[12]+3873151461&4294967295,U=x+(C<<11&4294967295|C>>>21),C=j+(U^x^R)+k[15]+530742520&4294967295,j=U+(C<<16&4294967295|C>>>16),C=R+(j^U^x)+k[2]+3299628645&4294967295,R=j+(C<<23&4294967295|C>>>9),C=x+(j^(R|~U))+k[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~j))+k[7]+1126891415&4294967295,U=x+(C<<10&4294967295|C>>>22),C=j+(x^(U|~R))+k[14]+2878612391&4294967295,j=U+(C<<15&4294967295|C>>>17),C=R+(U^(j|~x))+k[5]+4237533241&4294967295,R=j+(C<<21&4294967295|C>>>11),C=x+(j^(R|~U))+k[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~j))+k[3]+2399980690&4294967295,U=x+(C<<10&4294967295|C>>>22),C=j+(x^(U|~R))+k[10]+4293915773&4294967295,j=U+(C<<15&4294967295|C>>>17),C=R+(U^(j|~x))+k[1]+2240044497&4294967295,R=j+(C<<21&4294967295|C>>>11),C=x+(j^(R|~U))+k[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~j))+k[15]+4264355552&4294967295,U=x+(C<<10&4294967295|C>>>22),C=j+(x^(U|~R))+k[6]+2734768916&4294967295,j=U+(C<<15&4294967295|C>>>17),C=R+(U^(j|~x))+k[13]+1309151649&4294967295,R=j+(C<<21&4294967295|C>>>11),C=x+(j^(R|~U))+k[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=U+(R^(x|~j))+k[11]+3174756917&4294967295,U=x+(C<<10&4294967295|C>>>22),C=j+(x^(U|~R))+k[2]+718787259&4294967295,j=U+(C<<15&4294967295|C>>>17),C=R+(U^(j|~x))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(j+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+j&4294967295,O.g[3]=O.g[3]+U&4294967295}i.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var R=x-this.blockSize,k=this.B,j=this.h,U=0;U<x;){if(j==0)for(;U<=R;)l(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<x;)if(k[j++]=O.charCodeAt(U++),j==this.blockSize){l(this,k),j=0;break}}else for(;U<x;)if(k[j++]=O[U++],j==this.blockSize){l(this,k),j=0;break}}this.h=j,this.o+=x},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var R=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=R&255,R/=256;for(this.u(O),O=Array(16),x=R=0;4>x;++x)for(var k=0;32>k;k+=8)O[R++]=this.g[x]>>>k&255;return O};function u(O,x){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=x(O)}function f(O,x){this.h=x;for(var R=[],k=!0,j=O.length-1;0<=j;j--){var U=O[j]|0;k&&U==x||(R[j]=U,k=!1)}this.g=R}var m={};function g(O){return-128<=O&&128>O?u(O,function(x){return new f([x|0],0>x?-1:0)}):new f([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return V(p(-O));for(var x=[],R=1,k=0;O>=R;k++)x[k]=O/R|0,R*=4294967296;return new f(x,0)}function _(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return V(_(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(x,8)),k=A,j=0;j<O.length;j+=8){var U=Math.min(8,O.length-j),C=parseInt(O.substring(j,j+U),x);8>U?(U=p(Math.pow(x,U)),k=k.j(U).add(p(C))):(k=k.j(R),k=k.add(p(C)))}return k}var A=g(0),b=g(1),D=g(16777216);a=f.prototype,a.m=function(){if(B(this))return-V(this).m();for(var O=0,x=1,R=0;R<this.g.length;R++){var k=this.i(R);O+=(0<=k?k:4294967296+k)*x,x*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(N(this))return"0";if(B(this))return"-"+V(this).toString(O);for(var x=p(Math.pow(O,6)),R=this,k="";;){var j=de(R,x).g;R=L(R,j.j(x));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=j,N(R))return U+k;for(;6>U.length;)U="0"+U;k=U+k}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function N(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function B(O){return O.h==-1}a.l=function(O){return O=L(this,O),B(O)?-1:N(O)?0:1};function V(O){for(var x=O.g.length,R=[],k=0;k<x;k++)R[k]=~O.g[k];return new f(R,~O.h).add(b)}a.abs=function(){return B(this)?V(this):this},a.add=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],k=0,j=0;j<=x;j++){var U=k+(this.i(j)&65535)+(O.i(j)&65535),C=(U>>>16)+(this.i(j)>>>16)+(O.i(j)>>>16);k=C>>>16,U&=65535,C&=65535,R[j]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function L(O,x){return O.add(V(x))}a.j=function(O){if(N(this)||N(O))return A;if(B(this))return B(O)?V(this).j(V(O)):V(V(this).j(O));if(B(O))return V(this.j(V(O)));if(0>this.l(D)&&0>O.l(D))return p(this.m()*O.m());for(var x=this.g.length+O.g.length,R=[],k=0;k<2*x;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var j=0;j<O.g.length;j++){var U=this.i(k)>>>16,C=this.i(k)&65535,ge=O.i(j)>>>16,be=O.i(j)&65535;R[2*k+2*j]+=C*be,Z(R,2*k+2*j),R[2*k+2*j+1]+=U*be,Z(R,2*k+2*j+1),R[2*k+2*j+1]+=C*ge,Z(R,2*k+2*j+1),R[2*k+2*j+2]+=U*ge,Z(R,2*k+2*j+2)}for(k=0;k<x;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=x;k<2*x;k++)R[k]=0;return new f(R,0)};function Z(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function J(O,x){this.g=O,this.h=x}function de(O,x){if(N(x))throw Error("division by zero");if(N(O))return new J(A,A);if(B(O))return x=de(V(O),x),new J(V(x.g),V(x.h));if(B(x))return x=de(O,V(x)),new J(V(x.g),x.h);if(30<O.g.length){if(B(O)||B(x))throw Error("slowDivide_ only works with positive integers.");for(var R=b,k=x;0>=k.l(O);)R=ye(R),k=ye(k);var j=q(R,1),U=q(k,1);for(k=q(k,2),R=q(R,2);!N(k);){var C=U.add(k);0>=C.l(O)&&(j=j.add(R),U=C),k=q(k,1),R=q(R,1)}return x=L(O,j.j(x)),new J(j,x)}for(j=A;0<=O.l(x);){for(R=Math.max(1,Math.floor(O.m()/x.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),U=p(R),C=U.j(x);B(C)||0<C.l(O);)R-=k,U=p(R),C=U.j(x);N(U)&&(U=b),j=j.add(U),O=L(O,C)}return new J(j,O)}a.A=function(O){return de(this,O).h},a.and=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],k=0;k<x;k++)R[k]=this.i(k)&O.i(k);return new f(R,this.h&O.h)},a.or=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],k=0;k<x;k++)R[k]=this.i(k)|O.i(k);return new f(R,this.h|O.h)},a.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],k=0;k<x;k++)R[k]=this.i(k)^O.i(k);return new f(R,this.h^O.h)};function ye(O){for(var x=O.g.length+1,R=[],k=0;k<x;k++)R[k]=O.i(k)<<1|O.i(k-1)>>>31;return new f(R,O.h)}function q(O,x){var R=x>>5;x%=32;for(var k=O.g.length-R,j=[],U=0;U<k;U++)j[U]=0<x?O.i(U+R)>>>x|O.i(U+R+1)<<32-x:O.i(U+R);return new f(j,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,yE=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=_,Ri=f}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vE,Uo,_E,qc,rm,EE,TE,bE;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function l(c,y){if(y)e:{var v=i;c=c.split(".");for(var w=0;w<c.length-1;w++){var Q=c[w];if(!(Q in v))break e;v=v[Q]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,Q={next:function(){if(!w&&v<c.length){var ne=v++;return{value:y(ne,c[ne]),done:!1}}return w=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}l("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function A(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,w),c.apply(y,Q)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,b.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function N(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,Q,ne){for(var ve=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ve[rt-2]=arguments[rt];return y.prototype[Q].apply(w,ve)}}function B(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function V(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(g(w)){const Q=c.length||0,ne=w.length||0;c.length=Q+ne;for(let ve=0;ve<ne;ve++)c[Q+ve]=w[ve]}else c.push(w)}}class L{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var ye=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function q(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let v,w;for(let Q=1;Q<arguments.length;Q++){w=arguments[Q];for(v in w)c[v]=w[v];for(let ne=0;ne<R.length;ne++)v=R[ne],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function j(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Ae;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ge{constructor(){this.h=this.g=null}add(y,v){const w=be.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var be=new L(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,fe=!1,Ae=new ge,I=()=>{const c=m.Promise.resolve(void 0);re=()=>{c.then(te)}};var te=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){U(v)}var y=be;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}fe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ce(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ye){e:{try{de(y.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,ie);var _e={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function un(c,y,v,w,Q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=Q,this.key=++Ke,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kt(c){this.src=c,this.g={},this.h=0}kt.prototype.add=function(c,y,v,w,Q){var ne=c.toString();c=this.g[ne],c||(c=this.g[ne]=[],this.h++);var ve=Ct(c,y,w,Q);return-1<ve?(y=c[ve],v||(y.fa=!1)):(y=new un(y,this.src,ne,!!w,Q),y.fa=v,c.push(y)),y};function yn(c,y){var v=y.type;if(v in c.g){var w=c.g[v],Q=Array.prototype.indexOf.call(w,y,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(w,Q,1),ne&&(mt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ct(c,y,v,w){for(var Q=0;Q<c.length;++Q){var ne=c[Q];if(!ne.da&&ne.listener==y&&ne.capture==!!v&&ne.ha==w)return Q}return-1}var ot="closure_lm_"+(1e6*Math.random()|0),vn={};function Gt(c,y,v,w,Q){if(Array.isArray(y)){for(var ne=0;ne<y.length;ne++)Gt(c,y[ne],v,w,Q);return null}return v=cr(v),c&&c[ut]?c.K(y,v,p(w)?!!w.capture:!1,Q):Nt(c,y,v,!1,w,Q)}function Nt(c,y,v,w,Q,ne){if(!y)throw Error("Invalid event type");var ve=p(Q)?!!Q.capture:!!Q,rt=Lt(c);if(rt||(c[ot]=rt=new kt(c)),v=rt.add(y,v,w,ve,ne),v.proxy)return v;if(w=Ir(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)pe||(Q=ve),Q===void 0&&(Q=!1),c.addEventListener(y.toString(),w,Q);else if(c.attachEvent)c.attachEvent(jn(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ir(){function c(v){return y.call(c.src,c.listener,v)}const y=_n;return c}function ya(c,y,v,w,Q){if(Array.isArray(y))for(var ne=0;ne<y.length;ne++)ya(c,y[ne],v,w,Q);else w=p(w)?!!w.capture:!!w,v=cr(v),c&&c[ut]?(c=c.i,y=String(y).toString(),y in c.g&&(ne=c.g[y],v=Ct(ne,v,w,Q),-1<v&&(mt(ne[v]),Array.prototype.splice.call(ne,v,1),ne.length==0&&(delete c.g[y],c.h--)))):c&&(c=Lt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ct(y,v,w,Q)),(v=-1<c?y[c]:null)&&cn(v))}function cn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ut])yn(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(jn(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Lt(y))?(yn(v,c),v.h==0&&(v.src=null,y[ot]=null)):mt(c)}}}function jn(c){return c in vn?vn[c]:vn[c]="on"+c}function _n(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&cn(c),c=v.call(w,y)}return c}function Lt(c){return c=c[ot],c instanceof kt?c:null}var Nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function cr(c){return typeof c=="function"?c:(c[Nn]||(c[Nn]=function(y){return c.handleEvent(y)}),c[Nn])}function ft(){ue.call(this),this.i=new kt(this),this.M=this,this.F=null}N(ft,ue),ft.prototype[ut]=!0,ft.prototype.removeEventListener=function(c,y,v,w){ya(this,c,y,v,w)};function Fe(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var Q=y;y=new ie(w,c),k(y,Q)}if(Q=!0,v)for(var ne=v.length-1;0<=ne;ne--){var ve=y.g=v[ne];Q=In(ve,w,!0,y)&&Q}if(ve=y.g=c,Q=In(ve,w,!0,y)&&Q,Q=In(ve,w,!1,y)&&Q,v)for(ne=0;ne<v.length;ne++)ve=y.g=v[ne],Q=In(ve,w,!1,y)&&Q}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)mt(v[w]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},ft.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function In(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var Q=!0,ne=0;ne<y.length;++ne){var ve=y[ne];if(ve&&!ve.da&&ve.capture==v){var rt=ve.listener,nn=ve.ha||ve.src;ve.fa&&yn(c.i,ve),Q=rt.call(nn,w)!==!1&&Q}}return Q&&!w.defaultPrevented}function $t(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Rs(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,Rs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class hr extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Rs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(c){ue.call(this),this.h=c,this.g={}}N(Br,ue);var Hr=[];function qr(c){q(c.g,function(y,v){this.g.hasOwnProperty(v)&&cn(y)},c),c.g={}}Br.prototype.N=function(){Br.aa.N.call(this),qr(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=m.JSON.stringify,va=m.JSON.parse,fr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Qa(){}Qa.prototype.h=null;function _a(c){return c.h||(c.h=c.i())}function Ui(){}var dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){ie.call(this,"d")}N(Or,ie);function Ya(){ie.call(this,"c")}N(Ya,ie);var Un={},Fr=null;function Gr(){return Fr=Fr||new ft}Un.La="serverreachability";function Ka(c){ie.call(this,Un.La,c)}N(Ka,ie);function P(c){const y=Gr();Fe(y,new Ka(y))}Un.STAT_EVENT="statevent";function $(c,y){ie.call(this,Un.STAT_EVENT,c),this.stat=y}N($,ie);function K(c){const y=Gr();Fe(y,new $(y,c))}Un.Ma="timingevent";function ce(c,y){ie.call(this,Un.Ma,c),this.size=y}N(ce,ie);function me(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function Oe(c,y,v,w,Q,ne){c.info(function(){if(c.g)if(ne)for(var ve="",rt=ne.split("&"),nn=0;nn<rt.length;nn++){var at=rt[nn].split("=");if(1<at.length){var fn=at[0];at=at[1];var rn=fn.split("_");ve=2<=rn.length&&rn[1]=="type"?ve+(fn+"="+at+"&"):ve+(fn+"=redacted&")}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+w+") [attempt "+Q+"]: "+y+`
`+v+`
`+ve})}function we(c,y,v,w,Q,ne,ve){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+Q+"]: "+y+`
`+v+`
`+ne+" "+ve})}function De(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ke(c,v)+(w?" "+w:"")})}function Re(c,y){c.info(function(){return"TIMEOUT: "+y})}Se.prototype.info=function(){};function ke(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var Q=w[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ve=1;ve<Q.length;ve++)Q[ve]=""}}}}return Xn(v)}catch{return y}}var Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xe;function gt(){}N(gt,Qa),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},Xe=new gt;function ct(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new Br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nt}function nt(){this.i=null,this.g="",this.h=!1}var Qe={},mr={};function tn(c,y,v){c.L=1,c.v=Hi(Jn(y)),c.m=v,c.P=!0,zn(c,null)}function zn(c,y){c.F=Date.now(),Wn(c),c.A=Jn(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Ll(v.i,"t",w),c.C=0,v=c.j.J,c.h=new nt,c.g=Ru(c.j,v?y:null,!c.m),0<c.O&&(c.M=new hr(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Hr[0]=Q.toString()),Q=Hr);for(var ne=0;ne<Q.length;ne++){var ve=Gt(v,Q[ne],w||y.handleEvent,!1,y.h||y);if(!ve)break;y.g[ve.key]=ve}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),P(),Oe(c.i,c.u,c.A,c.l,c.R,c.m)}ct.prototype.ca=function(c){c=c.target;const y=this.M;y&&_r(c)==3?y.j():this.Y(c)},ct.prototype.Y=function(c){try{if(c==this.g)e:{const rn=_r(this.g);var y=this.g.Ba();const Ra=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||_u(this.g)))){this.J||rn!=4||y==7||(y==8||0>=Ra?P(3):P(2)),On(this);var v=this.g.Z();this.X=v;t:if(En(this)){var w=_u(this.g);c="";var Q=w.length,ne=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Bn(this);var ve="";break t}this.h.i=new m.TextDecoder}for(y=0;y<Q;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(ne&&y==Q-1)});w.length=0,this.h.g+=c,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=v==200,we(this.i,this.u,this.A,this.l,this.R,rn,v),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,nn=this.g;if((rt=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(rt)){var at=rt;break t}}at=null}if(v=at)De(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qt(this,v);else{this.o=!1,this.s=3,K(12),ze(this),Bn(this);break e}}if(this.P){v=!0;let bn;for(;!this.J&&this.C<ve.length;)if(bn=$r(this,ve),bn==mr){rn==4&&(this.s=4,K(14),v=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==Qe){this.s=4,K(15),De(this.i,this.l,ve,"[Invalid Chunk]"),v=!1;break}else De(this.i,this.l,bn,null),Qt(this,bn);if(En(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||ve.length!=0||this.h.h||(this.s=1,K(16),v=!1),this.o=this.o&&v,!v)De(this.i,this.l,ve,"[Invalid Chunked Response]"),ze(this),Bn(this);else if(0<ve.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Xi(fn),fn.M=!0,K(11))}}else De(this.i,this.l,ve,null),Qt(this,ve);rn==4&&ze(this),this.o&&!this.J&&(rn==4?Su(this.j,this):(this.o=!1,Wn(this)))}else Vh(this.g),v==400&&0<ve.indexOf("Unknown SID")?(this.s=3,K(12)):(this.s=0,K(13)),ze(this),Bn(this)}}}catch{}finally{}};function En(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $r(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?mr:(v=Number(y.substring(v,w)),isNaN(v)?Qe:(w+=1,w+v>y.length?mr:(y=y.slice(w,w+v),c.C=w+v,y)))}ct.prototype.cancel=function(){this.J=!0,ze(this)};function Wn(c){c.S=Date.now()+c.I,Xa(c,c.I)}function Xa(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=me(b(c.ba,c),y)}function On(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ct.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Re(this.i,this.A),this.L!=2&&(P(),K(17)),ze(this),this.s=2,Bn(this)):Xa(this,this.S-c)};function Bn(c){c.j.G==0||c.J||Su(c.j,c)}function ze(c){On(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,qr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Qt(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||gr(v.h,c))){if(!c.K&&gr(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var Q=w;if(Q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ls(v),Vs(v);else break e;Bl(v),K(18)}}else v.za=Q[1],0<v.za-v.T&&37500>Q[2]&&v.F&&v.v==0&&!v.C&&(v.C=me(b(v.Za,v),6e3));if(1>=St(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else xa(v,11)}else if((c.K||v.g==c)&&Ls(v),!Z(y))for(Q=v.Da.g.parse(y),y=0;y<Q.length;y++){let at=Q[y];if(v.T=at[0],at=at[1],v.G==2)if(at[0]=="c"){v.K=at[1],v.ia=at[2];const fn=at[3];fn!=null&&(v.la=fn,v.j.info("VER="+v.la));const rn=at[4];rn!=null&&(v.Aa=rn,v.j.info("SVER="+v.Aa));const Ra=at[5];Ra!=null&&typeof Ra=="number"&&0<Ra&&(w=1.5*Ra,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const bn=c.g;if(bn){const ea=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var ne=w.h;ne.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ea(ne,ne.h),ne.h=null))}if(w.D){const ql=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(w.ya=ql,Et(w.I,w.D,ql))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ve=c;if(w.qa=xu(w,w.J?w.ia:null,w.W),ve.K){Tn(w.h,ve);var rt=ve,nn=w.L;nn&&(rt.I=nn),rt.B&&(On(rt),Wn(rt)),w.g=ve}else bu(w);0<v.i.length&&ks(v)}else at[0]!="stop"&&at[0]!="close"||xa(v,7);else v.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?xa(v,7):Ul(v):at[0]!="noop"&&v.l&&v.l.ta(at),v.v=0)}}P(4)}catch{}}var Zn=class{constructor(c,y){this.g=c,this.map=y}};function Gn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function St(c){return c.h?1:c.g?c.g.size:0}function gr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ea(c,y){c.g?c.g.add(y):c.h=y}function Tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Gn.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ol(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return B(c.i)}function Nh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function Ds(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function Ml(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ds(c),w=Nh(c),Q=w.length,ne=0;ne<Q;ne++)y.call(void 0,w[ne],v&&v[ne],c)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ih(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),Q=null;if(0<=w){var ne=c[v].substring(0,w);Q=c[v].substring(w+1)}else ne=c[v];y(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Yt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yt){this.h=c.h,Bi(this,c.j),this.o=c.o,this.g=c.g,Wa(this,c.s),this.l=c.l;var y=c.i,v=new ba;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ta(this,v),this.m=c.m}else c&&(y=String(c).match(zi))?(this.h=!1,Bi(this,y[1]||"",!0),this.o=pr(y[2]||""),this.g=pr(y[3]||"",!0),Wa(this,y[4]),this.l=pr(y[5]||"",!0),Ta(this,y[6]||"",!0),this.m=pr(y[7]||"")):(this.h=!1,this.i=new ba(null,this.h))}Yt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(qi(y,Vl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(qi(y,Vl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(qi(v,v.charAt(0)=="/"?Oh:kl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",qi(v,Cs)),c.join("")};function Jn(c){return new Yt(c)}function Bi(c,y,v){c.j=v?pr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Wa(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ta(c,y,v){y instanceof ba?(c.i=y,yu(c.i,c.h)):(v||(y=qi(y,Mh)),c.i=new ba(y,c.h))}function Et(c,y,v){c.i.set(y,v)}function Hi(c){return Et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function pr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qi(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,pu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vl=/[#\/\?@]/g,kl=/[#\?:]/g,Oh=/[#\?]/g,Mh=/[#\?@]/g,Cs=/#/g;function ba(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function yr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ih(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}a=ba.prototype,a.add=function(c,y){yr(this),this.i=null,c=Yr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Aa(c,y){yr(c),y=Yr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Sa(c,y){return yr(c),y=Yr(c,y),c.g.has(y)}a.forEach=function(c,y){yr(this),this.g.forEach(function(v,w){v.forEach(function(Q){c.call(y,Q,w,this)},this)},this)},a.na=function(){yr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const Q=c[w];for(let ne=0;ne<Q.length;ne++)v.push(y[w])}return v},a.V=function(c){yr(this);let y=[];if(typeof c=="string")Sa(this,c)&&(y=y.concat(this.g.get(Yr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},a.set=function(c,y){return yr(this),this.i=null,c=Yr(this,c),Sa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},a.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ll(c,y,v){Aa(c,y),0<v.length&&(c.i=null,c.g.set(Yr(c,y),B(v)),c.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const ne=encodeURIComponent(String(w)),ve=this.V(w);for(w=0;w<ve.length;w++){var Q=ne;ve[w]!==""&&(Q+="="+encodeURIComponent(String(ve[w]))),c.push(Q)}}return this.i=c.join("&")};function Yr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function yu(c,y){y&&!c.j&&(yr(c),c.i=null,c.g.forEach(function(v,w){var Q=w.toLowerCase();w!=Q&&(Aa(this,w),Ll(this,Q,v))},c)),c.j=y}function Fi(c,y){const v=new Se;if(m.Image){const w=new Image;w.onload=D(vr,v,"TestLoadImage: loaded",!0,y,w),w.onerror=D(vr,v,"TestLoadImage: error",!1,y,w),w.onabort=D(vr,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=D(vr,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Mr(c,y){const v=new Se,w=new AbortController,Q=setTimeout(()=>{w.abort(),vr(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(ne=>{clearTimeout(Q),ne.ok?vr(v,"TestPingServer: ok",!0,y):vr(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Q),vr(v,"TestPingServer: error",!1,y)})}function vr(c,y,v,w,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),w(v)}catch{}}function Gi(){this.g=new fr}function Kr(c,y,v){const w=v||"";try{Ml(c,function(Q,ne){let ve=Q;p(Q)&&(ve=Xn(Q)),y.push(w+ne+"="+encodeURIComponent(ve))})}catch(Q){throw y.push(w+"type="+encodeURIComponent("_badmap")),Q}}function Za(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Za,Qa),Za.prototype.g=function(){return new wa(this.l,this.j)},Za.prototype.i=function(c){return function(){return c}}({});function wa(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(wa,ft),a=wa.prototype,a.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Wr(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},a.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}a.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Xr(this):Wr(this),this.readyState==3&&Pl(this)}},a.Ra=function(c){this.g&&(this.response=this.responseText=c,Xr(this))},a.Qa=function(c){this.g&&(this.response=c,Xr(this))},a.ga=function(){this.g&&Xr(this)};function Xr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wr(c)}a.setRequestHeader=function(c,y){this.u.append(c,y)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Wr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jl(c){let y="";return q(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function hn(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=jl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Et(c,y,v))}function pt(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(pt,ft);var Ns=/^https?$/i,$i=["POST","PUT"];a=pt.prototype,a.Ha=function(c){this.J=c},a.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xe.g(),this.v=this.o?_a(this.o):_a(Xe),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(ne){vu(this,ne);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var Q in w)v.set(Q,w[Q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const ne of w.keys())v.set(ne,w.get(ne));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call($i,y,void 0))||w||Q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of v)this.g.setRequestHeader(ne,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qi(this),this.u=!0,this.g.send(c),this.u=!1}catch(ne){vu(this,ne)}};function vu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Is(c),Zr(c)}function Is(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Zr(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zr(this,!0)),pt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Os(this):this.bb())},a.bb=function(){Os(this)};function Os(c){if(c.h&&typeof f<"u"&&(!c.v[1]||_r(c)!=4||c.Z()!=2)){if(c.u&&_r(c)==4)$t(c.Ea,0,c);else if(Fe(c,"readystatechange"),_r(c)==4){c.h=!1;try{const ve=c.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=ve===0){var Q=String(c.D).match(zi)[1]||null;!Q&&m.self&&m.self.location&&(Q=m.self.location.protocol.slice(0,-1)),w=!Ns.test(Q?Q.toLowerCase():"")}v=w}if(v)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var ne=2<_r(c)?c.g.statusText:""}catch{ne=""}c.l=ne+" ["+c.Z()+"]",Is(c)}}finally{Zr(c)}}}}function Zr(c,y){if(c.g){Qi(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{v.onreadystatechange=w}catch{}}}function Qi(c){c.I&&(m.clearTimeout(c.I),c.I=null)}a.isActive=function(){return!!this.g};function _r(c){return c.g?c.g.readyState:0}a.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),va(y)}};function _u(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vh(c){const y={};c=(c.g&&2<=_r(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(Z(c[w]))continue;var v=j(c[w]);const Q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const ne=y[Q]||[];y[Q]=ne,ne.push(v)}O(y,function(w){return w.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ms(c){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yi("baseRetryDelayMs",5e3,c),this.cb=Yi("retryDelaySeedMs",1e4,c),this.Wa=Yi("forwardChannelMaxRetries",2,c),this.wa=Yi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gn(c&&c.concurrentRequestLimit),this.Da=new Gi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ms.prototype,a.la=8,a.G=1,a.connect=function(c,y,v,w){K(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=xu(this,null,this.W),ks(this)};function Ul(c){if(Eu(c),c.G==3){var y=c.U++,v=Jn(c.I);if(Et(v,"SID",c.K),Et(v,"RID",y),Et(v,"TYPE","terminate"),Ki(c,v),y=new ct(c,c.j,y),y.L=2,y.v=Hi(Jn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Ru(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Wn(y)}wu(c)}function Vs(c){c.g&&(Xi(c),c.g.cancel(),c.g=null)}function Eu(c){Vs(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ls(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ks(c){if(!Qr(c.h)&&!c.s){c.s=!0;var y=c.Ga;re||I(),fe||(re(),fe=!0),Ae.add(y,c),c.B=0}}function kh(c,y){return St(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=me(b(c.Ga,c,y),Hl(c,c.B)),c.B++,!0)}a.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const Q=new ct(this,this.j,c);let ne=this.o;if(this.S&&(ne?(ne=x(ne),k(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Tu(this,Q,y),v=Jn(this.I),Et(v,"RID",c),Et(v,"CVER",22),this.D&&Et(v,"X-HTTP-Session-Id",this.D),Ki(this,v),ne&&(this.O?y="headers="+encodeURIComponent(String(jl(ne)))+"&"+y:this.m&&hn(v,this.m,ne)),Ea(this.h,Q),this.Ua&&Et(v,"TYPE","init"),this.P?(Et(v,"$req",y),Et(v,"SID","null"),Q.T=!0,tn(Q,v,null)):tn(Q,v,y),this.G=2}}else this.G==3&&(c?zl(this,c):this.i.length==0||Qr(this.h)||zl(this))};function zl(c,y){var v;y?v=y.l:v=c.U++;const w=Jn(c.I);Et(w,"SID",c.K),Et(w,"RID",v),Et(w,"AID",c.T),Ki(c,w),c.m&&c.o&&hn(w,c.m,c.o),v=new ct(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Tu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ea(c.h,v),tn(v,w,y)}function Ki(c,y){c.H&&q(c.H,function(v,w){Et(y,w,v)}),c.l&&Ml({},function(v,w){Et(y,w,v)})}function Tu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?b(c.l.Na,c.l,c):null;e:{var Q=c.i;let ne=-1;for(;;){const ve=["count="+v];ne==-1?0<v?(ne=Q[0].g,ve.push("ofs="+ne)):ne=0:ve.push("ofs="+ne);let rt=!0;for(let nn=0;nn<v;nn++){let at=Q[nn].g;const fn=Q[nn].map;if(at-=ne,0>at)ne=Math.max(0,Q[nn].g-100),rt=!1;else try{Kr(fn,ve,"req"+at+"_")}catch{w&&w(fn)}}if(rt){w=ve.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;re||I(),fe||(re(),fe=!0),Ae.add(y,c),c.v=0}}function Bl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=me(b(c.Fa,c),Hl(c,c.v)),c.v++,!0)}a.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=me(b(this.ab,this),c)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,K(10),Vs(this),Au(this))};function Xi(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Au(c){c.g=new ct(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Jn(c.qa);Et(y,"RID","rpc"),Et(y,"SID",c.K),Et(y,"AID",c.T),Et(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Et(y,"TO",c.ja),Et(y,"TYPE","xmlhttp"),Ki(c,y),c.m&&c.o&&hn(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Hi(Jn(y)),v.m=null,v.P=!0,zn(v,c)}a.Za=function(){this.C!=null&&(this.C=null,Vs(this),Bl(this),K(19))};function Ls(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Su(c,y){var v=null;if(c.g==y){Ls(c),Xi(c),c.g=null;var w=2}else if(gr(c.h,y))v=y.D,Tn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var Q=c.B;w=Gr(),Fe(w,new ce(w,v)),ks(c)}else bu(c);else if(Q=y.s,Q==3||Q==0&&0<y.X||!(w==1&&kh(c,y)||w==2&&Bl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),Q){case 1:xa(c,5);break;case 4:xa(c,10);break;case 3:xa(c,6);break;default:xa(c,2)}}}function Hl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function xa(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),w=c.Xa;const Q=!w;w=new Yt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Bi(w,"https"),Hi(w),Q?Fi(w.toString(),v):Mr(w.toString(),v)}else K(2);c.G=0,c.l&&c.l.sa(y),wu(c),Eu(c)}a.fb=function(c){c?(this.j.info("Successfully pinged google.com"),K(2)):(this.j.info("Failed to ping google.com"),K(1))};function wu(c){if(c.G=0,c.ka=[],c.l){const y=Ol(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function xu(c,y,v){var w=v instanceof Yt?Jn(v):new Yt(v);if(w.g!="")y&&(w.g=y+"."+w.g),Wa(w,w.s);else{var Q=m.location;w=Q.protocol,y=y?y+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new Yt(null);w&&Bi(ne,w),y&&(ne.g=y),Q&&Wa(ne,Q),v&&(ne.l=v),w=ne}return v=c.D,y=c.ya,v&&y&&Et(w,v,y),Et(w,"VER",c.la),Ki(c,w),w}function Ru(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new pt(new Za({eb:v})):new pt(c.pa),y.Ha(c.J),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}a=Du.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ps(){}Ps.prototype.g=function(c,y){return new Hn(c,y)};function Hn(c,y){ft.call(this),this.g=new Ms(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Jr(this)}N(Hn,ft),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Ul(this.g)},Hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Xn(c),c=v);y.i.push(new Zn(y.Ya++,c)),y.G==3&&ks(y)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,Hn.aa.N.call(this)};function Cu(c){Or.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(Cu,Or);function Nu(){Ya.call(this),this.status=1}N(Nu,Ya);function Jr(c){this.g=c}N(Jr,Du),Jr.prototype.ua=function(){Fe(this.g,"a")},Jr.prototype.ta=function(c){Fe(this.g,new Cu(c))},Jr.prototype.sa=function(c){Fe(this.g,new Nu)},Jr.prototype.ra=function(){Fe(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,bE=function(){return new Ps},TE=function(){return Gr()},EE=Un,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,qc=Me,je.COMPLETE="complete",_E=je,Ui.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Uo=Ui,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,vE=pt}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const E_="@firebase/firestore",T_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new lE("@firebase/firestore");function ml(){return vs.logLevel}function Te(a,...e){if(vs.logLevel<=lt.DEBUG){const n=e.map(km);vs.debug(`Firestore (${Rl}): ${a}`,...n)}}function qa(a,...e){if(vs.logLevel<=lt.ERROR){const n=e.map(km);vs.error(`Firestore (${Rl}): ${a}`,...n)}}function Ni(a,...e){if(vs.logLevel<=lt.WARN){const n=e.map(km);vs.warn(`Firestore (${Rl}): ${a}`,...n)}}function km(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(a,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,AE(a,i,n)}function AE(a,e,n){let i=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw qa(i),new Error(i)}function yt(a,e,n,i){let l="Unexpected state";typeof n=="string"?l=n:i=n,a||AE(e,l,i)}function He(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class Vx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kx{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0,42304);let i=this.i;const l=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ba,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ba)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt(typeof i.accessToken=="string",31837,{l:i}),new SE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class Lx{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Px{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Lx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yt(this.o===void 0,3512);const i=u=>{u.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const l=u=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<a;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=Ux(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<n&&(i+=e.charAt(l[u]%62))}return i}}function $e(a,e){return a<e?-1:a>e?1:0}function am(a,e){let n=0;for(;n<a.length&&n<e.length;){const i=a.codePointAt(n),l=e.codePointAt(n);if(i!==l){if(i<128&&l<128)return $e(i,l);{const u=wE(),f=zx(u.encode(A_(a,n)),u.encode(A_(e,n)));return f!==0?f:$e(i,l)}}n+=i>65535?2:1}return $e(a.length,e.length)}function A_(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function zx(a,e){for(let n=0;n<a.length&&n<e.length;++n)if(a[n]!==e[n])return $e(a[n],e[n]);return $e(a.length,e.length)}function bl(a,e,n){return a.length===e.length&&a.every((i,l)=>n(i,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="__name__";class sa{constructor(e,n,i){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Pe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return sa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sa?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let l=0;l<i;l++){const u=sa.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return $e(e.length,n.length)}static compareSegments(e,n){const i=sa.isNumericId(e),l=sa.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?sa.extractNumericId(e).compare(sa.extractNumericId(n)):am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ri.fromString(e.substring(4,e.length-2))}}class Dt extends sa{construct(e,n,i){return new Dt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(l=>l.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const Bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends sa{construct(e,n,i){return new Dn(e,n,i)}static isValidIdentifier(e){return Bx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S_}static keyField(){return new Dn([S_])}static fromServerFormat(e){const n=[];let i="",l=0;const u=()=>{if(i.length===0)throw new Ee(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new Ee(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ee(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(i+=m,l++):(u(),l++)}if(u(),f)throw new Ee(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Dt.fromString(e))}static fromName(e){return new Ie(Dt.fromString(e).popFirst(5))}static empty(){return new Ie(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(a,e,n){if(!n)throw new Ee(le.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Hx(a,e,n,i){if(e===!0&&i===!0)throw new Ee(le.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function w_(a){if(!Ie.isDocumentKey(a))throw new Ee(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function x_(a){if(Ie.isDocumentKey(a))throw new Ee(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function RE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function ph(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Pe(12329,{type:typeof a})}function Ii(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Ee(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ph(a);throw new Ee(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(a,e){const n={typeString:a};return e&&(n.value=e),n}function uu(a,e){if(!RE(a))throw new Ee(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const l=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in a)){n=`JSON missing required field: '${i}'`;break}const f=a[i];if(l&&typeof f!==l){n=`JSON field '${i}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new Ee(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=-62135596800,D_=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*D_);return new It(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<R_)throw new Ee(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uu(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Jt("string",It._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new It(0,0))}static max(){return new Be(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=-1;function qx(a,e){const n=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,l=Be.fromTimestamp(i===1e9?new It(n+1,0):new It(n,i));return new Oi(l,Ie.empty(),e)}function Fx(a){return new Oi(a.readTime,a.key,Jo)}class Oi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Oi(Be.min(),Ie.empty(),Jo)}static max(){return new Oi(Be.max(),Ie.empty(),Jo)}}function Gx(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(a.documentKey,e.documentKey),n!==0?n:$e(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(a){if(a.code!==le.FAILED_PRECONDITION||a.message!==$x)throw a;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,i)=>{n(e)})}static reject(e){return new he((n,i)=>{i(e)})}static waitFor(e){return new he((n,i)=>{let l=0,u=0,f=!1;e.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&n()},g=>i(g))}),f=!0,u===l&&n()})}static or(e){let n=he.resolve(!1);for(const i of e)n=n.next(l=>l?he.resolve(l):i());return n}static forEach(e,n){const i=[];return e.forEach((l,u)=>{i.push(n.call(this,l,u))}),this.waitFor(i)}static mapArray(e,n){return new he((i,l)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(_=>{f[p]=_,++m,m===u&&i(f)},_=>l(_))}})}static doWhile(e,n){return new he((i,l)=>{const u=()=>{e()===!0?n().next(()=>{u()},l):i()};u()})}}function Yx(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}yh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=-1;function vh(a){return a==null}function nh(a){return a===0&&1/a==-1/0}function Kx(a){return typeof a=="number"&&Number.isInteger(a)&&!nh(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="";function Xx(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=C_(e)),e=Wx(a.get(n),e);return C_(e)}function Wx(a,e){let n=e;const i=a.length;for(let l=0;l<i;l++){const u=a.charAt(l);switch(u){case"\0":n+="";break;case DE:n+="";break;default:n+=u}}return n}function C_(a){return a+DE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function As(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function CE(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,n,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,i,l,u){this.key=e,this.value=n,this.color=i??xn.RED,this.left=l??xn.EMPTY,this.right=u??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,l,u){return new xn(e??this.key,n??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const u=i(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,i),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return xn.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,i,l,u){return this}insert(e,n,i){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new I_(this.data.getIterator())}getIteratorFrom(e){return new I_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class I_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new on(Dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new NE("Invalid base64 string: "+u):u}}(e);return new Cn(n)}static fromUint8Array(e){const n=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(e);return new Cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const Zx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(a){if(yt(!!a,39018),typeof a=="string"){let e=0;const n=Zx.exec(a);if(yt(!!n,46558,{timestamp:a}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qt(a.seconds),nanos:qt(a.nanos)}}function qt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Vi(a){return typeof a=="string"?Cn.fromBase64String(a):Cn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="server_timestamp",OE="__type__",ME="__previous_value__",VE="__local_write_time__";function jm(a){var e,n;return((n=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[OE])===null||n===void 0?void 0:n.stringValue)===IE}function _h(a){const e=a.mapValue.fields[ME];return jm(e)?_h(e):e}function eu(a){const e=Mi(a.mapValue.fields[VE].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,i,l,u,f,m,g,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=_}}const rh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||rh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__type__",eR="__max__",kc={mapValue:{}},LE="__vector__",ah="value";function ki(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?jm(a)?4:nR(a)?9007199254740991:tR(a)?10:11:Pe(28295,{value:a})}function ga(a,e){if(a===e)return!0;const n=ki(a);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return eu(a).isEqual(eu(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Mi(l.timestampValue),m=Mi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(l,u){return Vi(l.bytesValue).isEqual(Vi(u.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(l,u){return qt(l.geoPointValue.latitude)===qt(u.geoPointValue.latitude)&&qt(l.geoPointValue.longitude)===qt(u.geoPointValue.longitude)}(a,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return qt(l.integerValue)===qt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=qt(l.doubleValue),m=qt(u.doubleValue);return f===m?nh(f)===nh(m):isNaN(f)&&isNaN(m)}return!1}(a,e);case 9:return bl(a.arrayValue.values||[],e.arrayValue.values||[],ga);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(N_(f)!==N_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ga(f[g],m[g])))return!1;return!0}(a,e);default:return Pe(52216,{left:a})}}function nu(a,e){return(a.values||[]).find(n=>ga(n,e))!==void 0}function Al(a,e){if(a===e)return 0;const n=ki(a),i=ki(e);if(n!==i)return $e(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(a.booleanValue,e.booleanValue);case 2:return function(u,f){const m=qt(u.integerValue||u.doubleValue),g=qt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(a,e);case 3:return O_(a.timestampValue,e.timestampValue);case 4:return O_(eu(a),eu(e));case 5:return am(a.stringValue,e.stringValue);case 6:return function(u,f){const m=Vi(u),g=Vi(f);return m.compareTo(g)}(a.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const _=$e(m[p],g[p]);if(_!==0)return _}return $e(m.length,g.length)}(a.referenceValue,e.referenceValue);case 8:return function(u,f){const m=$e(qt(u.latitude),qt(f.latitude));return m!==0?m:$e(qt(u.longitude),qt(f.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return M_(a.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,p,_;const A=u.fields||{},b=f.fields||{},D=(m=A[ah])===null||m===void 0?void 0:m.arrayValue,N=(g=b[ah])===null||g===void 0?void 0:g.arrayValue,B=$e(((p=D?.values)===null||p===void 0?void 0:p.length)||0,((_=N?.values)===null||_===void 0?void 0:_.length)||0);return B!==0?B:M_(D,N)}(a.mapValue,e.mapValue);case 11:return function(u,f){if(u===kc.mapValue&&f===kc.mapValue)return 0;if(u===kc.mapValue)return 1;if(f===kc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},_=Object.keys(p);g.sort(),_.sort();for(let A=0;A<g.length&&A<_.length;++A){const b=am(g[A],_[A]);if(b!==0)return b;const D=Al(m[g[A]],p[_[A]]);if(D!==0)return D}return $e(g.length,_.length)}(a.mapValue,e.mapValue);default:throw Pe(23264,{le:n})}}function O_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return $e(a,e);const n=Mi(a),i=Mi(e),l=$e(n.seconds,i.seconds);return l!==0?l:$e(n.nanos,i.nanos)}function M_(a,e){const n=a.values||[],i=e.values||[];for(let l=0;l<n.length&&l<i.length;++l){const u=Al(n[l],i[l]);if(u)return u}return $e(n.length,i.length)}function Sl(a){return im(a)}function im(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(n){const i=Mi(n);return`time(${i.seconds},${i.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(n){return Vi(n).toBase64()}(a.bytesValue):"referenceValue"in a?function(n){return Ie.fromName(n).toString()}(a.referenceValue):"geoPointValue"in a?function(n){return`geo(${n.latitude},${n.longitude})`}(a.geoPointValue):"arrayValue"in a?function(n){let i="[",l=!0;for(const u of n.values||[])l?l=!1:i+=",",i+=im(u);return i+"]"}(a.arrayValue):"mapValue"in a?function(n){const i=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of i)u?u=!1:l+=",",l+=`${f}:${im(n.fields[f])}`;return l+"}"}(a.mapValue):Pe(61005,{value:a})}function Fc(a){switch(ki(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(a);return e?16+Fc(e):16;case 5:return 2*a.stringValue.length;case 6:return Vi(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,u)=>l+Fc(u),0)}(a.arrayValue);case 10:case 11:return function(i){let l=0;return As(i.fields,(u,f)=>{l+=u.length+Fc(f)}),l}(a.mapValue);default:throw Pe(13486,{value:a})}}function V_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function sm(a){return!!a&&"integerValue"in a}function Um(a){return!!a&&"arrayValue"in a}function k_(a){return!!a&&"nullValue"in a}function L_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Gc(a){return!!a&&"mapValue"in a}function tR(a){var e,n;return((n=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kE])===null||n===void 0?void 0:n.stringValue)===LE}function Fo(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return As(a.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Fo(i)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fo(a.arrayValue.values[n]);return e}return Object.assign({},a)}function nR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===eR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fo(n)}setAll(e){let n=Dn.emptyPath(),i={},l=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,i,l),i={},l=[],n=m.popLast()}f?i[m.lastSegment()]=Fo(f):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,l)}delete(e){const n=this.field(e.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ga(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=n.mapValue.fields[e.get(i)];Gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,i){As(n,(l,u)=>e[l]=u);for(const l of i)delete e[l]}clone(){return new Dr(Fo(this.value))}}function PE(a){const e=[];return As(a.fields,(n,i)=>{const l=new Dn([n]);if(Gc(i)){const u=PE(i.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,i,l,u,f,m){this.key=e,this.documentType=n,this.version=i,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Pn(e,0,Be.min(),Be.min(),Be.min(),Dr.empty(),0)}static newFoundDocument(e,n,i,l){return new Pn(e,1,n,Be.min(),i,l,0)}static newNoDocument(e,n){return new Pn(e,2,n,Be.min(),Be.min(),Dr.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,Be.min(),Be.min(),Dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.position=e,this.inclusive=n}}function P_(a,e,n){let i=0;for(let l=0;l<a.position.length;l++){const u=e[l],f=a.position[l];if(u.field.isKeyField()?i=Ie.comparator(Ie.fromName(f.referenceValue),n.key):i=Al(f,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function j_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!ga(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function rR(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{}class Zt extends jE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new iR(e,n,i):n==="array-contains"?new oR(e,i):n==="in"?new uR(e,i):n==="not-in"?new cR(e,i):n==="array-contains-any"?new hR(e,i):new Zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new sR(e,i):new lR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Al(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(Al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends jE{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new zr(e,n)}matches(e){return UE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function UE(a){return a.op==="and"}function zE(a){return aR(a)&&UE(a)}function aR(a){for(const e of a.filters)if(e instanceof zr)return!1;return!0}function lm(a){if(a instanceof Zt)return a.field.canonicalString()+a.op.toString()+Sl(a.value);if(zE(a))return a.filters.map(e=>lm(e)).join(",");{const e=a.filters.map(n=>lm(n)).join(",");return`${a.op}(${e})`}}function BE(a,e){return a instanceof Zt?function(i,l){return l instanceof Zt&&i.op===l.op&&i.field.isEqual(l.field)&&ga(i.value,l.value)}(a,e):a instanceof zr?function(i,l){return l instanceof zr&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((u,f,m)=>u&&BE(f,l.filters[m]),!0):!1}(a,e):void Pe(19439)}function HE(a){return a instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Sl(n.value)}`}(a):a instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(HE).join(" ,")+"}"}(a):"Filter"}class iR extends Zt{constructor(e,n,i){super(e,n,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class sR extends Zt{constructor(e,n){super(e,"in",n),this.keys=qE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lR extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=qE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qE(a,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ie.fromName(i.referenceValue))}class oR extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Um(n)&&nu(n.arrayValue,this.value)}}class uR extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class cR extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class hR extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>nu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n=null,i=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function U_(a,e=null,n=[],i=[],l=null,u=null,f=null){return new fR(a,e,n,i,l,u,f)}function zm(a){const e=He(a);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>lm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Sl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Sl(i)).join(",")),e.Pe=n}return e.Pe}function Bm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!rR(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!BE(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!j_(a.startAt,e.startAt)&&j_(a.endAt,e.endAt)}function om(a){return Ie.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n=null,i=[],l=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function dR(a,e,n,i,l,u,f,m){return new cu(a,e,n,i,l,u,f,m)}function Hm(a){return new cu(a)}function z_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function FE(a){return a.collectionGroup!==null}function Go(a){const e=He(a);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new on(Dn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new sh(u,i))}),n.has(Dn.keyField().canonicalString())||e.Te.push(new sh(Dn.keyField(),i))}return e.Te}function ua(a){const e=He(a);return e.Ie||(e.Ie=mR(e,Go(a))),e.Ie}function mR(a,e){if(a.limitType==="F")return U_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new sh(l.field,u)});const n=a.endAt?new ih(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new ih(a.startAt.position,a.startAt.inclusive):null;return U_(a.path,a.collectionGroup,e,a.filters,a.limit,n,i)}}function um(a,e){const n=a.filters.concat([e]);return new cu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function cm(a,e,n){return new cu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function Eh(a,e){return Bm(ua(a),ua(e))&&a.limitType===e.limitType}function GE(a){return`${zm(ua(a))}|lt:${a.limitType}`}function gl(a){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(l=>HE(l)).join(", ")}]`),vh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(l=>Sl(l)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(l=>Sl(l)).join(",")),`Target(${i})`}(ua(a))}; limitType=${a.limitType})`}function Th(a,e){return e.isFoundDocument()&&function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Ie.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(a,e)&&function(i,l){for(const u of Go(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(a,e)&&function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0}(a,e)&&function(i,l){return!(i.startAt&&!function(f,m,g){const p=P_(f,m,g);return f.inclusive?p<=0:p<0}(i.startAt,Go(i),l)||i.endAt&&!function(f,m,g){const p=P_(f,m,g);return f.inclusive?p>=0:p>0}(i.endAt,Go(i),l))}(a,e)}function gR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function $E(a){return(e,n)=>{let i=!1;for(const l of Go(a)){const u=pR(l,e,n);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function pR(a,e,n){const i=a.field.isKeyField()?Ie.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Al(g,p):Pe(42886)}(a.field,e,n);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return Pe(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,i)=>{for(const[l,u]of i)e(l,u)})}isEmpty(){return CE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new Vt(Ie.comparator);function Fa(){return yR}const QE=new Vt(Ie.comparator);function zo(...a){let e=QE;for(const n of a)e=e.insert(n.key,n);return e}function YE(a){let e=QE;return a.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function gs(){return $o()}function KE(){return $o()}function $o(){return new Ss(a=>a.toString(),(a,e)=>a.isEqual(e))}const vR=new Vt(Ie.comparator),_R=new on(Ie.comparator);function tt(...a){let e=_R;for(const n of a)e=e.add(n);return e}const ER=new on($e);function TR(){return ER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function XE(a){return{integerValue:""+a}}function bR(a,e){return Kx(e)?XE(e):qm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function AR(a,e,n){return a instanceof lh?function(l,u){const f={fields:{[OE]:{stringValue:IE},[VE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&jm(u)&&(u=_h(u)),u&&(f.fields[ME]=u),{mapValue:f}}(n,e):a instanceof ru?ZE(a,e):a instanceof au?JE(a,e):function(l,u){const f=WE(l,u),m=B_(f)+B_(l.Ee);return sm(f)&&sm(l.Ee)?XE(m):qm(l.serializer,m)}(a,e)}function SR(a,e,n){return a instanceof ru?ZE(a,e):a instanceof au?JE(a,e):n}function WE(a,e){return a instanceof oh?function(i){return sm(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class lh extends bh{}class ru extends bh{constructor(e){super(),this.elements=e}}function ZE(a,e){const n=eT(e);for(const i of a.elements)n.some(l=>ga(l,i))||n.push(i);return{arrayValue:{values:n}}}class au extends bh{constructor(e){super(),this.elements=e}}function JE(a,e){let n=eT(e);for(const i of a.elements)n=n.filter(l=>!ga(l,i));return{arrayValue:{values:n}}}class oh extends bh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function B_(a){return qt(a.integerValue||a.doubleValue)}function eT(a){return Um(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function wR(a,e){return a.field.isEqual(e.field)&&function(i,l){return i instanceof ru&&l instanceof ru||i instanceof au&&l instanceof au?bl(i.elements,l.elements,ga):i instanceof oh&&l instanceof oh?ga(i.Ee,l.Ee):i instanceof lh&&l instanceof lh}(a.transform,e.transform)}class xR{constructor(e,n){this.version=e,this.transformResults=n}}class ca{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ca}static exists(e){return new ca(void 0,e)}static updateTime(e){return new ca(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ah{}function tT(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Fm(a.key,ca.none()):new hu(a.key,a.data,ca.none());{const n=a.data,i=Dr.empty();let l=new on(Dn.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?i.delete(u):i.set(u,f),l=l.add(u)}return new ws(a.key,i,new Pr(l.toArray()),ca.none())}}function RR(a,e,n){a instanceof hu?function(l,u,f){const m=l.value.clone(),g=q_(l.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(a,e,n):a instanceof ws?function(l,u,f){if(!$c(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=q_(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(nT(l)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(a,e,n):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Qo(a,e,n,i){return a instanceof hu?function(u,f,m,g){if(!$c(u.precondition,f))return m;const p=u.value.clone(),_=F_(u.fieldTransforms,g,f);return p.setAll(_),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(a,e,n,i):a instanceof ws?function(u,f,m,g){if(!$c(u.precondition,f))return m;const p=F_(u.fieldTransforms,g,f),_=f.data;return _.setAll(nT(u)),_.setAll(p),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(a,e,n,i):function(u,f,m){return $c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(a,e,n)}function DR(a,e){let n=null;for(const i of a.fieldTransforms){const l=e.data.field(i.field),u=WE(i.transform,l||null);u!=null&&(n===null&&(n=Dr.empty()),n.set(i.field,u))}return n||null}function H_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&bl(i,l,(u,f)=>wR(u,f))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class hu extends Ah{constructor(e,n,i,l=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ws extends Ah{constructor(e,n,i,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function nT(a){const e=new Map;return a.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=a.data.field(n);e.set(n,i)}}),e}function q_(a,e,n){const i=new Map;yt(a.length===n.length,32656,{Ae:n.length,Re:a.length});for(let l=0;l<n.length;l++){const u=a[l],f=u.transform,m=e.data.field(u.field);i.set(u.field,SR(f,m,n[l]))}return i}function F_(a,e,n){const i=new Map;for(const l of a){const u=l.transform,f=n.data.field(l.field);i.set(l.field,AR(u,f,e))}return i}class Fm extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CR extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,i,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&RR(u,e,i[l])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Qo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Qo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=KE();return this.mutations.forEach(l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const g=tT(f,m);g!==null&&i.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,(n,i)=>H_(n,i))&&bl(this.baseMutations,e.baseMutations,(n,i)=>H_(n,i))}}class Gm{constructor(e,n,i,l){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(e,n,i){yt(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let l=function(){return vR}();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,i[f].version);return new Gm(e,n,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,st;function MR(a){switch(a){case le.OK:return Pe(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Pe(15467,{code:a})}}function rT(a){if(a===void 0)return qa("GRPC error has no .code"),le.UNKNOWN;switch(a){case Wt.OK:return le.OK;case Wt.CANCELLED:return le.CANCELLED;case Wt.UNKNOWN:return le.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return le.INTERNAL;case Wt.UNAVAILABLE:return le.UNAVAILABLE;case Wt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Wt.NOT_FOUND:return le.NOT_FOUND;case Wt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Wt.ABORTED:return le.ABORTED;case Wt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Wt.DATA_LOSS:return le.DATA_LOSS;default:return Pe(39323,{code:a})}}(st=Wt||(Wt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new Ri([4294967295,4294967295],0);function G_(a){const e=wE().encode(a),n=new yE;return n.update(e),new Uint8Array(n.digest())}function $_(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ri([n,i],0),new Ri([l,u],0)]}class $m{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Bo(`Invalid padding: ${n}`);if(i<0)throw new Bo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Bo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Bo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ri.fromNumber(this.fe)}pe(e,n,i){let l=e.add(n.multiply(Ri.fromNumber(i)));return l.compare(VR)===1&&(l=new Ri([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=G_(e),[i,l]=$_(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(i,l,u);if(!this.ye(f))return!1}return!0}static create(e,n,i){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new $m(u,l,n);return i.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const n=G_(e),[i,l]=$_(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(i,l,u);this.we(f)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,i,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const l=new Map;return l.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Sh(Be.min(),l,new Vt($e),Fa(),tt())}}class fu{constructor(e,n,i,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new fu(i,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,i,l){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=l}}class aT{constructor(e,n){this.targetId=e,this.De=n}}class iT{constructor(e,n,i=Cn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=l}}class Q_{constructor(){this.ve=0,this.Ce=Y_(),this.Fe=Cn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=tt(),n=tt(),i=tt();return this.Ce.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:Pe(38017,{changeType:u})}}),new fu(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=Y_()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class kR{constructor(e){this.We=e,this.Ge=new Map,this.ze=Fa(),this.je=Lc(),this.Je=Lc(),this.He=new Vt($e)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((i,l)=>{this.nt(l)&&n(l)})}it(e){const n=e.targetId,i=e.De.count,l=this.st(n);if(l){const u=l.target;if(om(u))if(i===0){const f=new Ie(u.path);this.Xe(n,f,Pn.newNoDocument(f,Be.min()))}else yt(i===1,20013,{expectedCount:i});else{const f=this.ot(n);if(f!==i){const m=this._t(e),g=m?this.ut(m,e,f):1;if(g!==0){this.rt(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=Vi(i).toUint8Array()}catch(g){if(g instanceof NE)return Ni("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new $m(f,l,u)}catch(g){return Ni(g instanceof Bo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let l=0;return i.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),l++)}),l}Pt(e){const n=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&om(m.target)){const g=new Ie(m.target.path);this.Tt(g).has(f)||this.It(f,g)||this.Xe(f,g,Pn.newNoDocument(g,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let i=tt();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const p=this.st(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const l=new Sh(e,n,this.He,this.ze,i);return this.ze=Fa(),this.je=Lc(),this.Je=Lc(),this.He=new Vt($e),l}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const l=this.tt(e);this.It(e,n)?l.qe(n,1):l.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Q_,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new on($e),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new on($e),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Q_),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Lc(){return new Vt(Ie.comparator)}function Y_(){return new Vt(Ie.comparator)}const LR={asc:"ASCENDING",desc:"DESCENDING"},PR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jR={and:"AND",or:"OR"};class UR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hm(a,e){return a.useProto3Json||vh(e)?e:{value:e}}function uh(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sT(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function zR(a,e){return uh(a,e.toTimestamp())}function ha(a){return yt(!!a,49232),Be.fromTimestamp(function(n){const i=Mi(n);return new It(i.seconds,i.nanos)}(a))}function Qm(a,e){return fm(a,e).canonicalString()}function fm(a,e){const n=function(l){return new Dt(["projects",l.projectId,"databases",l.database])}(a).child("documents");return e===void 0?n:n.child(e)}function lT(a){const e=Dt.fromString(a);return yt(fT(e),10190,{key:e.toString()}),e}function dm(a,e){return Qm(a.databaseId,e.path)}function Hd(a,e){const n=lT(e);if(n.get(1)!==a.databaseId.projectId)throw new Ee(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new Ee(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new Ie(uT(n))}function oT(a,e){return Qm(a.databaseId,e)}function BR(a){const e=lT(a);return e.length===4?Dt.emptyPath():uT(e)}function mm(a){return new Dt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function uT(a){return yt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function K_(a,e,n){return{name:dm(a,e),fields:n.value.mapValue.fields}}function HR(a,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(p,_){return p.useProto3Json?(yt(_===void 0||typeof _=="string",58123),Cn.fromBase64String(_||"")):(yt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Cn.fromUint8Array(_||new Uint8Array))}(a,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(p){const _=p.code===void 0?le.UNKNOWN:rT(p.code);return new Ee(_,p.message||"")}(f);n=new iT(i,l,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Hd(a,i.document.name),u=ha(i.document.updateTime),f=i.document.createTime?ha(i.document.createTime):Be.min(),m=new Dr({mapValue:{fields:i.document.fields}}),g=Pn.newFoundDocument(l,u,f,m),p=i.targetIds||[],_=i.removedTargetIds||[];n=new Qc(p,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Hd(a,i.document),u=i.readTime?ha(i.readTime):Be.min(),f=Pn.newNoDocument(l,u),m=i.removedTargetIds||[];n=new Qc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Hd(a,i.document),u=i.removedTargetIds||[];n=new Qc([],u,l,null)}else{if(!("filter"in e))return Pe(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,f=new OR(l,u),m=i.targetId;n=new aT(m,f)}}return n}function qR(a,e){let n;if(e instanceof hu)n={update:K_(a,e.key,e.value)};else if(e instanceof Fm)n={delete:dm(a,e.key)};else if(e instanceof ws)n={update:K_(a,e.key,e.data),updateMask:ZR(e.fieldMask)};else{if(!(e instanceof CR))return Pe(16599,{Rt:e.type});n={verify:dm(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(u,f){const m=f.transform;if(m instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof oh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Pe(20930,{transform:f.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:zR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Pe(27497)}(a,e.precondition)),n}function FR(a,e){return a&&a.length>0?(yt(e!==void 0,14353),a.map(n=>function(l,u){let f=l.updateTime?ha(l.updateTime):ha(u);return f.isEqual(Be.min())&&(f=ha(u)),new xR(f,l.transformResults||[])}(n,e))):[]}function GR(a,e){return{documents:[oT(a,e.path)]}}function $R(a,e){const n={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=oT(a,l);const u=function(p){if(p.length!==0)return hT(zr.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(_=>function(b){return{field:pl(b.field),direction:KR(b.dir)}}(_))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=hm(a,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:n,parent:l}}function QR(a){let e=BR(a.parent);const n=a.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){yt(i===1,65062);const _=n.from[0];_.allDescendants?l=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=function(A){const b=cT(A);return b instanceof zr&&zE(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(b=>function(N){return new sh(yl(N.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(A){let b;return b=typeof A=="object"?A.value:A,vh(b)?null:b}(n.limit));let g=null;n.startAt&&(g=function(A){const b=!!A.before,D=A.values||[];return new ih(D,b)}(n.startAt));let p=null;return n.endAt&&(p=function(A){const b=!A.before,D=A.values||[];return new ih(D,b)}(n.endAt)),dR(e,l,f,u,m,"F",g,p)}function YR(a,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:l})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cT(a){return a.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=yl(n.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=yl(n.unaryFilter.field);return Zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yl(n.unaryFilter.field);return Zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=yl(n.unaryFilter.field);return Zt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(a):a.fieldFilter!==void 0?function(n){return Zt.create(yl(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(n){return zr.create(n.compositeFilter.filters.map(i=>cT(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(a):Pe(30097,{filter:a})}function KR(a){return LR[a]}function XR(a){return PR[a]}function WR(a){return jR[a]}function pl(a){return{fieldPath:a.canonicalString()}}function yl(a){return Dn.fromServerFormat(a.fieldPath)}function hT(a){return a instanceof Zt?function(n){if(n.op==="=="){if(L_(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NAN"}};if(k_(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L_(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NAN"}};if(k_(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(n.field),op:XR(n.op),value:n.value}}}(a):a instanceof zr?function(n){const i=n.getFilters().map(l=>hT(l));return i.length===1?i[0]:{compositeFilter:{op:WR(n.op),filters:i}}}(a):Pe(54877,{filter:a})}function ZR(a){const e=[];return a.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,i,l,u=Be.min(),f=Be.min(),m=Cn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.gt=e}}function e2(a){const e=QR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.Dn=new n2}addToCollectionParentIndex(e,n){return this.Dn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Oi.min())}updateCollectionGroup(e,n,i){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class n2{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n]||new on(Dt.comparator),u=!l.has(i);return this.index[n]=l.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(e){return(this.index[e]||new on(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dT=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(dT,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new wl(0)}static ur(){return new wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="LruGarbageCollector",r2=1048576;function Z_([a,e],[n,i]){const l=$e(a,n);return l===0?$e(e,i):l}class a2{constructor(e){this.Tr=e,this.buffer=new on(Z_),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Z_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class i2{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Te(W_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?Te(W_,"Ignoring IndexedDB error during garbage collection: ",n):await Dl(n)}await this.Rr(3e5)})}}class s2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return he.resolve(yh.ue);const i=new a2(n);return this.Vr.forEachTarget(e,l=>i.Er(l.sequenceNumber)).next(()=>this.Vr.gr(e,l=>i.Er(l))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(X_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,l,u,f,m,g,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,f=Date.now(),this.nthSequenceNumber(e,l))).next(A=>(i=A,m=Date.now(),this.removeTargets(e,i,n))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(p=Date.now(),ml()<=lt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(p-g)+`ms
Total Duration: ${p-_}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A})))}}function l2(a,e){return new s2(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.changes=new Ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?he.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,i,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(i=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(i!==null&&Qo(i.mutation,l,Pr.empty(),It.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,tt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=tt()){const l=gs();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,i).next(u=>{let f=zo();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const i=gs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,tt()))}populateOverlays(e,n,i){const l=[];return i.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,i,l){let u=Fa();const f=$o(),m=function(){return $o()}();return n.forEach((g,p)=>{const _=i.get(p.key);l.has(p.key)&&(_===void 0||_.mutation instanceof ws)?u=u.insert(p.key,p):_!==void 0?(f.set(p.key,_.mutation.getFieldMask()),Qo(_.mutation,p,_.mutation.getFieldMask(),It.now())):f.set(p.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,_)=>f.set(p,_)),n.forEach((p,_)=>{var A;return m.set(p,new u2(_,(A=f.get(p))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const i=$o();let l=new Vt((f,m)=>f-m),u=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let _=i.get(g)||Pr.empty();_=m.applyToLocalView(p,_),i.set(g,_);const A=(l.get(m.batchId)||tt()).add(g);l=l.insert(m.batchId,A)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,_=g.value,A=KE();_.forEach(b=>{if(!u.has(b)){const D=tT(n.get(b),i.get(b));D!==null&&A.set(b,D),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,p,A))}return he.waitFor(f)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,l){return function(f){return Ie.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,l):this.getDocumentsMatchingCollectionQuery(e,n,i,l)}getNextDocuments(e,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,l-u.size):he.resolve(gs());let m=Jo,g=u;return f.next(p=>he.forEach(p,(_,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(_)?he.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{g=g.insert(_,b)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,tt())).next(_=>({batchId:m,changes:YE(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(i=>{let l=zo();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,i,l){const u=n.collectionGroup;let f=zo();return this.indexManager.getCollectionParents(e,u).next(m=>he.forEach(m,g=>{const p=function(A,b){return new cu(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,i,l).next(_=>{_.forEach((A,b)=>{f=f.insert(A,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,l))).next(f=>{u.forEach((g,p)=>{const _=p.getKey();f.get(_)===null&&(f=f.insert(_,Pn.newInvalidDocument(_)))});let m=zo();return f.forEach((g,p)=>{const _=u.get(g);_!==void 0&&Qo(_.mutation,p,Pr.empty(),It.now()),Th(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return he.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(l){return{id:l.id,version:l.version,createTime:ha(l.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(l){return{name:l.name,query:e2(l.bundledQuery),readTime:ha(l.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.overlays=new Vt(Ie.comparator),this.kr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const i=gs();return he.forEach(n,l=>this.getOverlay(e,l).next(u=>{u!==null&&i.set(l,u)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((l,u)=>{this.wt(e,n,u)}),he.resolve()}removeOverlaysForBatchId(e,n,i){const l=this.kr.get(i);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(i)),he.resolve()}getOverlaysForCollection(e,n,i){const l=gs(),u=n.length+1,f=new Ie(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>i&&l.set(g.getKey(),g)}return he.resolve(l)}getOverlaysForCollectionGroup(e,n,i,l){let u=new Vt((p,_)=>p-_);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let _=u.get(p.largestBatchId);_===null&&(_=gs(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const m=gs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,_)=>m.set(p,_)),!(m.size()>=l)););return he.resolve(m)}wt(e,n,i){const l=this.overlays.get(i.key);if(l!==null){const f=this.kr.get(l.largestBatchId).delete(i.key);this.kr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new IR(n,i));let u=this.kr.get(n);u===void 0&&(u=tt(),this.kr.set(n,u)),this.kr.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.qr=new on(pn.Qr),this.$r=new on(pn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new pn(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new pn(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){const n=new Ie(new Dt([])),i=new pn(n,e),l=new pn(n,e+1),u=[];return this.$r.forEachInRange([i,l],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ie(new Dt([])),i=new pn(n,e),l=new pn(n,e+1);let u=tt();return this.$r.forEachInRange([i,l],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new pn(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class pn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ie.comparator(e.key,n.key)||$e(e.Hr,n.Hr)}static Ur(e,n){return $e(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new on(pn.Qr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,l){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new NR(u,n,i,l);this.mutationQueue.push(f);for(const m of l)this.Yr=this.Yr.add(new pn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return he.resolve(f)}lookupMutationBatch(e,n){return he.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,l=this.Xr(i),u=l<0?0:l;return he.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Pm:this.er-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new pn(n,0),l=new pn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([i,l],f=>{const m=this.Zr(f.Hr);u.push(m)}),he.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new on($e);return n.forEach(l=>{const u=new pn(l,0),f=new pn(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{i=i.add(m.Hr)})}),he.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,l=i.length+1;let u=i;Ie.isDocumentKey(u)||(u=u.child(""));const f=new pn(new Ie(u),0);let m=new on($e);return this.Yr.forEachWhile(g=>{const p=g.key.path;return!!i.isPrefixOf(p)&&(p.length===l&&(m=m.add(g.Hr)),!0)},f),he.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(i=>{const l=this.Zr(i);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){yt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return he.forEach(n.mutations,l=>{const u=new pn(l.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){const i=new pn(n,0),l=this.Yr.firstAfterOrEqual(i);return he.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.ni=e,this.docs=function(){return new Vt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,l=this.docs.get(i),u=l?l.size:0,f=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return he.resolve(i?i.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let i=Fa();return n.forEach(l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():Pn.newInvalidDocument(l))}),he.resolve(i)}getDocumentsMatchingQuery(e,n,i,l){let u=Fa();const f=n.path,m=new Ie(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:_}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||Gx(Fx(_),i)<=0||(l.has(_.key)||Th(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return he.resolve(u)}getAllFromCollectionGroup(e,n,i,l){Pe(9500)}ri(e,n){return he.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new p2(this)}getSize(e){return he.resolve(this.size)}}class p2 extends o2{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?n.push(this.Or.addEntry(e,l)):this.Or.removeEntry(i)}),he.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.persistence=e,this.ii=new Ss(n=>zm(n),Bm),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.si=0,this.oi=new Ym,this.targetCount=0,this._i=wl.ar()}forEachTarget(e,n){return this.ii.forEach((i,l)=>n(l)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),he.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.hr(n),he.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,i){let l=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),he.waitFor(u).next(()=>l)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return he.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),he.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(f=>{u.push(l.markPotentiallyOrphaned(e,f))}),he.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return he.resolve(i)}containsKey(e,n){return he.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.ai={},this.overlays={},this.ui=new yh(0),this.ci=!1,this.ci=!0,this.li=new d2,this.referenceDelegate=e(this),this.hi=new y2(this),this.indexManager=new t2,this.remoteDocumentCache=function(l){return new g2(l)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new JR(n),this.Ti=new h2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new f2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new m2(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){Te("MemoryPersistence","Starting transaction:",e);const l=new v2(this.ui.next());return this.referenceDelegate.Ii(),i(l).next(u=>this.referenceDelegate.di(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Ei(e,n){return he.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}}class v2 extends Qx{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Ai=new Ym,this.Ri=null}static Vi(e){return new Km(e)}get mi(){if(this.Ri)return this.Ri;throw Pe(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),he.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(l=>this.mi.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.mi.add(u.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.mi,i=>{const l=Ie.fromPath(i);return this.fi(e,l).next(u=>{u||n.removeEntry(l,Be.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return he.or([()=>he.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ch{constructor(e,n){this.persistence=e,this.gi=new Ss(i=>Xx(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=l2(this,n)}static Vi(e,n){return new ch(e,n)}Ii(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(l=>i+l))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return he.forEach(this.gi,(i,l)=>this.Sr(e,i,l).next(u=>u?he.resolve():n(l)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ri(e,f=>this.Sr(e,f,n).next(m=>{m||(i++,u.removeEntry(f,Be.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),he.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fc(e.data.value)),n}Sr(e,n,i){return he.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.gi.get(n);return he.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,i,l){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=l}static Es(e,n){let i=tt(),l=tt();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Xm(e,n.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return yw()?8:Yx(gw())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,l){const u={result:null};return this.ps(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,n,l,i).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new _2;return this.ws(e,n,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)})}).next(()=>u.result)}Ss(e,n,i,l){return i.documentReadCount<this.Vs?(ml()<=lt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(ml()<=lt.DEBUG&&Te("QueryEngine","Query:",gl(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.fs*l?(ml()<=lt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ua(n))):he.resolve())}ps(e,n){if(z_(n))return he.resolve(null);let i=ua(n);return this.indexManager.getIndexType(e,i).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=cm(n,null,"F"),i=ua(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const f=tt(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,i).next(g=>{const p=this.bs(n,m);return this.Ds(n,p,f,g.readTime)?this.ps(e,cm(n,null,"F")):this.vs(e,p,n,g)}))})))}ys(e,n,i,l){return z_(n)||l.isEqual(Be.min())?he.resolve(null):this.gs.getDocuments(e,i).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,i,l)?he.resolve(null):(ml()<=lt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),gl(n)),this.vs(e,f,n,qx(l,Jo)).next(m=>m))})}bs(e,n){let i=new on($E(e));return n.forEach((l,u)=>{Th(e,u)&&(i=i.add(u))}),i}Ds(e,n,i,l){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ws(e,n,i){return ml()<=lt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",gl(n)),this.gs.getDocumentsMatchingQuery(e,n,Oi.min(),i)}vs(e,n,i,l){return this.gs.getDocumentsMatchingQuery(e,i,l).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="LocalStore",T2=3e8;class b2{constructor(e,n,i,l){this.persistence=e,this.Cs=n,this.serializer=l,this.Fs=new Vt($e),this.Ms=new Ss(u=>zm(u),Bm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function A2(a,e,n,i){return new b2(a,e,n,i)}async function gT(a,e){const n=He(a);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next(u=>(l=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const f=[],m=[];let g=tt();for(const p of l){f.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}for(const p of u){m.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(i,g).next(p=>({Bs:p,removedBatchIds:f,addedBatchIds:m}))})})}function S2(a,e){const n=He(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,g,p,_){const A=p.batch,b=A.keys();let D=he.resolve();return b.forEach(N=>{D=D.next(()=>_.getEntry(g,N)).next(B=>{const V=p.docVersions.get(N);yt(V!==null,48541),B.version.compareTo(V)<0&&(A.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),_.addEntry(B)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,A))}(n,i,e,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let g=tt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(i,l))})}function pT(a){const e=He(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function w2(a,e){const n=He(a),i=e.snapshotVersion;let l=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});l=n.Fs;const m=[];e.targetChanges.forEach((_,A)=>{const b=l.get(A);if(!b)return;m.push(n.hi.removeMatchingKeys(u,_.removedDocuments,A).next(()=>n.hi.addMatchingKeys(u,_.addedDocuments,A)));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?D=D.withResumeToken(Cn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,i)),l=l.insert(A,D),function(B,V,L){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=T2?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(b,D,_)&&m.push(n.hi.updateTargetData(u,D))});let g=Fa(),p=tt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(x2(u,f,e.documentUpdates).next(_=>{g=_.Ls,p=_.ks})),!i.isEqual(Be.min())){const _=n.hi.getLastRemoteSnapshotVersion(u).next(A=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(_)}return he.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Fs=l,u))}function x2(a,e,n){let i=tt(),l=tt();return n.forEach(u=>i=i.add(u)),e.getEntries(a,i).next(u=>{let f=Fa();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(Be.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):Te(Wm,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{Ls:f,ks:l}})}function R2(a,e){const n=He(a);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Pm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function D2(a,e){const n=He(a);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return n.hi.getTargetData(i,e).next(u=>u?(l=u,he.resolve(l)):n.hi.allocateTargetId(i).next(f=>(l=new Ai(e,f,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=n.Fs.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i})}async function gm(a,e,n){const i=He(a),l=i.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,f=>i.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!Cl(f))throw f;Te(Wm,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(l.target)}function J_(a,e,n){const i=He(a);let l=Be.min(),u=tt();return i.persistence.runTransaction("Execute query","readwrite",f=>function(g,p,_){const A=He(g),b=A.Ms.get(_);return b!==void 0?he.resolve(A.Fs.get(b)):A.hi.getTargetData(p,_)}(i,f,ua(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>i.Cs.getDocumentsMatchingQuery(f,e,n?l:Be.min(),n?u:tt())).next(m=>(C2(i,gR(e),m),{documents:m,qs:u})))}function C2(a,e,n){let i=a.xs.get(e)||Be.min();n.forEach((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),a.xs.set(e,i)}class e0{constructor(){this.activeTargetIds=TR()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N2{constructor(){this.Fo=new e0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new e0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="ConnectivityMonitor";class n0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Te(t0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Te(t0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function pm(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="RestConnection",O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M2{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${l}`,this.Ko=this.databaseId.database===rh?`project_id=${i}`:`project_id=${i}&database_id=${l}`}Wo(e,n,i,l,u){const f=pm(),m=this.Go(e,n.toUriEncodedString());Te(qd,`Sending RPC '${e}' ${f}:`,m,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,l,u);const{host:p}=new URL(m),_=ou(p);return this.jo(e,m,g,i,_).then(A=>(Te(qd,`Received RPC '${e}' ${f}: `,A),A),A=>{throw Ni(qd,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",i),A})}Jo(e,n,i,l,u,f){return this.Wo(e,n,i,l,u)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),i&&i.headers.forEach((l,u)=>e[u]=l)}Go(e,n){const i=O2[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class k2 extends M2{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,l,u){const f=pm();return new Promise((m,g)=>{const p=new vE;p.setWithCredentials(!0),p.listenOnce(_E.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case qc.NO_ERROR:const A=p.getResponseJson();Te(kn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case qc.TIMEOUT:Te(kn,`RPC '${e}' ${f} timed out`),g(new Ee(le.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const b=p.getStatus();if(Te(kn,`RPC '${e}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D?.error;if(N&&N.status&&N.message){const B=function(L){const Z=L.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(Z)>=0?Z:le.UNKNOWN}(N.status);g(new Ee(B,N.message))}else g(new Ee(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new Ee(le.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{c_:e,streamId:f,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{Te(kn,`RPC '${e}' ${f} completed.`)}});const _=JSON.stringify(l);Te(kn,`RPC '${e}' ${f} sending request:`,l),p.send(n,"POST",_,i,15)})}P_(e,n,i){const l=pm(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=bE(),m=TE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const _=u.join("");Te(kn,`Creating RPC '${e}' stream ${l}: ${_}`,g);const A=f.createWebChannel(_,g);this.T_(A);let b=!1,D=!1;const N=new V2({Ho:V=>{D?Te(kn,`Not sending because RPC '${e}' stream ${l} is closed:`,V):(b||(Te(kn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),b=!0),Te(kn,`RPC '${e}' stream ${l} sending:`,V),A.send(V))},Yo:()=>A.close()}),B=(V,L,Z)=>{V.listen(L,J=>{try{Z(J)}catch(de){setTimeout(()=>{throw de},0)}})};return B(A,Uo.EventType.OPEN,()=>{D||(Te(kn,`RPC '${e}' stream ${l} transport opened.`),N.s_())}),B(A,Uo.EventType.CLOSE,()=>{D||(D=!0,Te(kn,`RPC '${e}' stream ${l} transport closed`),N.__(),this.I_(A))}),B(A,Uo.EventType.ERROR,V=>{D||(D=!0,Ni(kn,`RPC '${e}' stream ${l} transport errored. Name:`,V.name,"Message:",V.message),N.__(new Ee(le.UNAVAILABLE,"The operation could not be completed")))}),B(A,Uo.EventType.MESSAGE,V=>{var L;if(!D){const Z=V.data[0];yt(!!Z,16349);const J=Z,de=J?.error||((L=J[0])===null||L===void 0?void 0:L.error);if(de){Te(kn,`RPC '${e}' stream ${l} received error:`,de);const ye=de.status;let q=function(R){const k=Wt[R];if(k!==void 0)return rT(k)}(ye),O=de.message;q===void 0&&(q=le.INTERNAL,O="Unknown error status: "+ye+" with message "+de.message),D=!0,N.__(new Ee(q,O)),A.close()}else Te(kn,`RPC '${e}' stream ${l} received:`,Z),N.a_(Z)}}),B(m,EE.STAT_EVENT,V=>{V.stat===rm.PROXY?Te(kn,`RPC '${e}' stream ${l} detected buffering proxy`):V.stat===rm.NOPROXY&&Te(kn,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(a){return new UR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,i=1e3,l=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=l,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),l=Math.max(0,n-i);l>0&&Te("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="PersistentStream";class vT{constructor(e,n,i,l,u,f,m,g){this.Fi=e,this.w_=i,this.S_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new yT(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(qa(n.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.b_===n&&this.W_(i,l)},i=>{e(()=>{const l=new Ee(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(l)})})}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{i(()=>this.G_(l))}),this.stream.onMessage(l=>{i(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Te(r0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Te(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L2 extends vT{constructor(e,n,i,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=HR(this.serializer,e),i=function(u){if(!("targetChange"in u))return Be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Be.min():f.readTime?ha(f.readTime):Be.min()}(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=mm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=om(g)?{documents:GR(u,g)}:{query:$R(u,g).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=sT(u,f.resumeToken);const p=hm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Be.min())>0){m.readTime=uh(u,f.snapshotVersion.toTimestamp());const p=hm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const i=YR(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=mm(this.serializer),n.removeTarget=e,this.k_(n)}}class P2 extends vT{constructor(e,n,i,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=FR(e.writeResults,e.commitTime),i=ha(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=mm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>qR(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{}class U2 extends j2{constructor(e,n,i,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new Ee(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,fm(n,i),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(le.UNKNOWN,u.toString())})}Jo(e,n,i,l,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,fm(n,i),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ee(le.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class z2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(qa(n),this._a=!1):Te("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class B2{constructor(e,n,i,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{i.enqueueAndForget(async()=>{xs(this)&&(Te(_s,"Restarting streams for network reachability change."),await async function(g){const p=He(g);p.Ia.add(4),await du(p),p.Aa.set("Unknown"),p.Ia.delete(4),await xh(p)}(this))})}),this.Aa=new z2(i,l)}}async function xh(a){if(xs(a))for(const e of a.da)await e(!0)}async function du(a){for(const e of a.da)await e(!1)}function _T(a,e){const n=He(a);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),tg(n)?eg(n):Nl(n).x_()&&Jm(n,e))}function Zm(a,e){const n=He(a),i=Nl(n);n.Ta.delete(e),i.x_()&&ET(n,e),n.Ta.size===0&&(i.x_()?i.B_():xs(n)&&n.Aa.set("Unknown"))}function Jm(a,e){if(a.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(a).H_(e)}function ET(a,e){a.Ra.$e(e),Nl(a).Y_(e)}function eg(a){a.Ra=new kR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>a.Ta.get(e)||null,lt:()=>a.datastore.serializer.databaseId}),Nl(a).start(),a.Aa.aa()}function tg(a){return xs(a)&&!Nl(a).M_()&&a.Ta.size>0}function xs(a){return He(a).Ia.size===0}function TT(a){a.Ra=void 0}async function H2(a){a.Aa.set("Online")}async function q2(a){a.Ta.forEach((e,n)=>{Jm(a,e)})}async function F2(a,e){TT(a),tg(a)?(a.Aa.la(e),eg(a)):a.Aa.set("Unknown")}async function G2(a,e,n){if(a.Aa.set("Online"),e instanceof iT&&e.state===2&&e.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l.Ta.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ta.delete(m),l.Ra.removeTarget(m))}(a,e)}catch(i){Te(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hh(a,i)}else if(e instanceof Qc?a.Ra.Ye(e):e instanceof aT?a.Ra.it(e):a.Ra.et(e),!n.isEqual(Be.min()))try{const i=await pT(a.localStore);n.compareTo(i)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ta.get(p);_&&u.Ta.set(p,_.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,p)=>{const _=u.Ta.get(g);if(!_)return;u.Ta.set(g,_.withResumeToken(Cn.EMPTY_BYTE_STRING,_.snapshotVersion)),ET(u,g);const A=new Ai(_.target,g,p,_.sequenceNumber);Jm(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(a,n)}catch(i){Te(_s,"Failed to raise snapshot:",i),await hh(a,i)}}async function hh(a,e,n){if(!Cl(e))throw e;a.Ia.add(1),await du(a),a.Aa.set("Offline"),n||(n=()=>pT(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{Te(_s,"Retrying IndexedDB access"),await n(),a.Ia.delete(1),await xh(a)})}function bT(a,e){return e().catch(n=>hh(a,n,e))}async function Rh(a){const e=He(a),n=Li(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Pm;for(;$2(e);)try{const l=await R2(e.localStore,i);if(l===null){e.Pa.length===0&&n.B_();break}i=l.batchId,Q2(e,l)}catch(l){await hh(e,l)}AT(e)&&ST(e)}function $2(a){return xs(a)&&a.Pa.length<10}function Q2(a,e){a.Pa.push(e);const n=Li(a);n.x_()&&n.Z_&&n.X_(e.mutations)}function AT(a){return xs(a)&&!Li(a).M_()&&a.Pa.length>0}function ST(a){Li(a).start()}async function Y2(a){Li(a).na()}async function K2(a){const e=Li(a);for(const n of a.Pa)e.X_(n.mutations)}async function X2(a,e,n){const i=a.Pa.shift(),l=Gm.from(i,e,n);await bT(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),await Rh(a)}async function W2(a,e){e&&Li(a).Z_&&await async function(i,l){if(function(f){return MR(f)&&f!==le.ABORTED}(l.code)){const u=i.Pa.shift();Li(i).N_(),await bT(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Rh(i)}}(a,e),AT(a)&&ST(a)}async function a0(a,e){const n=He(a);n.asyncQueue.verifyOperationInProgress(),Te(_s,"RemoteStore received new credentials");const i=xs(n);n.Ia.add(3),await du(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await xh(n)}async function Z2(a,e){const n=He(a);e?(n.Ia.delete(2),await xh(n)):e||(n.Ia.add(2),await du(n),n.Aa.set("Unknown"))}function Nl(a){return a.Va||(a.Va=function(n,i,l){const u=He(n);return u.ia(),new L2(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(a.datastore,a.asyncQueue,{Zo:H2.bind(null,a),e_:q2.bind(null,a),n_:F2.bind(null,a),J_:G2.bind(null,a)}),a.da.push(async e=>{e?(a.Va.N_(),tg(a)?eg(a):a.Aa.set("Unknown")):(await a.Va.stop(),TT(a))})),a.Va}function Li(a){return a.ma||(a.ma=function(n,i,l){const u=He(n);return u.ia(),new P2(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:Y2.bind(null,a),n_:W2.bind(null,a),ea:K2.bind(null,a),ta:X2.bind(null,a)}),a.da.push(async e=>{e?(a.ma.N_(),await Rh(a)):(await a.ma.stop(),a.Pa.length>0&&(Te(_s,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,i,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,l,u){const f=Date.now()+i,m=new ng(e,n,f,l,u);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(a,e){if(qa("AsyncQueue",`${e}: ${a}`),Cl(a))return new Ee(le.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ie.comparator(n.key,i.key):(n,i)=>Ie.comparator(n.key,i.key),this.keyedMap=zo(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new _l;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.fa=new Vt(Ie.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Pe(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,i)=>{e.push(i)}),e}}class xl{constructor(e,n,i,l,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,l,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new xl(e,n,_l.emptySet(n),f,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class eD{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const l=He(n),u=l.queries;l.queries=s0(),u.forEach((f,m)=>{for(const g of m.wa)g.onError(i)})})(this,new Ee(le.ABORTED,"Firestore shutting down"))}}function s0(){return new Ss(a=>GE(a),Eh)}async function wT(a,e){const n=He(a);let i=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.ba()&&(i=2):(u=new J2,i=e.ba()?0:1);try{switch(i){case 0:u.ya=await n.onListen(l,!0);break;case 1:u.ya=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=rg(f,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&ag(n)}async function xT(a,e){const n=He(a),i=e.query;let l=3;const u=n.queries.get(i);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?l=e.ba()?0:1:!u.Sa()&&e.ba()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function tD(a,e){const n=He(a);let i=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(l)&&(i=!0);f.ya=l}}i&&ag(n)}function nD(a,e,n){const i=He(a),l=i.queries.get(e);if(l)for(const u of l.wa)u.onError(n);i.queries.delete(e)}function ag(a){a.Da.forEach(e=>{e.next()})}var ym,l0;(l0=ym||(ym={})).Fa="default",l0.Cache="cache";class RT{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new xl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.key=e}}class CT{constructor(e){this.key=e}}class rD{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=tt(),this.mutatedKeys=tt(),this.Xa=$E(e),this.eu=new _l(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new i0,l=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((_,A)=>{const b=l.get(_),D=Th(this.query,A)?A:null,N=!!b&&this.mutatedKeys.has(b.key),B=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let V=!1;b&&D?b.data.isEqual(D.data)?N!==B&&(i.track({type:3,doc:D}),V=!0):this.iu(b,D)||(i.track({type:2,doc:D}),V=!0,(g&&this.Xa(D,g)>0||p&&this.Xa(D,p)<0)&&(m=!0)):!b&&D?(i.track({type:0,doc:D}),V=!0):b&&!D&&(i.track({type:1,doc:b}),V=!0,(g||p)&&(m=!0)),V&&(D?(f=f.add(D),u=B?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),i.track({type:1,doc:_})}return{eu:f,ru:i,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,l){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((_,A)=>function(D,N){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{At:V})}};return B(D)-B(N)}(_.type,A.type)||this.Xa(_.doc,A.doc)),this.su(i),l=l!=null&&l;const m=n&&!l?this.ou():[],g=this.Za.size===0&&this.current&&!l?1:0,p=g!==this.Ya;return this.Ya=g,f.length!==0||p?{snapshot:new xl(this.query,e.eu,u,f,e.mutatedKeys,g===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new i0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=tt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return e.forEach(i=>{this.Za.has(i)||n.push(new CT(i))}),this.Za.forEach(i=>{e.has(i)||n.push(new DT(i))}),n}uu(e){this.Ha=e.qs,this.Za=tt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return xl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ig="SyncEngine";class aD{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class iD{constructor(e){this.key=e,this.lu=!1}}class sD{constructor(e,n,i,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Ss(m=>GE(m),Eh),this.Tu=new Map,this.Iu=new Set,this.du=new Vt(Ie.comparator),this.Eu=new Map,this.Au=new Ym,this.Ru={},this.Vu=new Map,this.mu=wl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function lD(a,e,n=!0){const i=kT(a);let l;const u=i.Pu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.cu()):l=await NT(i,e,n,!0),l}async function oD(a,e){const n=kT(a);await NT(n,e,!0,!1)}async function NT(a,e,n,i){const l=await D2(a.localStore,ua(e)),u=l.targetId,f=a.sharedClientState.addLocalQueryTarget(u,n);let m;return i&&(m=await uD(a,e,u,f==="current",l.resumeToken)),a.isPrimaryClient&&n&&_T(a.remoteStore,l),m}async function uD(a,e,n,i,l){a.gu=(A,b,D)=>async function(B,V,L,Z){let J=V.view.nu(L);J.Ds&&(J=await J_(B.localStore,V.query,!1).then(({documents:O})=>V.view.nu(O,J)));const de=Z&&Z.targetChanges.get(V.targetId),ye=Z&&Z.targetMismatches.get(V.targetId)!=null,q=V.view.applyChanges(J,B.isPrimaryClient,de,ye);return u0(B,V.targetId,q._u),q.snapshot}(a,A,b,D);const u=await J_(a.localStore,e,!0),f=new rD(e,u.qs),m=f.nu(u.documents),g=fu.createSynthesizedTargetChangeForCurrentChange(n,i&&a.onlineState!=="Offline",l),p=f.applyChanges(m,a.isPrimaryClient,g);u0(a,n,p._u);const _=new aD(e,n,f);return a.Pu.set(e,_),a.Tu.has(n)?a.Tu.get(n).push(e):a.Tu.set(n,[e]),p.snapshot}async function cD(a,e,n){const i=He(a),l=i.Pu.get(e),u=i.Tu.get(l.targetId);if(u.length>1)return i.Tu.set(l.targetId,u.filter(f=>!Eh(f,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),n&&Zm(i.remoteStore,l.targetId),vm(i,l.targetId)}).catch(Dl)):(vm(i,l.targetId),await gm(i.localStore,l.targetId,!0))}async function hD(a,e){const n=He(a),i=n.Pu.get(e),l=n.Tu.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Zm(n.remoteStore,i.targetId))}async function fD(a,e,n){const i=_D(a);try{const l=await function(f,m){const g=He(f),p=It.now(),_=m.reduce((D,N)=>D.add(N.key),tt());let A,b;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=Fa(),B=tt();return g.Os.getEntries(D,_).next(V=>{N=V,N.forEach((L,Z)=>{Z.isValidDocument()||(B=B.add(L))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,N)).next(V=>{A=V;const L=[];for(const Z of m){const J=DR(Z,A.get(Z.key).overlayedDocument);J!=null&&L.push(new ws(Z.key,J,PE(J.value.mapValue),ca.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,L,m)}).next(V=>{b=V;const L=V.applyToLocalDocumentSet(A,B);return g.documentOverlayCache.saveOverlays(D,V.batchId,L)})}).then(()=>({batchId:b.batchId,changes:YE(A)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(f,m,g){let p=f.Ru[f.currentUser.toKey()];p||(p=new Vt($e)),p=p.insert(m,g),f.Ru[f.currentUser.toKey()]=p}(i,l.batchId,n),await mu(i,l.changes),await Rh(i.remoteStore)}catch(l){const u=rg(l,"Failed to persist write");n.reject(u)}}async function IT(a,e){const n=He(a);try{const i=await w2(n.localStore,e);e.targetChanges.forEach((l,u)=>{const f=n.Eu.get(u);f&&(yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.lu=!0:l.modifiedDocuments.size>0?yt(f.lu,14607):l.removedDocuments.size>0&&(yt(f.lu,42227),f.lu=!1))}),await mu(n,i,e)}catch(i){await Dl(i)}}function o0(a,e,n){const i=He(a);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&l.push(m.snapshot)}),function(f,m){const g=He(f);g.onlineState=m;let p=!1;g.queries.forEach((_,A)=>{for(const b of A.wa)b.va(m)&&(p=!0)}),p&&ag(g)}(i.eventManager,e),l.length&&i.hu.J_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dD(a,e,n){const i=He(a);i.sharedClientState.updateQueryState(e,"rejected",n);const l=i.Eu.get(e),u=l&&l.key;if(u){let f=new Vt(Ie.comparator);f=f.insert(u,Pn.newNoDocument(u,Be.min()));const m=tt().add(u),g=new Sh(Be.min(),new Map,new Vt($e),f,m);await IT(i,g),i.du=i.du.remove(u),i.Eu.delete(e),sg(i)}else await gm(i.localStore,e,!1).then(()=>vm(i,e,n)).catch(Dl)}async function mD(a,e){const n=He(a),i=e.batch.batchId;try{const l=await S2(n.localStore,e);MT(n,i,null),OT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await mu(n,l)}catch(l){await Dl(l)}}async function gD(a,e,n){const i=He(a);try{const l=await function(f,m){const g=He(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return g.mutationQueue.lookupMutationBatch(p,m).next(A=>(yt(A!==null,37113),_=A.keys(),g.mutationQueue.removeMutationBatch(p,A))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,_,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>g.localDocuments.getDocuments(p,_))})}(i.localStore,e);MT(i,e,n),OT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await mu(i,l)}catch(l){await Dl(l)}}function OT(a,e){(a.Vu.get(e)||[]).forEach(n=>{n.resolve()}),a.Vu.delete(e)}function MT(a,e,n){const i=He(a);let l=i.Ru[i.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),i.Ru[i.currentUser.toKey()]=l}}function vm(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const i of a.Tu.get(e))a.Pu.delete(i),n&&a.hu.pu(i,n);a.Tu.delete(e),a.isPrimaryClient&&a.Au.zr(e).forEach(i=>{a.Au.containsKey(i)||VT(a,i)})}function VT(a,e){a.Iu.delete(e.path.canonicalString());const n=a.du.get(e);n!==null&&(Zm(a.remoteStore,n),a.du=a.du.remove(e),a.Eu.delete(n),sg(a))}function u0(a,e,n){for(const i of n)i instanceof DT?(a.Au.addReference(i.key,e),pD(a,i)):i instanceof CT?(Te(ig,"Document no longer in limbo: "+i.key),a.Au.removeReference(i.key,e),a.Au.containsKey(i.key)||VT(a,i.key)):Pe(19791,{yu:i})}function pD(a,e){const n=e.key,i=n.path.canonicalString();a.du.get(n)||a.Iu.has(i)||(Te(ig,"New document in limbo: "+n),a.Iu.add(i),sg(a))}function sg(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Iu.values().next().value;a.Iu.delete(e);const n=new Ie(Dt.fromString(e)),i=a.mu.next();a.Eu.set(i,new iD(n)),a.du=a.du.insert(n,i),_T(a.remoteStore,new Ai(ua(Hm(n.path)),i,"TargetPurposeLimboResolution",yh.ue))}}async function mu(a,e,n){const i=He(a),l=[],u=[],f=[];i.Pu.isEmpty()||(i.Pu.forEach((m,g)=>{f.push(i.gu(g,e,n).then(p=>{var _;if((p||n)&&i.isPrimaryClient){const A=p?!p.fromCache:(_=n?.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(p){l.push(p);const A=Xm.Es(g.targetId,p);u.push(A)}}))}),await Promise.all(f),i.hu.J_(l),await async function(g,p){const _=He(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>he.forEach(p,b=>he.forEach(b.Is,D=>_.persistence.referenceDelegate.addReference(A,b.targetId,D)).next(()=>he.forEach(b.ds,D=>_.persistence.referenceDelegate.removeReference(A,b.targetId,D)))))}catch(A){if(!Cl(A))throw A;Te(Wm,"Failed to update sequence numbers: "+A)}for(const A of p){const b=A.targetId;if(!A.fromCache){const D=_.Fs.get(b),N=D.snapshotVersion,B=D.withLastLimboFreeSnapshotVersion(N);_.Fs=_.Fs.insert(b,B)}}}(i.localStore,u))}async function yD(a,e){const n=He(a);if(!n.currentUser.isEqual(e)){Te(ig,"User change. New user:",e.toKey());const i=await gT(n.localStore,e);n.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(g=>{g.reject(new Ee(le.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await mu(n,i.Bs)}}function vD(a,e){const n=He(a),i=n.Eu.get(e);if(i&&i.lu)return tt().add(i.key);{let l=tt();const u=n.Tu.get(e);if(!u)return l;for(const f of u){const m=n.Pu.get(f);l=l.unionWith(m.view.tu)}return l}}function kT(a){const e=He(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dD.bind(null,e),e.hu.J_=tD.bind(null,e.eventManager),e.hu.pu=nD.bind(null,e.eventManager),e}function _D(a){const e=He(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gD.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return A2(this.persistence,new E2,e.initialUser,this.serializer)}Du(e){return new mT(Km.Vi,this.serializer)}bu(e){return new N2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class ED extends fh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){yt(this.persistence.referenceDelegate instanceof ch,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new i2(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new mT(i=>ch.Vi(i,n),this.serializer)}}class _m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>o0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yD.bind(null,this.syncEngine),await Z2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eD}()}createDatastore(e){const n=wh(e.databaseInfo.databaseId),i=function(u){return new k2(u)}(e.databaseInfo);return function(u,f,m,g){return new U2(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,l,u,f,m){return new B2(i,l,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>o0(this.syncEngine,n,0),function(){return n0.C()?new n0:new I2}())}createSyncEngine(e,n){return function(l,u,f,m,g,p,_){const A=new sD(l,u,f,m,g,p);return _&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const u=He(l);Te(_s,"RemoteStore shutting down."),u.Ia.add(5),await du(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):qa("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="FirestoreClient";class TD{constructor(e,n,i,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=Ln.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async f=>{Te(Pi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(i,f=>(Te(Pi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=rg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Gd(a,e){a.asyncQueue.verifyOperationInProgress(),Te(Pi,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let i=n.initialUser;a.setCredentialChangeListener(async l=>{i.isEqual(l)||(await gT(e.localStore,l),i=l)}),e.persistence.setDatabaseDeletedListener(()=>{Ni("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then(()=>{Te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{Ni("Terminating Firestore due to IndexedDb database deletion failed",l)})}),a._offlineComponents=e}async function c0(a,e){a.asyncQueue.verifyOperationInProgress();const n=await bD(a);Te(Pi,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener(i=>a0(e.remoteStore,i)),a.setAppCheckTokenChangeListener((i,l)=>a0(e.remoteStore,l)),a._onlineComponents=e}async function bD(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Te(Pi,"Using user provided OfflineComponentProvider");try{await Gd(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===le.FAILED_PRECONDITION||l.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ni("Error using user provided cache. Falling back to memory cache: "+n),await Gd(a,new fh)}}else Te(Pi,"Using default OfflineComponentProvider"),await Gd(a,new ED(void 0));return a._offlineComponents}async function PT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Te(Pi,"Using user provided OnlineComponentProvider"),await c0(a,a._uninitializedComponentsProvider._online)):(Te(Pi,"Using default OnlineComponentProvider"),await c0(a,new _m))),a._onlineComponents}function AD(a){return PT(a).then(e=>e.syncEngine)}async function jT(a){const e=await PT(a),n=e.eventManager;return n.onListen=lD.bind(null,e.syncEngine),n.onUnlisten=cD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hD.bind(null,e.syncEngine),n}function SD(a,e,n={}){const i=new Ba;return a.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const _=new LT({next:b=>{_.Ou(),f.enqueueAndForget(()=>xT(u,A));const D=b.docs.has(m);!D&&b.fromCache?p.reject(new Ee(le.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&g&&g.source==="server"?p.reject(new Ee(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),A=new RT(Hm(m.path),_,{includeMetadataChanges:!0,ka:!0});return wT(u,A)}(await jT(a),a.asyncQueue,e,n,i)),i.promise}function wD(a,e,n={}){const i=new Ba;return a.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const _=new LT({next:b=>{_.Ou(),f.enqueueAndForget(()=>xT(u,A)),b.fromCache&&g.source==="server"?p.reject(new Ee(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),A=new RT(m,_,{includeMetadataChanges:!0,ka:!0});return wT(u,A)}(await jT(a),a.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firestore.googleapis.com",f0=!0;class d0{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zT,this.ssl=f0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:f0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r2)throw new Ee(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,i,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Mx;switch(i.type){case"firstParty":return new Px(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=h0.get(n);i&&(Te("ComponentProvider","Removing Datastore"),h0.delete(n),i.terminate())}(this),Promise.resolve()}}function xD(a,e,n,i={}){var l;a=Ii(a,Dh);const u=ou(e),f=a._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${n}`;u&&(rE(`https://${g}`),iE("Firestore",!0)),f.host!==zT&&f.host!==g&&Ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:i});if(!eh(p,m)&&(a._setSettings(p),i.mockUserToken)){let _,A;if(typeof i.mockUserToken=="string")_=i.mockUserToken,A=Ln.MOCK_USER;else{_=aE(i.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Ee(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ln(b)}a._authCredentials=new Vx(new SE(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Il(this.firestore,e,this._query)}}class en{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(uu(n,en._jsonSchema))return new en(e,i||null,new Ie(Dt.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Jt("string",en._jsonSchemaVersion),referencePath:Jt("string")};class Di extends Il{constructor(e,n,i){super(e,n,Hm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Ie(e))}withConverter(e){return new Di(this.firestore,e,this._path)}}function jr(a,e,...n){if(a=ma(a),xE("collection","path",e),a instanceof Dh){const i=Dt.fromString(e,...n);return x_(i),new Di(a,null,i)}{if(!(a instanceof en||a instanceof Di))throw new Ee(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(Dt.fromString(e,...n));return x_(i),new Di(a.firestore,null,i)}}function Rt(a,e,...n){if(a=ma(a),arguments.length===1&&(e=Lm.newId()),xE("doc","path",e),a instanceof Dh){const i=Dt.fromString(e,...n);return w_(i),new en(a,null,new Ie(i))}{if(!(a instanceof en||a instanceof Di))throw new Ee(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(Dt.fromString(e,...n));return w_(i),new en(a.firestore,a instanceof Di?a.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="AsyncQueue";class g0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new yT(this,"async_queue_retry"),this.oc=()=>{const i=Fd();i&&Te(m0,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=Fd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Fd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ba;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Cl(e))throw e;Te(m0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,qa("INTERNAL UNHANDLED ERROR: ",p0(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const l=ng.createAndSchedule(this,e,n,i,u=>this.lc(u));return this.ec.push(l),l}ac(){this.tc&&Pe(47125,{hc:p0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function p0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class gu extends Dh{constructor(e,n,i,l){super(e,n,i,l),this.type="firestore",this._queue=new g0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g0(e),this._firestoreClient=void 0,await e}}}function RD(a,e){const n=typeof a=="object"?a:mE(),i=typeof a=="string"?a:rh,l=cE(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=tE("firestore");u&&xD(l,...u)}return l}function lg(a){if(a._terminated)throw new Ee(le.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||DD(a),a._firestoreClient}function DD(a){var e,n,i;const l=a._freezeSettings(),u=function(m,g,p,_){return new Jx(m,g,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,UT(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new TD(a._authCredentials,a._appCheckCredentials,a._queue,u,a._componentsProvider&&function(m){const g=m?._online.build();return{_offline:m?._offline.build(g),_online:g}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cr(Cn.fromBase64String(e))}catch(n){throw new Ee(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cr(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uu(e,Cr._jsonSchema))return Cr.fromBase64String(e.bytes)}}Cr._jsonSchemaVersion="firestore/bytes/1.0",Cr._jsonSchema={type:Jt("string",Cr._jsonSchemaVersion),bytes:Jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fa._jsonSchemaVersion}}static fromJSON(e){if(uu(e,fa._jsonSchema))return new fa(e.latitude,e.longitude)}}fa._jsonSchemaVersion="firestore/geoPoint/1.0",fa._jsonSchema={type:Jt("string",fa._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:da._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uu(e,da._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new da(e.vectorValues);throw new Ee(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}da._jsonSchemaVersion="firestore/vectorValue/1.0",da._jsonSchema={type:Jt("string",da._jsonSchemaVersion),vectorValues:Jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=/^__.*__$/;class ND{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}function HT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ec:a})}}class ug{constructor(e,n,i,l,u,f){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Rc({path:i,mc:!1});return l.fc(e),l}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Rc({path:i,mc:!1});return l.Ac(),l}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return dh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(HT(this.Ec)&&CD.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class ID{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||wh(e)}Dc(e,n,i,l=!1){return new ug({Ec:e,methodName:n,bc:i,path:Dn.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qT(a){const e=a._freezeSettings(),n=wh(a._databaseId);return new ID(a._databaseId,!!e.ignoreUndefinedProperties,n)}function OD(a,e,n,i,l,u={}){const f=a.Dc(u.merge||u.mergeFields?2:0,e,n,l);$T("Data must be an object, but it was:",f,i);const m=FT(i,f);let g,p;if(u.merge)g=new Pr(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const A of u.mergeFields){const b=VD(e,A,n);if(!f.contains(b))throw new Ee(le.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);LD(_,b)||_.push(b)}g=new Pr(_),p=f.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,p=f.fieldTransforms;return new ND(new Dr(m),g,p)}function MD(a,e,n,i=!1){return cg(n,a.Dc(i?4:3,e))}function cg(a,e){if(GT(a=ma(a)))return $T("Unsupported field value:",e,a),FT(a,e);if(a instanceof BT)return function(i,l){if(!HT(l.Ec))throw l.wc(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,l){const u=[];let f=0;for(const m of i){let g=cg(m,l.yc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(a,e)}return function(i,l){if((i=ma(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return bR(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=It.fromDate(i);return{timestampValue:uh(l.serializer,u)}}if(i instanceof It){const u=new It(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:uh(l.serializer,u)}}if(i instanceof fa)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Cr)return{bytesValue:sT(l.serializer,i._byteString)};if(i instanceof en){const u=l.databaseId,f=i.firestore._databaseId;if(!f.isEqual(u))throw l.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qm(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof da)return function(f,m){return{mapValue:{fields:{[kE]:{stringValue:LE},[ah]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.wc("VectorValues must only contain numeric values.");return qm(m.serializer,p)})}}}}}}(i,l);throw l.wc(`Unsupported field value: ${ph(i)}`)}(a,e)}function FT(a,e){const n={};return CE(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(a,(i,l)=>{const u=cg(l,e.Vc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function GT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof It||a instanceof fa||a instanceof Cr||a instanceof en||a instanceof BT||a instanceof da)}function $T(a,e,n){if(!GT(n)||!RE(n)){const i=ph(n);throw i==="an object"?e.wc(a+" a custom object"):e.wc(a+" "+i)}}function VD(a,e,n){if((e=ma(e))instanceof og)return e._internalPath;if(typeof e=="string")return QT(a,e);throw dh("Field path arguments must be of type string or ",a,!1,void 0,n)}const kD=new RegExp("[~\\*/\\[\\]]");function QT(a,e,n){if(e.search(kD)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new og(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function dh(a,e,n,i,l){const u=i&&!i.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${i}`),f&&(g+=` in document ${l}`),g+=")"),new Ee(le.INVALID_ARGUMENT,m+a+g)}function LD(a,e){return a.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,i,l,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PD extends YT{data(){return super.data()}}function hg(a,e){return typeof e=="string"?QT(a,e):e instanceof og?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Ee(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class UD extends fg{}function y0(a,e,...n){let i=[];e instanceof fg&&i.push(e),i=i.concat(n),function(u){const f=u.filter(g=>g instanceof dg).length,m=u.filter(g=>g instanceof Ch).length;if(f>1||f>0&&m>0)throw new Ee(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)a=l._apply(a);return a}class Ch extends UD{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Ch(e,n,i)}_apply(e){const n=this._parse(e);return KT(e._query,n),new Il(e.firestore,e.converter,um(e._query,n))}_parse(e){const n=qT(e.firestore);return function(u,f,m,g,p,_,A){let b;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ee(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){E0(A,_);const N=[];for(const B of A)N.push(_0(g,u,B));b={arrayValue:{values:N}}}else b=_0(g,u,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||E0(A,_),b=MD(m,f,A,_==="in"||_==="not-in");return Zt.create(p,_,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function v0(a,e,n){const i=e,l=hg("where",a);return Ch._create(l,i,n)}class dg extends fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,u){let f=l;const m=u.getFlattenedFilters();for(const g of m)KT(f,g),f=um(f,g)}(e._query,n),new Il(e.firestore,e.converter,um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _0(a,e,n){if(typeof(n=ma(n))=="string"){if(n==="")throw new Ee(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FE(e)&&n.indexOf("/")!==-1)throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Dt.fromString(n));if(!Ie.isDocumentKey(i))throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return V_(a,new Ie(i))}if(n instanceof en)return V_(a,n._key);throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(n)}.`)}function E0(a,e){if(!Array.isArray(a)||a.length===0)throw new Ee(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KT(a,e){const n=function(l,u){for(const f of l)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(a.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ee(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zD{convertValue(e,n="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return As(e,(l,u)=>{i[l]=this.convertValue(u,n)}),i}convertVectorValue(e){var n,i,l;const u=(l=(i=(n=e.fields)===null||n===void 0?void 0:n[ah].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(f=>qt(f.doubleValue));return new da(u)}convertGeoPoint(e){return new fa(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=_h(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Mi(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Dt.fromString(e);yt(fT(i),9688,{name:e});const l=new tu(i.get(1),i.get(3)),u=new Ie(i.popFirst(5));return l.isEqual(n)||qa(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(a,e,n){let i;return i=a?n&&(n.merge||n.mergeFields)?a.toFirestore(e,n):a.toFirestore(e):e,i}class Ho{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ps extends YT{constructor(e,n,i,l,u,f){super(e,n,i,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(hg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",ps._jsonSchema={type:Jt("string",ps._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Yc extends ps{data(e={}){return super.data(e)}}class El{constructor(e,n,i,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ho(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Yc(this._firestore,this._userDataWriter,i.key,i,new Ho(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const g=new Yc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Ho(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Yc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Ho(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,_=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),_=f.indexOf(m.doc.key)),{type:HD(m.type),doc:g,oldIndex:p,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=El._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],l=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HD(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(a){a=Ii(a,en);const e=Ii(a.firestore,gu);return SD(lg(e),a._key).then(n=>FD(e,a,n))}El._jsonSchemaVersion="firestore/querySnapshot/1.0",El._jsonSchema={type:Jt("string",El._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class XT extends zD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function Ur(a){a=Ii(a,Il);const e=Ii(a.firestore,gu),n=lg(e),i=new XT(e);return jD(a._query),wD(n,a._query).then(l=>new El(e,i,a,l))}function ln(a,e,n){a=Ii(a,en);const i=Ii(a.firestore,gu),l=BD(a.converter,e,n);return WT(i,[OD(qT(i),"setDoc",a._key,l,a.converter!==null,n).toMutation(a._key,ca.none())])}function qD(a){return WT(Ii(a.firestore,gu),[new Fm(a._key,ca.none())])}function WT(a,e){return function(i,l){const u=new Ba;return i.asyncQueue.enqueueAndForget(async()=>fD(await AD(i),l,u)),u.promise}(lg(a),e)}function FD(a,e,n){const i=n.docs.get(e._key),l=new XT(a);return new ps(a,l,e._key,i,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Rl=l})(fE),Wo(new Tl("firestore",(i,{instanceIdentifier:l,options:u})=>{const f=i.getProvider("app").getImmediate(),m=new gu(new kx(i.getProvider("auth-internal")),new jx(f,i.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(p.options.projectId,_)}(f,l),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),xi(E_,T_,e),xi(E_,T_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firebasestorage.googleapis.com",JT="storageBucket",GD=2*60*1e3,$D=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt extends bs{constructor(e,n,i=0){super($d(e),`Firebase Storage: ${n} (${$d(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ut;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ut||(Ut={}));function $d(a){return"storage/"+a}function mg(){const a="An unknown error occurred, please check the error payload for server response.";return new zt(Ut.UNKNOWN,a)}function QD(a){return new zt(Ut.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function YD(a){return new zt(Ut.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function KD(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zt(Ut.UNAUTHENTICATED,a)}function XD(){return new zt(Ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WD(a){return new zt(Ut.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function ZD(){return new zt(Ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JD(){return new zt(Ut.CANCELED,"User canceled the upload/download.")}function eC(a){return new zt(Ut.INVALID_URL,"Invalid URL '"+a+"'.")}function tC(a){return new zt(Ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function nC(){return new zt(Ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JT+"' property when initializing the app?")}function rC(){return new zt(Ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aC(){return new zt(Ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iC(a){return new zt(Ut.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Em(a){return new zt(Ut.INVALID_ARGUMENT,a)}function eb(){return new zt(Ut.APP_DELETED,"The Firebase app was deleted.")}function sC(a){return new zt(Ut.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yo(a,e){return new zt(Ut.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function Lo(a){throw new zt(Ut.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ur.makeFromUrl(e,n)}catch{return new ur(e,"")}if(i.path==="")return i;throw tC(e)}static makeFromUrl(e,n){let i=null;const l="([A-Za-z0-9.\\-_]+)";function u(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+l+f,"i"),g={bucket:1,path:3};function p(de){de.path_=decodeURIComponent(de.path)}const _="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",D=new RegExp(`^https?://${A}/${_}/b/${l}/o${b}`,"i"),N={bucket:1,path:3},B=n===ZT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",L=new RegExp(`^https?://${B}/${l}/${V}`,"i"),J=[{regex:m,indices:g,postModify:u},{regex:D,indices:N,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let de=0;de<J.length;de++){const ye=J[de],q=ye.regex.exec(e);if(q){const O=q[ye.indices.bucket];let x=q[ye.indices.path];x||(x=""),i=new ur(O,x),ye.postModify(i);break}}if(i==null)throw eC(e);return i}}class lC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(a,e,n){let i=1,l=null,u=null,f=!1,m=0;function g(){return m===2}let p=!1;function _(...V){p||(p=!0,e.apply(null,V))}function A(V){l=setTimeout(()=>{l=null,a(D,g())},V)}function b(){u&&clearTimeout(u)}function D(V,...L){if(p){b();return}if(V){b(),_.call(null,V,...L);return}if(g()||f){b(),_.call(null,V,...L);return}i<64&&(i*=2);let J;m===1?(m=2,J=0):J=(i+Math.random())*1e3,A(J)}let N=!1;function B(V){N||(N=!0,b(),!p&&(l!==null?(V||(m=2),clearTimeout(l),A(0)):V||(m=1)))}return A(0),u=setTimeout(()=>{f=!0,B(!0)},n),B}function uC(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(a){return a!==void 0}function hC(a){return typeof a=="object"&&!Array.isArray(a)}function gg(a){return typeof a=="string"||a instanceof String}function T0(a){return pg()&&a instanceof Blob}function pg(){return typeof Blob<"u"}function b0(a,e,n,i){if(i<e)throw Em(`Invalid value for '${a}'. Expected ${e} or greater.`);if(i>n)throw Em(`Invalid value for '${a}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(a,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${a}`}function tb(a){const e=encodeURIComponent;let n="?";for(const i in a)if(a.hasOwnProperty(i)){const l=e(i)+"="+e(a[i]);n=n+l+"&"}return n=n.slice(0,-1),n}var ys;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(ys||(ys={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(a,e){const n=a>=500&&a<600,l=[408,429].indexOf(a)!==-1,u=e.indexOf(a)!==-1;return n||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,i,l,u,f,m,g,p,_,A,b=!0,D=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=A,this.retry=b,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,B)=>{this.resolve_=N,this.reject_=B,this.start_()})}start_(){const e=(i,l)=>{if(l){i(!1,new jc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ys.NO_ERROR,g=u.getStatus();if(!m||fC(g,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===ys.ABORT;i(!1,new jc(!1,null,_));return}const p=this.successCodes_.indexOf(g)!==-1;i(!0,new jc(p,u))})},n=(i,l)=>{const u=this.resolve_,f=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());cC(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=mg();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(l.canceled){const g=this.appDelete_?eb():JD();f(g)}else{const g=ZD();f(g)}};this.canceled_?n(!1,new jc(!1,null,!0)):this.backoffId_=oC(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jc{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function mC(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function gC(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pC(a,e){e&&(a["X-Firebase-GMPID"]=e)}function yC(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function vC(a,e,n,i,l,u,f=!0,m=!1){const g=tb(a.urlParams),p=a.url+g,_=Object.assign({},a.headers);return pC(_,e),mC(_,n),gC(_,u),yC(_,i),new dC(p,a.method,_,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,l,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function EC(...a){const e=_C();if(e!==void 0){const n=new e;for(let i=0;i<a.length;i++)n.append(a[i]);return n.getBlob()}else{if(pg())return new Blob(a);throw new zt(Ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TC(a,e,n){return a.webkitSlice?a.webkitSlice(e,n):a.mozSlice?a.mozSlice(e,n):a.slice?a.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(a){if(typeof atob>"u")throw iC("base-64");return atob(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qd{constructor(e,n){this.data=e,this.contentType=n||null}}function AC(a,e){switch(a){case la.RAW:return new Qd(nb(e));case la.BASE64:case la.BASE64URL:return new Qd(rb(a,e));case la.DATA_URL:return new Qd(wC(e),xC(e))}throw mg()}function nb(a){const e=[];for(let n=0;n<a.length;n++){let i=a.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<a.length-1&&(a.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=i,f=a.charCodeAt(++n);i=65536|(u&1023)<<10|f&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function SC(a){let e;try{e=decodeURIComponent(a)}catch{throw Yo(la.DATA_URL,"Malformed data URL.")}return nb(e)}function rb(a,e){switch(a){case la.BASE64:{const l=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(l||u)throw Yo(a,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case la.BASE64URL:{const l=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(l||u)throw Yo(a,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bC(e)}catch(l){throw l.message.includes("polyfill")?l:Yo(a,"Invalid character found")}const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i}class ab{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Yo(la.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=RC(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function wC(a){const e=new ab(a);return e.base64?rb(la.BASE64,e.rest):SC(e.rest)}function xC(a){return new ab(a).contentType}function RC(a,e){return a.length>=e.length?a.substring(a.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n){let i=0,l="";T0(e)?(this.data_=e,i=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(T0(this.data_)){const i=this.data_,l=TC(i,e,n);return l===null?null:new bi(l)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new bi(i,!0)}}static getBlob(...e){if(pg()){const n=e.map(i=>i instanceof bi?i.data_:i);return new bi(EC.apply(null,n))}else{const n=e.map(f=>gg(f)?AC(la.RAW,f).data:f.data_);let i=0;n.forEach(f=>{i+=f.byteLength});const l=new Uint8Array(i);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)l[u++]=f[m]}),new bi(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(a){let e;try{e=JSON.parse(a)}catch{return null}return hC(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function CC(a,e){const n=e.split("/").filter(i=>i.length>0).join("/");return a.length===0?n:a+"/"+n}function sb(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(a,e){return e}class Fn{constructor(e,n,i,l){this.server=e,this.local=n||e,this.writable=!!i,this.xform=l||NC}}let Uc=null;function IC(a){return!gg(a)||a.length<2?a:sb(a)}function lb(){if(Uc)return Uc;const a=[];a.push(new Fn("bucket")),a.push(new Fn("generation")),a.push(new Fn("metageneration")),a.push(new Fn("name","fullPath",!0));function e(u,f){return IC(f)}const n=new Fn("name");n.xform=e,a.push(n);function i(u,f){return f!==void 0?Number(f):f}const l=new Fn("size");return l.xform=i,a.push(l),a.push(new Fn("timeCreated")),a.push(new Fn("updated")),a.push(new Fn("md5Hash",null,!0)),a.push(new Fn("cacheControl",null,!0)),a.push(new Fn("contentDisposition",null,!0)),a.push(new Fn("contentEncoding",null,!0)),a.push(new Fn("contentLanguage",null,!0)),a.push(new Fn("contentType",null,!0)),a.push(new Fn("metadata","customMetadata",!0)),Uc=a,Uc}function OC(a,e){function n(){const i=a.bucket,l=a.fullPath,u=new ur(i,l);return e._makeStorageReference(u)}Object.defineProperty(a,"ref",{get:n})}function MC(a,e,n){const i={};i.type="file";const l=n.length;for(let u=0;u<l;u++){const f=n[u];i[f.local]=f.xform(i,e[f.server])}return OC(i,a),i}function ob(a,e,n){const i=ib(e);return i===null?null:MC(a,i,n)}function VC(a,e,n,i){const l=ib(e);if(l===null||!gg(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(p=>{const _=a.bucket,A=a.fullPath,b="/b/"+f(_)+"/o/"+f(A),D=yg(b,n,i),N=tb({alt:"media",token:p});return D+N})[0]}function kC(a,e){const n={},i=e.length;for(let l=0;l<i;l++){const u=e[l];u.writable&&(n[u.server]=a[u.local])}return JSON.stringify(n)}class ub{constructor(e,n,i,l){this.url=e,this.method=n,this.handler=i,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(a){if(!a)throw mg()}function LC(a,e){function n(i,l){const u=ob(a,l,e);return cb(u!==null),u}return n}function PC(a,e){function n(i,l){const u=ob(a,l,e);return cb(u!==null),VC(u,l,a.host,a._protocol)}return n}function hb(a){function e(n,i){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=XD():l=KD():n.getStatus()===402?l=YD(a.bucket):n.getStatus()===403?l=WD(a.path):l=i,l.status=n.getStatus(),l.serverResponse=i.serverResponse,l}return e}function jC(a){const e=hb(a);function n(i,l){let u=e(i,l);return i.getStatus()===404&&(u=QD(a.path)),u.serverResponse=l.serverResponse,u}return n}function UC(a,e,n){const i=e.fullServerUrl(),l=yg(i,a.host,a._protocol),u="GET",f=a.maxOperationRetryTime,m=new ub(l,u,PC(a,n),f);return m.errorHandler=jC(e),m}function zC(a,e){return a&&a.contentType||e&&e.type()||"application/octet-stream"}function BC(a,e,n){const i=Object.assign({},n);return i.fullPath=a.path,i.size=e.size(),i.contentType||(i.contentType=zC(null,e)),i}function HC(a,e,n,i,l){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let J="";for(let de=0;de<2;de++)J=J+Math.random().toString().slice(2);return J}const g=m();f["Content-Type"]="multipart/related; boundary="+g;const p=BC(e,i,l),_=kC(p,n),A="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+g+"--",D=bi.getBlob(A,i,b);if(D===null)throw rC();const N={name:p.fullPath},B=yg(u,a.host,a._protocol),V="POST",L=a.maxUploadRetryTime,Z=new ub(B,V,LC(a,n),L);return Z.urlParams=N,Z.headers=f,Z.body=D.uploadData(),Z.errorHandler=hb(e),Z}class qC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ys.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ys.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ys.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,l,u){if(this.sent_)throw Lo("cannot .send() more than once");if(ou(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class FC extends qC{initXhr(){this.xhr_.responseType="text"}}function fb(){return new FC}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this._service=e,n instanceof ur?this._location=n:this._location=ur.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Es(e,n)}get root(){const e=new ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sb(this._location.path)}get storage(){return this._service}get parent(){const e=DC(this._location.path);if(e===null)return null;const n=new ur(this._location.bucket,e);return new Es(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sC(e)}}function GC(a,e,n){a._throwIfRoot("uploadBytes");const i=HC(a.storage,a._location,lb(),new bi(e,!0),n);return a.storage.makeRequestWithTokens(i,fb).then(l=>({metadata:l,ref:a}))}function $C(a){a._throwIfRoot("getDownloadURL");const e=UC(a.storage,a._location,lb());return a.storage.makeRequestWithTokens(e,fb).then(n=>{if(n===null)throw aC();return n})}function QC(a,e){const n=CC(a._location.path,e),i=new ur(a._location.bucket,n);return new Es(a.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(a){return/^[A-Za-z]+:\/\//.test(a)}function KC(a,e){return new Es(a,e)}function db(a,e){if(a instanceof vg){const n=a;if(n._bucket==null)throw nC();const i=new Es(n,n._bucket);return e!=null?db(i,e):i}else return e!==void 0?QC(a,e):a}function XC(a,e){if(e&&YC(e)){if(a instanceof vg)return KC(a,e);throw Em("To use ref(service, url), the first argument must be a Storage instance.")}else return db(a,e)}function A0(a,e){const n=e?.[JT];return n==null?null:ur.makeFromBucketSpec(n,a)}function WC(a,e,n,i={}){a.host=`${e}:${n}`;const l=ou(e);l&&(rE(`https://${a.host}/b`),iE("Storage",!0)),a._isUsingEmulator=!0,a._protocol=l?"https":"http";const{mockUserToken:u}=i;u&&(a._overrideAuthToken=typeof u=="string"?u:aE(u,a.app.options.projectId))}class vg{constructor(e,n,i,l,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=ZT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GD,this._maxUploadRetryTime=$D,this._requests=new Set,l!=null?this._bucket=ur.makeFromBucketSpec(l,this._host):this._bucket=A0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ur.makeFromBucketSpec(this._url,e):this._bucket=A0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Es(this,e)}_makeRequest(e,n,i,l,u=!0){if(this._deleted)return new lC(eb());{const f=vC(e,this._appId,i,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[i,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,l).getPromise()}}const S0="@firebase/storage",w0="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="storage";function ZC(a,e,n){return a=ma(a),GC(a,e,n)}function JC(a){return a=ma(a),$C(a)}function eN(a,e){return a=ma(a),XC(a,e)}function tN(a=mE(),e){a=ma(a);const i=cE(a,mb).getImmediate({identifier:e}),l=tE("storage");return l&&nN(i,...l),i}function nN(a,e,n,i={}){WC(a,e,n,i)}function rN(a,{instanceIdentifier:e}){const n=a.getProvider("app").getImmediate(),i=a.getProvider("auth-internal"),l=a.getProvider("app-check-internal");return new vg(n,i,l,e,fE)}function aN(){Wo(new Tl(mb,rN,"PUBLIC").setMultipleInstances(!0)),xi(S0,w0,""),xi(S0,w0,"esm2017")}aN();const iN={apiKey:"AIzaSyAfEeMMgpZr8-1NGeatOe6K4NdG23HPCvI",authDomain:"saint-mark-leagues.firebaseapp.com",databaseURL:"https://saint-mark-leagues-default-rtdb.firebaseio.com",projectId:"saint-mark-leagues",storageBucket:"saint-mark-leagues.firebasestorage.app",messagingSenderId:"974377360398",appId:"1:974377360398:web:0b5865d69deff9adb6f05f"},gb=dE(iN),Je=RD(gb),sN=tN(gb),lN=()=>T.jsxs("header",{className:"d-top",children:[T.jsx("div",{className:"d-logo",children:T.jsx("h1",{children:"Saint Mark Leagues"})}),T.jsxs("nav",{className:"d-tabs",children:[T.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),T.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),T.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[T.jsx("span",{className:"hamburger-bar"}),T.jsx("span",{className:"hamburger-bar"}),T.jsx("span",{className:"hamburger-bar"}),T.jsxs("div",{className:"hamburger-dropdown",children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",id:"active",children:"Create"}),T.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),T.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),T.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),T.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),T.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),oN=()=>T.jsxs("aside",{className:"d-nav-left",children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",id:"active",children:"Create"}),T.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),T.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),T.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),uN=()=>{const[a,e]=F.useState(""),[n,i]=F.useState(""),[l,u]=F.useState(["","","","",""]),[f,m]=F.useState([null,null,null,null,null]),[g,p]=F.useState(!1),[_,A]=F.useState(""),b=(B,V)=>{u(L=>L.map((Z,J)=>J===B?V:Z))},D=(B,V)=>{m(L=>L.map((Z,J)=>J===B?V:Z))},N=async B=>{if(B.preventDefault(),A(""),!a.trim()||!n.trim()){A("League and team name required!");return}p(!0);try{const V=Rt(Je,"leagues",a),Z=!(await Ur(y0(jr(Je,"leagues"),v0("name","==",a)))).empty;if(!Z){const O={name:a,matchMinutes:document.getElementById("matchMinutes")?.value||10,maxTeams:document.getElementById("maxTeams")?.value||6,maxPlayers:document.getElementById("maxPlayers")?.value||5,pointsWin:document.getElementById("pointsWin")?.value||3,pointsDraw:document.getElementById("pointsDraw")?.value||1,pointsLose:document.getElementById("pointsLose")?.value||0};await ln(V,O)}const J=a,de=Rt(Je,`leagues/${J}/teams`,n);if(!(await Ur(y0(jr(Je,`leagues/${J}/teams`),v0("name","==",n)))).empty){A("Team or league already exists!"),p(!1);return}const q=await Promise.all(l.map(async(O,x)=>{if(!O.trim())return null;let R="";if(f[x]){const k=eN(sN,`leagues/${J}/teams/${n}/players/${O}_${Date.now()}`);await ZC(k,f[x]),R=await JC(k)}return{name:O,image:R,goals:0,assists:0,POTM:0}}));await ln(de,{name:n,DG:0,GA:0,Dif:0,Points:0,players:q.filter(Boolean)}),A(Z?`Added ${n} team to ${a} league!`:"League, team, and players assigned!"),i(""),u(["","","","",""]),m([null,null,null,null,null])}catch(V){A("Error assigning league: "+V.message)}p(!1)};return T.jsxs("main",{className:"dashboard-main",children:[T.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",zIndex:100},children:T.jsx(lN,{})}),T.jsxs("div",{className:"d-container",children:[T.jsx("div",{className:"dashboard-sidenav",children:T.jsx(oN,{})}),T.jsx("div",{className:"dashboard-content",children:T.jsxs("section",{className:"dashboard-main-section",children:[T.jsxs("div",{className:"dashboard-card",children:[T.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:T.jsx("div",{style:{background:"#2563eb",color:"#fff",borderRadius:"50%",width:"54px",height:"54px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:900,fontSize:"1.5rem",letterSpacing:"1px"},children:"LE"})}),T.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginBottom:"24px"},children:T.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem",color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:"4px"},children:"LEAGUE SETTINGS"})}),T.jsxs("form",{className:"dashboard-form",autoComplete:"off",children:[T.jsx("input",{type:"text",id:"leagueName",name:"leagueName",placeholder:"Enter league name",value:a,onChange:B=>e(B.target.value),required:!0,className:"league-name-input"}),T.jsxs("div",{className:"dashboard-form-row",children:[T.jsx("input",{type:"number",id:"matchMinutes",name:"matchMinutes",min:"1",max:"180",placeholder:"Match Time (minutes)",className:"default-info-input"}),T.jsx("input",{type:"number",id:"maxTeams",name:"maxTeams",min:"2",max:"32",placeholder:"Max Teams in a Group",className:"default-info-input"}),T.jsx("input",{type:"number",id:"maxPlayers",name:"maxPlayers",min:"1",max:"180",placeholder:"Max Players in a Team",className:"default-info-input"}),T.jsx("input",{type:"number",id:"pointsWin",name:"pointsWin",min:"0",max:"32",placeholder:"Points per Win",className:"default-info-input",defaultValue:3}),T.jsx("input",{type:"number",id:"pointsDraw",name:"pointsDraw",min:"0",max:"32",placeholder:"Points per Draw",className:"default-info-input",defaultValue:1}),T.jsx("input",{type:"number",id:"pointsLose",name:"pointsLose",min:"0",max:"32",placeholder:"Points per Lose",className:"default-info-input",defaultValue:0})]})]})]}),T.jsxs("div",{className:"dashboard-card",children:[T.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:T.jsx("div",{style:{background:"#2563eb",color:"#fff",borderRadius:"50%",width:"54px",height:"54px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:900,fontSize:"1.5rem",letterSpacing:"1px"},children:"TP"})}),T.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginBottom:"24px"},children:T.jsx("div",{style:{fontWeight:700,fontSize:"1.1rem",color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:"4px"},children:"ADD TEAM & PLAYERS"})}),T.jsxs("form",{className:"dashboard-form",onSubmit:N,autoComplete:"off",children:[T.jsx("input",{type:"text",placeholder:"Team Name",className:"team-name-input",value:n,onChange:B=>i(B.target.value),required:!0}),T.jsx("div",{className:"players-list",children:l.map((B,V)=>T.jsxs("div",{className:"player-input-row",children:[T.jsx("input",{type:"text",placeholder:`Player ${V+1}`,className:"player-input",value:B,onChange:L=>b(V,L.target.value),required:!0}),T.jsx("input",{type:"file",accept:"image/*",id:`player-image-input-${V}`,style:{display:"none"},onChange:L=>{L.target.files&&L.target.files[0]&&D(V,L.target.files[0])}}),f[V]?T.jsx("img",{src:URL.createObjectURL(f[V]),alt:`Player ${V+1} Preview`,className:"player-img-preview",title:"Change Player Image",onClick:()=>document.getElementById(`player-image-input-${V}`).click()}):T.jsx("button",{type:"button",className:"add-image-btn",title:"Add Player Image",onClick:()=>document.getElementById(`player-image-input-${V}`).click(),children:"📷"})]},V))}),T.jsx("button",{type:"submit",className:"submit-league-btn",id:"submit-league-btn",disabled:g,children:g?"Saving...":"Assign League"}),_&&T.jsx("div",{className:"dashboard-error",children:_})]})]})]})})]})]})},fl=["#f59e42","#2563eb","#10b981","#e11d48","#6366f1","#fbbf24","#14b8a6","#f43f5e","#a3e635","#f472b6"],cN=()=>{const[a,e]=F.useState(""),[n,i]=F.useState([]),[l,u]=F.useState([]),[f,m]=F.useState(""),[g,p]=F.useState(!1);F.useEffect(()=>{(async()=>{p(!0);try{const b=jr(Je,`leagues/${a}/teams`),D=await Ur(b);let N=[],B=[];D.forEach(q=>{const O=q.data(),x=q.id;O.group?N.push({id:x,name:O.name,DG:O.DG||0,GA:O.GA||0,Dif:O.Dif||0,Points:O.Points||0,group:O.group}):B.push({id:x,name:O.name,DG:O.DG||0,GA:O.GA||0,Dif:O.Dif||0,Points:O.Points||0,group:null})});let V=2;const L=Rt(Je,"leagues",a),Z=await Rn(L);Z.exists()&&Z.data().maxTeams&&(V=parseInt(Z.data().maxTeams));let J=0,de=[];for(let q=0;q<N.length;q++)de[J]||(de[J]=[]),de[J].length<V||(J++,de[J]=[]),de[J].push(N[q]);const ye=de.map(q=>q.slice().sort((O,x)=>x.Points!==O.Points?x.Points-O.Points:x.Dif!==O.Dif?x.Dif-O.Dif:x.GA!==O.GA?x.GA-O.GA:O.DG-x.DG));i(ye),u(B)}catch{m("Error loading teams."),i([]),u([])}p(!1)})()},[a]);const _=async()=>{try{const A=jr(Je,`leagues/${a}/groups`),b=await Ur(A);for(const D of b.docs)await qD(D.ref);for(let D=0;D<n.length;D++){const N=String.fromCharCode(65+D),B=Rt(Je,`leagues/${a}/groups`,N);await ln(B,{teams:n[D]},{merge:!0});for(let V of n[D]){const L=Rt(Je,`leagues/${a}/teams`,V.name);await ln(L,{group:N},{merge:!0})}}alert("Groups saved!")}catch(A){alert("Error saving groups: "+A.message)}};return T.jsxs("main",{children:[T.jsxs("header",{className:"d-top",children:[T.jsx("div",{className:"d-logo",children:T.jsx("h1",{children:"Groups"})}),T.jsxs("nav",{className:"d-tabs",children:[T.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),T.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),T.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[T.jsx("span",{className:"hamburger-bar"}),T.jsx("span",{className:"hamburger-bar"}),T.jsx("span",{className:"hamburger-bar"}),T.jsxs("div",{className:"hamburger-dropdown",children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),T.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),T.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),T.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),T.jsx("a",{href:"#2025",children:"2025"}),T.jsx("a",{href:"#history",children:"History"})]})]})]}),T.jsxs("div",{className:"d-container",children:[T.jsxs("div",{className:"d-nav-left",children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),T.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",id:"active",children:"Groups"}),T.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),T.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),T.jsxs("div",{className:"groups-super-page",style:{width:"100%"},children:[T.jsxs("header",{className:"groups-header",children:[T.jsx("h1",{className:"groups-title",children:"Groups Draw"}),T.jsx("div",{className:"groups-controls",children:T.jsx("input",{type:"text",className:"groups-league-input",placeholder:"Enter League Name...",value:a,onChange:A=>e(A.target.value)})})]}),f&&(!a||f!=="League not found.")&&T.jsx("div",{className:"groups-error",children:f}),g?T.jsx("div",{className:"groups-loading",children:"Loading groups..."}):T.jsxs("div",{className:"groups-list-super",children:[n.map((A,b)=>T.jsxs("div",{className:"groups-super-card classic-group",style:{background:fl[b%fl.length],boxShadow:"0 2px 12px #0002",borderRadius:"14px",padding:"18px 14px",margin:"18px",minWidth:220,maxWidth:340,flex:"1 1 260px",color:"#fff",border:"2px solid #fff",position:"relative",overflow:"hidden"},children:[T.jsxs("div",{className:"groups-super-label classic-group-title",style:{fontWeight:700,fontSize:"1.5rem",letterSpacing:"2px",marginBottom:12,color:"#fff",borderBottom:"2px solid #fff",paddingBottom:8},children:["Group ",String.fromCharCode(65+b)]}),T.jsxs("table",{style:{width:"100%",background:"#fff",color:fl[b%fl.length],borderRadius:"8px",boxShadow:"0 2px 8px #0001",borderCollapse:"collapse",marginBottom:"8px"},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:fl[b%fl.length],color:"#fff"},children:[T.jsx("th",{style:{padding:"8px"},children:"Team"}),T.jsx("th",{style:{padding:"8px"},children:"DG"}),T.jsx("th",{style:{padding:"8px"},children:"GA"}),T.jsx("th",{style:{padding:"8px"},children:"Dif"}),T.jsx("th",{style:{padding:"8px"},children:"Points"})]})}),T.jsx("tbody",{children:A.map(D=>T.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[T.jsx("td",{style:{padding:"8px",fontWeight:600},children:D.name}),T.jsx("td",{style:{padding:"8px"},children:D.DG}),T.jsx("td",{style:{padding:"8px"},children:D.GA}),T.jsx("td",{style:{padding:"8px"},children:D.Dif}),T.jsx("td",{style:{padding:"8px",fontWeight:700},children:D.Points})]},D.name))})]})]},b)),l.length>0&&T.jsxs("div",{className:"groups-super-card classic-group",style:{background:"#fff",boxShadow:"0 2px 12px #0002",borderRadius:"14px",padding:"18px 14px",margin:"18px",minWidth:220,maxWidth:340,flex:"1 1 260px",color:"#2563eb",border:"2px solid #2563eb",position:"relative",overflow:"hidden"},children:[T.jsx("div",{className:"groups-super-label classic-group-title",style:{fontWeight:700,fontSize:"1.5rem",letterSpacing:"2px",marginBottom:12,color:"#2563eb",borderBottom:"2px solid #2563eb",paddingBottom:8},children:"Waiting Teams"}),T.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:l.map(A=>T.jsx("li",{style:{fontWeight:600,fontSize:"1rem",color:"#222",marginBottom:"6px"},children:A.name},A.name))}),T.jsx("button",{style:{marginTop:"12px",padding:"10px 24px",fontWeight:700,fontSize:"1rem",borderRadius:"8px",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer"},onClick:()=>{if(l.length===0)return;let A=2;const b=Rt(Je,"leagues",a);Rn(b).then(D=>{D.exists()&&D.data().maxTeams&&(A=parseInt(D.data().maxTeams));let N=[...n];if(l.length>2)N.push([...l]),i(N),u([]);else{let B=N.filter(V=>V.length<A);if(B.length>0)B[0].push(...l),i(N),u([]);else{let V=Math.floor(Math.random()*N.length);N[V].push(...l),i(N),u([])}}})},children:"Randomize & Add Team"})]})]}),T.jsxs("div",{style:{margin:"32px 0",textAlign:"center"},children:[T.jsx("h2",{style:{fontWeight:800,fontSize:"1.3rem",marginBottom:"18px",color:"#2563eb"},children:"Stages"}),T.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"16px"},children:[{name:"Stage 32",count:32},{name:"Stage 16",count:16},{name:"Quarter Final",count:8},{name:"Semi Final",count:4},{name:"Final",count:2}].map(A=>T.jsx("button",{className:"save-groups-btn",style:{padding:"12px 28px",fontWeight:700,fontSize:"1.08rem",borderRadius:"8px",background:"#10b981",color:"#fff",border:"none",boxShadow:"0 1px 4px #0001",cursor:"pointer"},onClick:async()=>{if(window.confirm(`Are you sure to start ${A.name}?`)){const D=n.flat().slice().sort((L,Z)=>Z.Points!==L.Points?Z.Points-L.Points:Z.Dif!==L.Dif?Z.Dif-L.Dif:Z.GA!==L.GA?Z.GA-L.GA:L.DG-Z.DG);if(D.length<A.count){alert(`teams aren't enough to start ${A.name}`);return}if(D.length===A.count){alert(`Can't pick all teams for ${A.name}`);return}const N=D.slice(0,A.count).map(L=>({...L,id:L.id.trim(),name:L.name.trim()})),B=N.slice();for(let L=B.length-1;L>0;L--){const Z=Math.floor(Math.random()*(L+1));[B[L],B[Z]]=[B[Z],B[L]]}const V=[];for(let L=0;L<B.length;L+=2)B[L+1]&&V.push({teamA:B[L].id,teamAName:B[L].name,teamB:B[L+1].id,teamBName:B[L+1].name});try{const L=Rt(Je,`leagues/${a}/knockout`,A.name);await ln(L,{teams:N.map(Z=>Z.name),matches:V,stage:A.name,createdAt:new Date().toISOString()}),alert(`Knockout stage '${A.name}' created with ${N.length} teams and ${V.length} matches!`)}catch(L){alert("Error saving knockout stage: "+L.message)}}},children:A.name},A.name))})]}),T.jsx("button",{className:"save-groups-btn",style:{margin:"32px auto 0 auto",display:"block",padding:"14px 38px",fontWeight:700,fontSize:"1.2rem",borderRadius:"8px",background:"#2563eb",color:"#fff",border:"none",boxShadow:"0 2px 8px #2563eb22",cursor:"pointer"},onClick:_,children:"Save Groups"})]})]})]})},hN=()=>{const[a,e]=F.useState(""),[n,i]=F.useState(!1),[l,u]=F.useState([]),[f,m]=F.useState(!1),[g,p]=F.useState(""),[_,A]=F.useState(""),[b,D]=F.useState([]),[N,B]=F.useState({}),[V,L]=F.useState({}),[Z,J]=F.useState({});F.useEffect(()=>{if(!g)return;const x=async()=>{m(!0),A("");try{const k=Rt(Je,"leagues",g);if(!(await Rn(k)).exists()){A("League not found."),u([]),D([]),m(!1);return}const U=jr(Je,`leagues/${g}/teams`),C=await Ur(U);let ge=[];C.forEach(re=>{const fe=re.data();ge.push({name:fe.name,DG:fe.DG||0,GA:fe.GA||0,Dif:fe.Dif||0,Points:fe.Points||0,group:fe.group||"",players:fe.players||[]})}),u(ge);const be=Rt(Je,`leagues/${g}/groups`,"matches"),H=await Rn(be);if(H.exists()&&Array.isArray(H.data().matches))D(H.data().matches);else{let re={};ge.forEach(pe=>{pe.group&&(re[pe.group]||(re[pe.group]=[]),re[pe.group].push(pe))});let fe=[];const Ae=Object.keys(re),I={};Ae.slice().reverse().forEach((pe,Ce)=>{I[pe]=`G${String.fromCharCode(65+Ce)}`});const te={};Object.entries(re).forEach(([pe,Ce])=>{if(Ce.length>1){let _e=1;for(let ut=0;ut<Ce.length;ut++)for(let Ke=ut+1;Ke<Ce.length;Ke++)te[I[pe]]||(te[I[pe]]=[]),te[I[pe]].push({group:I[pe],matchNum:_e,teamA:Ce[ut].name,teamB:Ce[Ke].name}),_e++}});let ue=[],ie=Math.max(...Object.values(te).map(pe=>pe.length));for(let pe=1;pe<=ie;pe++)Object.keys(te).forEach(Ce=>{const _e=te[Ce].find(ut=>ut.matchNum===pe);_e&&ue.push(_e)});D(ue)}m(!1)}catch{A("Error loading teams or matches."),u([]),D([]),m(!1)}},R=async()=>{if(g)try{const k=jr(Je,`leagues/${g}/endedMatches`),j=await Ur(k);let U={};j.forEach(C=>{const ge=C.data(),be=`${ge.group}_${ge.matchNum}`;U[be]={scoreA:ge.scoreA,scoreB:ge.scoreB,teamA:ge.teamA,teamB:ge.teamB}}),B(U)}catch{B({})}};x(),R()},[g]);const de=async()=>{if(!g){alert("Enter league name first!");return}try{const x=Rt(Je,`leagues/${g}/groups`,"matches");await ln(x,{matches:b},{merge:!0}),alert("All matches saved to groups collection!")}catch(x){alert("Error saving matches: "+x.message)}},ye=Dm(),q=x=>{ye("/events",{state:{match:x,leagueName:g}})},O=async x=>{if(!window.confirm("Are you sure you want to check and hide this match forever?"))return;const R=`${x.group}_${x.matchNum}`;let k=!1;try{const j=Rt(Je,`leagues/${g}/endedMatches`,R);let U=0,C=0,ge=[],be=[];const H=await Rn(j);H.exists()?(U=H.data().scoreA||0,C=H.data().scoreB||0,ge=Array.isArray(H.data().goals)?H.data().goals:[],be=Array.isArray(H.data().assists)?H.data().assists:[]):await ln(j,{...x,scoreA:0,scoreB:0,endedAt:new Date().toISOString()});for(const Ct of ge){if(!Ct.name||!Ct.team)continue;const ot=Rt(Je,`leagues/${g}/teams/${Ct.team}`),vn=await Rn(ot);if(vn.exists()){const Gt=vn.data().players||[],Nt=Gt.findIndex(Ir=>Ir.name===Ct.name);Nt!==-1&&(Gt[Nt].goals=(Gt[Nt].goals||0)+1,await ln(ot,{players:Gt},{merge:!0}))}}for(const Ct of be){if(!Ct.name||!Ct.team)continue;const ot=Rt(Je,`leagues/${g}/teams/${Ct.team}`),vn=await Rn(ot);if(vn.exists()){const Gt=vn.data().players||[],Nt=Gt.findIndex(Ir=>Ir.name===Ct.name);Nt!==-1&&(Gt[Nt].assists=(Gt[Nt].assists||0)+1,await ln(ot,{players:Gt},{merge:!0}))}}const re=Rt(Je,`leagues/${g}/teams`,x.teamA),fe=Rt(Je,`leagues/${g}/teams`,x.teamB),Ae=await Rn(re),I=await Rn(fe);let te=Ae.data().Points||0,ue=I.data().Points||0,ie=Ae.data().GA||0,pe=I.data().GA||0,Ce=Ae.data().DG||0,_e=I.data().DG||0;U>C?te+=3:U<C?ue+=3:(te+=1,ue+=1),ie+=U,Ce+=C,pe+=C,_e+=U;const ut=ie-Ce,Ke=pe-_e;await ln(re,{Points:te,GA:ie,DG:Ce,Dif:ut},{merge:!0}),await ln(fe,{Points:ue,GA:pe,DG:_e,Dif:Ke},{merge:!0});const un=Rt(Je,"leagues",g);await ln(un,{lastUpdate:new Date().toISOString()},{merge:!0});const mt=jr(Je,`leagues/${g}/teams`),kt=await Ur(mt);let yn=[];kt.forEach(Ct=>{const ot=Ct.data();yn.push({name:ot.name,DG:ot.DG||0,GA:ot.GA||0,Dif:ot.Dif||0,Points:ot.Points||0,group:ot.group||"",players:ot.players||[]})}),u(yn),k=!0}catch(j){alert("Error saving match result: "+j.message),k=!1}k&&(L(j=>({...j,[R]:!0})),localStorage.setItem(`checked_${g}_${R}`,"true"))};return T.jsxs("main",{children:[T.jsxs("header",{className:"d-top",children:[T.jsx("div",{className:"d-logo",children:T.jsx("h1",{children:"Fixtures"})}),T.jsxs("nav",{className:"d-tabs",children:[T.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),T.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),T.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[T.jsx("span",{className:"hamburger-bar"}),T.jsx("span",{className:"hamburger-bar"}),T.jsx("span",{className:"hamburger-bar"}),T.jsxs("div",{className:"hamburger-dropdown",children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),T.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),T.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top Scorers"}),T.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top Assisters"}),T.jsx("a",{href:"#2025",children:"2025"}),T.jsx("a",{href:"#history",children:"History"})]})]})]}),T.jsxs("div",{className:"d-container",children:[T.jsxs("div",{className:"d-nav-left",children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),T.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),T.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",id:"active",children:"Groups Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),T.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),T.jsxs("section",{className:"fix-section-main",children:[T.jsx("h1",{className:"groups-title",style:{textAlign:"center"},children:"Fixtures"}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"24px 0"},children:[T.jsx("div",{className:"fix-league-input-row",style:{width:"100%",maxWidth:"340px",marginBottom:"12px"},children:T.jsx("input",{type:"text",className:"fix-league-input",placeholder:"Enter League Name...",value:g,onChange:x=>p(x.target.value),style:{width:"100%",textAlign:"center"}})}),T.jsx("div",{className:"fix-search-row",style:{width:"100%",maxWidth:"340px"},children:T.jsx("input",{type:"text",className:"fix-league-input",placeholder:"Search team match...",value:a,onChange:x=>e(x.target.value),style:{width:"100%",textAlign:"center"}})})]}),_&&(!g||_!=="League not found.")&&T.jsx("div",{className:"fix-error",children:_}),f?T.jsx("div",{className:"fix-loading",children:"Loading fixtures..."}):T.jsx(T.Fragment,{children:l.length<2?T.jsx("div",{className:"fix-error",children:"Not enough teams found."}):T.jsx("div",{className:"fix-matches-list",children:b.length===0?T.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",margin:"32px 0"},children:T.jsx("div",{className:"fix-error",children:"No matches found."})}):(()=>{let x=b.filter(R=>a.trim()===""||R.teamA.toLowerCase().includes(a.toLowerCase())||R.teamB.toLowerCase().includes(a.toLowerCase()));return x.length===0&&a.trim()!==""?T.jsx("div",{style:{color:"#10b981",fontWeight:700,textAlign:"center",margin:"32px 0"},children:"Go check knockout fixtures if you have finished all groups matches"}):x.map((R,k)=>{const j=Math.floor(k/2)+1,U=`${R.group}_${R.matchNum}`,C=N[U],ge=V[U]||localStorage.getItem(`checked_${g}_${U}`);if(ge)return null;const be=`${R.group||""}_${R.matchNum}`,H=Z[be]||{scoreA:"",scoreB:""},re=C||ge;return T.jsxs("div",{className:"fix-match-card",style:{marginBottom:"24px",minHeight:"120px",width:"100%",maxWidth:"620px",border:"3px solid #000",borderRadius:"18px",background:"#fff",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"24px",boxSizing:"border-box",boxShadow:"0 2px 8px #0001"},children:[T.jsx("div",{style:{textAlign:"center",fontWeight:700,fontSize:"1.3rem",color:"#222",marginBottom:"12px"},children:R.group?`${R.group} Match${j}`:`Match ${j}`}),T.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:"12px"},children:[T.jsxs("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"left"},children:[" ",R.teamA," "]}),T.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"18px"},children:[T.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:re&&C?T.jsx("h2",{style:{margin:"0",color:"#2563eb"},children:C.scoreA}):T.jsx("input",{type:"number",min:"0",max:"9",className:"fix-score-input",placeholder:"",style:{width:"40px",height:"40px",fontSize:"1.2rem",textAlign:"center",border:"none"},value:H.scoreA,onChange:fe=>{const Ae=fe.target.value;J(I=>({...I,[be]:{...I[be],scoreA:Ae}}))}})}),T.jsx("span",{style:{fontWeight:700,fontSize:"1.2rem",color:"#222"},children:"vs"}),T.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:re&&C?T.jsx("h2",{style:{margin:"0",color:"#2563eb"},children:C.scoreB}):T.jsx("input",{type:"number",min:"0",max:"9",className:"fix-score-input",placeholder:"",style:{width:"40px",height:"40px",fontSize:"1.2rem",textAlign:"center",border:"none"},value:H.scoreB,onChange:fe=>{const Ae=fe.target.value;J(I=>({...I,[be]:{...I[be],scoreB:Ae}}))}})})]}),T.jsxs("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"right"},children:[" ",R.teamB," "]})]}),T.jsxs("div",{className:"fix-stadium",style:{textAlign:"center",marginTop:"8px",fontWeight:500,color:"#222"},children:["Stadium: ",k%2===0?"Stadium 1":"Stadium 2"]}),T.jsxs("div",{className:"fix-match-actions",style:{display:"flex",justifyContent:"center",gap:"16px",marginTop:"12px"},children:[T.jsxs("button",{className:"fix-check-btn",onClick:()=>{if(!C){const fe=Z[be]||{scoreA:0,scoreB:0};R.scoreA=Number(fe.scoreA),R.scoreB=Number(fe.scoreB)}O(R)},children:[T.jsx("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:T.jsx("path",{d:"M5 10l4 4 6-8",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Check Match"]}),T.jsxs("button",{className:"fix-events-btn",onClick:()=>q(R),children:[T.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:[T.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"#fff",strokeWidth:"2"}),T.jsx("rect",{x:"8",y:"6",width:"4",height:"8",rx:"2",fill:"#fff"})]}),"Events"]})]})]},k)})})()})}),T.jsx("div",{style:{textAlign:"center",margin:"24px 0"},children:T.jsx("button",{className:"fix-save-btn",onClick:de,children:"Save All Matches"})})]})]})]})},fN=T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[T.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"#2563eb",strokeWidth:"2"}),T.jsx("circle",{cx:"10",cy:"10",r:"4",fill:"#2563eb"})]}),dN=T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[T.jsx("rect",{x:"4",y:"12",width:"12",height:"4",rx:"2",fill:"#10b981"}),T.jsx("path",{d:"M4 12L8 8L16 8",stroke:"#10b981",strokeWidth:"2"})]}),mN=()=>{const a=ji(),e=a.state?.match,n=a.state?.leagueName||"",[i,l]=F.useState([]),[u,f]=F.useState({}),[m,g]=F.useState({}),[p,_]=F.useState(0),[A,b]=F.useState(0);F.useEffect(()=>{(async()=>{if(!(!e||!n))try{const{teamA:L,teamB:Z}=e,J=async q=>{const O=`leagues/${n}/teams/${q}/players`;console.log("Querying Firestore path:",O);const x=jr(Je,O),R=await Ur(x);let k=[];return R.forEach(j=>{const U=j.data();console.log("Player doc:",U),k.push({name:U.name,image:U.image||""})}),k},[de,ye]=await Promise.all([J(L),J(Z)]);l([...de,...ye])}catch(L){console.error("Error fetching players:",L),l([])}})()},[e,n]);const D=V=>{if(f(Z=>({...Z,[V]:(Z[V]||0)+1})),i.find(Z=>Z.name===V))if(e.teamAPlayers?.includes(V))_(Z=>Z+1);else if(e.teamBPlayers?.includes(V))b(Z=>Z+1);else{const Z=Math.floor(i.length/2);i.findIndex(de=>de.name===V)<Z?_(de=>de+1):b(de=>de+1)}},N=V=>{g(L=>({...L,[V]:(L[V]||0)+1}))},B=async()=>{try{const V={...e,scoreA:p,scoreB:A,goals:u,assists:m,endedAt:new Date().toISOString()};await ln(Rt(Je,`leagues/${n}/endedMatches`,`${e.group}_${e.matchNum}`),V),alert("Match ended!"),window.location.href="/saint-mark-leagues/#/fixtures"}catch(V){alert("Error saving match result: "+V.message)}};return e?T.jsxs("div",{className:"events-page",style:{maxWidth:"520px",margin:"32px auto",padding:"0 8px"},children:[T.jsxs("div",{className:"fix-match-card",style:{marginBottom:"24px",minHeight:"120px",width:"100%",maxWidth:"620px",border:"3px solid #000",borderRadius:"18px",background:"#fff",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"24px",boxSizing:"border-box",boxShadow:"0 2px 8px #0001"},children:[T.jsxs("div",{style:{textAlign:"center",fontWeight:700,fontSize:"1.3rem",color:"#222",marginBottom:"12px"},children:["Match ",e.matchNum]}),T.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:"12px"},children:[T.jsxs("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"left"},children:[" ",e.teamA," "]}),T.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"18px"},children:[T.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:p}),T.jsx("span",{style:{fontWeight:700,fontSize:"1.2rem",color:"#222"},children:"vs"}),T.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:A})]}),T.jsxs("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"right"},children:[" ",e.teamB," "]})]}),T.jsxs("div",{className:"fix-stadium",style:{textAlign:"center",marginTop:"8px",fontWeight:500,color:"#222"},children:["Stadium: ",e.stadium||"N/A"]})]}),T.jsx("div",{style:{marginBottom:"18px",fontWeight:700,fontSize:"1.1rem",color:"#2563eb"},children:"Assign Goals & Assists"}),T.jsx("div",{className:"events-players-list",style:{display:"flex",flexDirection:"column",gap:"14px"},children:i.length===0?T.jsx("div",{style:{textAlign:"center",color:"#888"},children:"No players found for this match."}):i.map(V=>T.jsxs("div",{className:"events-player-card",style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px #0001",padding:"12px 18px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[T.jsx("img",{src:V.image||"https://ui-avatars.com/api/?name="+encodeURIComponent(V.name),alt:V.name,style:{width:"44px",height:"44px",borderRadius:"50%",objectFit:"cover",background:"#eee",border:"2px solid #2563eb"}}),T.jsx("span",{style:{fontWeight:600,fontSize:"1.08rem",color:"#222",minWidth:"120px",maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"inline-block"},children:V.name})]}),T.jsxs("div",{style:{display:"flex",gap:"10px"},children:[T.jsxs("button",{onClick:()=>D(V.name),style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},title:"Add Goal",children:[fN," ",T.jsx("span",{style:{fontWeight:600,color:"#2563eb"},children:u[V.name]||0})]}),T.jsxs("button",{onClick:()=>N(V.name),style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},title:"Add Assist",children:[dN," ",T.jsx("span",{style:{fontWeight:600,color:"#10b981"},children:m[V.name]||0})]})]})]},V.name))}),T.jsx("div",{style:{textAlign:"center",margin:"24px 0"},children:T.jsx("button",{className:"fix-save-btn",style:{padding:"12px 32px",fontSize:"1.1rem"},onClick:B,children:"End Match"})})]}):T.jsx("div",{style:{textAlign:"center",marginTop:"48px"},children:"No match selected."})},gN=()=>{const[a,e]=F.useState(""),[n,i]=F.useState([]),[l,u]=F.useState(!1),[f,m]=F.useState(""),[g,p]=F.useState("2025");return F.useEffect(()=>{a&&(u(!0),m(""),(async()=>{try{const _=jr(Je,`leagues/${a}/teams`),A=await Ur(_);let b=[];A.forEach(D=>{const N=D.data(),B=N.name;(Array.isArray(N.players)?N.players:[]).forEach(L=>{typeof L.goals=="number"&&L.goals>0&&b.push({name:L.name,goals:L.goals,assists:L.assists||0,team:B})})}),b.sort((D,N)=>N.goals-D.goals),i(b.slice(0,20))}catch{m("Error loading scorers.")}u(!1)})())},[a,g]),T.jsxs("main",{children:[T.jsxs("header",{className:"d-top",children:[T.jsx("div",{className:"d-logo",children:T.jsx("h1",{children:"Top Scorers"})}),T.jsxs("nav",{className:"d-tabs",children:[T.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),T.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),T.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[T.jsx("span",{className:"hamburger-bar"}),T.jsx("span",{className:"hamburger-bar"}),T.jsx("span",{className:"hamburger-bar"}),T.jsxs("div",{className:"hamburger-dropdown",children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),T.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),T.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top scorers"}),T.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top assisters"}),T.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),T.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),T.jsxs("div",{className:"d-container",children:[T.jsxs("aside",{className:"d-nav-left",children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),T.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),T.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",id:"active",children:"Top scorers"}),T.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),T.jsxs("div",{className:"scorers-container",children:[T.jsx("div",{className:"scorers-controls",children:T.jsx("input",{type:"text",className:"scorers-league-input",placeholder:"Enter League Name...",value:a,onChange:_=>e(_.target.value)})}),f&&T.jsx("div",{className:"scorers-error",children:f}),l?T.jsx("div",{className:"scorers-loading",children:"Loading..."}):T.jsx("div",{className:"scorers-table-wrapper",style:{maxWidth:"1200px",margin:"0 auto"},children:T.jsxs("table",{className:"scorers-table",style:{width:"100%"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Rank"}),T.jsx("th",{children:"Player"}),T.jsx("th",{children:"Team"}),T.jsx("th",{children:"Goals"})]})}),T.jsx("tbody",{children:n.map((_,A)=>T.jsxs("tr",{children:[T.jsx("td",{children:A+1}),T.jsx("td",{children:_.name}),T.jsx("td",{children:_.team}),T.jsx("td",{children:_.goals})]},_.name+_.team))})]})})]})]})]})},pN=()=>{const[a,e]=F.useState(""),[n,i]=F.useState([]),[l,u]=F.useState(!1),[f,m]=F.useState(""),[g,p]=F.useState("2025");return F.useEffect(()=>{a&&(u(!0),m(""),(async()=>{try{const _=jr(Je,`leagues/${a}/endedMatches`),A=await Ur(_),b={};A.forEach(B=>{const V=B.data();(Array.isArray(V.assists)?V.assists:[]).forEach(Z=>{if(Z&&Z.name&&Z.team){const J=`${Z.team}__${Z.name}`;b[J]||(b[J]={name:Z.name,team:Z.team,assists:0}),b[J].assists+=1}})});let D=Object.values(b);D=D.filter(B=>B.assists>0),D.sort((B,V)=>V.assists-B.assists);const N=D.slice(0,10);console.log("Top assisters (from endedMatches):",N),i(N)}catch{m("Error loading assisters.")}u(!1)})())},[a,g]),T.jsxs("main",{children:[T.jsxs("header",{className:"d-top",children:[T.jsx("div",{className:"d-logo",children:T.jsx("h1",{children:"Top Assisters"})}),T.jsxs("nav",{className:"d-tabs",children:[T.jsx("a",{href:"/saint-mark-leagues/#/2025",className:"d-tab",children:"2025"}),T.jsx("a",{href:"/saint-mark-leagues/#/history",className:"d-tab",children:"History"})]}),T.jsxs("div",{className:"d-hamburger-menu",tabIndex:0,children:[T.jsx("span",{className:"hamburger-bar"}),T.jsx("span",{className:"hamburger-bar"}),T.jsx("span",{className:"hamburger-bar"}),T.jsxs("div",{className:"hamburger-dropdown",children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",children:"Create"}),T.jsx("a",{href:"/saint-mark-leagues/#/make-groups",children:"Groups"}),T.jsx("a",{href:"/saint-mark-leagues/#/fixtures",children:"Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/knockout",children:"Knockout Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/scorers",children:"Top scorers"}),T.jsx("a",{href:"/saint-mark-leagues/#/assisters",children:"Top assisters"}),T.jsx("a",{href:"/saint-mark-leagues/#/2025",children:"2025"}),T.jsx("a",{href:"/saint-mark-leagues/#/history",children:"History"})]})]})]}),T.jsxs("div",{className:"d-container",children:[T.jsxs("aside",{className:"d-nav-left",children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),T.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),T.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",children:"Knockout Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),T.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",id:"active",children:"Top assisters"})]}),T.jsxs("div",{className:"assisters-container",children:[T.jsx("div",{className:"assisters-controls",children:T.jsx("input",{type:"text",className:"assisters-league-input",placeholder:"Enter League Name...",value:a,onChange:_=>e(_.target.value)})}),f&&T.jsx("div",{className:"assisters-error",children:f}),l?T.jsx("div",{className:"assisters-loading",children:"Loading..."}):T.jsx("div",{className:"assisters-table-wrapper",style:{maxWidth:"1200px",margin:"0 auto"},children:T.jsxs("table",{className:"assisters-table",style:{width:"100%"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Rank"}),T.jsx("th",{children:"Team"}),T.jsx("th",{children:"Player"}),T.jsx("th",{children:"Assists"})]})}),T.jsx("tbody",{children:n.map((_,A)=>T.jsxs("tr",{children:[T.jsx("td",{children:A+1}),T.jsx("td",{children:_.team}),T.jsx("td",{children:_.name}),T.jsx("td",{children:_.assists})]},_.name+_.team))})]})})]})]})]})},yN=()=>T.jsxs("aside",{className:"d-nav-left",children:[T.jsx("a",{href:"/saint-mark-leagues/#/dashboard",className:"d-nav-links",children:"Create"}),T.jsx("a",{href:"/saint-mark-leagues/#/make-groups",className:"d-nav-links",children:"Groups"}),T.jsx("a",{href:"/saint-mark-leagues/#/fixtures",className:"d-nav-links",children:"Groups Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/knockout",className:"d-nav-links",id:"active",children:"Knockout Fixtures"}),T.jsx("a",{href:"/saint-mark-leagues/#/scorers",className:"d-nav-links",children:"Top scorers"}),T.jsx("a",{href:"/saint-mark-leagues/#/assisters",className:"d-nav-links",children:"Top assisters"})]}),x0=["Stage 32","Stage 16","Quarter Final","Semi Final","Final"],vN=()=>{const[a,e]=F.useState(""),[n,i]=F.useState(1),[l,u]=F.useState(x0[n]),[f,m]=F.useState([]),[g,p]=F.useState([]),[_,A]=F.useState([]),[b,D]=F.useState({}),[N,B]=F.useState(!1),[V,L]=F.useState(""),[Z,J]=F.useState({}),[de,ye]=F.useState({}),[q,O]=F.useState(0),[x,R]=F.useState(0),k=Dm();F.useEffect(()=>{!a||!l||(B(!0),L(""),(async()=>{try{const ge=Rt(Je,`leagues/${a}/knockout`,l),be=await Rn(ge);if(be.exists()){const H=be.data();m(H.teams||[]),p(H.matches||[]),A(Array((H.matches||[]).length).fill(!1))}else m([]),p([]),A([]);await C()}catch{L("Error loading knockout stage."),m([]),p([]),A([]),J({})}B(!1)})())},[a,l]);const j=async(ge,be)=>{let H=b[`${l}_${be+1}`]?.scoreA,re=b[`${l}_${be+1}`]?.scoreB;if(H===""||re===""||H===void 0||re===void 0){alert("Please enter scores for both teams before checking the match.");return}if(H=Number(H),re=Number(re),isNaN(H)||isNaN(re)){alert("Scores must be numbers.");return}if(!window.confirm("Are you sure?"))return;const fe=`${l}_${be+1}`;let Ae=!1,I=null;try{const te=Rt(Je,`leagues/${a}/endedMatches`,fe);let ue=0,ie=0,pe=[],Ce=[];const _e=await Rn(te);_e.exists()?(ue=_e.data().scoreA||0,ie=_e.data().scoreB||0,pe=Array.isArray(_e.data().goals)?_e.data().goals:[],Ce=Array.isArray(_e.data().assists)?_e.data().assists:[]):(ue=H,ie=re,await ln(te,{...ge,stage:l,matchNum:be+1,scoreA:ue,scoreB:ie,endedAt:new Date().toISOString()}));for(const cn of pe){if(!cn.name||!cn.team)continue;const jn=Rt(Je,`leagues/${a}/teams/${cn.team}`),_n=await Rn(jn);if(_n.exists()){const Lt=_n.data().players||[],Nn=Lt.findIndex(cr=>cr.name===cn.name);Nn!==-1&&(Lt[Nn].goals=(Lt[Nn].goals||0)+1,await ln(jn,{players:Lt},{merge:!0}))}}for(const cn of Ce){if(!cn.name||!cn.team)continue;const jn=Rt(Je,`leagues/${a}/teams/${cn.team}`),_n=await Rn(jn);if(_n.exists()){const Lt=_n.data().players||[],Nn=Lt.findIndex(cr=>cr.name===cn.name);Nn!==-1&&(Lt[Nn].assists=(Lt[Nn].assists||0)+1,await ln(jn,{players:Lt},{merge:!0}))}}const ut=Rt(Je,`leagues/${a}/teams`,ge.teamA),Ke=Rt(Je,`leagues/${a}/teams`,ge.teamB),un=await Rn(ut),mt=await Rn(Ke);let kt=un.data().Points||0,yn=mt.data().Points||0,Ct=un.data().GA||0,ot=mt.data().GA||0,vn=un.data().DG||0,Gt=mt.data().DG||0;ue>ie?kt+=3:ue<ie?yn+=3:(kt+=1,yn+=1),Ct+=ue,vn+=ie,ot+=ie,Gt+=ue;const Nt=Ct-vn,Ir=ot-Gt;await ln(ut,{Points:kt,GA:Ct,DG:vn,Dif:Nt},{merge:!0}),await ln(Ke,{Points:yn,GA:ot,DG:Gt,Dif:Ir},{merge:!0});const ya=Rt(Je,"leagues",a);await ln(ya,{lastUpdate:new Date().toISOString()},{merge:!0}),Ae=!0,l.toLowerCase()==="final"&&(ue>ie?I=ge.teamAName||ge.teamA:ie>ue?I=ge.teamBName||ge.teamB:I="Draw")}catch(te){alert("Error saving match result: "+te.message),Ae=!1}Ae&&(ye(te=>({...te,[fe]:!0})),localStorage.setItem(`checked_${a}_${fe}`,"true"),await C(),O(te=>te+1),R(te=>te+1),l.toLowerCase()==="final"&&I&&alert(I==="Draw"?"The final ended in a draw!":`${I} is the winner`))},U=async(ge,be)=>{let H=null,re=null;try{const fe=Rt(Je,`leagues/${a}/teams`,ge.teamA),Ae=Rt(Je,`leagues/${a}/teams`,ge.teamB),[I,te]=await Promise.all([Rn(fe),Rn(Ae)]);I.exists()&&(H={id:ge.teamA,...I.data()}),te.exists()&&(re={id:ge.teamB,...te.data()})}catch{}k("/events",{state:{match:{...ge,stage:l,matchNum:be+1},leagueName:a,teamAObj:H,teamBObj:re}})},C=async()=>{try{const ge=jr(Je,`leagues/${a}/endedMatches`),be=await Ur(ge);let H={};be.forEach(re=>{const fe=re.data();if(fe.stage===l&&fe.matchNum){const Ae=`${l}_${fe.matchNum}`;H[Ae]={scoreA:fe.scoreA,scoreB:fe.scoreB,teamA:fe.teamA,teamB:fe.teamB}}}),J(H)}catch{J({})}};return T.jsxs("main",{children:[T.jsx("header",{className:"d-top",children:T.jsx("div",{className:"d-logo",children:T.jsx("h1",{children:"Knockout Fixtures"})})}),T.jsxs("div",{className:"d-container",children:[T.jsx(yN,{}),T.jsxs("section",{style:{maxWidth:800,margin:"0 auto",background:"#fff",borderRadius:12,boxShadow:"0 2px 8px #0001",padding:32},children:[T.jsxs("div",{style:{margin:"24px 0",textAlign:"center"},children:[T.jsx("input",{type:"text",value:a,onChange:ge=>e(ge.target.value),placeholder:"Enter League Name...",style:{fontWeight:700,fontSize:"1.1rem",padding:"8px 16px",borderRadius:8,border:"1px solid #2563eb",marginBottom:12,textAlign:"center"}}),T.jsx("select",{value:l,onChange:ge=>u(ge.target.value),style:{fontWeight:700,fontSize:"1.1rem",padding:"8px 16px",borderRadius:8,border:"1px solid #2563eb",marginLeft:8},children:x0.map(ge=>T.jsx("option",{value:ge,children:ge},ge))})]}),T.jsx("h2",{style:{textAlign:"center",color:"#2563eb",fontWeight:800},children:l}),V&&T.jsx("div",{style:{color:"#e11d48",textAlign:"center",margin:"18px 0",fontWeight:700},children:V}),N?T.jsx("div",{style:{textAlign:"center",color:"#2563eb",fontWeight:700},children:"Loading..."}):g.length>0?T.jsxs("div",{className:"fix-matches-list",children:[typeof j!="function"&&T.jsx("div",{style:{color:"red"},children:"Check Match handler is not a function!"}),g.map((ge,be)=>{const H=`${l}_${be+1}`,re=Z[H],fe=de[H]||localStorage.getItem(`checked_${a}_${H}`);if(fe)return null;const Ae=H,I=b[Ae]||{scoreA:"",scoreB:""},te=re||fe;return T.jsxs("div",{className:"fix-match-card",style:{marginBottom:"24px",minHeight:"120px",width:"100%",maxWidth:"620px",border:"3px solid #000",borderRadius:"18px",background:"#fff",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"24px",boxSizing:"border-box",boxShadow:"0 2px 8px #0001"},children:[T.jsxs("div",{style:{textAlign:"center",fontWeight:700,fontSize:"1.3rem",color:"#222",marginBottom:"12px"},children:[l," Match ",be+1]}),T.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:"12px"},children:[T.jsxs("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"left"},children:[" ",ge.teamA," "]}),T.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"18px"},children:[T.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:te&&re?T.jsx("h2",{style:{margin:"0",color:"#2563eb"},children:re.scoreA}):T.jsx("input",{type:"number",min:"0",max:"9",className:"fix-score-input",placeholder:"",style:{width:"40px",height:"40px",fontSize:"1.2rem",textAlign:"center",border:"none"},value:I.scoreA,onChange:ue=>{const ie=ue.target.value;D(pe=>({...pe,[Ae]:{...pe[Ae],scoreA:ie}}))}})}),T.jsx("span",{style:{fontWeight:700,fontSize:"1.2rem",color:"#222"},children:"vs"}),T.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #000",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"1.3rem",color:"#2563eb"},children:te&&re?T.jsx("h2",{style:{margin:"0",color:"#2563eb"},children:re.scoreB}):T.jsx("input",{type:"number",min:"0",max:"9",className:"fix-score-input",placeholder:"",style:{width:"40px",height:"40px",fontSize:"1.2rem",textAlign:"center",border:"none"},value:I.scoreB,onChange:ue=>{const ie=ue.target.value;D(pe=>({...pe,[Ae]:{...pe[Ae],scoreB:ie}}))}})})]}),T.jsxs("span",{className:"fix-team-name",style:{fontWeight:500,fontSize:"1.08rem",color:"#222",minWidth:"90px",textAlign:"right"},children:[" ",ge.teamB," "]})]}),T.jsxs("div",{className:"fix-stadium",style:{textAlign:"center",marginTop:"8px",fontWeight:500,color:"#222"},children:["Stadium: ",be%2===0?"Stadium 1":"Stadium 2"]}),T.jsxs("div",{className:"fix-match-actions",style:{display:"flex",justifyContent:"center",gap:"16px",marginTop:"12px"},children:[T.jsxs("button",{className:"fix-check-btn",onClick:()=>{if(!re){const ue=b[Ae]||{scoreA:0,scoreB:0};ge.scoreA=Number(ue.scoreA),ge.scoreB=Number(ue.scoreB)}j(ge,be)},disabled:te,children:[T.jsx("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:T.jsx("path",{d:"M5 10l4 4 6-8",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Check Match"]}),T.jsxs("button",{className:"fix-events-btn",onClick:()=>U(ge,be),children:[T.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:[T.jsx("circle",{cx:"10",cy:"10",r:"8",stroke:"#fff",strokeWidth:"2"}),T.jsx("rect",{x:"8",y:"6",width:"4",height:"8",rx:"2",fill:"#fff"})]}),"Events"]})]})]},be)})]},q+"-"+x):T.jsx("div",{style:{textAlign:"center",color:"#888",fontWeight:700,margin:"32px 0"},children:"No matches found for this stage."})]})]})]})},_N=BS([{path:"/",element:T.jsx(tw,{})},{path:"/dashboard",element:T.jsx(uN,{})},{path:"/make-groups",element:T.jsx(cN,{})},{path:"/fixtures",element:T.jsx(hN,{})},{path:"/events",element:T.jsx(mN,{})},{path:"/scorers",element:T.jsx(gN,{})},{path:"/assisters",element:T.jsx(pN,{})},{path:"/knockout",element:T.jsx(vN,{})}]);Y1.createRoot(document.getElementById("root")).render(T.jsx(F.StrictMode,{children:T.jsx(ew,{router:_N})}));
